/*! For license information please see main.b61b5ec2.js.LICENSE.txt */
(()=>{var t={8603:(t,e,i)=>{"use strict";i.d(e,{A:()=>nt});var s=function(){function t(t){var e=this;this._insertTag=function(t){var i;i=0===e.tags.length?e.insertionPoint?e.insertionPoint.nextSibling:e.prepend?e.container.firstChild:e.before:e.tags[e.tags.length-1].nextSibling,e.container.insertBefore(t,i),e.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(t){t.forEach(this._insertTag)},e.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}(this));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{i.insertRule(t,i.cssRules.length)}catch(s){}}else e.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){var e;return null==(e=t.parentNode)?void 0:e.removeChild(t)})),this.tags=[],this.ctr=0},t}(),n=Math.abs,r=String.fromCharCode,o=Object.assign;function a(t){return t.trim()}function l(t,e,i){return t.replace(e,i)}function h(t,e){return t.indexOf(e)}function c(t,e){return 0|t.charCodeAt(e)}function u(t,e,i){return t.slice(e,i)}function d(t){return t.length}function f(t){return t.length}function p(t,e){return e.push(t),t}var g=1,m=1,y=0,v=0,b=0,x="";function S(t,e,i,s,n,r,o){return{value:t,root:e,parent:i,type:s,props:n,children:r,line:g,column:m,length:o,return:""}}function A(t,e){return o(S("",null,null,"",null,null,0),t,{length:-t.length},e)}function w(){return b=v>0?c(x,--v):0,m--,10===b&&(m=1,g--),b}function C(){return b=v<y?c(x,v++):0,m++,10===b&&(m=1,g++),b}function M(){return c(x,v)}function k(){return v}function R(t,e){return u(x,t,e)}function E(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function T(t){return g=m=1,y=d(x=t),v=0,[]}function I(t){return x="",t}function P(t){return a(R(v-1,L(91===t?t+2:40===t?t+1:t)))}function F(t){for(;(b=M())&&b<33;)C();return E(t)>2||E(b)>3?"":" "}function D(t,e){for(;--e&&C()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return R(t,k()+(e<6&&32==M()&&32==C()))}function L(t){for(;C();)switch(b){case t:return v;case 34:case 39:34!==t&&39!==t&&L(b);break;case 40:41===t&&L(t);break;case 92:C()}return v}function z(t,e){for(;C()&&t+b!==57&&(t+b!==84||47!==M()););return"/*"+R(e,v-1)+"*"+r(47===t?t:C())}function N(t){for(;!E(M());)C();return R(t,v)}var _="-ms-",V="-moz-",B="-webkit-",O="comm",U="rule",H="decl",G="@keyframes";function W(t,e){for(var i="",s=f(t),n=0;n<s;n++)i+=e(t[n],n,t,e)||"";return i}function j(t,e,i,s){switch(t.type){case"@layer":if(t.children.length)break;case"@import":case H:return t.return=t.return||t.value;case O:return"";case G:return t.return=t.value+"{"+W(t.children,s)+"}";case U:t.value=t.props.join(",")}return d(i=W(t.children,s))?t.return=t.value+"{"+i+"}":""}function Y(t){return I(X("",null,null,null,[""],t=T(t),0,[0],t))}function X(t,e,i,s,n,o,a,u,f){for(var g=0,m=0,y=a,v=0,b=0,x=0,S=1,A=1,R=1,E=0,T="",I=n,L=o,_=s,V=T;A;)switch(x=E,E=C()){case 40:if(108!=x&&58==c(V,y-1)){-1!=h(V+=l(P(E),"&","&\f"),"&\f")&&(R=-1);break}case 34:case 39:case 91:V+=P(E);break;case 9:case 10:case 13:case 32:V+=F(x);break;case 92:V+=D(k()-1,7);continue;case 47:switch(M()){case 42:case 47:p(J(z(C(),k()),e,i),f);break;default:V+="/"}break;case 123*S:u[g++]=d(V)*R;case 125*S:case 59:case 0:switch(E){case 0:case 125:A=0;case 59+m:-1==R&&(V=l(V,/\f/g,"")),b>0&&d(V)-y&&p(b>32?K(V+";",s,i,y-1):K(l(V," ","")+";",s,i,y-2),f);break;case 59:V+=";";default:if(p(_=q(V,e,i,g,m,n,u,T,I=[],L=[],y),o),123===E)if(0===m)X(V,e,_,_,I,o,y,u,L);else switch(99===v&&110===c(V,3)?100:v){case 100:case 108:case 109:case 115:X(t,_,_,s&&p(q(t,_,_,0,0,n,u,T,n,I=[],y),L),n,L,y,u,s?I:L);break;default:X(V,_,_,_,[""],L,0,u,L)}}g=m=b=0,S=R=1,T=V="",y=a;break;case 58:y=1+d(V),b=x;default:if(S<1)if(123==E)--S;else if(125==E&&0==S++&&125==w())continue;switch(V+=r(E),E*S){case 38:R=m>0?1:(V+="\f",-1);break;case 44:u[g++]=(d(V)-1)*R,R=1;break;case 64:45===M()&&(V+=P(C())),v=M(),m=y=d(T=V+=N(k())),E++;break;case 45:45===x&&2==d(V)&&(S=0)}}return o}function q(t,e,i,s,r,o,h,c,d,p,g){for(var m=r-1,y=0===r?o:[""],v=f(y),b=0,x=0,A=0;b<s;++b)for(var w=0,C=u(t,m+1,m=n(x=h[b])),M=t;w<v;++w)(M=a(x>0?y[w]+" "+C:l(C,/&\f/g,y[w])))&&(d[A++]=M);return S(t,e,i,0===r?U:c,d,p,g)}function J(t,e,i){return S(t,e,i,O,r(b),u(t,2,-2),0)}function K(t,e,i,s){return S(t,e,i,H,u(t,0,s),u(t,s+1,-1),s)}var Z=function(t,e,i){for(var s=0,n=0;s=n,n=M(),38===s&&12===n&&(e[i]=1),!E(n);)C();return R(t,v)},Q=function(t,e){return I(function(t,e){var i=-1,s=44;do{switch(E(s)){case 0:38===s&&12===M()&&(e[i]=1),t[i]+=Z(v-1,e,i);break;case 2:t[i]+=P(s);break;case 4:if(44===s){t[++i]=58===M()?"&\f":"",e[i]=t[i].length;break}default:t[i]+=r(s)}}while(s=C());return t}(T(t),e))},$=new WeakMap,tt=function(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,i=t.parent,s=t.column===i.column&&t.line===i.line;"rule"!==i.type;)if(!(i=i.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||$.get(i))&&!s){$.set(t,!0);for(var n=[],r=Q(e,n),o=i.props,a=0,l=0;a<r.length;a++)for(var h=0;h<o.length;h++,l++)t.props[l]=n[a]?r[a].replace(/&\f/g,o[h]):o[h]+" "+r[a]}}},et=function(t){if("decl"===t.type){var e=t.value;108===e.charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}};function it(t,e){switch(function(t,e){return 45^c(t,0)?(((e<<2^c(t,0))<<2^c(t,1))<<2^c(t,2))<<2^c(t,3):0}(t,e)){case 5103:return B+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return B+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return B+t+V+t+_+t+t;case 6828:case 4268:return B+t+_+t+t;case 6165:return B+t+_+"flex-"+t+t;case 5187:return B+t+l(t,/(\w+).+(:[^]+)/,B+"box-$1$2"+_+"flex-$1$2")+t;case 5443:return B+t+_+"flex-item-"+l(t,/flex-|-self/,"")+t;case 4675:return B+t+_+"flex-line-pack"+l(t,/align-content|flex-|-self/,"")+t;case 5548:return B+t+_+l(t,"shrink","negative")+t;case 5292:return B+t+_+l(t,"basis","preferred-size")+t;case 6060:return B+"box-"+l(t,"-grow","")+B+t+_+l(t,"grow","positive")+t;case 4554:return B+l(t,/([^-])(transform)/g,"$1"+B+"$2")+t;case 6187:return l(l(l(t,/(zoom-|grab)/,B+"$1"),/(image-set)/,B+"$1"),t,"")+t;case 5495:case 3959:return l(t,/(image-set\([^]*)/,B+"$1$`$1");case 4968:return l(l(t,/(.+:)(flex-)?(.*)/,B+"box-pack:$3"+_+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+B+t+t;case 4095:case 3583:case 4068:case 2532:return l(t,/(.+)-inline(.+)/,B+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(t)-1-e>6)switch(c(t,e+1)){case 109:if(45!==c(t,e+4))break;case 102:return l(t,/(.+:)(.+)-([^]+)/,"$1"+B+"$2-$3$1"+V+(108==c(t,e+3)?"$3":"$2-$3"))+t;case 115:return~h(t,"stretch")?it(l(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==c(t,e+1))break;case 6444:switch(c(t,d(t)-3-(~h(t,"!important")&&10))){case 107:return l(t,":",":"+B)+t;case 101:return l(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+B+(45===c(t,14)?"inline-":"")+"box$3$1"+B+"$2$3$1"+_+"$2box$3")+t}break;case 5936:switch(c(t,e+11)){case 114:return B+t+_+l(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return B+t+_+l(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return B+t+_+l(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return B+t+_+t+t}return t}var st=[function(t,e,i,s){if(t.length>-1&&!t.return)switch(t.type){case H:t.return=it(t.value,t.length);break;case G:return W([A(t,{value:l(t.value,"@","@"+B)})],s);case U:if(t.length)return function(t,e){return t.map(e).join("")}(t.props,(function(e){switch(function(t,e){return(t=e.exec(t))?t[0]:t}(e,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return W([A(t,{props:[l(e,/:(read-\w+)/,":-moz-$1")]})],s);case"::placeholder":return W([A(t,{props:[l(e,/:(plac\w+)/,":"+B+"input-$1")]}),A(t,{props:[l(e,/:(plac\w+)/,":-moz-$1")]}),A(t,{props:[l(e,/:(plac\w+)/,_+"input-$1")]})],s)}return""}))}}],nt=function(t){var e=t.key;if("css"===e){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,(function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))}))}var n,r,o=t.stylisPlugins||st,a={},l=[];n=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+e+' "]'),(function(t){for(var e=t.getAttribute("data-emotion").split(" "),i=1;i<e.length;i++)a[e[i]]=!0;l.push(t)}));var h,c,u=[j,(c=function(t){h.insert(t)},function(t){t.root||(t=t.return)&&c(t)})],d=function(t){var e=f(t);return function(i,s,n,r){for(var o="",a=0;a<e;a++)o+=t[a](i,s,n,r)||"";return o}}([tt,et].concat(o,u));r=function(t,e,i,s){h=i,W(Y(t?t+"{"+e.styles+"}":e.styles),d),s&&(p.inserted[e.name]=!0)};var p={key:e,sheet:new s({key:e,container:n,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:a,registered:{},insert:r};return p.sheet.hydrate(l),p}},7923:(t,e,i)=>{"use strict";function s(t){var e=Object.create(null);return function(i){return void 0===e[i]&&(e[i]=t(i)),e[i]}}i.d(e,{A:()=>s})},7576:(t,e,i)=>{"use strict";i.d(e,{C:()=>o,T:()=>l,w:()=>a});var s=i(9950),n=i(8603),r=(i(9015),i(6477),s.createContext("undefined"!==typeof HTMLElement?(0,n.A)({key:"css"}):null)),o=r.Provider,a=function(t){return(0,s.forwardRef)((function(e,i){var n=(0,s.useContext)(r);return t(e,n,i)}))},l=s.createContext({})},8283:(t,e,i)=>{"use strict";i.d(e,{AH:()=>h,i7:()=>c,mL:()=>l});var s=i(7576),n=i(9950),r=i(1783),o=i(6477),a=i(9015),l=(i(8603),i(3876),(0,s.w)((function(t,e){var i=t.styles,l=(0,a.J)([i],void 0,n.useContext(s.T)),h=n.useRef();return(0,o.i)((function(){var t=e.key+"-global",i=new e.sheet.constructor({key:t,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),s=!1,n=document.querySelector('style[data-emotion="'+t+" "+l.name+'"]');return e.sheet.tags.length&&(i.before=e.sheet.tags[0]),null!==n&&(s=!0,n.setAttribute("data-emotion",t),i.hydrate([n])),h.current=[i,s],function(){i.flush()}}),[e]),(0,o.i)((function(){var t=h.current,i=t[0];if(t[1])t[1]=!1;else{if(void 0!==l.next&&(0,r.sk)(e,l.next,!0),i.tags.length){var s=i.tags[i.tags.length-1].nextElementSibling;i.before=s,i.flush()}e.insert("",l,i,!1)}}),[e,l.name]),null})));function h(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(0,a.J)(e)}var c=function(){var t=h.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},9015:(t,e,i)=>{"use strict";i.d(e,{J:()=>m});var s={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},n=i(7923),r=!1,o=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(t){return 45===t.charCodeAt(1)},h=function(t){return null!=t&&"boolean"!==typeof t},c=(0,n.A)((function(t){return l(t)?t:t.replace(o,"-$&").toLowerCase()})),u=function(t,e){switch(t){case"animation":case"animationName":if("string"===typeof e)return e.replace(a,(function(t,e,i){return p={name:e,styles:i,next:p},e}))}return 1===s[t]||l(t)||"number"!==typeof e||0===e?e:e+"px"},d="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function f(t,e,i){if(null==i)return"";var s=i;if(void 0!==s.__emotion_styles)return s;switch(typeof i){case"boolean":return"";case"object":var n=i;if(1===n.anim)return p={name:n.name,styles:n.styles,next:p},n.name;var o=i;if(void 0!==o.styles){var a=o.next;if(void 0!==a)for(;void 0!==a;)p={name:a.name,styles:a.styles,next:p},a=a.next;return o.styles+";"}return function(t,e,i){var s="";if(Array.isArray(i))for(var n=0;n<i.length;n++)s+=f(t,e,i[n])+";";else for(var o in i){var a=i[o];if("object"!==typeof a){var l=a;null!=e&&void 0!==e[l]?s+=o+"{"+e[l]+"}":h(l)&&(s+=c(o)+":"+u(o,l)+";")}else{if("NO_COMPONENT_SELECTOR"===o&&r)throw new Error(d);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=e&&void 0!==e[a[0]]){var p=f(t,e,a);switch(o){case"animation":case"animationName":s+=c(o)+":"+p+";";break;default:s+=o+"{"+p+"}"}}else for(var g=0;g<a.length;g++)h(a[g])&&(s+=c(o)+":"+u(o,a[g])+";")}}return s}(t,e,i);case"function":if(void 0!==t){var l=p,g=i(t);return p=l,f(t,e,g)}}var m=i;if(null==e)return m;var y=e[m];return void 0!==y?y:m}var p,g=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function m(t,e,i){if(1===t.length&&"object"===typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var s=!0,n="";p=void 0;var r=t[0];null==r||void 0===r.raw?(s=!1,n+=f(i,e,r)):n+=r[0];for(var o=1;o<t.length;o++){if(n+=f(i,e,t[o]),s)n+=r[o]}g.lastIndex=0;for(var a,l="";null!==(a=g.exec(n));)l+="-"+a[1];var h=function(t){for(var e,i=0,s=0,n=t.length;n>=4;++s,n-=4)e=1540483477*(65535&(e=255&t.charCodeAt(s)|(255&t.charCodeAt(++s))<<8|(255&t.charCodeAt(++s))<<16|(255&t.charCodeAt(++s))<<24))+(59797*(e>>>16)<<16),i=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&i)+(59797*(i>>>16)<<16);switch(n){case 3:i^=(255&t.charCodeAt(s+2))<<16;case 2:i^=(255&t.charCodeAt(s+1))<<8;case 1:i=1540483477*(65535&(i^=255&t.charCodeAt(s)))+(59797*(i>>>16)<<16)}return(((i=1540483477*(65535&(i^=i>>>13))+(59797*(i>>>16)<<16))^i>>>15)>>>0).toString(36)}(n)+l;return{name:h,styles:n,next:p}}},6477:(t,e,i)=>{"use strict";var s;i.d(e,{i:()=>a,s:()=>o});var n=i(9950),r=!!(s||(s=i.t(n,2))).useInsertionEffect&&(s||(s=i.t(n,2))).useInsertionEffect,o=r||function(t){return t()},a=r||n.useLayoutEffect},1783:(t,e,i)=>{"use strict";i.d(e,{Rk:()=>s,SF:()=>n,sk:()=>r});function s(t,e,i){var s="";return i.split(" ").forEach((function(i){void 0!==t[i]?e.push(t[i]+";"):s+=i+" "})),s}var n=function(t,e,i){var s=t.key+"-"+e.name;!1===i&&void 0===t.registered[s]&&(t.registered[s]=e.styles)},r=function(t,e,i){n(t,e,i);var s=t.key+"-"+e.name;if(void 0===t.inserted[e.name]){var r=e;do{t.insert(e===r?"."+s:"",r,t.sheet,!0),r=r.next}while(void 0!==r)}}},3189:(t,e,i)=>{"use strict";var s=i(4994);e.A=void 0;var n=s(i(9526)),r=i(4414);e.A=(0,n.default)((0,r.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack")},6319:(t,e,i)=>{"use strict";var s=i(4994);e.A=void 0;var n=s(i(9526)),r=i(4414);e.A=(0,n.default)((0,r.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},5093:(t,e,i)=>{"use strict";var s=i(4994);e.A=void 0;var n=s(i(9526)),r=i(4414);e.A=(0,n.default)((0,r.jsx)("path",{d:"M20 3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h3l-1 1v2h12v-2l-1-1h3c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 13H4V5h16z"}),"Monitor")},7009:(t,e,i)=>{"use strict";var s=i(4994);e.A=void 0;var n=s(i(9526)),r=i(4414);e.A=(0,n.default)((0,r.jsx)("path",{d:"M12 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m7-7H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2m-1.75 9c0 .23-.02.46-.05.68l1.48 1.16c.13.11.17.3.08.45l-1.4 2.42c-.09.15-.27.21-.43.15l-1.74-.7c-.36.28-.76.51-1.18.69l-.26 1.85c-.03.17-.18.3-.35.3h-2.8c-.17 0-.32-.13-.35-.29l-.26-1.85c-.43-.18-.82-.41-1.18-.69l-1.74.7c-.16.06-.34 0-.43-.15l-1.4-2.42c-.09-.15-.05-.34.08-.45l1.48-1.16c-.03-.23-.05-.46-.05-.69 0-.23.02-.46.05-.68l-1.48-1.16c-.13-.11-.17-.3-.08-.45l1.4-2.42c.09-.15.27-.21.43-.15l1.74.7c.36-.28.76-.51 1.18-.69l.26-1.85c.03-.17.18-.3.35-.3h2.8c.17 0 .32.13.35.29l.26 1.85c.43.18.82.41 1.18.69l1.74-.7c.16-.06.34 0 .43.15l1.4 2.42c.09.15.05.34-.08.45l-1.48 1.16c.03.23.05.46.05.69"}),"SettingsApplications")},9526:(t,e,i)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return s.createSvgIcon}});var s=i(7034)},8463:(t,e,i)=>{"use strict";i.d(e,{b:()=>n});i(9950);var s=i(6171);i(4414);function n(t){return(0,s.b)(t)}},7775:(t,e,i)=>{"use strict";i.d(e,{A:()=>B});var s=i(8168),n=i(8587),r=i(8099),o=i(7483),a=i(8076),l=i(505),h=i(2860);var c=i(9269);const u={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},f={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},g={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},y={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},v={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:u.white,default:u.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},S={text:{primary:u.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:u.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function A(t,e,i,s){const n=s.light||s,r=s.dark||1.5*s;t[e]||(t.hasOwnProperty(i)?t[e]=t[i]:"light"===e?t.light=(0,c.a)(t.main,n):"dark"===e&&(t.dark=(0,c.e$)(t.main,r)))}function w(t){const{mode:e="light",contrastThreshold:i=3,tonalOffset:a=.2}=t,l=(0,n.A)(t,b),h=t.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(e),w=t.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:f[200],light:f[50],dark:f[400]}:{main:f[500],light:f[300],dark:f[700]}}(e),C=t.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(e),M=t.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[700],light:y[500],dark:y[900]}}(e),k=t.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:v[800],light:v[500],dark:v[900]}}(e),R=t.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:"#ed6c02",light:g[500],dark:g[900]}}(e);function E(t){return(0,c.eM)(t,S.text.primary)>=i?S.text.primary:x.text.primary}const T=t=>{let{color:e,name:i,mainShade:n=500,lightShade:o=300,darkShade:l=700}=t;if(e=(0,s.A)({},e),!e.main&&e[n]&&(e.main=e[n]),!e.hasOwnProperty("main"))throw new Error((0,r.A)(11,i?" (".concat(i,")"):"",n));if("string"!==typeof e.main)throw new Error((0,r.A)(12,i?" (".concat(i,")"):"",JSON.stringify(e.main)));return A(e,"light",o,a),A(e,"dark",l,a),e.contrastText||(e.contrastText=E(e.main)),e},I={dark:S,light:x};return(0,o.A)((0,s.A)({common:(0,s.A)({},u),mode:e,primary:T({color:h,name:"primary"}),secondary:T({color:w,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:T({color:C,name:"error"}),warning:T({color:R,name:"warning"}),info:T({color:M,name:"info"}),success:T({color:k,name:"success"}),grey:d,contrastThreshold:i,getContrastText:E,augmentColor:T,tonalOffset:a},I[e]),l)}const C=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const M={textTransform:"uppercase"},k='"Roboto", "Helvetica", "Arial", sans-serif';function R(t,e){const i="function"===typeof e?e(t):e,{fontFamily:r=k,fontSize:a=14,fontWeightLight:l=300,fontWeightRegular:h=400,fontWeightMedium:c=500,fontWeightBold:u=700,htmlFontSize:d=16,allVariants:f,pxToRem:p}=i,g=(0,n.A)(i,C);const m=a/14,y=p||(t=>"".concat(t/d*m,"rem")),v=(t,e,i,n,o)=>{return(0,s.A)({fontFamily:r,fontWeight:t,fontSize:y(e),lineHeight:i},r===k?{letterSpacing:"".concat((a=n/e,Math.round(1e5*a)/1e5),"em")}:{},o,f);var a},b={h1:v(l,96,1.167,-1.5),h2:v(l,60,1.2,-.5),h3:v(h,48,1.167,0),h4:v(h,34,1.235,.25),h5:v(h,24,1.334,0),h6:v(c,20,1.6,.15),subtitle1:v(h,16,1.75,.15),subtitle2:v(c,14,1.57,.1),body1:v(h,16,1.5,.15),body2:v(h,14,1.43,.15),button:v(c,14,1.75,.4,M),caption:v(h,12,1.66,.4),overline:v(h,12,2.66,1,M),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,o.A)((0,s.A)({htmlFontSize:d,pxToRem:y,fontFamily:r,fontSize:a,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:c,fontWeightBold:u},b),g,{clone:!1})}function E(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const T=["none",E(0,2,1,-1,0,1,1,0,0,1,3,0),E(0,3,1,-2,0,2,2,0,0,1,5,0),E(0,3,3,-2,0,3,4,0,0,1,8,0),E(0,2,4,-1,0,4,5,0,0,1,10,0),E(0,3,5,-1,0,5,8,0,0,1,14,0),E(0,3,5,-1,0,6,10,0,0,1,18,0),E(0,4,5,-2,0,7,10,1,0,2,16,1),E(0,5,5,-3,0,8,10,1,0,3,14,2),E(0,5,6,-3,0,9,12,1,0,3,16,2),E(0,6,6,-3,0,10,14,1,0,4,18,3),E(0,6,7,-4,0,11,15,1,0,4,20,3),E(0,7,8,-4,0,12,17,2,0,5,22,4),E(0,7,8,-4,0,13,19,2,0,5,24,4),E(0,7,9,-4,0,14,21,2,0,5,26,4),E(0,8,9,-5,0,15,22,2,0,6,28,5),E(0,8,10,-5,0,16,24,2,0,6,30,5),E(0,8,11,-5,0,17,26,2,0,6,32,5),E(0,9,11,-5,0,18,28,2,0,7,34,6),E(0,9,12,-6,0,19,29,2,0,7,36,6),E(0,10,13,-6,0,20,31,3,0,8,38,7),E(0,10,13,-6,0,21,33,3,0,8,40,7),E(0,10,14,-6,0,22,35,3,0,8,42,7),E(0,11,14,-7,0,23,36,3,0,9,44,8),E(0,11,15,-7,0,24,38,3,0,9,46,8)],I=["duration","easing","delay"],P={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},F={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function D(t){return"".concat(Math.round(t),"ms")}function L(t){if(!t)return 0;const e=t/36;return Math.round(10*(4+15*e**.25+e/5))}function z(t){const e=(0,s.A)({},P,t.easing),i=(0,s.A)({},F,t.duration);return(0,s.A)({getAutoHeightDuration:L,create:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:r=i.standard,easing:o=e.easeInOut,delay:a=0}=s;(0,n.A)(s,I);return(Array.isArray(t)?t:[t]).map((t=>"".concat(t," ").concat("string"===typeof r?r:D(r)," ").concat(o," ").concat("string"===typeof a?a:D(a)))).join(",")}},t,{easing:e,duration:i})}const N={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},_=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function V(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:e={},palette:i={},transitions:c={},typography:u={}}=t,d=(0,n.A)(t,_);if(t.vars)throw new Error((0,r.A)(18));const f=w(i),p=(0,h.A)(t);let g=(0,o.A)(p,{mixins:(m=p.breakpoints,y=e,(0,s.A)({toolbar:{minHeight:56,[m.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[m.up("sm")]:{minHeight:64}}},y)),palette:f,shadows:T.slice(),typography:R(f,u),transitions:z(c),zIndex:(0,s.A)({},N)});var m,y;g=(0,o.A)(g,d);for(var v=arguments.length,b=new Array(v>1?v-1:0),x=1;x<v;x++)b[x-1]=arguments[x];return g=b.reduce(((t,e)=>(0,o.A)(t,e)),g),g.unstable_sxConfig=(0,s.A)({},a.A,null==d?void 0:d.unstable_sxConfig),g.unstable_sx=function(t){return(0,l.A)({sx:t,theme:this})},g}const B=V},195:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=(0,i(7775).A)()},7550:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s="$$material"},9608:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var s=i(1960);const n=t=>(0,s.A)(t)&&"classes"!==t},1960:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=function(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}},9254:(t,e,i)=>{"use strict";i.d(e,{Ay:()=>a});var s=i(7295),n=i(195),r=i(7550),o=i(9608);const a=(0,s.Ay)({themeId:r.A,defaultTheme:n.A,rootShouldForwardProp:o.A})},1676:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=i(5501).A},3235:(t,e,i)=>{"use strict";i.d(e,{A:()=>b});var s=i(8168),n=i(9950),r=i(8587),o=i(2004),a=i(8465),l=i(1676),h=i(8463),c=i(9254),u=i(1763),d=i(423);function f(t){return(0,d.Ay)("MuiSvgIcon",t)}(0,u.A)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=i(4414);const g=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],m=(0,c.Ay)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,"inherit"!==i.color&&e["color".concat((0,l.A)(i.color))],e["fontSize".concat((0,l.A)(i.fontSize))]]}})((t=>{let{theme:e,ownerState:i}=t;var s,n,r,o,a,l,h,c,u,d,f,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:i.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(s=e.transitions)||null==(n=s.create)?void 0:n.call(s,"fill",{duration:null==(r=e.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(o=e.typography)||null==(a=o.pxToRem)?void 0:a.call(o,20))||"1.25rem",medium:(null==(l=e.typography)||null==(h=l.pxToRem)?void 0:h.call(l,24))||"1.5rem",large:(null==(c=e.typography)||null==(u=c.pxToRem)?void 0:u.call(c,35))||"2.1875rem"}[i.fontSize],color:null!=(d=null==(f=(e.vars||e).palette)||null==(f=f[i.color])?void 0:f.main)?d:{action:null==(p=(e.vars||e).palette)||null==(p=p.action)?void 0:p.active,disabled:null==(g=(e.vars||e).palette)||null==(g=g.action)?void 0:g.disabled,inherit:void 0}[i.color]}})),y=n.forwardRef((function(t,e){const i=(0,h.b)({props:t,name:"MuiSvgIcon"}),{children:c,className:u,color:d="inherit",component:y="svg",fontSize:v="medium",htmlColor:b,inheritViewBox:x=!1,titleAccess:S,viewBox:A="0 0 24 24"}=i,w=(0,r.A)(i,g),C=n.isValidElement(c)&&"svg"===c.type,M=(0,s.A)({},i,{color:d,component:y,fontSize:v,instanceFontSize:t.fontSize,inheritViewBox:x,viewBox:A,hasSvgAsChild:C}),k={};x||(k.viewBox=A);const R=(t=>{const{color:e,fontSize:i,classes:s}=t,n={root:["root","inherit"!==e&&"color".concat((0,l.A)(e)),"fontSize".concat((0,l.A)(i))]};return(0,a.A)(n,f,s)})(M);return(0,p.jsxs)(m,(0,s.A)({as:y,className:(0,o.A)(R.root,u),focusable:"false",color:b,"aria-hidden":!S||void 0,role:S?"img":void 0,ref:e},k,w,C&&c.props,{ownerState:M,children:[C?c.props.children:c,S?(0,p.jsx)("title",{children:S}):null]}))}));y.muiName="SvgIcon";const v=y;function b(t,e){function i(i,n){return(0,p.jsx)(v,(0,s.A)({"data-testid":"".concat(e,"Icon"),ref:n},i,{children:t}))}return i.muiName=v.muiName,n.memo(n.forwardRef(i))}},1209:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=i(1927).A},7034:(t,e,i)=>{"use strict";i.r(e),i.d(e,{capitalize:()=>n.A,createChainedFunction:()=>r,createSvgIcon:()=>o.A,debounce:()=>a.A,deprecatedPropType:()=>l,isMuiElement:()=>h.A,ownerDocument:()=>c.A,ownerWindow:()=>u.A,requirePropFactory:()=>d,setRef:()=>f,unstable_ClassNameGenerator:()=>S,unstable_useEnhancedEffect:()=>p.A,unstable_useId:()=>g.A,unsupportedProp:()=>m,useControlled:()=>y.A,useEventCallback:()=>v.A,useForkRef:()=>b.A,useIsFocusVisible:()=>x.A});var s=i(4501),n=i(1676);const r=i(5511).A;var o=i(3235),a=i(1209);const l=function(t,e){return()=>null};var h=i(3828),c=i(7402),u=i(827);i(8168);const d=function(t,e){return()=>null};const f=i(5587).A;var p=i(9044),g=i(1014);const m=function(t,e,i,s,n){return null};var y=i(8733),v=i(1976),b=i(1506),x=i(2937);const S={configure:t=>{s.A.configure(t)}}},3828:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var s=i(9950);const n=function(t,e){var i,n;return s.isValidElement(t)&&-1!==e.indexOf(null!=(i=t.type.muiName)?i:null==(n=t.type)||null==(n=n._payload)||null==(n=n.value)?void 0:n.muiName)}},7402:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=i(6907).A},827:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=i(8635).A},8733:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=i(3931).A},9044:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=i(1399).A},1976:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=i(2529).A},1506:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=i(5393).A},1014:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=i(3539).A},2937:(t,e,i)=>{"use strict";i.d(e,{A:()=>f});var s=i(9950),n=i(3501);let r=!0,o=!1;const a=new n.E,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function h(t){t.metaKey||t.altKey||t.ctrlKey||(r=!0)}function c(){r=!1}function u(){"hidden"===this.visibilityState&&o&&(r=!0)}function d(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch(i){}return r||function(t){const{type:e,tagName:i}=t;return!("INPUT"!==i||!l[e]||t.readOnly)||"TEXTAREA"===i&&!t.readOnly||!!t.isContentEditable}(e)}const f=function(){const t=s.useCallback((t=>{var e;null!=t&&((e=t.ownerDocument).addEventListener("keydown",h,!0),e.addEventListener("mousedown",c,!0),e.addEventListener("pointerdown",c,!0),e.addEventListener("touchstart",c,!0),e.addEventListener("visibilitychange",u,!0))}),[]),e=s.useRef(!1);return{isFocusVisibleRef:e,onFocus:function(t){return!!d(t)&&(e.current=!0,!0)},onBlur:function(){return!!e.current&&(o=!0,a.start(100,(()=>{o=!1})),e.current=!1,!0)},ref:t}}},3158:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});i(9950);var s=i(8283),n=i(4414);function r(t){const{styles:e,defaultTheme:i={}}=t,r="function"===typeof e?t=>{return e(void 0===(s=t)||null===s||0===Object.keys(s).length?i:t);var s}:e;return(0,n.jsx)(s.mL,{styles:r})}},116:(t,e,i)=>{"use strict";i.r(e),i.d(e,{GlobalStyles:()=>w.A,StyledEngineProvider:()=>A,ThemeContext:()=>l.T,css:()=>v.AH,default:()=>C,internal_processStyles:()=>M,keyframes:()=>v.i7});var s=i(8168),n=i(9950),r=i(7923),o=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,a=(0,r.A)((function(t){return o.test(t)||111===t.charCodeAt(0)&&110===t.charCodeAt(1)&&t.charCodeAt(2)<91})),l=i(7576),h=i(1783),c=i(9015),u=i(6477),d=a,f=function(t){return"theme"!==t},p=function(t){return"string"===typeof t&&t.charCodeAt(0)>96?d:f},g=function(t,e,i){var s;if(e){var n=e.shouldForwardProp;s=t.__emotion_forwardProp&&n?function(e){return t.__emotion_forwardProp(e)&&n(e)}:n}return"function"!==typeof s&&i&&(s=t.__emotion_forwardProp),s},m=function(t){var e=t.cache,i=t.serialized,s=t.isStringTag;return(0,h.SF)(e,i,s),(0,u.s)((function(){return(0,h.sk)(e,i,s)})),null},y=function t(e,i){var r,o,a=e.__emotion_real===e,u=a&&e.__emotion_base||e;void 0!==i&&(r=i.label,o=i.target);var d=g(e,i,a),f=d||p(u),y=!f("as");return function(){var v=arguments,b=a&&void 0!==e.__emotion_styles?e.__emotion_styles.slice(0):[];if(void 0!==r&&b.push("label:"+r+";"),null==v[0]||void 0===v[0].raw)b.push.apply(b,v);else{b.push(v[0][0]);for(var x=v.length,S=1;S<x;S++)b.push(v[S],v[0][S])}var A=(0,l.w)((function(t,e,i){var s=y&&t.as||u,r="",a=[],g=t;if(null==t.theme){for(var v in g={},t)g[v]=t[v];g.theme=n.useContext(l.T)}"string"===typeof t.className?r=(0,h.Rk)(e.registered,a,t.className):null!=t.className&&(r=t.className+" ");var x=(0,c.J)(b.concat(a),e.registered,g);r+=e.key+"-"+x.name,void 0!==o&&(r+=" "+o);var S=y&&void 0===d?p(s):f,A={};for(var w in t)y&&"as"===w||S(w)&&(A[w]=t[w]);return A.className=r,i&&(A.ref=i),n.createElement(n.Fragment,null,n.createElement(m,{cache:e,serialized:x,isStringTag:"string"===typeof s}),n.createElement(s,A))}));return A.displayName=void 0!==r?r:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",A.defaultProps=e.defaultProps,A.__emotion_real=A,A.__emotion_base=u,A.__emotion_styles=b,A.__emotion_forwardProp=d,Object.defineProperty(A,"toString",{value:function(){return"."+o}}),A.withComponent=function(e,n){return t(e,(0,s.A)({},i,n,{shouldForwardProp:g(A,n,!0)})).apply(void 0,b)},A}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(t){y[t]=y(t)}));var v=i(8283),b=i(8603),x=i(4414);let S;function A(t){const{injectFirst:e,children:i}=t;return e&&S?(0,x.jsx)(l.C,{value:S,children:i}):i}"object"===typeof document&&(S=(0,b.A)({key:"css",prepend:!0}));var w=i(3158);function C(t,e){return y(t,e)}const M=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))}},9269:(t,e,i)=>{"use strict";var s=i(4994);e.X4=f,e.e$=p,e.eM=function(t,e){const i=d(t),s=d(e);return(Math.max(i,s)+.05)/(Math.min(i,s)+.05)},e.a=g;var n=s(i(9234)),r=s(i(9344));function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,r.default)(t,e,i)}function a(t){t=t.slice(1);const e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g");let i=t.match(e);return i&&1===i[0].length&&(i=i.map((t=>t+t))),i?"rgb".concat(4===i.length?"a":"","(").concat(i.map(((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3)).join(", "),")"):""}function l(t){if(t.type)return t;if("#"===t.charAt(0))return l(a(t));const e=t.indexOf("("),i=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(i))throw new Error((0,n.default)(9,t));let s,r=t.substring(e+1,t.length-1);if("color"===i){if(r=r.split(" "),s=r.shift(),4===r.length&&"/"===r[3].charAt(0)&&(r[3]=r[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s))throw new Error((0,n.default)(10,s))}else r=r.split(",");return r=r.map((t=>parseFloat(t))),{type:i,values:r,colorSpace:s}}const h=t=>{const e=l(t);return e.values.slice(0,3).map(((t,i)=>-1!==e.type.indexOf("hsl")&&0!==i?"".concat(t,"%"):t)).join(" ")};function c(t){const{type:e,colorSpace:i}=t;let{values:s}=t;return-1!==e.indexOf("rgb")?s=s.map(((t,e)=>e<3?parseInt(t,10):t)):-1!==e.indexOf("hsl")&&(s[1]="".concat(s[1],"%"),s[2]="".concat(s[2],"%")),s=-1!==e.indexOf("color")?"".concat(i," ").concat(s.join(" ")):"".concat(s.join(", ")),"".concat(e,"(").concat(s,")")}function u(t){t=l(t);const{values:e}=t,i=e[0],s=e[1]/100,n=e[2]/100,r=s*Math.min(n,1-n),o=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+i/30)%12;return n-r*Math.max(Math.min(e-3,9-e,1),-1)};let a="rgb";const h=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===t.type&&(a+="a",h.push(e[3])),c({type:a,values:h})}function d(t){let e="hsl"===(t=l(t)).type||"hsla"===t.type?l(u(t)).values:t.values;return e=e.map((e=>("color"!==t.type&&(e/=255),e<=.03928?e/12.92:((e+.055)/1.055)**2.4))),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function f(t,e){return t=l(t),e=o(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]="/".concat(e):t.values[3]=e,c(t)}function p(t,e){if(t=l(t),e=o(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(let i=0;i<3;i+=1)t.values[i]*=1-e;return c(t)}function g(t,e){if(t=l(t),e=o(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(let i=0;i<3;i+=1)t.values[i]+=(255-t.values[i])*e;else if(-1!==t.type.indexOf("color"))for(let i=0;i<3;i+=1)t.values[i]+=(1-t.values[i])*e;return c(t)}function m(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return d(t)>.5?p(t,e):g(t,e)}},7295:(t,e,i)=>{"use strict";var s=i(4994);e.Ay=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:e,defaultTheme:i=g,rootShouldForwardProp:s=p,slotShouldForwardProp:l=p}=t,c=t=>(0,h.default)((0,n.default)({},t,{theme:y((0,n.default)({},t,{defaultTheme:i,themeId:e}))}));return c.__mui_systemSx=!0,function(t){let h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,o.internal_processStyles)(t,(t=>t.filter((t=>!(null!=t&&t.__mui_systemSx)))));const{name:u,slot:f,skipVariantsResolver:g,skipSx:x,overridesResolver:S=v(m(f))}=h,A=(0,r.default)(h,d),w=void 0!==g?g:f&&"Root"!==f&&"root"!==f||!1,C=x||!1;let M=p;"Root"===f||"root"===f?M=s:f?M=l:function(t){return"string"===typeof t&&t.charCodeAt(0)>96}(t)&&(M=void 0);const k=(0,o.default)(t,(0,n.default)({shouldForwardProp:M,label:undefined},A)),R=t=>"function"===typeof t&&t.__emotion_real!==t||(0,a.isPlainObject)(t)?s=>b(t,(0,n.default)({},s,{theme:y({theme:s.theme,defaultTheme:i,themeId:e})})):t,E=function(s){let r=R(s);for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];const h=a?a.map(R):[];u&&S&&h.push((t=>{const s=y((0,n.default)({},t,{defaultTheme:i,themeId:e}));if(!s.components||!s.components[u]||!s.components[u].styleOverrides)return null;const r=s.components[u].styleOverrides,o={};return Object.entries(r).forEach((e=>{let[i,r]=e;o[i]=b(r,(0,n.default)({},t,{theme:s}))})),S(t,o)})),u&&!w&&h.push((t=>{var s;const r=y((0,n.default)({},t,{defaultTheme:i,themeId:e}));return b({variants:null==r||null==(s=r.components)||null==(s=s[u])?void 0:s.variants},(0,n.default)({},t,{theme:r}))})),C||h.push(c);const d=h.length-a.length;if(Array.isArray(s)&&d>0){const t=new Array(d).fill("");r=[...s,...t],r.raw=[...s.raw,...t]}const f=k(r,...h);return t.muiName&&(f.muiName=t.muiName),f};return k.withConfig&&(E.withConfig=k.withConfig),E}};var n=s(i(4634)),r=s(i(4893)),o=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=f(e);if(i&&i.has(t))return i.get(t);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in t)if("default"!==r&&Object.prototype.hasOwnProperty.call(t,r)){var o=n?Object.getOwnPropertyDescriptor(t,r):null;o&&(o.get||o.set)?Object.defineProperty(s,r,o):s[r]=t[r]}return s.default=t,i&&i.set(t,s),s}(i(116)),a=i(7785),l=(s(i(304)),s(i(8399)),s(i(9904))),h=s(i(8807));const c=["ownerState"],u=["variants"],d=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function f(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(f=function(t){return t?i:e})(t)}function p(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}const g=(0,l.default)(),m=t=>t?t.charAt(0).toLowerCase()+t.slice(1):t;function y(t){let{defaultTheme:e,theme:i,themeId:s}=t;return n=i,0===Object.keys(n).length?e:i[s]||i;var n}function v(t){return t?(e,i)=>i[t]:null}function b(t,e){let{ownerState:i}=e,s=(0,r.default)(e,c);const o="function"===typeof t?t((0,n.default)({ownerState:i},s)):t;if(Array.isArray(o))return o.flatMap((t=>b(t,(0,n.default)({ownerState:i},s))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:t=[]}=o;let e=(0,r.default)(o,u);return t.forEach((t=>{let r=!0;"function"===typeof t.props?r=t.props((0,n.default)({ownerState:i},s,i)):Object.keys(t.props).forEach((e=>{(null==i?void 0:i[e])!==t.props[e]&&s[e]!==t.props[e]&&(r=!1)})),r&&(Array.isArray(e)||(e=[e]),e.push("function"===typeof t.style?t.style((0,n.default)({ownerState:i},s,i)):t.style))})),e}return o}},6171:(t,e,i)=>{"use strict";i.d(e,{A:()=>l,b:()=>a});var s=i(9950),n=i(5537),r=i(4414);const o=s.createContext(void 0);function a(t){let{props:e,name:i}=t;return function(t){const{theme:e,name:i,props:s}=t;if(!e||!e.components||!e.components[i])return s;const r=e.components[i];return r.defaultProps?(0,n.A)(r.defaultProps,s):r.styleOverrides||r.variants?s:(0,n.A)(r,s)}({props:e,name:i,theme:{components:s.useContext(o)}})}const l=function(t){let{value:e,children:i}=t;return(0,r.jsx)(o.Provider,{value:e,children:i})}},8286:(t,e,i)=>{"use strict";i.d(e,{EU:()=>a,NI:()=>o,iZ:()=>h,kW:()=>c,vf:()=>l,zu:()=>n});var s=i(7483);const n={xs:0,sm:600,md:900,lg:1200,xl:1536},r={keys:["xs","sm","md","lg","xl"],up:t=>"@media (min-width:".concat(n[t],"px)")};function o(t,e,i){const s=t.theme||{};if(Array.isArray(e)){const t=s.breakpoints||r;return e.reduce(((s,n,r)=>(s[t.up(t.keys[r])]=i(e[r]),s)),{})}if("object"===typeof e){const t=s.breakpoints||r;return Object.keys(e).reduce(((s,r)=>{if(-1!==Object.keys(t.values||n).indexOf(r)){s[t.up(r)]=i(e[r],r)}else{const t=r;s[t]=e[t]}return s}),{})}return i(e)}function a(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var e;return(null==(e=t.keys)?void 0:e.reduce(((e,i)=>(e[t.up(i)]={},e)),{}))||{}}function l(t,e){return t.reduce(((t,e)=>{const i=t[e];return(!i||0===Object.keys(i).length)&&delete t[e],t}),e)}function h(t){const e=a(t);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];const o=[e,...n].reduce(((t,e)=>(0,s.A)(t,e)),{});return l(Object.keys(e),o)}function c(t){let{values:e,breakpoints:i,base:s}=t;const n=s||function(t,e){if("object"!==typeof t)return{};const i={},s=Object.keys(e);return Array.isArray(t)?s.forEach(((e,s)=>{s<t.length&&(i[e]=!0)})):s.forEach((e=>{null!=t[e]&&(i[e]=!0)})),i}(e,i),r=Object.keys(n);if(0===r.length)return e;let o;return r.reduce(((t,i,s)=>(Array.isArray(e)?(t[i]=null!=e[s]?e[s]:e[o],o=s):"object"===typeof e?(t[i]=null!=e[i]?e[i]:e[o],o=i):t[i]=e,t)),{})}},86:(t,e,i)=>{"use strict";function s(t,e){const i=this;if(i.vars&&"function"===typeof i.getColorSchemeSelector){const s=i.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)");return{[s]:e}}return i.palette.mode===t?e:{}}i.d(e,{A:()=>s})},3628:(t,e,i)=>{"use strict";i.d(e,{A:()=>a});var s=i(8587),n=i(8168);const r=["values","unit","step"],o=t=>{const e=Object.keys(t).map((e=>({key:e,val:t[e]})))||[];return e.sort(((t,e)=>t.val-e.val)),e.reduce(((t,e)=>(0,n.A)({},t,{[e.key]:e.val})),{})};function a(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:a=5}=t,l=(0,s.A)(t,r),h=o(e),c=Object.keys(h);function u(t){const s="number"===typeof e[t]?e[t]:t;return"@media (min-width:".concat(s).concat(i,")")}function d(t){const s="number"===typeof e[t]?e[t]:t;return"@media (max-width:".concat(s-a/100).concat(i,")")}function f(t,s){const n=c.indexOf(s);return"@media (min-width:".concat("number"===typeof e[t]?e[t]:t).concat(i,") and ")+"(max-width:".concat((-1!==n&&"number"===typeof e[c[n]]?e[c[n]]:s)-a/100).concat(i,")")}return(0,n.A)({keys:c,values:h,up:u,down:d,between:f,only:function(t){return c.indexOf(t)+1<c.length?f(t,c[c.indexOf(t)+1]):u(t)},not:function(t){const e=c.indexOf(t);return 0===e?u(c[1]):e===c.length-1?d(c[e]):f(t,c[c.indexOf(t)+1]).replace("@media","@media not all and")},unit:i},l)}},2860:(t,e,i)=>{"use strict";i.d(e,{A:()=>f});var s=i(8168),n=i(8587),r=i(7483),o=i(3628);const a={borderRadius:4};var l=i(7937);var h=i(505),c=i(8076),u=i(86);const d=["breakpoints","palette","spacing","shape"];const f=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:e={},palette:i={},spacing:f,shape:p={}}=t,g=(0,n.A)(t,d),m=(0,o.A)(e),y=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(t.mui)return t;const e=(0,l.LX)({spacing:t}),i=function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(0===i.length?[1]:i).map((t=>{const i=e(t);return"number"===typeof i?"".concat(i,"px"):i})).join(" ")};return i.mui=!0,i}(f);let v=(0,r.A)({breakpoints:m,direction:"ltr",components:{},palette:(0,s.A)({mode:"light"},i),spacing:y,shape:(0,s.A)({},a,p)},g);v.applyStyles=u.A;for(var b=arguments.length,x=new Array(b>1?b-1:0),S=1;S<b;S++)x[S-1]=arguments[S];return v=x.reduce(((t,e)=>(0,r.A)(t,e)),v),v.unstable_sxConfig=(0,s.A)({},c.A,null==g?void 0:g.unstable_sxConfig),v.unstable_sx=function(t){return(0,h.A)({sx:t,theme:this})},v}},9904:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s.A,private_createBreakpoints:()=>n.A,unstable_applyStyles:()=>r.A});var s=i(2860),n=i(3628),r=i(86)},6206:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var s=i(7483);const n=function(t,e){return e?(0,s.A)(t,e,{clone:!1}):t}},7937:(t,e,i)=>{"use strict";i.d(e,{LX:()=>p,MA:()=>f,_W:()=>g,Lc:()=>v,Ms:()=>b});var s=i(8286),n=i(2703),r=i(6206);const o={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},h=function(t){const e={};return i=>(void 0===e[i]&&(e[i]=t(i)),e[i])}((t=>{if(t.length>2){if(!l[t])return[t];t=l[t]}const[e,i]=t.split(""),s=o[e],n=a[i]||"";return Array.isArray(n)?n.map((t=>s+t)):[s+n]})),c=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],u=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[...c,...u];function f(t,e,i,s){var r;const o=null!=(r=(0,n.Yn)(t,e,!1))?r:i;return"number"===typeof o?t=>"string"===typeof t?t:o*t:Array.isArray(o)?t=>"string"===typeof t?t:o[t]:"function"===typeof o?o:()=>{}}function p(t){return f(t,"spacing",8)}function g(t,e){if("string"===typeof e||null==e)return e;const i=t(Math.abs(e));return e>=0?i:"number"===typeof i?-i:"-".concat(i)}function m(t,e,i,n){if(-1===e.indexOf(i))return null;const r=function(t,e){return i=>t.reduce(((t,s)=>(t[s]=g(e,i),t)),{})}(h(i),n),o=t[i];return(0,s.NI)(t,o,r)}function y(t,e){const i=p(t.theme);return Object.keys(t).map((s=>m(t,e,s,i))).reduce(r.A,{})}function v(t){return y(t,c)}function b(t){return y(t,u)}function x(t){return y(t,d)}v.propTypes={},v.filterProps=c,b.propTypes={},b.filterProps=u,x.propTypes={},x.filterProps=d},2703:(t,e,i)=>{"use strict";i.d(e,{Ay:()=>a,BO:()=>o,Yn:()=>r});var s=i(5501),n=i(8286);function r(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||"string"!==typeof e)return null;if(t&&t.vars&&i){const i="vars.".concat(e).split(".").reduce(((t,e)=>t&&t[e]?t[e]:null),t);if(null!=i)return i}return e.split(".").reduce(((t,e)=>t&&null!=t[e]?t[e]:null),t)}function o(t,e,i){let s,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:i;return s="function"===typeof t?t(i):Array.isArray(t)?t[i]||n:r(t,i)||n,e&&(s=e(s,n,t)),s}const a=function(t){const{prop:e,cssProperty:i=t.prop,themeKey:a,transform:l}=t,h=t=>{if(null==t[e])return null;const h=t[e],c=r(t.theme,a)||{};return(0,n.NI)(t,h,(t=>{let n=o(c,l,t);return t===n&&"string"===typeof t&&(n=o(c,l,"".concat(e).concat("default"===t?"":(0,s.A)(t)),t)),!1===i?n:{[i]:n}}))};return h.propTypes={},h.filterProps=[e],h}},8076:(t,e,i)=>{"use strict";i.d(e,{A:()=>L});var s=i(7937),n=i(2703),r=i(6206);const o=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=e.reduce(((t,e)=>(e.filterProps.forEach((i=>{t[i]=e})),t)),{}),n=t=>Object.keys(t).reduce(((e,i)=>s[i]?(0,r.A)(e,s[i](t)):e),{});return n.propTypes={},n.filterProps=e.reduce(((t,e)=>t.concat(e.filterProps)),[]),n};var a=i(8286);function l(t){return"number"!==typeof t?t:"".concat(t,"px solid")}function h(t,e){return(0,n.Ay)({prop:t,themeKey:"borders",transform:e})}const c=h("border",l),u=h("borderTop",l),d=h("borderRight",l),f=h("borderBottom",l),p=h("borderLeft",l),g=h("borderColor"),m=h("borderTopColor"),y=h("borderRightColor"),v=h("borderBottomColor"),b=h("borderLeftColor"),x=h("outline",l),S=h("outlineColor"),A=t=>{if(void 0!==t.borderRadius&&null!==t.borderRadius){const e=(0,s.MA)(t.theme,"shape.borderRadius",4,"borderRadius"),i=t=>({borderRadius:(0,s._W)(e,t)});return(0,a.NI)(t,t.borderRadius,i)}return null};A.propTypes={},A.filterProps=["borderRadius"];o(c,u,d,f,p,g,m,y,v,b,A,x,S);const w=t=>{if(void 0!==t.gap&&null!==t.gap){const e=(0,s.MA)(t.theme,"spacing",8,"gap"),i=t=>({gap:(0,s._W)(e,t)});return(0,a.NI)(t,t.gap,i)}return null};w.propTypes={},w.filterProps=["gap"];const C=t=>{if(void 0!==t.columnGap&&null!==t.columnGap){const e=(0,s.MA)(t.theme,"spacing",8,"columnGap"),i=t=>({columnGap:(0,s._W)(e,t)});return(0,a.NI)(t,t.columnGap,i)}return null};C.propTypes={},C.filterProps=["columnGap"];const M=t=>{if(void 0!==t.rowGap&&null!==t.rowGap){const e=(0,s.MA)(t.theme,"spacing",8,"rowGap"),i=t=>({rowGap:(0,s._W)(e,t)});return(0,a.NI)(t,t.rowGap,i)}return null};M.propTypes={},M.filterProps=["rowGap"];o(w,C,M,(0,n.Ay)({prop:"gridColumn"}),(0,n.Ay)({prop:"gridRow"}),(0,n.Ay)({prop:"gridAutoFlow"}),(0,n.Ay)({prop:"gridAutoColumns"}),(0,n.Ay)({prop:"gridAutoRows"}),(0,n.Ay)({prop:"gridTemplateColumns"}),(0,n.Ay)({prop:"gridTemplateRows"}),(0,n.Ay)({prop:"gridTemplateAreas"}),(0,n.Ay)({prop:"gridArea"}));function k(t,e){return"grey"===e?e:t}o((0,n.Ay)({prop:"color",themeKey:"palette",transform:k}),(0,n.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:k}),(0,n.Ay)({prop:"backgroundColor",themeKey:"palette",transform:k}));function R(t){return t<=1&&0!==t?"".concat(100*t,"%"):t}const E=(0,n.Ay)({prop:"width",transform:R}),T=t=>{if(void 0!==t.maxWidth&&null!==t.maxWidth){const e=e=>{var i,s;const n=(null==(i=t.theme)||null==(i=i.breakpoints)||null==(i=i.values)?void 0:i[e])||a.zu[e];return n?"px"!==(null==(s=t.theme)||null==(s=s.breakpoints)?void 0:s.unit)?{maxWidth:"".concat(n).concat(t.theme.breakpoints.unit)}:{maxWidth:n}:{maxWidth:R(e)}};return(0,a.NI)(t,t.maxWidth,e)}return null};T.filterProps=["maxWidth"];const I=(0,n.Ay)({prop:"minWidth",transform:R}),P=(0,n.Ay)({prop:"height",transform:R}),F=(0,n.Ay)({prop:"maxHeight",transform:R}),D=(0,n.Ay)({prop:"minHeight",transform:R}),L=((0,n.Ay)({prop:"size",cssProperty:"width",transform:R}),(0,n.Ay)({prop:"size",cssProperty:"height",transform:R}),o(E,T,I,P,F,D,(0,n.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:A},color:{themeKey:"palette",transform:k},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:k},backgroundColor:{themeKey:"palette",transform:k},p:{style:s.Ms},pt:{style:s.Ms},pr:{style:s.Ms},pb:{style:s.Ms},pl:{style:s.Ms},px:{style:s.Ms},py:{style:s.Ms},padding:{style:s.Ms},paddingTop:{style:s.Ms},paddingRight:{style:s.Ms},paddingBottom:{style:s.Ms},paddingLeft:{style:s.Ms},paddingX:{style:s.Ms},paddingY:{style:s.Ms},paddingInline:{style:s.Ms},paddingInlineStart:{style:s.Ms},paddingInlineEnd:{style:s.Ms},paddingBlock:{style:s.Ms},paddingBlockStart:{style:s.Ms},paddingBlockEnd:{style:s.Ms},m:{style:s.Lc},mt:{style:s.Lc},mr:{style:s.Lc},mb:{style:s.Lc},ml:{style:s.Lc},mx:{style:s.Lc},my:{style:s.Lc},margin:{style:s.Lc},marginTop:{style:s.Lc},marginRight:{style:s.Lc},marginBottom:{style:s.Lc},marginLeft:{style:s.Lc},marginX:{style:s.Lc},marginY:{style:s.Lc},marginInline:{style:s.Lc},marginInlineStart:{style:s.Lc},marginInlineEnd:{style:s.Lc},marginBlock:{style:s.Lc},marginBlockStart:{style:s.Lc},marginBlockEnd:{style:s.Lc},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:w},rowGap:{style:M},columnGap:{style:C},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:R},maxWidth:{style:T},minWidth:{transform:R},height:{transform:R},maxHeight:{transform:R},minHeight:{transform:R},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},237:(t,e,i)=>{"use strict";i.d(e,{A:()=>h});var s=i(8168),n=i(8587),r=i(7483),o=i(8076);const a=["sx"],l=t=>{var e,i;const s={systemProps:{},otherProps:{}},n=null!=(e=null==t||null==(i=t.theme)?void 0:i.unstable_sxConfig)?e:o.A;return Object.keys(t).forEach((e=>{n[e]?s.systemProps[e]=t[e]:s.otherProps[e]=t[e]})),s};function h(t){const{sx:e}=t,i=(0,n.A)(t,a),{systemProps:o,otherProps:h}=l(i);let c;return c=Array.isArray(e)?[o,...e]:"function"===typeof e?function(){const t=e(...arguments);return(0,r.Q)(t)?(0,s.A)({},o,t):o}:(0,s.A)({},o,e),(0,s.A)({},h,{sx:c})}},8807:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s.A,extendSxProp:()=>n.A,unstable_createStyleFunctionSx:()=>s.k,unstable_defaultSxConfig:()=>r.A});var s=i(505),n=i(237),r=i(8076)},505:(t,e,i)=>{"use strict";i.d(e,{A:()=>c,k:()=>l});var s=i(5501),n=i(6206),r=i(2703),o=i(8286),a=i(8076);function l(){function t(t,e,i,n){const a={[t]:e,theme:i},l=n[t];if(!l)return{[t]:e};const{cssProperty:h=t,themeKey:c,transform:u,style:d}=l;if(null==e)return null;if("typography"===c&&"inherit"===e)return{[t]:e};const f=(0,r.Yn)(i,c)||{};if(d)return d(a);return(0,o.NI)(a,e,(e=>{let i=(0,r.BO)(f,u,e);return e===i&&"string"===typeof e&&(i=(0,r.BO)(f,u,"".concat(t).concat("default"===e?"":(0,s.A)(e)),e)),!1===h?i:{[h]:i}}))}return function e(i){var s;const{sx:r,theme:l={}}=i||{};if(!r)return null;const h=null!=(s=l.unstable_sxConfig)?s:a.A;function c(i){let s=i;if("function"===typeof i)s=i(l);else if("object"!==typeof i)return i;if(!s)return null;const r=(0,o.EU)(l.breakpoints),a=Object.keys(r);let c=r;return Object.keys(s).forEach((i=>{const r=(a=s[i],u=l,"function"===typeof a?a(u):a);var a,u;if(null!==r&&void 0!==r)if("object"===typeof r)if(h[i])c=(0,n.A)(c,t(i,r,l,h));else{const t=(0,o.NI)({theme:l},r,(t=>({[i]:t})));!function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=e.reduce(((t,e)=>t.concat(Object.keys(e))),[]),n=new Set(s);return e.every((t=>n.size===Object.keys(t).length))}(t,r)?c=(0,n.A)(c,t):c[i]=e({sx:r,theme:l})}else c=(0,n.A)(c,t(i,r,l,h))})),(0,o.vf)(a,c)}return Array.isArray(r)?r.map(c):c(r)}}const h=l();h.filterProps=["sx"];const c=h},5329:(t,e,i)=>{"use strict";e.A=void 0;var s=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var i=r(e);if(i&&i.has(t))return i.get(t);var s={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var a=n?Object.getOwnPropertyDescriptor(t,o):null;a&&(a.get||a.set)?Object.defineProperty(s,o,a):s[o]=t[o]}return s.default=t,i&&i.set(t,s),s}(i(9950)),n=i(116);function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,i=new WeakMap;return(r=function(t){return t?i:e})(t)}e.A=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const e=s.useContext(n.ThemeContext);return e&&(i=e,0!==Object.keys(i).length)?e:t;var i}},4501:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});const s=t=>t,n=(()=>{let t=s;return{configure(e){t=e},generate:e=>t(e),reset(){t=s}}})()},5501:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var s=i(8099);function n(t){if("string"!==typeof t)throw new Error((0,s.A)(7));return t.charAt(0).toUpperCase()+t.slice(1)}},304:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s.A});var s=i(5501)},6747:(t,e,i)=>{"use strict";i.d(e,{A:()=>s});const s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(e,Math.min(t,i))}},9344:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s.A});var s=i(6747)},8465:(t,e,i)=>{"use strict";function s(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const s={};return Object.keys(t).forEach((n=>{s[n]=t[n].reduce(((t,s)=>{if(s){const n=e(s);""!==n&&t.push(n),i&&i[s]&&t.push(i[s])}return t}),[]).join(" ")})),s}i.d(e,{A:()=>s})},5511:(t,e,i)=>{"use strict";function s(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.reduce(((t,e)=>null==e?t:function(){for(var i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];t.apply(this,s),e.apply(this,s)}),(()=>{}))}i.d(e,{A:()=>s})},1927:(t,e,i)=>{"use strict";function s(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function s(){for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];clearTimeout(e),e=setTimeout((()=>{t.apply(this,n)}),i)}return s.clear=()=>{clearTimeout(e)},s}i.d(e,{A:()=>s})},7483:(t,e,i)=>{"use strict";i.d(e,{A:()=>o,Q:()=>n});var s=i(8168);function n(t){if("object"!==typeof t||null===t)return!1;const e=Object.getPrototypeOf(t);return(null===e||e===Object.prototype||null===Object.getPrototypeOf(e))&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function r(t){if(!n(t))return t;const e={};return Object.keys(t).forEach((i=>{e[i]=r(t[i])})),e}function o(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const a=i.clone?(0,s.A)({},t):t;return n(t)&&n(e)&&Object.keys(e).forEach((s=>{n(e[s])&&Object.prototype.hasOwnProperty.call(t,s)&&n(t[s])?a[s]=o(t[s],e[s],i):i.clone?a[s]=n(e[s])?r(e[s]):e[s]:a[s]=e[s]})),a}},7785:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s.A,isPlainObject:()=>s.Q});var s=i(7483)},8099:(t,e,i)=>{"use strict";function s(t){let e="https://mui.com/production-error/?code="+t;for(let i=1;i<arguments.length;i+=1)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}i.d(e,{A:()=>s})},9234:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>s.A});var s=i(8099)},423:(t,e,i)=>{"use strict";i.d(e,{Ay:()=>r});var s=i(4501);const n={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function r(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r=n[e];return r?"".concat(i,"-").concat(r):"".concat(s.A.generate(t),"-").concat(e)}},1763:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var s=i(423);function n(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const n={};return e.forEach((e=>{n[e]=(0,s.Ay)(t,e,i)})),n}},8399:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>l,getFunctionName:()=>r});var s=i(6429);const n=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function r(t){const e="".concat(t).match(n);return e&&e[1]||""}function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.displayName||t.name||r(t)||e}function a(t,e,i){const s=o(e);return t.displayName||(""!==s?"".concat(i,"(").concat(s,")"):i)}function l(t){if(null!=t){if("string"===typeof t)return t;if("function"===typeof t)return o(t,"Component");if("object"===typeof t)switch(t.$$typeof){case s.ForwardRef:return a(t,t.render,"ForwardRef");case s.Memo:return a(t,t.type,"memo");default:return}}}},6907:(t,e,i)=>{"use strict";function s(t){return t&&t.ownerDocument||document}i.d(e,{A:()=>s})},8635:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var s=i(6907);function n(t){return(0,s.A)(t).defaultView||window}},5537:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var s=i(8168);function n(t,e){const i=(0,s.A)({},e);return Object.keys(t).forEach((r=>{if(r.toString().match(/^(components|slots)$/))i[r]=(0,s.A)({},t[r],i[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const o=t[r]||{},a=e[r];i[r]={},a&&Object.keys(a)?o&&Object.keys(o)?(i[r]=(0,s.A)({},a),Object.keys(o).forEach((t=>{i[r][t]=n(o[t],a[t])}))):i[r]=a:i[r]=o}else void 0===i[r]&&(i[r]=t[r])})),i}},5587:(t,e,i)=>{"use strict";function s(t,e){"function"===typeof t?t(e):t&&(t.current=e)}i.d(e,{A:()=>s})},3931:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var s=i(9950);function n(t){let{controlled:e,default:i,name:n,state:r="value"}=t;const{current:o}=s.useRef(void 0!==e),[a,l]=s.useState(i);return[o?e:a,s.useCallback((t=>{o||l(t)}),[])]}},1399:(t,e,i)=>{"use strict";i.d(e,{A:()=>n});var s=i(9950);const n="undefined"!==typeof window?s.useLayoutEffect:s.useEffect},2529:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});var s=i(9950),n=i(1399);const r=function(t){const e=s.useRef(t);return(0,n.A)((()=>{e.current=t})),s.useRef((function(){return(0,e.current)(...arguments)})).current}},5393:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});var s=i(9950),n=i(5587);function r(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return s.useMemo((()=>e.every((t=>null==t))?null:t=>{e.forEach((e=>{(0,n.A)(e,t)}))}),e)}},3539:(t,e,i)=>{"use strict";var s;i.d(e,{A:()=>a});var n=i(9950);let r=0;const o=(s||(s=i.t(n,2)))["useId".toString()];function a(t){if(void 0!==o){const e=o();return null!=t?t:e}return function(t){const[e,i]=n.useState(t),s=t||e;return n.useEffect((()=>{null==e&&(r+=1,i("mui-".concat(r)))}),[e]),s}(t)}},8573:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});var s=i(9950);const n={};function r(t,e){const i=s.useRef(n);return i.current===n&&(i.current=t(e)),i}},3427:(t,e,i)=>{"use strict";i.d(e,{A:()=>r});var s=i(9950);const n=[];function r(t){s.useEffect(t,n)}},3501:(t,e,i)=>{"use strict";i.d(e,{A:()=>o,E:()=>r});var s=i(8573),n=i(3427);class r{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new r}start(t,e){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,e()}),t)}}function o(){const t=(0,s.A)(r.create).current;return(0,n.A)(t.disposeEffect),t}},1232:t=>{"use strict";function e(t,e,s){s=s||2;var r,o,a,l,u,d,p,g=e&&e.length,m=g?e[0]*s:t.length,y=i(t,0,m,s,!0),v=[];if(!y||y.next===y.prev)return v;if(g&&(y=function(t,e,s,n){var r,o,a,l=[];for(r=0,o=e.length;r<o;r++)(a=i(t,e[r]*n,r<o-1?e[r+1]*n:t.length,n,!1))===a.next&&(a.steiner=!0),l.push(f(a));for(l.sort(h),r=0;r<l.length;r++)s=c(l[r],s);return s}(t,e,y,s)),t.length>80*s){r=a=t[0],o=l=t[1];for(var b=s;b<m;b+=s)(u=t[b])<r&&(r=u),(d=t[b+1])<o&&(o=d),u>a&&(a=u),d>l&&(l=d);p=0!==(p=Math.max(a-r,l-o))?32767/p:0}return n(y,v,s,r,o,p,0),v}function i(t,e,i,s,n){var r,o;if(n===k(t,e,i,s)>0)for(r=e;r<i;r+=s)o=w(r,t[r],t[r+1],o);else for(r=i-s;r>=e;r-=s)o=w(r,t[r],t[r+1],o);return o&&y(o,o.next)&&(C(o),o=o.next),o}function s(t,e){if(!t)return t;e||(e=t);var i,s=t;do{if(i=!1,s.steiner||!y(s,s.next)&&0!==m(s.prev,s,s.next))s=s.next;else{if(C(s),(s=e=s.prev)===s.next)break;i=!0}}while(i||s!==e);return e}function n(t,e,i,h,c,u,f){if(t){!f&&u&&function(t,e,i,s){var n=t;do{0===n.z&&(n.z=d(n.x,n.y,e,i,s)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,function(t){var e,i,s,n,r,o,a,l,h=1;do{for(i=t,t=null,r=null,o=0;i;){for(o++,s=i,a=0,e=0;e<h&&(a++,s=s.nextZ);e++);for(l=h;a>0||l>0&&s;)0!==a&&(0===l||!s||i.z<=s.z)?(n=i,i=i.nextZ,a--):(n=s,s=s.nextZ,l--),r?r.nextZ=n:t=n,n.prevZ=r,r=n;i=s}r.nextZ=null,h*=2}while(o>1)}(n)}(t,h,c,u);for(var p,g,m=t;t.prev!==t.next;)if(p=t.prev,g=t.next,u?o(t,h,c,u):r(t))e.push(p.i/i|0),e.push(t.i/i|0),e.push(g.i/i|0),C(t),t=g.next,m=g.next;else if((t=g)===m){f?1===f?n(t=a(s(t),e,i),e,i,h,c,u,2):2===f&&l(t,e,i,h,c,u):n(s(t),e,i,h,c,u,1);break}}}function r(t){var e=t.prev,i=t,s=t.next;if(m(e,i,s)>=0)return!1;for(var n=e.x,r=i.x,o=s.x,a=e.y,l=i.y,h=s.y,c=n<r?n<o?n:o:r<o?r:o,u=a<l?a<h?a:h:l<h?l:h,d=n>r?n>o?n:o:r>o?r:o,f=a>l?a>h?a:h:l>h?l:h,g=s.next;g!==e;){if(g.x>=c&&g.x<=d&&g.y>=u&&g.y<=f&&p(n,a,r,l,o,h,g.x,g.y)&&m(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function o(t,e,i,s){var n=t.prev,r=t,o=t.next;if(m(n,r,o)>=0)return!1;for(var a=n.x,l=r.x,h=o.x,c=n.y,u=r.y,f=o.y,g=a<l?a<h?a:h:l<h?l:h,y=c<u?c<f?c:f:u<f?u:f,v=a>l?a>h?a:h:l>h?l:h,b=c>u?c>f?c:f:u>f?u:f,x=d(g,y,e,i,s),S=d(v,b,e,i,s),A=t.prevZ,w=t.nextZ;A&&A.z>=x&&w&&w.z<=S;){if(A.x>=g&&A.x<=v&&A.y>=y&&A.y<=b&&A!==n&&A!==o&&p(a,c,l,u,h,f,A.x,A.y)&&m(A.prev,A,A.next)>=0)return!1;if(A=A.prevZ,w.x>=g&&w.x<=v&&w.y>=y&&w.y<=b&&w!==n&&w!==o&&p(a,c,l,u,h,f,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;w=w.nextZ}for(;A&&A.z>=x;){if(A.x>=g&&A.x<=v&&A.y>=y&&A.y<=b&&A!==n&&A!==o&&p(a,c,l,u,h,f,A.x,A.y)&&m(A.prev,A,A.next)>=0)return!1;A=A.prevZ}for(;w&&w.z<=S;){if(w.x>=g&&w.x<=v&&w.y>=y&&w.y<=b&&w!==n&&w!==o&&p(a,c,l,u,h,f,w.x,w.y)&&m(w.prev,w,w.next)>=0)return!1;w=w.nextZ}return!0}function a(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!y(r,o)&&v(r,n,n.next,o)&&S(r,o)&&S(o,r)&&(e.push(r.i/i|0),e.push(n.i/i|0),e.push(o.i/i|0),C(n),C(n.next),n=t=o),n=n.next}while(n!==t);return s(n)}function l(t,e,i,r,o,a){var l=t;do{for(var h=l.next.next;h!==l.prev;){if(l.i!==h.i&&g(l,h)){var c=A(l,h);return l=s(l,l.next),c=s(c,c.next),n(l,e,i,r,o,a,0),void n(c,e,i,r,o,a,0)}h=h.next}l=l.next}while(l!==t)}function h(t,e){return t.x-e.x}function c(t,e){var i=function(t,e){var i,s=e,n=t.x,r=t.y,o=-1/0;do{if(r<=s.y&&r>=s.next.y&&s.next.y!==s.y){var a=s.x+(r-s.y)*(s.next.x-s.x)/(s.next.y-s.y);if(a<=n&&a>o&&(o=a,i=s.x<s.next.x?s:s.next,a===n))return i}s=s.next}while(s!==e);if(!i)return null;var l,h=i,c=i.x,d=i.y,f=1/0;s=i;do{n>=s.x&&s.x>=c&&n!==s.x&&p(r<d?n:o,r,c,d,r<d?o:n,r,s.x,s.y)&&(l=Math.abs(r-s.y)/(n-s.x),S(s,t)&&(l<f||l===f&&(s.x>i.x||s.x===i.x&&u(i,s)))&&(i=s,f=l)),s=s.next}while(s!==h);return i}(t,e);if(!i)return e;var n=A(i,t);return s(n,n.next),s(i,i.next)}function u(t,e){return m(t.prev,t,e.prev)<0&&m(e.next,t,t.next)<0}function d(t,e,i,s,n){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-s)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function f(t){var e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function p(t,e,i,s,n,r,o,a){return(n-o)*(e-a)>=(t-o)*(r-a)&&(t-o)*(s-a)>=(i-o)*(e-a)&&(i-o)*(r-a)>=(n-o)*(s-a)}function g(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&v(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(S(t,e)&&S(e,t)&&function(t,e){var i=t,s=!1,n=(t.x+e.x)/2,r=(t.y+e.y)/2;do{i.y>r!==i.next.y>r&&i.next.y!==i.y&&n<(i.next.x-i.x)*(r-i.y)/(i.next.y-i.y)+i.x&&(s=!s),i=i.next}while(i!==t);return s}(t,e)&&(m(t.prev,t,e.prev)||m(t,e.prev,e))||y(t,e)&&m(t.prev,t,t.next)>0&&m(e.prev,e,e.next)>0)}function m(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function y(t,e){return t.x===e.x&&t.y===e.y}function v(t,e,i,s){var n=x(m(t,e,i)),r=x(m(t,e,s)),o=x(m(i,s,t)),a=x(m(i,s,e));return n!==r&&o!==a||(!(0!==n||!b(t,i,e))||(!(0!==r||!b(t,s,e))||(!(0!==o||!b(i,t,s))||!(0!==a||!b(i,e,s)))))}function b(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function x(t){return t>0?1:t<0?-1:0}function S(t,e){return m(t.prev,t,t.next)<0?m(t,e,t.next)>=0&&m(t,t.prev,e)>=0:m(t,e,t.prev)<0||m(t,t.next,e)<0}function A(t,e){var i=new M(t.i,t.x,t.y),s=new M(e.i,e.x,e.y),n=t.next,r=e.prev;return t.next=e,e.prev=t,i.next=n,n.prev=i,s.next=i,i.prev=s,r.next=s,s.prev=r,s}function w(t,e,i,s){var n=new M(t,e,i);return s?(n.next=s.next,n.prev=s,s.next.prev=n,s.next=n):(n.prev=n,n.next=n),n}function C(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function M(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function k(t,e,i,s){for(var n=0,r=e,o=i-s;r<i;r+=s)n+=(t[o]-t[r])*(t[r+1]+t[o+1]),o=r;return n}t.exports=e,t.exports.default=e,e.deviation=function(t,e,i,s){var n=e&&e.length,r=n?e[0]*i:t.length,o=Math.abs(k(t,0,r,i));if(n)for(var a=0,l=e.length;a<l;a++){var h=e[a]*i,c=a<l-1?e[a+1]*i:t.length;o-=Math.abs(k(t,h,c,i))}var u=0;for(a=0;a<s.length;a+=3){var d=s[a]*i,f=s[a+1]*i,p=s[a+2]*i;u+=Math.abs((t[d]-t[p])*(t[f+1]-t[d+1])-(t[d]-t[f])*(t[p+1]-t[d+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},e.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},s=0,n=0;n<t.length;n++){for(var r=0;r<t[n].length;r++)for(var o=0;o<e;o++)i.vertices.push(t[n][r][o]);n>0&&(s+=t[n-1].length,i.holes.push(s))}return i}},3876:(t,e,i)=>{"use strict";var s=i(630),n={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(t){return s.isMemo(t)?o:a[t.$$typeof]||n}a[s.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[s.Memo]=o;var h=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,i,s){if("string"!==typeof i){if(p){var n=f(i);n&&n!==p&&t(e,n,s)}var o=c(i);u&&(o=o.concat(u(i)));for(var a=l(e),g=l(i),m=0;m<o.length;++m){var y=o[m];if(!r[y]&&(!s||!s[y])&&(!g||!g[y])&&(!a||!a[y])){var v=d(i,y);try{h(e,y,v)}catch(b){}}}}return e}},2138:(t,e)=>{"use strict";var i="function"===typeof Symbol&&Symbol.for,s=i?Symbol.for("react.element"):60103,n=i?Symbol.for("react.portal"):60106,r=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,a=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,c=i?Symbol.for("react.async_mode"):60111,u=i?Symbol.for("react.concurrent_mode"):60111,d=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,p=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,v=i?Symbol.for("react.fundamental"):60117,b=i?Symbol.for("react.responder"):60118,x=i?Symbol.for("react.scope"):60119;function S(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case s:switch(t=t.type){case c:case u:case r:case a:case o:case f:return t;default:switch(t=t&&t.$$typeof){case h:case d:case m:case g:case l:return t;default:return e}}case n:return e}}}function A(t){return S(t)===u}e.AsyncMode=c,e.ConcurrentMode=u,e.ContextConsumer=h,e.ContextProvider=l,e.Element=s,e.ForwardRef=d,e.Fragment=r,e.Lazy=m,e.Memo=g,e.Portal=n,e.Profiler=a,e.StrictMode=o,e.Suspense=f,e.isAsyncMode=function(t){return A(t)||S(t)===c},e.isConcurrentMode=A,e.isContextConsumer=function(t){return S(t)===h},e.isContextProvider=function(t){return S(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===s},e.isForwardRef=function(t){return S(t)===d},e.isFragment=function(t){return S(t)===r},e.isLazy=function(t){return S(t)===m},e.isMemo=function(t){return S(t)===g},e.isPortal=function(t){return S(t)===n},e.isProfiler=function(t){return S(t)===a},e.isStrictMode=function(t){return S(t)===o},e.isSuspense=function(t){return S(t)===f},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===r||t===u||t===a||t===o||t===f||t===p||"object"===typeof t&&null!==t&&(t.$$typeof===m||t.$$typeof===g||t.$$typeof===l||t.$$typeof===h||t.$$typeof===d||t.$$typeof===v||t.$$typeof===b||t.$$typeof===x||t.$$typeof===y)},e.typeOf=S},630:(t,e,i)=>{"use strict";t.exports=i(2138)},3488:(t,e,i)=>{"use strict";var s=i(3959);function n(){}function r(){}r.resetWarningCache=n,t.exports=function(){function t(t,e,i,n,r,o){if(o!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:n};return i.PropTypes=i,i}},1942:(t,e,i)=>{t.exports=i(3488)()},3959:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8345:(t,e,i)=>{"use strict";var s=i(9950),n=i(5340);function r(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){h(t,e),h(t+"Capture",e)}function h(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,i,s,n,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=s,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function b(t,e,i,s){var n=m.hasOwnProperty(e)?m[e]:null;(null!==n?0!==n.type:s||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,i,s){if(null===e||"undefined"===typeof e||function(t,e,i,s){if(null!==i&&0===i.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==i?!i.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,i,s))return!0;if(s)return!1;if(null!==i)switch(i.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,i,n,s)&&(i=null),s||null===n?function(t){return!!u.call(p,t)||!u.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===i?t.removeAttribute(e):t.setAttribute(e,""+i)):n.mustUseProperty?t[n.propertyName]=null===i?3!==n.type&&"":i:(e=n.attributeName,s=n.attributeNamespace,null===i?t.removeAttribute(e):(i=3===(n=n.type)||4===n&&!0===i?"":""+i,s?t.setAttributeNS(s,e,i):t.setAttribute(e,i))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var x=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=Symbol.for("react.element"),A=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),R=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function z(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=L&&t[L]||t["@@iterator"])?t:null}var N,_=Object.assign;function V(t){if(void 0===N)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);N=e&&e[1]||""}return"\n"+N+t}var B=!1;function O(t,e){if(!t||B)return"";B=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var s=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){s=h}t.call(e.prototype)}else{try{throw Error()}catch(h){s=h}t()}}catch(h){if(h&&s&&"string"===typeof h.stack){for(var n=h.stack.split("\n"),r=s.stack.split("\n"),o=n.length-1,a=r.length-1;1<=o&&0<=a&&n[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(n[o]!==r[a]){if(1!==o||1!==a)do{if(o--,0>--a||n[o]!==r[a]){var l="\n"+n[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{B=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?V(t):""}function U(t){switch(t.tag){case 5:return V(t.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return t=O(t.type,!1);case 11:return t=O(t.type.render,!1);case 1:return t=O(t.type,!0);default:return""}}function H(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case w:return"Fragment";case A:return"Portal";case M:return"Profiler";case C:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case R:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case E:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case P:return null!==(e=t.displayName||null)?e:H(t.type)||"Memo";case F:e=t._payload,t=t._init;try{return H(t(e))}catch(i){}}return null}function G(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(e);case 8:return e===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function j(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Y(t){t._valueTracker||(t._valueTracker=function(t){var e=j(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof i&&"function"===typeof i.get&&"function"===typeof i.set){var n=i.get,r=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(t){s=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return s},setValue:function(t){s=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function X(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),s="";return t&&(s=j(t)?t.checked?"true":"false":t.value),(t=s)!==i&&(e.setValue(t),!0)}function q(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function J(t,e){var i=e.checked;return _({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:t._wrapperState.initialChecked})}function K(t,e){var i=null==e.defaultValue?"":e.defaultValue,s=null!=e.checked?e.checked:e.defaultChecked;i=W(null!=e.value?e.value:i),t._wrapperState={initialChecked:s,initialValue:i,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function Z(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function Q(t,e){Z(t,e);var i=W(e.value),s=e.type;if(null!=i)"number"===s?(0===i&&""===t.value||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if("submit"===s||"reset"===s)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,i):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function $(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!("submit"!==s&&"reset"!==s||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}""!==(i=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==i&&(t.name=i)}function tt(t,e,i){"number"===e&&q(t.ownerDocument)===t||(null==i?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var et=Array.isArray;function it(t,e,i,s){if(t=t.options,e){e={};for(var n=0;n<i.length;n++)e["$"+i[n]]=!0;for(i=0;i<t.length;i++)n=e.hasOwnProperty("$"+t[i].value),t[i].selected!==n&&(t[i].selected=n),n&&s&&(t[i].defaultSelected=!0)}else{for(i=""+W(i),e=null,n=0;n<t.length;n++){if(t[n].value===i)return t[n].selected=!0,void(s&&(t[n].defaultSelected=!0));null!==e||t[n].disabled||(e=t[n])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(r(91));return _({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nt(t,e){var i=e.value;if(null==i){if(i=e.children,e=e.defaultValue,null!=i){if(null!=e)throw Error(r(92));if(et(i)){if(1<i.length)throw Error(r(93));i=i[0]}e=i}null==e&&(e=""),i=e}t._wrapperState={initialValue:W(i)}}function rt(t,e){var i=W(e.value),s=W(e.defaultValue);null!=i&&((i=""+i)!==t.value&&(t.value=i),null==e.defaultValue&&t.defaultValue!==i&&(t.defaultValue=i)),null!=s&&(t.defaultValue=""+s)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ht,ct,ut=(ct=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ht=ht||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ht.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,i,s){MSApp.execUnsafeLocalFunction((function(){return ct(t,e)}))}:ct);function dt(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&3===i.nodeType)return void(i.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,i){return null==e||"boolean"===typeof e||""===e?"":i||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var i in t=t.style,e)if(e.hasOwnProperty(i)){var s=0===i.indexOf("--"),n=gt(i,e[i],s);"float"===i&&(i="cssFloat"),s?t.setProperty(i,n):t[i]=n}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var yt=_({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(r(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(r(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(r(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=null;function St(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var At=null,wt=null,Ct=null;function Mt(t){if(t=bn(t)){if("function"!==typeof At)throw Error(r(280));var e=t.stateNode;e&&(e=Sn(e),At(t.stateNode,t.type,e))}}function kt(t){wt?Ct?Ct.push(t):Ct=[t]:wt=t}function Rt(){if(wt){var t=wt,e=Ct;if(Ct=wt=null,Mt(t),e)for(t=0;t<e.length;t++)Mt(e[t])}}function Et(t,e){return t(e)}function Tt(){}var It=!1;function Pt(t,e,i){if(It)return t(e,i);It=!0;try{return Et(t,e,i)}finally{It=!1,(null!==wt||null!==Ct)&&(Tt(),Rt())}}function Ft(t,e){var i=t.stateNode;if(null===i)return null;var s=Sn(i);if(null===s)return null;i=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!s;break t;default:t=!1}if(t)return null;if(i&&"function"!==typeof i)throw Error(r(231,e,typeof i));return i}var Dt=!1;if(c)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Dt=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch(ct){Dt=!1}function zt(t,e,i,s,n,r,o,a,l){var h=Array.prototype.slice.call(arguments,3);try{e.apply(i,h)}catch(c){this.onError(c)}}var Nt=!1,_t=null,Vt=!1,Bt=null,Ot={onError:function(t){Nt=!0,_t=t}};function Ut(t,e,i,s,n,r,o,a,l){Nt=!1,_t=null,zt.apply(Ot,arguments)}function Ht(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(i=e.return),t=e.return}while(t)}return 3===e.tag?i:null}function Gt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(Ht(t)!==t)throw Error(r(188))}function jt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Ht(t)))throw Error(r(188));return e!==t?null:t}for(var i=t,s=e;;){var n=i.return;if(null===n)break;var o=n.alternate;if(null===o){if(null!==(s=n.return)){i=s;continue}break}if(n.child===o.child){for(o=n.child;o;){if(o===i)return Wt(n),t;if(o===s)return Wt(n),e;o=o.sibling}throw Error(r(188))}if(i.return!==s.return)i=n,s=o;else{for(var a=!1,l=n.child;l;){if(l===i){a=!0,i=n,s=o;break}if(l===s){a=!0,s=n,i=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===i){a=!0,i=o,s=n;break}if(l===s){a=!0,s=o,i=n;break}l=l.sibling}if(!a)throw Error(r(189))}}if(i.alternate!==s)throw Error(r(190))}if(3!==i.tag)throw Error(r(188));return i.stateNode.current===i?t:e}(t))?Yt(t):null}function Yt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Yt(t);if(null!==e)return e;t=t.sibling}return null}var Xt=n.unstable_scheduleCallback,qt=n.unstable_cancelCallback,Jt=n.unstable_shouldYield,Kt=n.unstable_requestPaint,Zt=n.unstable_now,Qt=n.unstable_getCurrentPriorityLevel,$t=n.unstable_ImmediatePriority,te=n.unstable_UserBlockingPriority,ee=n.unstable_NormalPriority,ie=n.unstable_LowPriority,se=n.unstable_IdlePriority,ne=null,re=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var he=64,ce=4194304;function ue(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var i=t.pendingLanes;if(0===i)return 0;var s=0,n=t.suspendedLanes,r=t.pingedLanes,o=268435455&i;if(0!==o){var a=o&~n;0!==a?s=ue(a):0!==(r&=o)&&(s=ue(r))}else 0!==(o=i&~n)?s=ue(o):0!==r&&(s=ue(r));if(0===s)return 0;if(0!==e&&e!==s&&0===(e&n)&&((n=s&-s)>=(r=e&-e)||16===n&&0!==(4194240&r)))return e;if(0!==(4&s)&&(s|=16&i),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=s;0<e;)n=1<<(i=31-oe(e)),s|=t[i],e&=~n;return s}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=he;return 0===(4194240&(he<<=1))&&(he=64),t}function me(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function ye(t,e,i){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=i}function ve(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var s=31-oe(i),n=1<<s;n&e|t[s]&e&&(t[s]|=e),i&=~n}}var be=0;function xe(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var Se,Ae,we,Ce,Me,ke=!1,Re=[],Ee=null,Te=null,Ie=null,Pe=new Map,Fe=new Map,De=[],Le="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ze(t,e){switch(t){case"focusin":case"focusout":Ee=null;break;case"dragenter":case"dragleave":Te=null;break;case"mouseover":case"mouseout":Ie=null;break;case"pointerover":case"pointerout":Pe.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fe.delete(e.pointerId)}}function Ne(t,e,i,s,n,r){return null===t||t.nativeEvent!==r?(t={blockedOn:e,domEventName:i,eventSystemFlags:s,nativeEvent:r,targetContainers:[n]},null!==e&&(null!==(e=bn(e))&&Ae(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,null!==n&&-1===e.indexOf(n)&&e.push(n),t)}function _e(t){var e=vn(t.target);if(null!==e){var i=Ht(e);if(null!==i)if(13===(e=i.tag)){if(null!==(e=Gt(i)))return t.blockedOn=e,void Me(t.priority,(function(){we(i)}))}else if(3===e&&i.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===i.tag?i.stateNode.containerInfo:null)}t.blockedOn=null}function Ve(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var i=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==i)return null!==(e=bn(i))&&Ae(e),t.blockedOn=i,!1;var s=new(i=t.nativeEvent).constructor(i.type,i);xt=s,i.target.dispatchEvent(s),xt=null,e.shift()}return!0}function Be(t,e,i){Ve(t)&&i.delete(e)}function Oe(){ke=!1,null!==Ee&&Ve(Ee)&&(Ee=null),null!==Te&&Ve(Te)&&(Te=null),null!==Ie&&Ve(Ie)&&(Ie=null),Pe.forEach(Be),Fe.forEach(Be)}function Ue(t,e){t.blockedOn===e&&(t.blockedOn=null,ke||(ke=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Oe)))}function He(t){function e(e){return Ue(e,t)}if(0<Re.length){Ue(Re[0],t);for(var i=1;i<Re.length;i++){var s=Re[i];s.blockedOn===t&&(s.blockedOn=null)}}for(null!==Ee&&Ue(Ee,t),null!==Te&&Ue(Te,t),null!==Ie&&Ue(Ie,t),Pe.forEach(e),Fe.forEach(e),i=0;i<De.length;i++)(s=De[i]).blockedOn===t&&(s.blockedOn=null);for(;0<De.length&&null===(i=De[0]).blockedOn;)_e(i),null===i.blockedOn&&De.shift()}var Ge=x.ReactCurrentBatchConfig,We=!0;function je(t,e,i,s){var n=be,r=Ge.transition;Ge.transition=null;try{be=1,Xe(t,e,i,s)}finally{be=n,Ge.transition=r}}function Ye(t,e,i,s){var n=be,r=Ge.transition;Ge.transition=null;try{be=4,Xe(t,e,i,s)}finally{be=n,Ge.transition=r}}function Xe(t,e,i,s){if(We){var n=Je(t,e,i,s);if(null===n)Gs(t,e,s,qe,i),ze(t,s);else if(function(t,e,i,s,n){switch(e){case"focusin":return Ee=Ne(Ee,t,e,i,s,n),!0;case"dragenter":return Te=Ne(Te,t,e,i,s,n),!0;case"mouseover":return Ie=Ne(Ie,t,e,i,s,n),!0;case"pointerover":var r=n.pointerId;return Pe.set(r,Ne(Pe.get(r)||null,t,e,i,s,n)),!0;case"gotpointercapture":return r=n.pointerId,Fe.set(r,Ne(Fe.get(r)||null,t,e,i,s,n)),!0}return!1}(n,t,e,i,s))s.stopPropagation();else if(ze(t,s),4&e&&-1<Le.indexOf(t)){for(;null!==n;){var r=bn(n);if(null!==r&&Se(r),null===(r=Je(t,e,i,s))&&Gs(t,e,s,qe,i),r===n)break;n=r}null!==n&&s.stopPropagation()}else Gs(t,e,s,null,i)}}var qe=null;function Je(t,e,i,s){if(qe=null,null!==(t=vn(t=St(s))))if(null===(e=Ht(t)))t=null;else if(13===(i=e.tag)){if(null!==(t=Gt(e)))return t;t=null}else if(3===i){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qe=t,null}function Ke(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qt()){case $t:return 1;case te:return 4;case ee:case ie:return 16;case se:return 536870912;default:return 16}default:return 16}}var Ze=null,Qe=null,$e=null;function ti(){if($e)return $e;var t,e,i=Qe,s=i.length,n="value"in Ze?Ze.value:Ze.textContent,r=n.length;for(t=0;t<s&&i[t]===n[t];t++);var o=s-t;for(e=1;e<=o&&i[s-e]===n[r-e];e++);return $e=n.slice(t,1<e?1-e:void 0)}function ei(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function ii(){return!0}function si(){return!1}function ni(t){function e(e,i,s,n,r){for(var o in this._reactName=e,this._targetInst=s,this.type=i,this.nativeEvent=n,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(n):n[o]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ii:si,this.isPropagationStopped=si,this}return _(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),e}var ri,oi,ai,li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hi=ni(li),ci=_({},li,{view:0,detail:0}),ui=ni(ci),di=_({},ci,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ci,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ai&&(ai&&"mousemove"===t.type?(ri=t.screenX-ai.screenX,oi=t.screenY-ai.screenY):oi=ri=0,ai=t),ri)},movementY:function(t){return"movementY"in t?t.movementY:oi}}),fi=ni(di),pi=ni(_({},di,{dataTransfer:0})),gi=ni(_({},ci,{relatedTarget:0})),mi=ni(_({},li,{animationName:0,elapsedTime:0,pseudoElement:0})),yi=_({},li,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vi=ni(yi),bi=ni(_({},li,{data:0})),xi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Si={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ai={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wi(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Ai[t])&&!!e[t]}function Ci(){return wi}var Mi=_({},ci,{key:function(t){if(t.key){var e=xi[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=ei(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Si[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ci,charCode:function(t){return"keypress"===t.type?ei(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?ei(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),ki=ni(Mi),Ri=ni(_({},di,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ei=ni(_({},ci,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ci})),Ti=ni(_({},li,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ii=_({},di,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pi=ni(Ii),Fi=[9,13,27,32],Di=c&&"CompositionEvent"in window,Li=null;c&&"documentMode"in document&&(Li=document.documentMode);var zi=c&&"TextEvent"in window&&!Li,Ni=c&&(!Di||Li&&8<Li&&11>=Li),_i=String.fromCharCode(32),Vi=!1;function Bi(t,e){switch(t){case"keyup":return-1!==Fi.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oi(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Ui=!1;var Hi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gi(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hi[t.type]:"textarea"===e}function Wi(t,e,i,s){kt(s),0<(e=js(e,"onChange")).length&&(i=new hi("onChange","change",null,i,s),t.push({event:i,listeners:e}))}var ji=null,Yi=null;function Xi(t){_s(t,0)}function qi(t){if(X(xn(t)))return t}function Ji(t,e){if("change"===t)return e}var Ki=!1;if(c){var Zi;if(c){var Qi="oninput"in document;if(!Qi){var $i=document.createElement("div");$i.setAttribute("oninput","return;"),Qi="function"===typeof $i.oninput}Zi=Qi}else Zi=!1;Ki=Zi&&(!document.documentMode||9<document.documentMode)}function ts(){ji&&(ji.detachEvent("onpropertychange",es),Yi=ji=null)}function es(t){if("value"===t.propertyName&&qi(Yi)){var e=[];Wi(e,Yi,t,St(t)),Pt(Xi,e)}}function is(t,e,i){"focusin"===t?(ts(),Yi=i,(ji=e).attachEvent("onpropertychange",es)):"focusout"===t&&ts()}function ss(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return qi(Yi)}function ns(t,e){if("click"===t)return qi(e)}function rs(t,e){if("input"===t||"change"===t)return qi(e)}var os="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function as(t,e){if(os(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var i=Object.keys(t),s=Object.keys(e);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var n=i[s];if(!u.call(e,n)||!os(t[n],e[n]))return!1}return!0}function ls(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hs(t,e){var i,s=ls(t);for(t=0;s;){if(3===s.nodeType){if(i=t+s.textContent.length,t<=e&&i>=e)return{node:s,offset:e-t};t=i}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=ls(s)}}function cs(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?cs(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function us(){for(var t=window,e=q();e instanceof t.HTMLIFrameElement;){try{var i="string"===typeof e.contentWindow.location.href}catch(s){i=!1}if(!i)break;e=q((t=e.contentWindow).document)}return e}function ds(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function fs(t){var e=us(),i=t.focusedElem,s=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&cs(i.ownerDocument.documentElement,i)){if(null!==s&&ds(i))if(e=s.start,void 0===(t=s.end)&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if((t=(e=i.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var n=i.textContent.length,r=Math.min(s.start,n);s=void 0===s.end?r:Math.min(s.end,n),!t.extend&&r>s&&(n=s,s=r,r=n),n=hs(i,r);var o=hs(i,s);n&&o&&(1!==t.rangeCount||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(n.node,n.offset),t.removeAllRanges(),r>s?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=i;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof i.focus&&i.focus(),i=0;i<e.length;i++)(t=e[i]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ps=c&&"documentMode"in document&&11>=document.documentMode,gs=null,ms=null,ys=null,vs=!1;function bs(t,e,i){var s=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;vs||null==gs||gs!==q(s)||("selectionStart"in(s=gs)&&ds(s)?s={start:s.selectionStart,end:s.selectionEnd}:s={anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},ys&&as(ys,s)||(ys=s,0<(s=js(ms,"onSelect")).length&&(e=new hi("onSelect","select",null,e,i),t.push({event:e,listeners:s}),e.target=gs)))}function xs(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Ss={animationend:xs("Animation","AnimationEnd"),animationiteration:xs("Animation","AnimationIteration"),animationstart:xs("Animation","AnimationStart"),transitionend:xs("Transition","TransitionEnd")},As={},ws={};function Cs(t){if(As[t])return As[t];if(!Ss[t])return t;var e,i=Ss[t];for(e in i)if(i.hasOwnProperty(e)&&e in ws)return As[t]=i[e];return t}c&&(ws=document.createElement("div").style,"AnimationEvent"in window||(delete Ss.animationend.animation,delete Ss.animationiteration.animation,delete Ss.animationstart.animation),"TransitionEvent"in window||delete Ss.transitionend.transition);var Ms=Cs("animationend"),ks=Cs("animationiteration"),Rs=Cs("animationstart"),Es=Cs("transitionend"),Ts=new Map,Is="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ps(t,e){Ts.set(t,e),l(e,[t])}for(var Fs=0;Fs<Is.length;Fs++){var Ds=Is[Fs];Ps(Ds.toLowerCase(),"on"+(Ds[0].toUpperCase()+Ds.slice(1)))}Ps(Ms,"onAnimationEnd"),Ps(ks,"onAnimationIteration"),Ps(Rs,"onAnimationStart"),Ps("dblclick","onDoubleClick"),Ps("focusin","onFocus"),Ps("focusout","onBlur"),Ps(Es,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zs=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function Ns(t,e,i){var s=t.type||"unknown-event";t.currentTarget=i,function(t,e,i,s,n,o,a,l,h){if(Ut.apply(this,arguments),Nt){if(!Nt)throw Error(r(198));var c=_t;Nt=!1,_t=null,Vt||(Vt=!0,Bt=c)}}(s,e,void 0,t),t.currentTarget=null}function _s(t,e){e=0!==(4&e);for(var i=0;i<t.length;i++){var s=t[i],n=s.event;s=s.listeners;t:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,h=a.currentTarget;if(a=a.listener,l!==r&&n.isPropagationStopped())break t;Ns(n,a,h),r=l}else for(o=0;o<s.length;o++){if(l=(a=s[o]).instance,h=a.currentTarget,a=a.listener,l!==r&&n.isPropagationStopped())break t;Ns(n,a,h),r=l}}}if(Vt)throw t=Bt,Vt=!1,Bt=null,t}function Vs(t,e){var i=e[gn];void 0===i&&(i=e[gn]=new Set);var s=t+"__bubble";i.has(s)||(Hs(e,t,2,!1),i.add(s))}function Bs(t,e,i){var s=0;e&&(s|=4),Hs(i,t,s,e)}var Os="_reactListening"+Math.random().toString(36).slice(2);function Us(t){if(!t[Os]){t[Os]=!0,o.forEach((function(e){"selectionchange"!==e&&(zs.has(e)||Bs(e,!1,t),Bs(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[Os]||(e[Os]=!0,Bs("selectionchange",!1,e))}}function Hs(t,e,i,s){switch(Ke(e)){case 1:var n=je;break;case 4:n=Ye;break;default:n=Xe}i=n.bind(null,e,i,t),n=void 0,!Dt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(n=!0),s?void 0!==n?t.addEventListener(e,i,{capture:!0,passive:n}):t.addEventListener(e,i,!0):void 0!==n?t.addEventListener(e,i,{passive:n}):t.addEventListener(e,i,!1)}function Gs(t,e,i,s,n){var r=s;if(0===(1&e)&&0===(2&e)&&null!==s)t:for(;;){if(null===s)return;var o=s.tag;if(3===o||4===o){var a=s.stateNode.containerInfo;if(a===n||8===a.nodeType&&a.parentNode===n)break;if(4===o)for(o=s.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===n||8===l.nodeType&&l.parentNode===n))return;o=o.return}for(;null!==a;){if(null===(o=vn(a)))return;if(5===(l=o.tag)||6===l){s=r=o;continue t}a=a.parentNode}}s=s.return}Pt((function(){var s=r,n=St(i),o=[];t:{var a=Ts.get(t);if(void 0!==a){var l=hi,h=t;switch(t){case"keypress":if(0===ei(i))break t;case"keydown":case"keyup":l=ki;break;case"focusin":h="focus",l=gi;break;case"focusout":h="blur",l=gi;break;case"beforeblur":case"afterblur":l=gi;break;case"click":if(2===i.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ei;break;case Ms:case ks:case Rs:l=mi;break;case Es:l=Ti;break;case"scroll":l=ui;break;case"wheel":l=Pi;break;case"copy":case"cut":case"paste":l=vi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Ri}var c=0!==(4&e),u=!c&&"scroll"===t,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=s;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Ft(p,d))&&c.push(Ws(p,g,f)))),u)break;p=p.return}0<c.length&&(a=new l(a,h,null,i,n),o.push({event:a,listeners:c}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||i===xt||!(h=i.relatedTarget||i.fromElement)||!vn(h)&&!h[pn])&&(l||a)&&(a=n.window===n?n:(a=n.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=s,null!==(h=(h=i.relatedTarget||i.toElement)?vn(h):null)&&(h!==(u=Ht(h))||5!==h.tag&&6!==h.tag)&&(h=null)):(l=null,h=s),l!==h)){if(c=fi,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Ri,g="onPointerLeave",d="onPointerEnter",p="pointer"),u=null==l?a:xn(l),f=null==h?a:xn(h),(a=new c(g,p+"leave",l,i,n)).target=u,a.relatedTarget=f,g=null,vn(n)===s&&((c=new c(d,p+"enter",h,i,n)).target=f,c.relatedTarget=u,g=c),u=g,l&&h)t:{for(d=h,p=0,f=c=l;f;f=Ys(f))p++;for(f=0,g=d;g;g=Ys(g))f++;for(;0<p-f;)c=Ys(c),p--;for(;0<f-p;)d=Ys(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break t;c=Ys(c),d=Ys(d)}c=null}else c=null;null!==l&&Xs(o,a,l,c,!1),null!==h&&null!==u&&Xs(o,u,h,c,!0)}if("select"===(l=(a=s?xn(s):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Ji;else if(Gi(a))if(Ki)m=rs;else{m=ss;var y=is}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=ns);switch(m&&(m=m(t,s))?Wi(o,m,i,n):(y&&y(t,a,s),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&tt(a,"number",a.value)),y=s?xn(s):window,t){case"focusin":(Gi(y)||"true"===y.contentEditable)&&(gs=y,ms=s,ys=null);break;case"focusout":ys=ms=gs=null;break;case"mousedown":vs=!0;break;case"contextmenu":case"mouseup":case"dragend":vs=!1,bs(o,i,n);break;case"selectionchange":if(ps)break;case"keydown":case"keyup":bs(o,i,n)}var v;if(Di)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Ui?Bi(t,i)&&(b="onCompositionEnd"):"keydown"===t&&229===i.keyCode&&(b="onCompositionStart");b&&(Ni&&"ko"!==i.locale&&(Ui||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ui&&(v=ti()):(Qe="value"in(Ze=n)?Ze.value:Ze.textContent,Ui=!0)),0<(y=js(s,b)).length&&(b=new bi(b,t,null,i,n),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=Oi(i))&&(b.data=v))),(v=zi?function(t,e){switch(t){case"compositionend":return Oi(e);case"keypress":return 32!==e.which?null:(Vi=!0,_i);case"textInput":return(t=e.data)===_i&&Vi?null:t;default:return null}}(t,i):function(t,e){if(Ui)return"compositionend"===t||!Di&&Bi(t,e)?(t=ti(),$e=Qe=Ze=null,Ui=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ni&&"ko"!==e.locale?null:e.data}}(t,i))&&(0<(s=js(s,"onBeforeInput")).length&&(n=new bi("onBeforeInput","beforeinput",null,i,n),o.push({event:n,listeners:s}),n.data=v))}_s(o,e)}))}function Ws(t,e,i){return{instance:t,listener:e,currentTarget:i}}function js(t,e){for(var i=e+"Capture",s=[];null!==t;){var n=t,r=n.stateNode;5===n.tag&&null!==r&&(n=r,null!=(r=Ft(t,i))&&s.unshift(Ws(t,r,n)),null!=(r=Ft(t,e))&&s.push(Ws(t,r,n))),t=t.return}return s}function Ys(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Xs(t,e,i,s,n){for(var r=e._reactName,o=[];null!==i&&i!==s;){var a=i,l=a.alternate,h=a.stateNode;if(null!==l&&l===s)break;5===a.tag&&null!==h&&(a=h,n?null!=(l=Ft(i,r))&&o.unshift(Ws(i,l,a)):n||null!=(l=Ft(i,r))&&o.push(Ws(i,l,a))),i=i.return}0!==o.length&&t.push({event:e,listeners:o})}var qs=/\r\n?/g,Js=/\u0000|\uFFFD/g;function Ks(t){return("string"===typeof t?t:""+t).replace(qs,"\n").replace(Js,"")}function Zs(t,e,i){if(e=Ks(e),Ks(t)!==e&&i)throw Error(r(425))}function Qs(){}var $s=null,tn=null;function en(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var sn="function"===typeof setTimeout?setTimeout:void 0,nn="function"===typeof clearTimeout?clearTimeout:void 0,rn="function"===typeof Promise?Promise:void 0,on="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof rn?function(t){return rn.resolve(null).then(t).catch(an)}:sn;function an(t){setTimeout((function(){throw t}))}function ln(t,e){var i=e,s=0;do{var n=i.nextSibling;if(t.removeChild(i),n&&8===n.nodeType)if("/$"===(i=n.data)){if(0===s)return t.removeChild(n),void He(e);s--}else"$"!==i&&"$?"!==i&&"$!"!==i||s++;i=n}while(i);He(e)}function hn(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function cn(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var i=t.data;if("$"===i||"$!"===i||"$?"===i){if(0===e)return t;e--}else"/$"===i&&e++}t=t.previousSibling}return null}var un=Math.random().toString(36).slice(2),dn="__reactFiber$"+un,fn="__reactProps$"+un,pn="__reactContainer$"+un,gn="__reactEvents$"+un,mn="__reactListeners$"+un,yn="__reactHandles$"+un;function vn(t){var e=t[dn];if(e)return e;for(var i=t.parentNode;i;){if(e=i[pn]||i[dn]){if(i=e.alternate,null!==e.child||null!==i&&null!==i.child)for(t=cn(t);null!==t;){if(i=t[dn])return i;t=cn(t)}return e}i=(t=i).parentNode}return null}function bn(t){return!(t=t[dn]||t[pn])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function xn(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(r(33))}function Sn(t){return t[fn]||null}var An=[],wn=-1;function Cn(t){return{current:t}}function Mn(t){0>wn||(t.current=An[wn],An[wn]=null,wn--)}function kn(t,e){wn++,An[wn]=t.current,t.current=e}var Rn={},En=Cn(Rn),Tn=Cn(!1),In=Rn;function Pn(t,e){var i=t.type.contextTypes;if(!i)return Rn;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var n,r={};for(n in i)r[n]=e[n];return s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function Fn(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Dn(){Mn(Tn),Mn(En)}function Ln(t,e,i){if(En.current!==Rn)throw Error(r(168));kn(En,e),kn(Tn,i)}function zn(t,e,i){var s=t.stateNode;if(e=e.childContextTypes,"function"!==typeof s.getChildContext)return i;for(var n in s=s.getChildContext())if(!(n in e))throw Error(r(108,G(t)||"Unknown",n));return _({},i,s)}function Nn(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Rn,In=En.current,kn(En,t),kn(Tn,Tn.current),!0}function _n(t,e,i){var s=t.stateNode;if(!s)throw Error(r(169));i?(t=zn(t,e,In),s.__reactInternalMemoizedMergedChildContext=t,Mn(Tn),Mn(En),kn(En,t)):Mn(Tn),kn(Tn,i)}var Vn=null,Bn=!1,On=!1;function Un(t){null===Vn?Vn=[t]:Vn.push(t)}function Hn(){if(!On&&null!==Vn){On=!0;var t=0,e=be;try{var i=Vn;for(be=1;t<i.length;t++){var s=i[t];do{s=s(!0)}while(null!==s)}Vn=null,Bn=!1}catch(n){throw null!==Vn&&(Vn=Vn.slice(t+1)),Xt($t,Hn),n}finally{be=e,On=!1}}return null}var Gn=[],Wn=0,jn=null,Yn=0,Xn=[],qn=0,Jn=null,Kn=1,Zn="";function Qn(t,e){Gn[Wn++]=Yn,Gn[Wn++]=jn,jn=t,Yn=e}function $n(t,e,i){Xn[qn++]=Kn,Xn[qn++]=Zn,Xn[qn++]=Jn,Jn=t;var s=Kn;t=Zn;var n=32-oe(s)-1;s&=~(1<<n),i+=1;var r=32-oe(e)+n;if(30<r){var o=n-n%5;r=(s&(1<<o)-1).toString(32),s>>=o,n-=o,Kn=1<<32-oe(e)+n|i<<n|s,Zn=r+t}else Kn=1<<r|i<<n|s,Zn=t}function tr(t){null!==t.return&&(Qn(t,1),$n(t,1,0))}function er(t){for(;t===jn;)jn=Gn[--Wn],Gn[Wn]=null,Yn=Gn[--Wn],Gn[Wn]=null;for(;t===Jn;)Jn=Xn[--qn],Xn[qn]=null,Zn=Xn[--qn],Xn[qn]=null,Kn=Xn[--qn],Xn[qn]=null}var ir=null,sr=null,nr=!1,rr=null;function or(t,e){var i=Ph(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,null===(e=t.deletions)?(t.deletions=[i],t.flags|=16):e.push(i)}function ar(t,e){switch(t.tag){case 5:var i=t.type;return null!==(e=1!==e.nodeType||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ir=t,sr=hn(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ir=t,sr=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(i=null!==Jn?{id:Kn,overflow:Zn}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},(i=Ph(18,null,null,0)).stateNode=e,i.return=t,t.child=i,ir=t,sr=null,!0);default:return!1}}function lr(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function hr(t){if(nr){var e=sr;if(e){var i=e;if(!ar(t,e)){if(lr(t))throw Error(r(418));e=hn(i.nextSibling);var s=ir;e&&ar(t,e)?or(s,i):(t.flags=-4097&t.flags|2,nr=!1,ir=t)}}else{if(lr(t))throw Error(r(418));t.flags=-4097&t.flags|2,nr=!1,ir=t}}}function cr(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ir=t}function ur(t){if(t!==ir)return!1;if(!nr)return cr(t),nr=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!en(t.type,t.memoizedProps)),e&&(e=sr)){if(lr(t))throw dr(),Error(r(418));for(;e;)or(t,e),e=hn(e.nextSibling)}if(cr(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(r(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var i=t.data;if("/$"===i){if(0===e){sr=hn(t.nextSibling);break t}e--}else"$"!==i&&"$!"!==i&&"$?"!==i||e++}t=t.nextSibling}sr=null}}else sr=ir?hn(t.stateNode.nextSibling):null;return!0}function dr(){for(var t=sr;t;)t=hn(t.nextSibling)}function fr(){sr=ir=null,nr=!1}function pr(t){null===rr?rr=[t]:rr.push(t)}var gr=x.ReactCurrentBatchConfig;function mr(t,e,i){if(null!==(t=i.ref)&&"function"!==typeof t&&"object"!==typeof t){if(i._owner){if(i=i._owner){if(1!==i.tag)throw Error(r(309));var s=i.stateNode}if(!s)throw Error(r(147,t));var n=s,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=n.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(r(284));if(!i._owner)throw Error(r(290,t))}return t}function yr(t,e){throw t=Object.prototype.toString.call(e),Error(r(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vr(t){return(0,t._init)(t._payload)}function br(t){function e(e,i){if(t){var s=e.deletions;null===s?(e.deletions=[i],e.flags|=16):s.push(i)}}function i(i,s){if(!t)return null;for(;null!==s;)e(i,s),s=s.sibling;return null}function s(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function n(t,e){return(t=Dh(t,e)).index=0,t.sibling=null,t}function o(e,i,s){return e.index=s,t?null!==(s=e.alternate)?(s=s.index)<i?(e.flags|=2,i):s:(e.flags|=2,i):(e.flags|=1048576,i)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,i,s){return null===e||6!==e.tag?((e=_h(i,t.mode,s)).return=t,e):((e=n(e,i)).return=t,e)}function h(t,e,i,s){var r=i.type;return r===w?u(t,e,i.props.children,s,i.key):null!==e&&(e.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===F&&vr(r)===e.type)?((s=n(e,i.props)).ref=mr(t,e,i),s.return=t,s):((s=Lh(i.type,i.key,i.props,null,t.mode,s)).ref=mr(t,e,i),s.return=t,s)}function c(t,e,i,s){return null===e||4!==e.tag||e.stateNode.containerInfo!==i.containerInfo||e.stateNode.implementation!==i.implementation?((e=Vh(i,t.mode,s)).return=t,e):((e=n(e,i.children||[])).return=t,e)}function u(t,e,i,s,r){return null===e||7!==e.tag?((e=zh(i,t.mode,s,r)).return=t,e):((e=n(e,i)).return=t,e)}function d(t,e,i){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=_h(""+e,t.mode,i)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case S:return(i=Lh(e.type,e.key,e.props,null,t.mode,i)).ref=mr(t,null,e),i.return=t,i;case A:return(e=Vh(e,t.mode,i)).return=t,e;case F:return d(t,(0,e._init)(e._payload),i)}if(et(e)||z(e))return(e=zh(e,t.mode,i,null)).return=t,e;yr(t,e)}return null}function f(t,e,i,s){var n=null!==e?e.key:null;if("string"===typeof i&&""!==i||"number"===typeof i)return null!==n?null:l(t,e,""+i,s);if("object"===typeof i&&null!==i){switch(i.$$typeof){case S:return i.key===n?h(t,e,i,s):null;case A:return i.key===n?c(t,e,i,s):null;case F:return f(t,e,(n=i._init)(i._payload),s)}if(et(i)||z(i))return null!==n?null:u(t,e,i,s,null);yr(t,i)}return null}function p(t,e,i,s,n){if("string"===typeof s&&""!==s||"number"===typeof s)return l(e,t=t.get(i)||null,""+s,n);if("object"===typeof s&&null!==s){switch(s.$$typeof){case S:return h(e,t=t.get(null===s.key?i:s.key)||null,s,n);case A:return c(e,t=t.get(null===s.key?i:s.key)||null,s,n);case F:return p(t,e,i,(0,s._init)(s._payload),n)}if(et(s)||z(s))return u(e,t=t.get(i)||null,s,n,null);yr(e,s)}return null}function g(n,r,a,l){for(var h=null,c=null,u=r,g=r=0,m=null;null!==u&&g<a.length;g++){u.index>g?(m=u,u=null):m=u.sibling;var y=f(n,u,a[g],l);if(null===y){null===u&&(u=m);break}t&&u&&null===y.alternate&&e(n,u),r=o(y,r,g),null===c?h=y:c.sibling=y,c=y,u=m}if(g===a.length)return i(n,u),nr&&Qn(n,g),h;if(null===u){for(;g<a.length;g++)null!==(u=d(n,a[g],l))&&(r=o(u,r,g),null===c?h=u:c.sibling=u,c=u);return nr&&Qn(n,g),h}for(u=s(n,u);g<a.length;g++)null!==(m=p(u,n,g,a[g],l))&&(t&&null!==m.alternate&&u.delete(null===m.key?g:m.key),r=o(m,r,g),null===c?h=m:c.sibling=m,c=m);return t&&u.forEach((function(t){return e(n,t)})),nr&&Qn(n,g),h}function m(n,a,l,h){var c=z(l);if("function"!==typeof c)throw Error(r(150));if(null==(l=c.call(l)))throw Error(r(151));for(var u=c=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(n,g,v.value,h);if(null===b){null===g&&(g=y);break}t&&g&&null===b.alternate&&e(n,g),a=o(b,a,m),null===u?c=b:u.sibling=b,u=b,g=y}if(v.done)return i(n,g),nr&&Qn(n,m),c;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(n,v.value,h))&&(a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return nr&&Qn(n,m),c}for(g=s(n,g);!v.done;m++,v=l.next())null!==(v=p(g,n,m,v.value,h))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return t&&g.forEach((function(t){return e(n,t)})),nr&&Qn(n,m),c}return function t(s,r,o,l){if("object"===typeof o&&null!==o&&o.type===w&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case S:t:{for(var h=o.key,c=r;null!==c;){if(c.key===h){if((h=o.type)===w){if(7===c.tag){i(s,c.sibling),(r=n(c,o.props.children)).return=s,s=r;break t}}else if(c.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===F&&vr(h)===c.type){i(s,c.sibling),(r=n(c,o.props)).ref=mr(s,c,o),r.return=s,s=r;break t}i(s,c);break}e(s,c),c=c.sibling}o.type===w?((r=zh(o.props.children,s.mode,l,o.key)).return=s,s=r):((l=Lh(o.type,o.key,o.props,null,s.mode,l)).ref=mr(s,r,o),l.return=s,s=l)}return a(s);case A:t:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){i(s,r.sibling),(r=n(r,o.children||[])).return=s,s=r;break t}i(s,r);break}e(s,r),r=r.sibling}(r=Vh(o,s.mode,l)).return=s,s=r}return a(s);case F:return t(s,r,(c=o._init)(o._payload),l)}if(et(o))return g(s,r,o,l);if(z(o))return m(s,r,o,l);yr(s,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==r&&6===r.tag?(i(s,r.sibling),(r=n(r,o)).return=s,s=r):(i(s,r),(r=_h(o,s.mode,l)).return=s,s=r),a(s)):i(s,r)}}var xr=br(!0),Sr=br(!1),Ar=Cn(null),wr=null,Cr=null,Mr=null;function kr(){Mr=Cr=wr=null}function Rr(t){var e=Ar.current;Mn(Ar),t._currentValue=e}function Er(t,e,i){for(;null!==t;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==s&&(s.childLanes|=e)):null!==s&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===i)break;t=t.return}}function Tr(t,e){wr=t,Mr=Cr=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ba=!0),t.firstContext=null)}function Ir(t){var e=t._currentValue;if(Mr!==t)if(t={context:t,memoizedValue:e,next:null},null===Cr){if(null===wr)throw Error(r(308));Cr=t,wr.dependencies={lanes:0,firstContext:t}}else Cr=Cr.next=t;return e}var Pr=null;function Fr(t){null===Pr?Pr=[t]:Pr.push(t)}function Dr(t,e,i,s){var n=e.interleaved;return null===n?(i.next=i,Fr(e)):(i.next=n.next,n.next=i),e.interleaved=i,Lr(t,s)}function Lr(t,e){t.lanes|=e;var i=t.alternate;for(null!==i&&(i.lanes|=e),i=t,t=t.return;null!==t;)t.childLanes|=e,null!==(i=t.alternate)&&(i.childLanes|=e),i=t,t=t.return;return 3===i.tag?i.stateNode:null}var zr=!1;function Nr(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _r(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Br(t,e,i){var s=t.updateQueue;if(null===s)return null;if(s=s.shared,0!==(2&El)){var n=s.pending;return null===n?e.next=e:(e.next=n.next,n.next=e),s.pending=e,Lr(t,i)}return null===(n=s.interleaved)?(e.next=e,Fr(s)):(e.next=n.next,n.next=e),s.interleaved=e,Lr(t,i)}function Or(t,e,i){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&i))){var s=e.lanes;i|=s&=t.pendingLanes,e.lanes=i,ve(t,i)}}function Ur(t,e){var i=t.updateQueue,s=t.alternate;if(null!==s&&i===(s=s.updateQueue)){var n=null,r=null;if(null!==(i=i.firstBaseUpdate)){do{var o={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};null===r?n=r=o:r=r.next=o,i=i.next}while(null!==i);null===r?n=r=e:r=r.next=e}else n=r=e;return i={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:r,shared:s.shared,effects:s.effects},void(t.updateQueue=i)}null===(t=i.lastBaseUpdate)?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function Hr(t,e,i,s){var n=t.updateQueue;zr=!1;var r=n.firstBaseUpdate,o=n.lastBaseUpdate,a=n.shared.pending;if(null!==a){n.shared.pending=null;var l=a,h=l.next;l.next=null,null===o?r=h:o.next=h,o=l;var c=t.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=h:a.next=h,c.lastBaseUpdate=l))}if(null!==r){var u=n.baseState;for(o=0,c=h=l=null,a=r;;){var d=a.lane,f=a.eventTime;if((s&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(d=e,f=i,g.tag){case 1:if("function"===typeof(p=g.payload)){u=p.call(f,u,d);break t}u=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,u,d):p)||void 0===d)break t;u=_({},u,d);break t;case 2:zr=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=n.effects)?n.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(h=c=f,l=u):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=n.shared.pending))break;a=(d=a).next,d.next=null,n.lastBaseUpdate=d,n.shared.pending=null}}if(null===c&&(l=u),n.baseState=l,n.firstBaseUpdate=h,n.lastBaseUpdate=c,null!==(e=n.shared.interleaved)){n=e;do{o|=n.lane,n=n.next}while(n!==e)}else null===r&&(n.shared.lanes=0);Nl|=o,t.lanes=o,t.memoizedState=u}}function Gr(t,e,i){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var s=t[e],n=s.callback;if(null!==n){if(s.callback=null,s=i,"function"!==typeof n)throw Error(r(191,n));n.call(s)}}}var Wr={},jr=Cn(Wr),Yr=Cn(Wr),Xr=Cn(Wr);function qr(t){if(t===Wr)throw Error(r(174));return t}function Jr(t,e){switch(kn(Xr,e),kn(Yr,t),kn(jr,Wr),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Mn(jr),kn(jr,e)}function Kr(){Mn(jr),Mn(Yr),Mn(Xr)}function Zr(t){qr(Xr.current);var e=qr(jr.current),i=lt(e,t.type);e!==i&&(kn(Yr,t),kn(jr,i))}function Qr(t){Yr.current===t&&(Mn(jr),Mn(Yr))}var $r=Cn(0);function to(t){for(var e=t;null!==e;){if(13===e.tag){var i=e.memoizedState;if(null!==i&&(null===(i=i.dehydrated)||"$?"===i.data||"$!"===i.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eo=[];function io(){for(var t=0;t<eo.length;t++)eo[t]._workInProgressVersionPrimary=null;eo.length=0}var so=x.ReactCurrentDispatcher,no=x.ReactCurrentBatchConfig,ro=0,oo=null,ao=null,lo=null,ho=!1,co=!1,uo=0,fo=0;function po(){throw Error(r(321))}function go(t,e){if(null===e)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!os(t[i],e[i]))return!1;return!0}function mo(t,e,i,s,n,o){if(ro=o,oo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,so.current=null===t||null===t.memoizedState?$o:ta,t=i(s,n),co){o=0;do{if(co=!1,uo=0,25<=o)throw Error(r(301));o+=1,lo=ao=null,e.updateQueue=null,so.current=ea,t=i(s,n)}while(co)}if(so.current=Qo,e=null!==ao&&null!==ao.next,ro=0,lo=ao=oo=null,ho=!1,e)throw Error(r(300));return t}function yo(){var t=0!==uo;return uo=0,t}function vo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=t:lo=lo.next=t,lo}function bo(){if(null===ao){var t=oo.alternate;t=null!==t?t.memoizedState:null}else t=ao.next;var e=null===lo?oo.memoizedState:lo.next;if(null!==e)lo=e,ao=t;else{if(null===t)throw Error(r(310));t={memoizedState:(ao=t).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=t:lo=lo.next=t}return lo}function xo(t,e){return"function"===typeof e?e(t):e}function So(t){var e=bo(),i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=t;var s=ao,n=s.baseQueue,o=i.pending;if(null!==o){if(null!==n){var a=n.next;n.next=o.next,o.next=a}s.baseQueue=n=o,i.pending=null}if(null!==n){o=n.next,s=s.baseState;var l=a=null,h=null,c=o;do{var u=c.lane;if((ro&u)===u)null!==h&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),s=c.hasEagerState?c.eagerState:t(s,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===h?(l=h=d,a=s):h=h.next=d,oo.lanes|=u,Nl|=u}c=c.next}while(null!==c&&c!==o);null===h?a=s:h.next=l,os(s,e.memoizedState)||(ba=!0),e.memoizedState=s,e.baseState=a,e.baseQueue=h,i.lastRenderedState=s}if(null!==(t=i.interleaved)){n=t;do{o=n.lane,oo.lanes|=o,Nl|=o,n=n.next}while(n!==t)}else null===n&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function Ao(t){var e=bo(),i=e.queue;if(null===i)throw Error(r(311));i.lastRenderedReducer=t;var s=i.dispatch,n=i.pending,o=e.memoizedState;if(null!==n){i.pending=null;var a=n=n.next;do{o=t(o,a.action),a=a.next}while(a!==n);os(o,e.memoizedState)||(ba=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),i.lastRenderedState=o}return[o,s]}function wo(){}function Co(t,e){var i=oo,s=bo(),n=e(),o=!os(s.memoizedState,n);if(o&&(s.memoizedState=n,ba=!0),s=s.queue,No(Ro.bind(null,i,s,t),[t]),s.getSnapshot!==e||o||null!==lo&&1&lo.memoizedState.tag){if(i.flags|=2048,Po(9,ko.bind(null,i,s,n,e),void 0,null),null===Tl)throw Error(r(349));0!==(30&ro)||Mo(i,e,n)}return n}function Mo(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.stores=[t]):null===(i=e.stores)?e.stores=[t]:i.push(t)}function ko(t,e,i,s){e.value=i,e.getSnapshot=s,Eo(e)&&To(t)}function Ro(t,e,i){return i((function(){Eo(e)&&To(t)}))}function Eo(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!os(t,i)}catch(s){return!0}}function To(t){var e=Lr(t,1);null!==e&&ih(e,t,1,-1)}function Io(t){var e=vo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:t},e.queue=t,t=t.dispatch=qo.bind(null,oo,t),[e.memoizedState,t]}function Po(t,e,i,s){return t={tag:t,create:e,destroy:i,deps:s,next:null},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.lastEffect=t.next=t):null===(i=e.lastEffect)?e.lastEffect=t.next=t:(s=i.next,i.next=t,t.next=s,e.lastEffect=t),t}function Fo(){return bo().memoizedState}function Do(t,e,i,s){var n=vo();oo.flags|=t,n.memoizedState=Po(1|e,i,void 0,void 0===s?null:s)}function Lo(t,e,i,s){var n=bo();s=void 0===s?null:s;var r=void 0;if(null!==ao){var o=ao.memoizedState;if(r=o.destroy,null!==s&&go(s,o.deps))return void(n.memoizedState=Po(e,i,r,s))}oo.flags|=t,n.memoizedState=Po(1|e,i,r,s)}function zo(t,e){return Do(8390656,8,t,e)}function No(t,e){return Lo(2048,8,t,e)}function _o(t,e){return Lo(4,2,t,e)}function Vo(t,e){return Lo(4,4,t,e)}function Bo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Oo(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Lo(4,4,Bo.bind(null,e,t),i)}function Uo(){}function Ho(t,e){var i=bo();e=void 0===e?null:e;var s=i.memoizedState;return null!==s&&null!==e&&go(e,s[1])?s[0]:(i.memoizedState=[t,e],t)}function Go(t,e){var i=bo();e=void 0===e?null:e;var s=i.memoizedState;return null!==s&&null!==e&&go(e,s[1])?s[0]:(t=t(),i.memoizedState=[t,e],t)}function Wo(t,e,i){return 0===(21&ro)?(t.baseState&&(t.baseState=!1,ba=!0),t.memoizedState=i):(os(i,e)||(i=ge(),oo.lanes|=i,Nl|=i,t.baseState=!0),e)}function jo(t,e){var i=be;be=0!==i&&4>i?i:4,t(!0);var s=no.transition;no.transition={};try{t(!1),e()}finally{be=i,no.transition=s}}function Yo(){return bo().memoizedState}function Xo(t,e,i){var s=eh(t);if(i={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null},Jo(t))Ko(e,i);else if(null!==(i=Dr(t,e,i,s))){ih(i,t,s,th()),Zo(i,e,s)}}function qo(t,e,i){var s=eh(t),n={lane:s,action:i,hasEagerState:!1,eagerState:null,next:null};if(Jo(t))Ko(e,n);else{var r=t.alternate;if(0===t.lanes&&(null===r||0===r.lanes)&&null!==(r=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=r(o,i);if(n.hasEagerState=!0,n.eagerState=a,os(a,o)){var l=e.interleaved;return null===l?(n.next=n,Fr(e)):(n.next=l.next,l.next=n),void(e.interleaved=n)}}catch(h){}null!==(i=Dr(t,e,n,s))&&(ih(i,t,s,n=th()),Zo(i,e,s))}}function Jo(t){var e=t.alternate;return t===oo||null!==e&&e===oo}function Ko(t,e){co=ho=!0;var i=t.pending;null===i?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function Zo(t,e,i){if(0!==(4194240&i)){var s=e.lanes;i|=s&=t.pendingLanes,e.lanes=i,ve(t,i)}}var Qo={readContext:Ir,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},$o={readContext:Ir,useCallback:function(t,e){return vo().memoizedState=[t,void 0===e?null:e],t},useContext:Ir,useEffect:zo,useImperativeHandle:function(t,e,i){return i=null!==i&&void 0!==i?i.concat([t]):null,Do(4194308,4,Bo.bind(null,e,t),i)},useLayoutEffect:function(t,e){return Do(4194308,4,t,e)},useInsertionEffect:function(t,e){return Do(4,2,t,e)},useMemo:function(t,e){var i=vo();return e=void 0===e?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var s=vo();return e=void 0!==i?i(e):e,s.memoizedState=s.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},s.queue=t,t=t.dispatch=Xo.bind(null,oo,t),[s.memoizedState,t]},useRef:function(t){return t={current:t},vo().memoizedState=t},useState:Io,useDebugValue:Uo,useDeferredValue:function(t){return vo().memoizedState=t},useTransition:function(){var t=Io(!1),e=t[0];return t=jo.bind(null,t[1]),vo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var s=oo,n=vo();if(nr){if(void 0===i)throw Error(r(407));i=i()}else{if(i=e(),null===Tl)throw Error(r(349));0!==(30&ro)||Mo(s,e,i)}n.memoizedState=i;var o={value:i,getSnapshot:e};return n.queue=o,zo(Ro.bind(null,s,o,t),[t]),s.flags|=2048,Po(9,ko.bind(null,s,o,i,e),void 0,null),i},useId:function(){var t=vo(),e=Tl.identifierPrefix;if(nr){var i=Zn;e=":"+e+"R"+(i=(Kn&~(1<<32-oe(Kn)-1)).toString(32)+i),0<(i=uo++)&&(e+="H"+i.toString(32)),e+=":"}else e=":"+e+"r"+(i=fo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ta={readContext:Ir,useCallback:Ho,useContext:Ir,useEffect:No,useImperativeHandle:Oo,useInsertionEffect:_o,useLayoutEffect:Vo,useMemo:Go,useReducer:So,useRef:Fo,useState:function(){return So(xo)},useDebugValue:Uo,useDeferredValue:function(t){return Wo(bo(),ao.memoizedState,t)},useTransition:function(){return[So(xo)[0],bo().memoizedState]},useMutableSource:wo,useSyncExternalStore:Co,useId:Yo,unstable_isNewReconciler:!1},ea={readContext:Ir,useCallback:Ho,useContext:Ir,useEffect:No,useImperativeHandle:Oo,useInsertionEffect:_o,useLayoutEffect:Vo,useMemo:Go,useReducer:Ao,useRef:Fo,useState:function(){return Ao(xo)},useDebugValue:Uo,useDeferredValue:function(t){var e=bo();return null===ao?e.memoizedState=t:Wo(e,ao.memoizedState,t)},useTransition:function(){return[Ao(xo)[0],bo().memoizedState]},useMutableSource:wo,useSyncExternalStore:Co,useId:Yo,unstable_isNewReconciler:!1};function ia(t,e){if(t&&t.defaultProps){for(var i in e=_({},e),t=t.defaultProps)void 0===e[i]&&(e[i]=t[i]);return e}return e}function sa(t,e,i,s){i=null===(i=i(s,e=t.memoizedState))||void 0===i?e:_({},e,i),t.memoizedState=i,0===t.lanes&&(t.updateQueue.baseState=i)}var na={isMounted:function(t){return!!(t=t._reactInternals)&&Ht(t)===t},enqueueSetState:function(t,e,i){t=t._reactInternals;var s=th(),n=eh(t),r=Vr(s,n);r.payload=e,void 0!==i&&null!==i&&(r.callback=i),null!==(e=Br(t,r,n))&&(ih(e,t,n,s),Or(e,t,n))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var s=th(),n=eh(t),r=Vr(s,n);r.tag=1,r.payload=e,void 0!==i&&null!==i&&(r.callback=i),null!==(e=Br(t,r,n))&&(ih(e,t,n,s),Or(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=th(),s=eh(t),n=Vr(i,s);n.tag=2,void 0!==e&&null!==e&&(n.callback=e),null!==(e=Br(t,n,s))&&(ih(e,t,s,i),Or(e,t,s))}};function ra(t,e,i,s,n,r,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(s,r,o):!e.prototype||!e.prototype.isPureReactComponent||(!as(i,s)||!as(n,r))}function oa(t,e,i){var s=!1,n=Rn,r=e.contextType;return"object"===typeof r&&null!==r?r=Ir(r):(n=Fn(e)?In:En.current,r=(s=null!==(s=e.contextTypes)&&void 0!==s)?Pn(t,n):Rn),e=new e(i,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=na,t.stateNode=e,e._reactInternals=t,s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=r),e}function aa(t,e,i,s){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(i,s),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(i,s),e.state!==t&&na.enqueueReplaceState(e,e.state,null)}function la(t,e,i,s){var n=t.stateNode;n.props=i,n.state=t.memoizedState,n.refs={},Nr(t);var r=e.contextType;"object"===typeof r&&null!==r?n.context=Ir(r):(r=Fn(e)?In:En.current,n.context=Pn(t,r)),n.state=t.memoizedState,"function"===typeof(r=e.getDerivedStateFromProps)&&(sa(t,e,r,i),n.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof n.getSnapshotBeforeUpdate||"function"!==typeof n.UNSAFE_componentWillMount&&"function"!==typeof n.componentWillMount||(e=n.state,"function"===typeof n.componentWillMount&&n.componentWillMount(),"function"===typeof n.UNSAFE_componentWillMount&&n.UNSAFE_componentWillMount(),e!==n.state&&na.enqueueReplaceState(n,n.state,null),Hr(t,i,n,s),n.state=t.memoizedState),"function"===typeof n.componentDidMount&&(t.flags|=4194308)}function ha(t,e){try{var i="",s=e;do{i+=U(s),s=s.return}while(s);var n=i}catch(r){n="\nError generating stack: "+r.message+"\n"+r.stack}return{value:t,source:e,stack:n,digest:null}}function ca(t,e,i){return{value:t,source:null,stack:null!=i?i:null,digest:null!=e?e:null}}function ua(t,e){try{console.error(e.value)}catch(i){setTimeout((function(){throw i}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(t,e,i){(i=Vr(-1,i)).tag=3,i.payload={element:null};var s=e.value;return i.callback=function(){Wl||(Wl=!0,jl=s),ua(0,e)},i}function pa(t,e,i){(i=Vr(-1,i)).tag=3;var s=t.type.getDerivedStateFromError;if("function"===typeof s){var n=e.value;i.payload=function(){return s(n)},i.callback=function(){ua(0,e)}}var r=t.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(i.callback=function(){ua(0,e),"function"!==typeof s&&(null===Yl?Yl=new Set([this]):Yl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),i}function ga(t,e,i){var s=t.pingCache;if(null===s){s=t.pingCache=new da;var n=new Set;s.set(e,n)}else void 0===(n=s.get(e))&&(n=new Set,s.set(e,n));n.has(i)||(n.add(i),t=Mh.bind(null,t,e,i),e.then(t,t))}function ma(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ya(t,e,i,s,n){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,1===i.tag&&(null===i.alternate?i.tag=17:((e=Vr(-1,1)).tag=2,Br(i,e,1))),i.lanes|=1),t):(t.flags|=65536,t.lanes=n,t)}var va=x.ReactCurrentOwner,ba=!1;function xa(t,e,i,s){e.child=null===t?Sr(e,null,i,s):xr(e,t.child,i,s)}function Sa(t,e,i,s,n){i=i.render;var r=e.ref;return Tr(e,n),s=mo(t,e,i,s,r,n),i=yo(),null===t||ba?(nr&&i&&tr(e),e.flags|=1,xa(t,e,s,n),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,Wa(t,e,n))}function Aa(t,e,i,s,n){if(null===t){var r=i.type;return"function"!==typeof r||Fh(r)||void 0!==r.defaultProps||null!==i.compare||void 0!==i.defaultProps?((t=Lh(i.type,null,s,e,e.mode,n)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=r,wa(t,e,r,s,n))}if(r=t.child,0===(t.lanes&n)){var o=r.memoizedProps;if((i=null!==(i=i.compare)?i:as)(o,s)&&t.ref===e.ref)return Wa(t,e,n)}return e.flags|=1,(t=Dh(r,s)).ref=e.ref,t.return=e,e.child=t}function wa(t,e,i,s,n){if(null!==t){var r=t.memoizedProps;if(as(r,s)&&t.ref===e.ref){if(ba=!1,e.pendingProps=s=r,0===(t.lanes&n))return e.lanes=t.lanes,Wa(t,e,n);0!==(131072&t.flags)&&(ba=!0)}}return ka(t,e,i,s,n)}function Ca(t,e,i){var s=e.pendingProps,n=s.children,r=null!==t?t.memoizedState:null;if("hidden"===s.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kn(Dl,Fl),Fl|=i;else{if(0===(1073741824&i))return t=null!==r?r.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kn(Dl,Fl),Fl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=null!==r?r.baseLanes:i,kn(Dl,Fl),Fl|=s}else null!==r?(s=r.baseLanes|i,e.memoizedState=null):s=i,kn(Dl,Fl),Fl|=s;return xa(t,e,n,i),e.child}function Ma(t,e){var i=e.ref;(null===t&&null!==i||null!==t&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function ka(t,e,i,s,n){var r=Fn(i)?In:En.current;return r=Pn(e,r),Tr(e,n),i=mo(t,e,i,s,r,n),s=yo(),null===t||ba?(nr&&s&&tr(e),e.flags|=1,xa(t,e,i,n),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,Wa(t,e,n))}function Ra(t,e,i,s,n){if(Fn(i)){var r=!0;Nn(e)}else r=!1;if(Tr(e,n),null===e.stateNode)Ga(t,e),oa(e,i,s),la(e,i,s,n),s=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,h=i.contextType;"object"===typeof h&&null!==h?h=Ir(h):h=Pn(e,h=Fn(i)?In:En.current);var c=i.getDerivedStateFromProps,u="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==s||l!==h)&&aa(e,o,s,h),zr=!1;var d=e.memoizedState;o.state=d,Hr(e,s,o,n),l=e.memoizedState,a!==s||d!==l||Tn.current||zr?("function"===typeof c&&(sa(e,i,c,s),l=e.memoizedState),(a=zr||ra(e,i,a,s,d,l,h))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=h,s=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),s=!1)}else{o=e.stateNode,_r(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:ia(e.type,a),o.props=h,u=e.pendingProps,d=o.context,"object"===typeof(l=i.contextType)&&null!==l?l=Ir(l):l=Pn(e,l=Fn(i)?In:En.current);var f=i.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==u||d!==l)&&aa(e,o,s,l),zr=!1,d=e.memoizedState,o.state=d,Hr(e,s,o,n);var p=e.memoizedState;a!==u||d!==p||Tn.current||zr?("function"===typeof f&&(sa(e,i,f,s),p=e.memoizedState),(h=zr||ra(e,i,h,s,d,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(s,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(s,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=p),o.props=s,o.state=p,o.context=l,s=h):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),s=!1)}return Ea(t,e,i,s,r,n)}function Ea(t,e,i,s,n,r){Ma(t,e);var o=0!==(128&e.flags);if(!s&&!o)return n&&_n(e,i,!1),Wa(t,e,r);s=e.stateNode,va.current=e;var a=o&&"function"!==typeof i.getDerivedStateFromError?null:s.render();return e.flags|=1,null!==t&&o?(e.child=xr(e,t.child,null,r),e.child=xr(e,null,a,r)):xa(t,e,a,r),e.memoizedState=s.state,n&&_n(e,i,!0),e.child}function Ta(t){var e=t.stateNode;e.pendingContext?Ln(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Ln(0,e.context,!1),Jr(t,e.containerInfo)}function Ia(t,e,i,s,n){return fr(),pr(n),e.flags|=256,xa(t,e,i,s),e.child}var Pa,Fa,Da,La,za={dehydrated:null,treeContext:null,retryLane:0};function Na(t){return{baseLanes:t,cachePool:null,transitions:null}}function _a(t,e,i){var s,n=e.pendingProps,o=$r.current,a=!1,l=0!==(128&e.flags);if((s=l)||(s=(null===t||null!==t.memoizedState)&&0!==(2&o)),s?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),kn($r,1&o),null===t)return hr(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=n.children,t=n.fallback,a?(n=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&n)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Nh(l,n,0,null),t=zh(t,n,i,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Na(i),e.memoizedState=za,t):Va(e,l));if(null!==(o=t.memoizedState)&&null!==(s=o.dehydrated))return function(t,e,i,s,n,o,a){if(i)return 256&e.flags?(e.flags&=-257,Ba(t,e,a,s=ca(Error(r(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=s.fallback,n=e.mode,s=Nh({mode:"visible",children:s.children},n,0,null),(o=zh(o,n,a,null)).flags|=2,s.return=e,o.return=e,s.sibling=o,e.child=s,0!==(1&e.mode)&&xr(e,t.child,null,a),e.child.memoizedState=Na(a),e.memoizedState=za,o);if(0===(1&e.mode))return Ba(t,e,a,null);if("$!"===n.data){if(s=n.nextSibling&&n.nextSibling.dataset)var l=s.dgst;return s=l,Ba(t,e,a,s=ca(o=Error(r(419)),s,void 0))}if(l=0!==(a&t.childLanes),ba||l){if(null!==(s=Tl)){switch(a&-a){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}0!==(n=0!==(n&(s.suspendedLanes|a))?0:n)&&n!==o.retryLane&&(o.retryLane=n,Lr(t,n),ih(s,t,n,-1))}return gh(),Ba(t,e,a,s=ca(Error(r(421))))}return"$?"===n.data?(e.flags|=128,e.child=t.child,e=Rh.bind(null,t),n._reactRetry=e,null):(t=o.treeContext,sr=hn(n.nextSibling),ir=e,nr=!0,rr=null,null!==t&&(Xn[qn++]=Kn,Xn[qn++]=Zn,Xn[qn++]=Jn,Kn=t.id,Zn=t.overflow,Jn=e),e=Va(e,s.children),e.flags|=4096,e)}(t,e,l,n,s,o,i);if(a){a=n.fallback,l=e.mode,s=(o=t.child).sibling;var h={mode:"hidden",children:n.children};return 0===(1&l)&&e.child!==o?((n=e.child).childLanes=0,n.pendingProps=h,e.deletions=null):(n=Dh(o,h)).subtreeFlags=14680064&o.subtreeFlags,null!==s?a=Dh(s,a):(a=zh(a,l,i,null)).flags|=2,a.return=e,n.return=e,n.sibling=a,e.child=n,n=a,a=e.child,l=null===(l=t.child.memoizedState)?Na(i):{baseLanes:l.baseLanes|i,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~i,e.memoizedState=za,n}return t=(a=t.child).sibling,n=Dh(a,{mode:"visible",children:n.children}),0===(1&e.mode)&&(n.lanes=i),n.return=e,n.sibling=null,null!==t&&(null===(i=e.deletions)?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n}function Va(t,e){return(e=Nh({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Ba(t,e,i,s){return null!==s&&pr(s),xr(e,t.child,null,i),(t=Va(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Oa(t,e,i){t.lanes|=e;var s=t.alternate;null!==s&&(s.lanes|=e),Er(t.return,e,i)}function Ua(t,e,i,s,n){var r=t.memoizedState;null===r?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:n}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=i,r.tailMode=n)}function Ha(t,e,i){var s=e.pendingProps,n=s.revealOrder,r=s.tail;if(xa(t,e,s.children,i),0!==(2&(s=$r.current)))s=1&s|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Oa(t,i,e);else if(19===t.tag)Oa(t,i,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(kn($r,s),0===(1&e.mode))e.memoizedState=null;else switch(n){case"forwards":for(i=e.child,n=null;null!==i;)null!==(t=i.alternate)&&null===to(t)&&(n=i),i=i.sibling;null===(i=n)?(n=e.child,e.child=null):(n=i.sibling,i.sibling=null),Ua(e,!1,n,i,r);break;case"backwards":for(i=null,n=e.child,e.child=null;null!==n;){if(null!==(t=n.alternate)&&null===to(t)){e.child=n;break}t=n.sibling,n.sibling=i,i=n,n=t}Ua(e,!0,i,null,r);break;case"together":Ua(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ga(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wa(t,e,i){if(null!==t&&(e.dependencies=t.dependencies),Nl|=e.lanes,0===(i&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(r(153));if(null!==e.child){for(i=Dh(t=e.child,t.pendingProps),e.child=i,i.return=e;null!==t.sibling;)t=t.sibling,(i=i.sibling=Dh(t,t.pendingProps)).return=e;i.sibling=null}return e.child}function ja(t,e){if(!nr)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;null!==e;)null!==e.alternate&&(i=e),e=e.sibling;null===i?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var s=null;null!==i;)null!==i.alternate&&(s=i),i=i.sibling;null===s?e||null===t.tail?t.tail=null:t.tail.sibling=null:s.sibling=null}}function Ya(t){var e=null!==t.alternate&&t.alternate.child===t.child,i=0,s=0;if(e)for(var n=t.child;null!==n;)i|=n.lanes|n.childLanes,s|=14680064&n.subtreeFlags,s|=14680064&n.flags,n.return=t,n=n.sibling;else for(n=t.child;null!==n;)i|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=s,t.childLanes=i,e}function Xa(t,e,i){var s=e.pendingProps;switch(er(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ya(e),null;case 1:case 17:return Fn(e.type)&&Dn(),Ya(e),null;case 3:return s=e.stateNode,Kr(),Mn(Tn),Mn(En),io(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==t&&null!==t.child||(ur(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==rr&&(oh(rr),rr=null))),Fa(t,e),Ya(e),null;case 5:Qr(e);var n=qr(Xr.current);if(i=e.type,null!==t&&null!=e.stateNode)Da(t,e,i,s,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!s){if(null===e.stateNode)throw Error(r(166));return Ya(e),null}if(t=qr(jr.current),ur(e)){s=e.stateNode,i=e.type;var o=e.memoizedProps;switch(s[dn]=e,s[fn]=o,t=0!==(1&e.mode),i){case"dialog":Vs("cancel",s),Vs("close",s);break;case"iframe":case"object":case"embed":Vs("load",s);break;case"video":case"audio":for(n=0;n<Ls.length;n++)Vs(Ls[n],s);break;case"source":Vs("error",s);break;case"img":case"image":case"link":Vs("error",s),Vs("load",s);break;case"details":Vs("toggle",s);break;case"input":K(s,o),Vs("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},Vs("invalid",s);break;case"textarea":nt(s,o),Vs("invalid",s)}for(var l in vt(i,o),n=null,o)if(o.hasOwnProperty(l)){var h=o[l];"children"===l?"string"===typeof h?s.textContent!==h&&(!0!==o.suppressHydrationWarning&&Zs(s.textContent,h,t),n=["children",h]):"number"===typeof h&&s.textContent!==""+h&&(!0!==o.suppressHydrationWarning&&Zs(s.textContent,h,t),n=["children",""+h]):a.hasOwnProperty(l)&&null!=h&&"onScroll"===l&&Vs("scroll",s)}switch(i){case"input":Y(s),$(s,o,!0);break;case"textarea":Y(s),ot(s);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(s.onclick=Qs)}s=n,e.updateQueue=s,null!==s&&(e.flags|=4)}else{l=9===n.nodeType?n:n.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(i)),"http://www.w3.org/1999/xhtml"===t?"script"===i?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof s.is?t=l.createElement(i,{is:s.is}):(t=l.createElement(i),"select"===i&&(l=t,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):t=l.createElementNS(t,i),t[dn]=e,t[fn]=s,Pa(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(i,s),i){case"dialog":Vs("cancel",t),Vs("close",t),n=s;break;case"iframe":case"object":case"embed":Vs("load",t),n=s;break;case"video":case"audio":for(n=0;n<Ls.length;n++)Vs(Ls[n],t);n=s;break;case"source":Vs("error",t),n=s;break;case"img":case"image":case"link":Vs("error",t),Vs("load",t),n=s;break;case"details":Vs("toggle",t),n=s;break;case"input":K(t,s),n=J(t,s),Vs("invalid",t);break;case"option":default:n=s;break;case"select":t._wrapperState={wasMultiple:!!s.multiple},n=_({},s,{value:void 0}),Vs("invalid",t);break;case"textarea":nt(t,s),n=st(t,s),Vs("invalid",t)}for(o in vt(i,n),h=n)if(h.hasOwnProperty(o)){var c=h[o];"style"===o?mt(t,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ut(t,c):"children"===o?"string"===typeof c?("textarea"!==i||""!==c)&&dt(t,c):"number"===typeof c&&dt(t,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Vs("scroll",t):null!=c&&b(t,o,c,l))}switch(i){case"input":Y(t),$(t,s,!1);break;case"textarea":Y(t),ot(t);break;case"option":null!=s.value&&t.setAttribute("value",""+W(s.value));break;case"select":t.multiple=!!s.multiple,null!=(o=s.value)?it(t,!!s.multiple,o,!1):null!=s.defaultValue&&it(t,!!s.multiple,s.defaultValue,!0);break;default:"function"===typeof n.onClick&&(t.onclick=Qs)}switch(i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break t;case"img":s=!0;break t;default:s=!1}}s&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ya(e),null;case 6:if(t&&null!=e.stateNode)La(t,e,t.memoizedProps,s);else{if("string"!==typeof s&&null===e.stateNode)throw Error(r(166));if(i=qr(Xr.current),qr(jr.current),ur(e)){if(s=e.stateNode,i=e.memoizedProps,s[dn]=e,(o=s.nodeValue!==i)&&null!==(t=ir))switch(t.tag){case 3:Zs(s.nodeValue,i,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Zs(s.nodeValue,i,0!==(1&t.mode))}o&&(e.flags|=4)}else(s=(9===i.nodeType?i:i.ownerDocument).createTextNode(s))[dn]=e,e.stateNode=s}return Ya(e),null;case 13:if(Mn($r),s=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(nr&&null!==sr&&0!==(1&e.mode)&&0===(128&e.flags))dr(),fr(),e.flags|=98560,o=!1;else if(o=ur(e),null!==s&&null!==s.dehydrated){if(null===t){if(!o)throw Error(r(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(r(317));o[dn]=e}else fr(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ya(e),o=!1}else null!==rr&&(oh(rr),rr=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=i,e):((s=null!==s)!==(null!==t&&null!==t.memoizedState)&&s&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&$r.current)?0===Ll&&(Ll=3):gh())),null!==e.updateQueue&&(e.flags|=4),Ya(e),null);case 4:return Kr(),Fa(t,e),null===t&&Us(e.stateNode.containerInfo),Ya(e),null;case 10:return Rr(e.type._context),Ya(e),null;case 19:if(Mn($r),null===(o=e.memoizedState))return Ya(e),null;if(s=0!==(128&e.flags),null===(l=o.rendering))if(s)ja(o,!1);else{if(0!==Ll||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=to(t))){for(e.flags|=128,ja(o,!1),null!==(s=l.updateQueue)&&(e.updateQueue=s,e.flags|=4),e.subtreeFlags=0,s=i,i=e.child;null!==i;)t=s,(o=i).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return kn($r,1&$r.current|2),e.child}t=t.sibling}null!==o.tail&&Zt()>Hl&&(e.flags|=128,s=!0,ja(o,!1),e.lanes=4194304)}else{if(!s)if(null!==(t=to(l))){if(e.flags|=128,s=!0,null!==(i=t.updateQueue)&&(e.updateQueue=i,e.flags|=4),ja(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!nr)return Ya(e),null}else 2*Zt()-o.renderingStartTime>Hl&&1073741824!==i&&(e.flags|=128,s=!0,ja(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(i=o.last)?i.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Zt(),e.sibling=null,i=$r.current,kn($r,s?1&i|2:1&i),e):(Ya(e),null);case 22:case 23:return uh(),s=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==s&&(e.flags|=8192),s&&0!==(1&e.mode)?0!==(1073741824&Fl)&&(Ya(e),6&e.subtreeFlags&&(e.flags|=8192)):Ya(e),null;case 24:case 25:return null}throw Error(r(156,e.tag))}function qa(t,e){switch(er(e),e.tag){case 1:return Fn(e.type)&&Dn(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Kr(),Mn(Tn),Mn(En),io(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Qr(e),null;case 13:if(Mn($r),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(r(340));fr()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Mn($r),null;case 4:return Kr(),null;case 10:return Rr(e.type._context),null;case 22:case 23:return uh(),null;default:return null}}Pa=function(t,e){for(var i=e.child;null!==i;){if(5===i.tag||6===i.tag)t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Fa=function(){},Da=function(t,e,i,s){var n=t.memoizedProps;if(n!==s){t=e.stateNode,qr(jr.current);var r,o=null;switch(i){case"input":n=J(t,n),s=J(t,s),o=[];break;case"select":n=_({},n,{value:void 0}),s=_({},s,{value:void 0}),o=[];break;case"textarea":n=st(t,n),s=st(t,s),o=[];break;default:"function"!==typeof n.onClick&&"function"===typeof s.onClick&&(t.onclick=Qs)}for(c in vt(i,s),i=null,n)if(!s.hasOwnProperty(c)&&n.hasOwnProperty(c)&&null!=n[c])if("style"===c){var l=n[c];for(r in l)l.hasOwnProperty(r)&&(i||(i={}),i[r]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in s){var h=s[c];if(l=null!=n?n[c]:void 0,s.hasOwnProperty(c)&&h!==l&&(null!=h||null!=l))if("style"===c)if(l){for(r in l)!l.hasOwnProperty(r)||h&&h.hasOwnProperty(r)||(i||(i={}),i[r]="");for(r in h)h.hasOwnProperty(r)&&l[r]!==h[r]&&(i||(i={}),i[r]=h[r])}else i||(o||(o=[]),o.push(c,i)),i=h;else"dangerouslySetInnerHTML"===c?(h=h?h.__html:void 0,l=l?l.__html:void 0,null!=h&&l!==h&&(o=o||[]).push(c,h)):"children"===c?"string"!==typeof h&&"number"!==typeof h||(o=o||[]).push(c,""+h):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=h&&"onScroll"===c&&Vs("scroll",t),o||l===h||(o=[])):(o=o||[]).push(c,h))}i&&(o=o||[]).push("style",i);var c=o;(e.updateQueue=c)&&(e.flags|=4)}},La=function(t,e,i,s){i!==s&&(e.flags|=4)};var Ja=!1,Ka=!1,Za="function"===typeof WeakSet?WeakSet:Set,Qa=null;function $a(t,e){var i=t.ref;if(null!==i)if("function"===typeof i)try{i(null)}catch(s){Ch(t,e,s)}else i.current=null}function tl(t,e,i){try{i()}catch(s){Ch(t,e,s)}}var el=!1;function il(t,e,i){var s=e.updateQueue;if(null!==(s=null!==s?s.lastEffect:null)){var n=s=s.next;do{if((n.tag&t)===t){var r=n.destroy;n.destroy=void 0,void 0!==r&&tl(e,i,r)}n=n.next}while(n!==s)}}function sl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var i=e=e.next;do{if((i.tag&t)===t){var s=i.create;i.destroy=s()}i=i.next}while(i!==e)}}function nl(t){var e=t.ref;if(null!==e){var i=t.stateNode;t.tag,t=i,"function"===typeof e?e(t):e.current=t}}function rl(t){var e=t.alternate;null!==e&&(t.alternate=null,rl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[dn],delete e[fn],delete e[gn],delete e[mn],delete e[yn])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ol(t){return 5===t.tag||3===t.tag||4===t.tag}function al(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ol(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,i){var s=t.tag;if(5===s||6===s)t=t.stateNode,e?8===i.nodeType?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(8===i.nodeType?(e=i.parentNode).insertBefore(t,i):(e=i).appendChild(t),null!==(i=i._reactRootContainer)&&void 0!==i||null!==e.onclick||(e.onclick=Qs));else if(4!==s&&null!==(t=t.child))for(ll(t,e,i),t=t.sibling;null!==t;)ll(t,e,i),t=t.sibling}function hl(t,e,i){var s=t.tag;if(5===s||6===s)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(4!==s&&null!==(t=t.child))for(hl(t,e,i),t=t.sibling;null!==t;)hl(t,e,i),t=t.sibling}var cl=null,ul=!1;function dl(t,e,i){for(i=i.child;null!==i;)fl(t,e,i),i=i.sibling}function fl(t,e,i){if(re&&"function"===typeof re.onCommitFiberUnmount)try{re.onCommitFiberUnmount(ne,i)}catch(a){}switch(i.tag){case 5:Ka||$a(i,e);case 6:var s=cl,n=ul;cl=null,dl(t,e,i),ul=n,null!==(cl=s)&&(ul?(t=cl,i=i.stateNode,8===t.nodeType?t.parentNode.removeChild(i):t.removeChild(i)):cl.removeChild(i.stateNode));break;case 18:null!==cl&&(ul?(t=cl,i=i.stateNode,8===t.nodeType?ln(t.parentNode,i):1===t.nodeType&&ln(t,i),He(t)):ln(cl,i.stateNode));break;case 4:s=cl,n=ul,cl=i.stateNode.containerInfo,ul=!0,dl(t,e,i),cl=s,ul=n;break;case 0:case 11:case 14:case 15:if(!Ka&&(null!==(s=i.updateQueue)&&null!==(s=s.lastEffect))){n=s=s.next;do{var r=n,o=r.destroy;r=r.tag,void 0!==o&&(0!==(2&r)||0!==(4&r))&&tl(i,e,o),n=n.next}while(n!==s)}dl(t,e,i);break;case 1:if(!Ka&&($a(i,e),"function"===typeof(s=i.stateNode).componentWillUnmount))try{s.props=i.memoizedProps,s.state=i.memoizedState,s.componentWillUnmount()}catch(a){Ch(i,e,a)}dl(t,e,i);break;case 21:dl(t,e,i);break;case 22:1&i.mode?(Ka=(s=Ka)||null!==i.memoizedState,dl(t,e,i),Ka=s):dl(t,e,i);break;default:dl(t,e,i)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var i=t.stateNode;null===i&&(i=t.stateNode=new Za),e.forEach((function(e){var s=Eh.bind(null,t,e);i.has(e)||(i.add(e),e.then(s,s))}))}}function gl(t,e){var i=e.deletions;if(null!==i)for(var s=0;s<i.length;s++){var n=i[s];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,ul=!1;break t;case 3:case 4:cl=l.stateNode.containerInfo,ul=!0;break t}l=l.return}if(null===cl)throw Error(r(160));fl(o,a,n),cl=null,ul=!1;var h=n.alternate;null!==h&&(h.return=null),n.return=null}catch(c){Ch(n,e,c)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ml(e,t),e=e.sibling}function ml(t,e){var i=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),yl(t),4&s){try{il(3,t,t.return),sl(3,t)}catch(m){Ch(t,t.return,m)}try{il(5,t,t.return)}catch(m){Ch(t,t.return,m)}}break;case 1:gl(e,t),yl(t),512&s&&null!==i&&$a(i,i.return);break;case 5:if(gl(e,t),yl(t),512&s&&null!==i&&$a(i,i.return),32&t.flags){var n=t.stateNode;try{dt(n,"")}catch(m){Ch(t,t.return,m)}}if(4&s&&null!=(n=t.stateNode)){var o=t.memoizedProps,a=null!==i?i.memoizedProps:o,l=t.type,h=t.updateQueue;if(t.updateQueue=null,null!==h)try{"input"===l&&"radio"===o.type&&null!=o.name&&Z(n,o),bt(l,a);var c=bt(l,o);for(a=0;a<h.length;a+=2){var u=h[a],d=h[a+1];"style"===u?mt(n,d):"dangerouslySetInnerHTML"===u?ut(n,d):"children"===u?dt(n,d):b(n,u,d,c)}switch(l){case"input":Q(n,o);break;case"textarea":rt(n,o);break;case"select":var f=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?it(n,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?it(n,!!o.multiple,o.defaultValue,!0):it(n,!!o.multiple,o.multiple?[]:"",!1))}n[fn]=o}catch(m){Ch(t,t.return,m)}}break;case 6:if(gl(e,t),yl(t),4&s){if(null===t.stateNode)throw Error(r(162));n=t.stateNode,o=t.memoizedProps;try{n.nodeValue=o}catch(m){Ch(t,t.return,m)}}break;case 3:if(gl(e,t),yl(t),4&s&&null!==i&&i.memoizedState.isDehydrated)try{He(e.containerInfo)}catch(m){Ch(t,t.return,m)}break;case 4:default:gl(e,t),yl(t);break;case 13:gl(e,t),yl(t),8192&(n=t.child).flags&&(o=null!==n.memoizedState,n.stateNode.isHidden=o,!o||null!==n.alternate&&null!==n.alternate.memoizedState||(Ul=Zt())),4&s&&pl(t);break;case 22:if(u=null!==i&&null!==i.memoizedState,1&t.mode?(Ka=(c=Ka)||u,gl(e,t),Ka=c):gl(e,t),yl(t),8192&s){if(c=null!==t.memoizedState,(t.stateNode.isHidden=c)&&!u&&0!==(1&t.mode))for(Qa=t,u=t.child;null!==u;){for(d=Qa=u;null!==Qa;){switch(p=(f=Qa).child,f.tag){case 0:case 11:case 14:case 15:il(4,f,f.return);break;case 1:$a(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){s=f,i=f.return;try{e=s,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Ch(s,i,m)}}break;case 5:$a(f,f.return);break;case 22:if(null!==f.memoizedState){Sl(d);continue}}null!==p?(p.return=f,Qa=p):Sl(d)}u=u.sibling}t:for(u=null,d=t;;){if(5===d.tag){if(null===u){u=d;try{n=d.stateNode,c?"function"===typeof(o=n.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(h=d.memoizedProps.style)&&null!==h&&h.hasOwnProperty("display")?h.display:null,l.style.display=gt("display",a))}catch(m){Ch(t,t.return,m)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Ch(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(e,t),yl(t),4&s&&pl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var i=t.return;null!==i;){if(ol(i)){var s=i;break t}i=i.return}throw Error(r(160))}switch(s.tag){case 5:var n=s.stateNode;32&s.flags&&(dt(n,""),s.flags&=-33),hl(t,al(t),n);break;case 3:case 4:var o=s.stateNode.containerInfo;ll(t,al(t),o);break;default:throw Error(r(161))}}catch(a){Ch(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vl(t,e,i){Qa=t,bl(t,e,i)}function bl(t,e,i){for(var s=0!==(1&t.mode);null!==Qa;){var n=Qa,r=n.child;if(22===n.tag&&s){var o=null!==n.memoizedState||Ja;if(!o){var a=n.alternate,l=null!==a&&null!==a.memoizedState||Ka;a=Ja;var h=Ka;if(Ja=o,(Ka=l)&&!h)for(Qa=n;null!==Qa;)l=(o=Qa).child,22===o.tag&&null!==o.memoizedState?Al(n):null!==l?(l.return=o,Qa=l):Al(n);for(;null!==r;)Qa=r,bl(r,e,i),r=r.sibling;Qa=n,Ja=a,Ka=h}xl(t)}else 0!==(8772&n.subtreeFlags)&&null!==r?(r.return=n,Qa=r):xl(t)}}function xl(t){for(;null!==Qa;){var e=Qa;if(0!==(8772&e.flags)){var i=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Ka||sl(5,e);break;case 1:var s=e.stateNode;if(4&e.flags&&!Ka)if(null===i)s.componentDidMount();else{var n=e.elementType===e.type?i.memoizedProps:ia(e.type,i.memoizedProps);s.componentDidUpdate(n,i.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Gr(e,o,s);break;case 3:var a=e.updateQueue;if(null!==a){if(i=null,null!==e.child)switch(e.child.tag){case 5:case 1:i=e.child.stateNode}Gr(e,a,i)}break;case 5:var l=e.stateNode;if(null===i&&4&e.flags){i=l;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&i.focus();break;case"img":h.src&&(i.src=h.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var c=e.alternate;if(null!==c){var u=c.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&He(d)}}}break;default:throw Error(r(163))}Ka||512&e.flags&&nl(e)}catch(f){Ch(e,e.return,f)}}if(e===t){Qa=null;break}if(null!==(i=e.sibling)){i.return=e.return,Qa=i;break}Qa=e.return}}function Sl(t){for(;null!==Qa;){var e=Qa;if(e===t){Qa=null;break}var i=e.sibling;if(null!==i){i.return=e.return,Qa=i;break}Qa=e.return}}function Al(t){for(;null!==Qa;){var e=Qa;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{sl(4,e)}catch(l){Ch(e,i,l)}break;case 1:var s=e.stateNode;if("function"===typeof s.componentDidMount){var n=e.return;try{s.componentDidMount()}catch(l){Ch(e,n,l)}}var r=e.return;try{nl(e)}catch(l){Ch(e,r,l)}break;case 5:var o=e.return;try{nl(e)}catch(l){Ch(e,o,l)}}}catch(l){Ch(e,e.return,l)}if(e===t){Qa=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Qa=a;break}Qa=e.return}}var wl,Cl=Math.ceil,Ml=x.ReactCurrentDispatcher,kl=x.ReactCurrentOwner,Rl=x.ReactCurrentBatchConfig,El=0,Tl=null,Il=null,Pl=0,Fl=0,Dl=Cn(0),Ll=0,zl=null,Nl=0,_l=0,Vl=0,Bl=null,Ol=null,Ul=0,Hl=1/0,Gl=null,Wl=!1,jl=null,Yl=null,Xl=!1,ql=null,Jl=0,Kl=0,Zl=null,Ql=-1,$l=0;function th(){return 0!==(6&El)?Zt():-1!==Ql?Ql:Ql=Zt()}function eh(t){return 0===(1&t.mode)?1:0!==(2&El)&&0!==Pl?Pl&-Pl:null!==gr.transition?(0===$l&&($l=ge()),$l):0!==(t=be)?t:t=void 0===(t=window.event)?16:Ke(t.type)}function ih(t,e,i,s){if(50<Kl)throw Kl=0,Zl=null,Error(r(185));ye(t,i,s),0!==(2&El)&&t===Tl||(t===Tl&&(0===(2&El)&&(_l|=i),4===Ll&&ah(t,Pl)),sh(t,s),1===i&&0===El&&0===(1&e.mode)&&(Hl=Zt()+500,Bn&&Hn()))}function sh(t,e){var i=t.callbackNode;!function(t,e){for(var i=t.suspendedLanes,s=t.pingedLanes,n=t.expirationTimes,r=t.pendingLanes;0<r;){var o=31-oe(r),a=1<<o,l=n[o];-1===l?0!==(a&i)&&0===(a&s)||(n[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),r&=~a}}(t,e);var s=de(t,t===Tl?Pl:0);if(0===s)null!==i&&qt(i),t.callbackNode=null,t.callbackPriority=0;else if(e=s&-s,t.callbackPriority!==e){if(null!=i&&qt(i),1===e)0===t.tag?function(t){Bn=!0,Un(t)}(lh.bind(null,t)):Un(lh.bind(null,t)),on((function(){0===(6&El)&&Hn()})),i=null;else{switch(xe(s)){case 1:i=$t;break;case 4:i=te;break;case 16:default:i=ee;break;case 536870912:i=se}i=Th(i,nh.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function nh(t,e){if(Ql=-1,$l=0,0!==(6&El))throw Error(r(327));var i=t.callbackNode;if(Ah()&&t.callbackNode!==i)return null;var s=de(t,t===Tl?Pl:0);if(0===s)return null;if(0!==(30&s)||0!==(s&t.expiredLanes)||e)e=mh(t,s);else{e=s;var n=El;El|=2;var o=ph();for(Tl===t&&Pl===e||(Gl=null,Hl=Zt()+500,dh(t,e));;)try{vh();break}catch(l){fh(t,l)}kr(),Ml.current=o,El=n,null!==Il?e=0:(Tl=null,Pl=0,e=Ll)}if(0!==e){if(2===e&&(0!==(n=pe(t))&&(s=n,e=rh(t,n))),1===e)throw i=zl,dh(t,0),ah(t,s),sh(t,Zt()),i;if(6===e)ah(t,s);else{if(n=t.current.alternate,0===(30&s)&&!function(t){for(var e=t;;){if(16384&e.flags){var i=e.updateQueue;if(null!==i&&null!==(i=i.stores))for(var s=0;s<i.length;s++){var n=i[s],r=n.getSnapshot;n=n.value;try{if(!os(r(),n))return!1}catch(a){return!1}}}if(i=e.child,16384&e.subtreeFlags&&null!==i)i.return=e,e=i;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(n)&&(2===(e=mh(t,s))&&(0!==(o=pe(t))&&(s=o,e=rh(t,o))),1===e))throw i=zl,dh(t,0),ah(t,s),sh(t,Zt()),i;switch(t.finishedWork=n,t.finishedLanes=s,e){case 0:case 1:throw Error(r(345));case 2:case 5:Sh(t,Ol,Gl);break;case 3:if(ah(t,s),(130023424&s)===s&&10<(e=Ul+500-Zt())){if(0!==de(t,0))break;if(((n=t.suspendedLanes)&s)!==s){th(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=sn(Sh.bind(null,t,Ol,Gl),e);break}Sh(t,Ol,Gl);break;case 4:if(ah(t,s),(4194240&s)===s)break;for(e=t.eventTimes,n=-1;0<s;){var a=31-oe(s);o=1<<a,(a=e[a])>n&&(n=a),s&=~o}if(s=n,10<(s=(120>(s=Zt()-s)?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Cl(s/1960))-s)){t.timeoutHandle=sn(Sh.bind(null,t,Ol,Gl),s);break}Sh(t,Ol,Gl);break;default:throw Error(r(329))}}}return sh(t,Zt()),t.callbackNode===i?nh.bind(null,t):null}function rh(t,e){var i=Bl;return t.current.memoizedState.isDehydrated&&(dh(t,e).flags|=256),2!==(t=mh(t,e))&&(e=Ol,Ol=i,null!==e&&oh(e)),t}function oh(t){null===Ol?Ol=t:Ol.push.apply(Ol,t)}function ah(t,e){for(e&=~Vl,e&=~_l,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-oe(e),s=1<<i;t[i]=-1,e&=~s}}function lh(t){if(0!==(6&El))throw Error(r(327));Ah();var e=de(t,0);if(0===(1&e))return sh(t,Zt()),null;var i=mh(t,e);if(0!==t.tag&&2===i){var s=pe(t);0!==s&&(e=s,i=rh(t,s))}if(1===i)throw i=zl,dh(t,0),ah(t,e),sh(t,Zt()),i;if(6===i)throw Error(r(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sh(t,Ol,Gl),sh(t,Zt()),null}function hh(t,e){var i=El;El|=1;try{return t(e)}finally{0===(El=i)&&(Hl=Zt()+500,Bn&&Hn())}}function ch(t){null!==ql&&0===ql.tag&&0===(6&El)&&Ah();var e=El;El|=1;var i=Rl.transition,s=be;try{if(Rl.transition=null,be=1,t)return t()}finally{be=s,Rl.transition=i,0===(6&(El=e))&&Hn()}}function uh(){Fl=Dl.current,Mn(Dl)}function dh(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(-1!==i&&(t.timeoutHandle=-1,nn(i)),null!==Il)for(i=Il.return;null!==i;){var s=i;switch(er(s),s.tag){case 1:null!==(s=s.type.childContextTypes)&&void 0!==s&&Dn();break;case 3:Kr(),Mn(Tn),Mn(En),io();break;case 5:Qr(s);break;case 4:Kr();break;case 13:case 19:Mn($r);break;case 10:Rr(s.type._context);break;case 22:case 23:uh()}i=i.return}if(Tl=t,Il=t=Dh(t.current,null),Pl=Fl=e,Ll=0,zl=null,Vl=_l=Nl=0,Ol=Bl=null,null!==Pr){for(e=0;e<Pr.length;e++)if(null!==(s=(i=Pr[e]).interleaved)){i.interleaved=null;var n=s.next,r=i.pending;if(null!==r){var o=r.next;r.next=n,s.next=o}i.pending=s}Pr=null}return t}function fh(t,e){for(;;){var i=Il;try{if(kr(),so.current=Qo,ho){for(var s=oo.memoizedState;null!==s;){var n=s.queue;null!==n&&(n.pending=null),s=s.next}ho=!1}if(ro=0,lo=ao=oo=null,co=!1,uo=0,kl.current=null,null===i||null===i.return){Ll=1,zl=e,Il=null;break}t:{var o=t,a=i.return,l=i,h=e;if(e=Pl,l.flags|=32768,null!==h&&"object"===typeof h&&"function"===typeof h.then){var c=h,u=l,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,e),1&p.mode&&ga(o,c,e),h=c;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(h),e.updateQueue=m}else g.add(h);break t}if(0===(1&e)){ga(o,c,e),gh();break t}h=Error(r(426))}else if(nr&&1&l.mode){var y=ma(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,e),pr(ha(h,l));break t}}o=h=ha(h,l),4!==Ll&&(Ll=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,Ur(o,fa(0,h,e));break t;case 1:l=h;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Yl||!Yl.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e,Ur(o,pa(o,l,e));break t}}o=o.return}while(null!==o)}xh(i)}catch(x){e=x,Il===i&&null!==i&&(Il=i=i.return);continue}break}}function ph(){var t=Ml.current;return Ml.current=Qo,null===t?Qo:t}function gh(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Tl||0===(268435455&Nl)&&0===(268435455&_l)||ah(Tl,Pl)}function mh(t,e){var i=El;El|=2;var s=ph();for(Tl===t&&Pl===e||(Gl=null,dh(t,e));;)try{yh();break}catch(n){fh(t,n)}if(kr(),El=i,Ml.current=s,null!==Il)throw Error(r(261));return Tl=null,Pl=0,Ll}function yh(){for(;null!==Il;)bh(Il)}function vh(){for(;null!==Il&&!Jt();)bh(Il)}function bh(t){var e=wl(t.alternate,t,Fl);t.memoizedProps=t.pendingProps,null===e?xh(t):Il=e,kl.current=null}function xh(t){var e=t;do{var i=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(i=Xa(i,e,Fl)))return void(Il=i)}else{if(null!==(i=qa(i,e)))return i.flags&=32767,void(Il=i);if(null===t)return Ll=6,void(Il=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Il=e);Il=e=t}while(null!==e);0===Ll&&(Ll=5)}function Sh(t,e,i){var s=be,n=Rl.transition;try{Rl.transition=null,be=1,function(t,e,i,s){do{Ah()}while(null!==ql);if(0!==(6&El))throw Error(r(327));i=t.finishedWork;var n=t.finishedLanes;if(null===i)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(r(177));t.callbackNode=null,t.callbackPriority=0;var o=i.lanes|i.childLanes;if(function(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var s=t.eventTimes;for(t=t.expirationTimes;0<i;){var n=31-oe(i),r=1<<n;e[n]=0,s[n]=-1,t[n]=-1,i&=~r}}(t,o),t===Tl&&(Il=Tl=null,Pl=0),0===(2064&i.subtreeFlags)&&0===(2064&i.flags)||Xl||(Xl=!0,Th(ee,(function(){return Ah(),null}))),o=0!==(15990&i.flags),0!==(15990&i.subtreeFlags)||o){o=Rl.transition,Rl.transition=null;var a=be;be=1;var l=El;El|=4,kl.current=null,function(t,e){if($s=We,ds(t=us())){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else t:{var s=(i=(i=t.ownerDocument)&&i.defaultView||window).getSelection&&i.getSelection();if(s&&0!==s.rangeCount){i=s.anchorNode;var n=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{i.nodeType,o.nodeType}catch(S){i=null;break t}var a=0,l=-1,h=-1,c=0,u=0,d=t,f=null;e:for(;;){for(var p;d!==i||0!==n&&3!==d.nodeType||(l=a+n),d!==o||0!==s&&3!==d.nodeType||(h=a+s),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===i&&++c===n&&(l=a),f===o&&++u===s&&(h=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}i=-1===l||-1===h?null:{start:l,end:h}}else i=null}i=i||{start:0,end:0}}else i=null;for(tn={focusedElem:t,selectionRange:i},We=!1,Qa=e;null!==Qa;)if(t=(e=Qa).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Qa=t;else for(;null!==Qa;){e=Qa;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:ia(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(r(163))}}catch(S){Ch(e,e.return,S)}if(null!==(t=e.sibling)){t.return=e.return,Qa=t;break}Qa=e.return}g=el,el=!1}(t,i),ml(i,t),fs(tn),We=!!$s,tn=$s=null,t.current=i,vl(i,t,n),Kt(),El=l,be=a,Rl.transition=o}else t.current=i;if(Xl&&(Xl=!1,ql=t,Jl=n),o=t.pendingLanes,0===o&&(Yl=null),function(t){if(re&&"function"===typeof re.onCommitFiberRoot)try{re.onCommitFiberRoot(ne,t,void 0,128===(128&t.current.flags))}catch(e){}}(i.stateNode),sh(t,Zt()),null!==e)for(s=t.onRecoverableError,i=0;i<e.length;i++)n=e[i],s(n.value,{componentStack:n.stack,digest:n.digest});if(Wl)throw Wl=!1,t=jl,jl=null,t;0!==(1&Jl)&&0!==t.tag&&Ah(),o=t.pendingLanes,0!==(1&o)?t===Zl?Kl++:(Kl=0,Zl=t):Kl=0,Hn()}(t,e,i,s)}finally{Rl.transition=n,be=s}return null}function Ah(){if(null!==ql){var t=xe(Jl),e=Rl.transition,i=be;try{if(Rl.transition=null,be=16>t?16:t,null===ql)var s=!1;else{if(t=ql,ql=null,Jl=0,0!==(6&El))throw Error(r(331));var n=El;for(El|=4,Qa=t.current;null!==Qa;){var o=Qa,a=o.child;if(0!==(16&Qa.flags)){var l=o.deletions;if(null!==l){for(var h=0;h<l.length;h++){var c=l[h];for(Qa=c;null!==Qa;){var u=Qa;switch(u.tag){case 0:case 11:case 15:il(8,u,o)}var d=u.child;if(null!==d)d.return=u,Qa=d;else for(;null!==Qa;){var f=(u=Qa).sibling,p=u.return;if(rl(u),u===c){Qa=null;break}if(null!==f){f.return=p,Qa=f;break}Qa=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Qa=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Qa=a;else t:for(;null!==Qa;){if(0!==(2048&(o=Qa).flags))switch(o.tag){case 0:case 11:case 15:il(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Qa=v;break t}Qa=o.return}}var b=t.current;for(Qa=b;null!==Qa;){var x=(a=Qa).child;if(0!==(2064&a.subtreeFlags)&&null!==x)x.return=a,Qa=x;else t:for(a=b;null!==Qa;){if(0!==(2048&(l=Qa).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(A){Ch(l,l.return,A)}if(l===a){Qa=null;break t}var S=l.sibling;if(null!==S){S.return=l.return,Qa=S;break t}Qa=l.return}}if(El=n,Hn(),re&&"function"===typeof re.onPostCommitFiberRoot)try{re.onPostCommitFiberRoot(ne,t)}catch(A){}s=!0}return s}finally{be=i,Rl.transition=e}}return!1}function wh(t,e,i){t=Br(t,e=fa(0,e=ha(i,e),1),1),e=th(),null!==t&&(ye(t,1,e),sh(t,e))}function Ch(t,e,i){if(3===t.tag)wh(t,t,i);else for(;null!==e;){if(3===e.tag){wh(e,t,i);break}if(1===e.tag){var s=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof s.componentDidCatch&&(null===Yl||!Yl.has(s))){e=Br(e,t=pa(e,t=ha(i,t),1),1),t=th(),null!==e&&(ye(e,1,t),sh(e,t));break}}e=e.return}}function Mh(t,e,i){var s=t.pingCache;null!==s&&s.delete(e),e=th(),t.pingedLanes|=t.suspendedLanes&i,Tl===t&&(Pl&i)===i&&(4===Ll||3===Ll&&(130023424&Pl)===Pl&&500>Zt()-Ul?dh(t,0):Vl|=i),sh(t,e)}function kh(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ce,0===(130023424&(ce<<=1))&&(ce=4194304)));var i=th();null!==(t=Lr(t,e))&&(ye(t,e,i),sh(t,i))}function Rh(t){var e=t.memoizedState,i=0;null!==e&&(i=e.retryLane),kh(t,i)}function Eh(t,e){var i=0;switch(t.tag){case 13:var s=t.stateNode,n=t.memoizedState;null!==n&&(i=n.retryLane);break;case 19:s=t.stateNode;break;default:throw Error(r(314))}null!==s&&s.delete(e),kh(t,i)}function Th(t,e){return Xt(t,e)}function Ih(t,e,i,s){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ph(t,e,i,s){return new Ih(t,e,i,s)}function Fh(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Dh(t,e){var i=t.alternate;return null===i?((i=Ph(t.tag,e,t.key,t.mode)).elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=14680064&t.flags,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Lh(t,e,i,s,n,o){var a=2;if(s=t,"function"===typeof t)Fh(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case w:return zh(i.children,n,o,e);case C:a=8,n|=8;break;case M:return(t=Ph(12,i,e,2|n)).elementType=M,t.lanes=o,t;case T:return(t=Ph(13,i,e,n)).elementType=T,t.lanes=o,t;case I:return(t=Ph(19,i,e,n)).elementType=I,t.lanes=o,t;case D:return Nh(i,n,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case k:a=10;break t;case R:a=9;break t;case E:a=11;break t;case P:a=14;break t;case F:a=16,s=null;break t}throw Error(r(130,null==t?t:typeof t,""))}return(e=Ph(a,i,e,n)).elementType=t,e.type=s,e.lanes=o,e}function zh(t,e,i,s){return(t=Ph(7,t,s,e)).lanes=i,t}function Nh(t,e,i,s){return(t=Ph(22,t,s,e)).elementType=D,t.lanes=i,t.stateNode={isHidden:!1},t}function _h(t,e,i){return(t=Ph(6,t,null,e)).lanes=i,t}function Vh(t,e,i){return(e=Ph(4,null!==t.children?t.children:[],t.key,e)).lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Bh(t,e,i,s,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=s,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Oh(t,e,i,s,n,r,o,a,l){return t=new Bh(t,e,i,a,l),1===e?(e=1,!0===r&&(e|=8)):e=0,r=Ph(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:s,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nr(r),t}function Uh(t){if(!t)return Rn;t:{if(Ht(t=t._reactInternals)!==t||1!==t.tag)throw Error(r(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(r(171))}if(1===t.tag){var i=t.type;if(Fn(i))return zn(t,i,e)}return e}function Hh(t,e,i,s,n,r,o,a,l){return(t=Oh(i,s,!0,t,0,r,0,a,l)).context=Uh(null),i=t.current,(r=Vr(s=th(),n=eh(i))).callback=void 0!==e&&null!==e?e:null,Br(i,r,n),t.current.lanes=n,ye(t,n,s),sh(t,s),t}function Gh(t,e,i,s){var n=e.current,r=th(),o=eh(n);return i=Uh(i),null===e.context?e.context=i:e.pendingContext=i,(e=Vr(r,o)).payload={element:t},null!==(s=void 0===s?null:s)&&(e.callback=s),null!==(t=Br(n,e,o))&&(ih(t,n,o,r),Or(t,n,o)),o}function Wh(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function jh(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var i=t.retryLane;t.retryLane=0!==i&&i<e?i:e}}function Yh(t,e){jh(t,e),(t=t.alternate)&&jh(t,e)}wl=function(t,e,i){if(null!==t)if(t.memoizedProps!==e.pendingProps||Tn.current)ba=!0;else{if(0===(t.lanes&i)&&0===(128&e.flags))return ba=!1,function(t,e,i){switch(e.tag){case 3:Ta(e),fr();break;case 5:Zr(e);break;case 1:Fn(e.type)&&Nn(e);break;case 4:Jr(e,e.stateNode.containerInfo);break;case 10:var s=e.type._context,n=e.memoizedProps.value;kn(Ar,s._currentValue),s._currentValue=n;break;case 13:if(null!==(s=e.memoizedState))return null!==s.dehydrated?(kn($r,1&$r.current),e.flags|=128,null):0!==(i&e.child.childLanes)?_a(t,e,i):(kn($r,1&$r.current),null!==(t=Wa(t,e,i))?t.sibling:null);kn($r,1&$r.current);break;case 19:if(s=0!==(i&e.childLanes),0!==(128&t.flags)){if(s)return Ha(t,e,i);e.flags|=128}if(null!==(n=e.memoizedState)&&(n.rendering=null,n.tail=null,n.lastEffect=null),kn($r,$r.current),s)break;return null;case 22:case 23:return e.lanes=0,Ca(t,e,i)}return Wa(t,e,i)}(t,e,i);ba=0!==(131072&t.flags)}else ba=!1,nr&&0!==(1048576&e.flags)&&$n(e,Yn,e.index);switch(e.lanes=0,e.tag){case 2:var s=e.type;Ga(t,e),t=e.pendingProps;var n=Pn(e,En.current);Tr(e,i),n=mo(null,e,s,t,n,i);var o=yo();return e.flags|=1,"object"===typeof n&&null!==n&&"function"===typeof n.render&&void 0===n.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fn(s)?(o=!0,Nn(e)):o=!1,e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,Nr(e),n.updater=na,e.stateNode=n,n._reactInternals=e,la(e,s,t,i),e=Ea(null,e,s,!0,o,i)):(e.tag=0,nr&&o&&tr(e),xa(null,e,n,i),e=e.child),e;case 16:s=e.elementType;t:{switch(Ga(t,e),t=e.pendingProps,s=(n=s._init)(s._payload),e.type=s,n=e.tag=function(t){if("function"===typeof t)return Fh(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===E)return 11;if(t===P)return 14}return 2}(s),t=ia(s,t),n){case 0:e=ka(null,e,s,t,i);break t;case 1:e=Ra(null,e,s,t,i);break t;case 11:e=Sa(null,e,s,t,i);break t;case 14:e=Aa(null,e,s,ia(s.type,t),i);break t}throw Error(r(306,s,""))}return e;case 0:return s=e.type,n=e.pendingProps,ka(t,e,s,n=e.elementType===s?n:ia(s,n),i);case 1:return s=e.type,n=e.pendingProps,Ra(t,e,s,n=e.elementType===s?n:ia(s,n),i);case 3:t:{if(Ta(e),null===t)throw Error(r(387));s=e.pendingProps,n=(o=e.memoizedState).element,_r(t,e),Hr(e,s,null,i);var a=e.memoizedState;if(s=a.element,o.isDehydrated){if(o={element:s,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Ia(t,e,s,i,n=ha(Error(r(423)),e));break t}if(s!==n){e=Ia(t,e,s,i,n=ha(Error(r(424)),e));break t}for(sr=hn(e.stateNode.containerInfo.firstChild),ir=e,nr=!0,rr=null,i=Sr(e,null,s,i),e.child=i;i;)i.flags=-3&i.flags|4096,i=i.sibling}else{if(fr(),s===n){e=Wa(t,e,i);break t}xa(t,e,s,i)}e=e.child}return e;case 5:return Zr(e),null===t&&hr(e),s=e.type,n=e.pendingProps,o=null!==t?t.memoizedProps:null,a=n.children,en(s,n)?a=null:null!==o&&en(s,o)&&(e.flags|=32),Ma(t,e),xa(t,e,a,i),e.child;case 6:return null===t&&hr(e),null;case 13:return _a(t,e,i);case 4:return Jr(e,e.stateNode.containerInfo),s=e.pendingProps,null===t?e.child=xr(e,null,s,i):xa(t,e,s,i),e.child;case 11:return s=e.type,n=e.pendingProps,Sa(t,e,s,n=e.elementType===s?n:ia(s,n),i);case 7:return xa(t,e,e.pendingProps,i),e.child;case 8:case 12:return xa(t,e,e.pendingProps.children,i),e.child;case 10:t:{if(s=e.type._context,n=e.pendingProps,o=e.memoizedProps,a=n.value,kn(Ar,s._currentValue),s._currentValue=a,null!==o)if(os(o.value,a)){if(o.children===n.children&&!Tn.current){e=Wa(t,e,i);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var h=l.firstContext;null!==h;){if(h.context===s){if(1===o.tag){(h=Vr(-1,i&-i)).tag=2;var c=o.updateQueue;if(null!==c){var u=(c=c.shared).pending;null===u?h.next=h:(h.next=u.next,u.next=h),c.pending=h}}o.lanes|=i,null!==(h=o.alternate)&&(h.lanes|=i),Er(o.return,i,e),l.lanes|=i;break}h=h.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(r(341));a.lanes|=i,null!==(l=a.alternate)&&(l.lanes|=i),Er(a,i,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}xa(t,e,n.children,i),e=e.child}return e;case 9:return n=e.type,s=e.pendingProps.children,Tr(e,i),s=s(n=Ir(n)),e.flags|=1,xa(t,e,s,i),e.child;case 14:return n=ia(s=e.type,e.pendingProps),Aa(t,e,s,n=ia(s.type,n),i);case 15:return wa(t,e,e.type,e.pendingProps,i);case 17:return s=e.type,n=e.pendingProps,n=e.elementType===s?n:ia(s,n),Ga(t,e),e.tag=1,Fn(s)?(t=!0,Nn(e)):t=!1,Tr(e,i),oa(e,s,n),la(e,s,n,i),Ea(null,e,s,!0,t,i);case 19:return Ha(t,e,i);case 22:return Ca(t,e,i)}throw Error(r(156,e.tag))};var Xh="function"===typeof reportError?reportError:function(t){console.error(t)};function qh(t){this._internalRoot=t}function Jh(t){this._internalRoot=t}function Kh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function Zh(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Qh(){}function $h(t,e,i,s,n){var r=i._reactRootContainer;if(r){var o=r;if("function"===typeof n){var a=n;n=function(){var t=Wh(o);a.call(t)}}Gh(e,o,t,n)}else o=function(t,e,i,s,n){if(n){if("function"===typeof s){var r=s;s=function(){var t=Wh(o);r.call(t)}}var o=Hh(e,s,t,0,null,!1,0,"",Qh);return t._reactRootContainer=o,t[pn]=o.current,Us(8===t.nodeType?t.parentNode:t),ch(),o}for(;n=t.lastChild;)t.removeChild(n);if("function"===typeof s){var a=s;s=function(){var t=Wh(l);a.call(t)}}var l=Oh(t,0,!1,null,0,!1,0,"",Qh);return t._reactRootContainer=l,t[pn]=l.current,Us(8===t.nodeType?t.parentNode:t),ch((function(){Gh(e,l,i,s)})),l}(i,e,t,n,s);return Wh(o)}Jh.prototype.render=qh.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(r(409));Gh(t,e,null,null)},Jh.prototype.unmount=qh.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;ch((function(){Gh(null,t,null,null)})),e[pn]=null}},Jh.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ce();t={blockedOn:null,target:t,priority:e};for(var i=0;i<De.length&&0!==e&&e<De[i].priority;i++);De.splice(i,0,t),0===i&&_e(t)}},Se=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=ue(e.pendingLanes);0!==i&&(ve(e,1|i),sh(e,Zt()),0===(6&El)&&(Hl=Zt()+500,Hn()))}break;case 13:ch((function(){var e=Lr(t,1);if(null!==e){var i=th();ih(e,t,1,i)}})),Yh(t,1)}},Ae=function(t){if(13===t.tag){var e=Lr(t,134217728);if(null!==e)ih(e,t,134217728,th());Yh(t,134217728)}},we=function(t){if(13===t.tag){var e=eh(t),i=Lr(t,e);if(null!==i)ih(i,t,e,th());Yh(t,e)}},Ce=function(){return be},Me=function(t,e){var i=be;try{return be=t,e()}finally{be=i}},At=function(t,e,i){switch(e){case"input":if(Q(t,i),e=i.name,"radio"===i.type&&null!=e){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var s=i[e];if(s!==t&&s.form===t.form){var n=Sn(s);if(!n)throw Error(r(90));X(s),Q(s,n)}}}break;case"textarea":rt(t,i);break;case"select":null!=(e=i.value)&&it(t,!!i.multiple,e,!1)}},Et=hh,Tt=ch;var tc={usingClientEntryPoint:!1,Events:[bn,xn,Sn,kt,Rt,hh]},ec={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ic={bundleType:ec.bundleType,version:ec.version,rendererPackageName:ec.rendererPackageName,rendererConfig:ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=jt(t))?null:t.stateNode},findFiberByHostInstance:ec.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{ne=sc.inject(ic),re=sc}catch(ct){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,e.createPortal=function(t,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Kh(e))throw Error(r(200));return function(t,e,i){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==s?null:""+s,children:t,containerInfo:e,implementation:i}}(t,e,null,i)},e.createRoot=function(t,e){if(!Kh(t))throw Error(r(299));var i=!1,s="",n=Xh;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(i=!0),void 0!==e.identifierPrefix&&(s=e.identifierPrefix),void 0!==e.onRecoverableError&&(n=e.onRecoverableError)),e=Oh(t,1,!1,null,0,i,0,s,n),t[pn]=e.current,Us(8===t.nodeType?t.parentNode:t),new qh(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(r(188));throw t=Object.keys(t).join(","),Error(r(268,t))}return t=null===(t=jt(e))?null:t.stateNode},e.flushSync=function(t){return ch(t)},e.hydrate=function(t,e,i){if(!Zh(e))throw Error(r(200));return $h(null,t,e,!0,i)},e.hydrateRoot=function(t,e,i){if(!Kh(t))throw Error(r(405));var s=null!=i&&i.hydratedSources||null,n=!1,o="",a=Xh;if(null!==i&&void 0!==i&&(!0===i.unstable_strictMode&&(n=!0),void 0!==i.identifierPrefix&&(o=i.identifierPrefix),void 0!==i.onRecoverableError&&(a=i.onRecoverableError)),e=Hh(e,null,t,1,null!=i?i:null,n,0,o,a),t[pn]=e.current,Us(t),s)for(t=0;t<s.length;t++)n=(n=(i=s[t])._getVersion)(i._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[i,n]:e.mutableSourceEagerHydrationData.push(i,n);return new Jh(e)},e.render=function(t,e,i){if(!Zh(e))throw Error(r(200));return $h(null,t,e,!1,i)},e.unmountComponentAtNode=function(t){if(!Zh(t))throw Error(r(40));return!!t._reactRootContainer&&(ch((function(){$h(null,null,t,!1,(function(){t._reactRootContainer=null,t[pn]=null}))})),!0)},e.unstable_batchedUpdates=hh,e.unstable_renderSubtreeIntoContainer=function(t,e,i,s){if(!Zh(i))throw Error(r(200));if(null==t||void 0===t._reactInternals)throw Error(r(38));return $h(t,e,i,!1,s)},e.version="18.3.1-next-f1338f8080-20240426"},1352:(t,e,i)=>{"use strict";var s=i(7119);e.createRoot=s.createRoot,e.hydrateRoot=s.hydrateRoot},7119:(t,e,i)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=i(8345)},8577:(t,e)=>{"use strict";var i,s=Symbol.for("react.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),c=Symbol.for("react.server_context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen");function y(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case s:switch(t=t.type){case r:case a:case o:case d:case f:return t;default:switch(t=t&&t.$$typeof){case c:case h:case u:case g:case p:case l:return t;default:return e}}case n:return e}}}i=Symbol.for("react.module.reference"),e.ForwardRef=u,e.Memo=p},6429:(t,e,i)=>{"use strict";t.exports=i(8577)},2654:(t,e,i)=>{"use strict";var s=i(9950),n=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(t,e,i){var s,r={},h=null,c=null;for(s in void 0!==i&&(h=""+i),void 0!==e.key&&(h=""+e.key),void 0!==e.ref&&(c=e.ref),e)o.call(e,s)&&!l.hasOwnProperty(s)&&(r[s]=e[s]);if(t&&t.defaultProps)for(s in e=t.defaultProps)void 0===r[s]&&(r[s]=e[s]);return{$$typeof:n,type:t,key:h,ref:c,props:r,_owner:a.current}}e.Fragment=r,e.jsx=h,e.jsxs=h},2049:(t,e)=>{"use strict";var i=Symbol.for("react.element"),s=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||p}function v(){}function b(t,e,i){this.props=t,this.context=e,this.refs=m,this.updater=i||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,g(x,y.prototype),x.isPureReactComponent=!0;var S=Array.isArray,A=Object.prototype.hasOwnProperty,w={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function M(t,e,s){var n,r={},o=null,a=null;if(null!=e)for(n in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)A.call(e,n)&&!C.hasOwnProperty(n)&&(r[n]=e[n]);var l=arguments.length-2;if(1===l)r.children=s;else if(1<l){for(var h=Array(l),c=0;c<l;c++)h[c]=arguments[c+2];r.children=h}if(t&&t.defaultProps)for(n in l=t.defaultProps)void 0===r[n]&&(r[n]=l[n]);return{$$typeof:i,type:t,key:o,ref:a,props:r,_owner:w.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var R=/\/+/g;function E(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function T(t,e,n,r,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case s:l=!0}}if(l)return o=o(l=t),t=""===r?"."+E(l,0):r,S(o)?(n="",null!=t&&(n=t.replace(R,"$&/")+"/"),T(o,e,n,"",(function(t){return t}))):null!=o&&(k(o)&&(o=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(R,"$&/")+"/")+t)),e.push(o)),1;if(l=0,r=""===r?".":r+":",S(t))for(var h=0;h<t.length;h++){var c=r+E(a=t[h],h);l+=T(a,e,n,c,o)}else if(c=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof c)for(t=c.call(t),h=0;!(a=t.next()).done;)l+=T(a=a.value,e,n,c=r+E(a,h++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function I(t,e,i){if(null==t)return t;var s=[],n=0;return T(t,s,"","",(function(t){return e.call(i,t,n++)})),s}function P(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var F={current:null},D={transition:null},L={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:D,ReactCurrentOwner:w};function z(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:I,forEach:function(t,e,i){I(t,(function(){e.apply(this,arguments)}),i)},count:function(t){var e=0;return I(t,(function(){e++})),e},toArray:function(t){return I(t,(function(t){return t}))||[]},only:function(t){if(!k(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=n,e.Profiler=o,e.PureComponent=b,e.StrictMode=r,e.Suspense=c,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,e.act=z,e.cloneElement=function(t,e,s){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=g({},t.props),r=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=w.current),void 0!==e.key&&(r=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(h in e)A.call(e,h)&&!C.hasOwnProperty(h)&&(n[h]=void 0===e[h]&&void 0!==l?l[h]:e[h])}var h=arguments.length-2;if(1===h)n.children=s;else if(1<h){l=Array(h);for(var c=0;c<h;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:i,type:t.type,key:r,ref:o,props:n,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=M,e.createFactory=function(t){var e=M.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:h,render:t}},e.isValidElement=k,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:P}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=D.transition;D.transition={};try{t()}finally{D.transition=e}},e.unstable_act=z,e.useCallback=function(t,e){return F.current.useCallback(t,e)},e.useContext=function(t){return F.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return F.current.useDeferredValue(t)},e.useEffect=function(t,e){return F.current.useEffect(t,e)},e.useId=function(){return F.current.useId()},e.useImperativeHandle=function(t,e,i){return F.current.useImperativeHandle(t,e,i)},e.useInsertionEffect=function(t,e){return F.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return F.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return F.current.useMemo(t,e)},e.useReducer=function(t,e,i){return F.current.useReducer(t,e,i)},e.useRef=function(t){return F.current.useRef(t)},e.useState=function(t){return F.current.useState(t)},e.useSyncExternalStore=function(t,e,i){return F.current.useSyncExternalStore(t,e,i)},e.useTransition=function(){return F.current.useTransition()},e.version="18.3.1"},9950:(t,e,i)=>{"use strict";t.exports=i(2049)},4414:(t,e,i)=>{"use strict";t.exports=i(2654)},1761:(t,e)=>{"use strict";function i(t,e){var i=t.length;t.push(e);t:for(;0<i;){var s=i-1>>>1,n=t[s];if(!(0<r(n,e)))break t;t[s]=e,t[i]=n,i=s}}function s(t){return 0===t.length?null:t[0]}function n(t){if(0===t.length)return null;var e=t[0],i=t.pop();if(i!==e){t[0]=i;t:for(var s=0,n=t.length,o=n>>>1;s<o;){var a=2*(s+1)-1,l=t[a],h=a+1,c=t[h];if(0>r(l,i))h<n&&0>r(c,l)?(t[s]=c,t[h]=i,s=h):(t[s]=l,t[a]=i,s=a);else{if(!(h<n&&0>r(c,i)))break t;t[s]=c,t[h]=i,s=h}}}return e}function r(t,e){var i=t.sortIndex-e.sortIndex;return 0!==i?i:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var h=[],c=[],u=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(t){for(var e=s(c);null!==e;){if(null===e.callback)n(c);else{if(!(e.startTime<=t))break;n(c),e.sortIndex=e.expirationTime,i(h,e)}e=s(c)}}function S(t){if(m=!1,x(t),!g)if(null!==s(h))g=!0,D(A);else{var e=s(c);null!==e&&L(S,e.startTime-t)}}function A(t,i){g=!1,m&&(m=!1,v(k),k=-1),p=!0;var r=f;try{for(x(i),d=s(h);null!==d&&(!(d.expirationTime>i)||t&&!T());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=i);i=e.unstable_now(),"function"===typeof a?d.callback=a:d===s(h)&&n(h),x(i)}else n(h);d=s(h)}if(null!==d)var l=!0;else{var u=s(c);null!==u&&L(S,u.startTime-i),l=!1}return l}finally{d=null,f=r,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,C=!1,M=null,k=-1,R=5,E=-1;function T(){return!(e.unstable_now()-E<R)}function I(){if(null!==M){var t=e.unstable_now();E=t;var i=!0;try{i=M(!0,t)}finally{i?w():(C=!1,M=null)}}else C=!1}if("function"===typeof b)w=function(){b(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,F=P.port2;P.port1.onmessage=I,w=function(){F.postMessage(null)}}else w=function(){y(I,0)};function D(t){M=t,C||(C=!0,w())}function L(t,i){k=y((function(){t(e.unstable_now())}),i)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,D(A))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return s(h)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var i=f;f=e;try{return t()}finally{f=i}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=f;f=t;try{return e()}finally{f=i}},e.unstable_scheduleCallback=function(t,n,r){var o=e.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?o+r:o:r=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:u++,callback:n,priorityLevel:t,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>o?(t.sortIndex=r,i(c,t),null===s(h)&&t===s(c)&&(m?(v(k),k=-1):m=!0,L(S,r-o))):(t.sortIndex=a,i(h,t),g||p||(g=!0,D(A))),t},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(t){var e=f;return function(){var i=f;f=e;try{return t.apply(this,arguments)}finally{f=i}}}},5340:(t,e,i)=>{"use strict";t.exports=i(1761)},9029:(t,e,i)=>{var s,n;void 0===(n="function"===typeof(s=function(){var t=Date,e={timestamp:0,tick:!1,tickStartDate:null,keepTime:!1,difference:0,config:function(e){this.timestamp=t.parse(e.dateString)||e.timestamp||this.timestamp,this.difference=e.difference||this.difference,this.keepTime=e.keepTime||this.keepTime,this.tick=e.tick||this.tick,this.tick&&(this.tickStartDate=new t),this._apply()},reset:function(){this.timestamp=0,this.tick=!1,this.tickStartDate=null,this.keepTime=!1,this.difference=0,Date=t,Date.prototype=t.prototype},_apply:function(){var e=this;Date=function(){var i;if(i=e.keepTime?new t:1===arguments.length?new t(arguments[0]):2===arguments.length?new t(arguments[0],arguments[1]):3===arguments.length?new t(arguments[0],arguments[1],arguments[2]):4===arguments.length?new t(arguments[0],arguments[1],arguments[2],arguments[3]):5===arguments.length?new t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4]):6===arguments.length?new t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]):7===arguments.length?new t(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]):new t(e.timestamp),0===arguments.length){var s=e._getDifference();0!==s&&(i=new t(i.getTime()+s))}return i},Date.prototype=t.prototype,Date.now=function(){return(e.keepTime?t.now():e.timestamp)+e._getDifference()},Date.OriginalDate=t,Date.UTC=t.UTC},_getDifference:function(){var e=this.difference;return this.tick&&(e+=t.now()-this.tickStartDate.getTime()),e}};return e._apply(),e})?s.call(e,i,e,t):s)||(t.exports=n)},1672:(t,e,i)=>{"use strict";var s=i(9950);var n="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},r=s.useSyncExternalStore,o=s.useRef,a=s.useEffect,l=s.useMemo,h=s.useDebugValue;e.useSyncExternalStoreWithSelector=function(t,e,i,s,c){var u=o(null);if(null===u.current){var d={hasValue:!1,value:null};u.current=d}else d=u.current;u=l((function(){function t(t){if(!a){if(a=!0,r=t,t=s(t),void 0!==c&&d.hasValue){var e=d.value;if(c(e,t))return o=e}return o=t}if(e=o,n(r,t))return e;var i=s(t);return void 0!==c&&c(e,i)?e:(r=t,o=i)}var r,o,a=!1,l=void 0===i?null:i;return[function(){return t(e())},null===l?void 0:function(){return t(l())}]}),[e,i,s,c]);var f=r(t,u[0],u[1]);return a((function(){d.hasValue=!0,d.value=f}),[f]),h(f),f}},7256:(t,e,i)=>{"use strict";t.exports=i(1672)},4634:t=>{function e(){return t.exports=e=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},4994:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},4893:t=>{t.exports=function(t,e){if(null==t)return{};var i={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;i[s]=t[s]}return i},t.exports.__esModule=!0,t.exports.default=t.exports},8168:(t,e,i)=>{"use strict";function s(){return s=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},s.apply(null,arguments)}i.d(e,{A:()=>s})},8587:(t,e,i)=>{"use strict";function s(t,e){if(null==t)return{};var i={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.includes(s))continue;i[s]=t[s]}return i}i.d(e,{A:()=>s})},2004:(t,e,i)=>{"use strict";function s(t){var e,i,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t)if(Array.isArray(t)){var r=t.length;for(e=0;e<r;e++)t[e]&&(i=s(t[e]))&&(n&&(n+=" "),n+=i)}else for(i in t)t[i]&&(n&&(n+=" "),n+=i);return n}i.d(e,{A:()=>n});const n=function(){for(var t,e,i=0,n="",r=arguments.length;i<r;i++)(t=arguments[i])&&(e=s(t))&&(n&&(n+=" "),n+=e);return n}}},e={};function i(s){var n=e[s];if(void 0!==n)return n.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,i),r.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;i.t=function(s,n){if(1&n&&(s=this(s)),8&n)return s;if("object"===typeof s&&s){if(4&n&&s.__esModule)return s;if(16&n&&"function"===typeof s.then)return s}var r=Object.create(null);i.r(r);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&n&&s;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>s[t]));return o.default=()=>s,i.d(r,o),r}})(),i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.p="./",(()=>{"use strict";var t=i(9950),e=i(1352);void 0!==window.cfgApp&&console.log("Config \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d");var s=i(9029),n=i.n(s),r=i(7256),o=t,a=Symbol.for("react-redux-context"),l="undefined"!==typeof globalThis?globalThis:{};function h(){var t;if(!o.createContext)return{};const e=null!==(t=l[a])&&void 0!==t?t:l[a]=new Map;let i=e.get(o.createContext);return i||(i=o.createContext(null),e.set(o.createContext,i)),i}var c=h(),u=()=>{throw new Error("uSES not initialized!")};function d(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;return function(){return o.useContext(t)}}var f=d(),p=u,g=(t,e)=>t===e;function m(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const e=t===c?f:d(t),i=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:s=g,devModeChecks:n={}}="function"===typeof i?{equalityFn:i}:i;const{store:r,subscription:a,getServerState:l,stabilityCheck:h,identityFunctionCheck:c}=e(),u=(o.useRef(!0),o.useCallback({[t.name]:e=>t(e)}[t.name],[t,h,n.stabilityCheck])),d=p(a.addNestedSub,r.getState,l||r.getState,u,s);return o.useDebugValue(d),d};return Object.assign(i,{withTypes:()=>i}),i}var y=m();Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.client.reference");function v(t){t()}var b={notify(){},get:()=>[]};function x(t,e){let i,s=b,n=0,r=!1;function o(){h.onStateChange&&h.onStateChange()}function a(){n++,i||(i=e?e.addNestedSub(o):t.subscribe(o),s=function(){let t=null,e=null;return{clear(){t=null,e=null},notify(){v((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){const e=[];let i=t;for(;i;)e.push(i),i=i.next;return e},subscribe(i){let s=!0;const n=e={callback:i,next:null,prev:e};return n.prev?n.prev.next=n:t=n,function(){s&&null!==t&&(s=!1,n.next?n.next.prev=n.prev:e=n.prev,n.prev?n.prev.next=n.next:t=n.next)}}}}())}function l(){n--,i&&0===n&&(i(),i=void 0,s.clear(),s=b)}const h={addNestedSub:function(t){a();const e=s.subscribe(t);let i=!1;return()=>{i||(i=!0,e(),l())}},notifyNestedSubs:function(){s.notify()},handleChangeWrapper:o,isSubscribed:function(){return r},trySubscribe:function(){r||(r=!0,a())},tryUnsubscribe:function(){r&&(r=!1,l())},getListeners:()=>s};return h}var S=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),A="undefined"!==typeof navigator&&"ReactNative"===navigator.product,w=S||A?o.useLayoutEffect:o.useEffect;Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var C=function(t){let{store:e,context:i,children:s,serverState:n,stabilityCheck:r="once",identityFunctionCheck:a="once"}=t;const l=o.useMemo((()=>{const t=x(e);return{store:e,subscription:t,getServerState:n?()=>n:void 0,stabilityCheck:r,identityFunctionCheck:a}}),[e,n,r,a]),h=o.useMemo((()=>e.getState()),[e]);w((()=>{const{subscription:t}=l;return t.onStateChange=t.notifyNestedSubs,t.trySubscribe(),h!==e.getState()&&t.notifyNestedSubs(),()=>{t.tryUnsubscribe(),t.onStateChange=void 0}}),[l,h]);const u=i||c;return o.createElement(u.Provider,{value:l},s)};function M(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const e=t===c?f:d(t),i=()=>{const{store:t}=e();return t};return Object.assign(i,{withTypes:()=>i}),i}var k=M();function R(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const e=t===c?k:M(t),i=()=>e().dispatch;return Object.assign(i,{withTypes:()=>i}),i}var E=R();function T(t){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},T(t)}function I(t){var e=function(t,e){if("object"!=T(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var s=i.call(t,e||"default");if("object"!=T(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==T(e)?e:e+""}function P(t){return"Minified Redux error #".concat(t,"; visit https://redux.js.org/Errors?code=").concat(t," for the full message or use the non-minified dev environment for full errors. ")}(t=>{p=t})(r.useSyncExternalStoreWithSelector),(t=>{t})(t.useSyncExternalStore);var F=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),D=()=>Math.random().toString(36).substring(7).split("").join("."),L={INIT:"@@redux/INIT".concat(D()),REPLACE:"@@redux/REPLACE".concat(D()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(D())};function z(t){if("object"!==typeof t||null===t)return!1;let e=t;for(;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||null===Object.getPrototypeOf(t)}function N(t,e,i){if("function"!==typeof t)throw new Error(P(2));if("function"===typeof e&&"function"===typeof i||"function"===typeof i&&"function"===typeof arguments[3])throw new Error(P(0));if("function"===typeof e&&"undefined"===typeof i&&(i=e,e=void 0),"undefined"!==typeof i){if("function"!==typeof i)throw new Error(P(1));return i(N)(t,e)}let s=t,n=e,r=new Map,o=r,a=0,l=!1;function h(){o===r&&(o=new Map,r.forEach(((t,e)=>{o.set(e,t)})))}function c(){if(l)throw new Error(P(3));return n}function u(t){if("function"!==typeof t)throw new Error(P(4));if(l)throw new Error(P(5));let e=!0;h();const i=a++;return o.set(i,t),function(){if(e){if(l)throw new Error(P(6));e=!1,h(),o.delete(i),r=null}}}function d(t){if(!z(t))throw new Error(P(7));if("undefined"===typeof t.type)throw new Error(P(8));if("string"!==typeof t.type)throw new Error(P(17));if(l)throw new Error(P(9));try{l=!0,n=s(n,t)}finally{l=!1}return(r=o).forEach((t=>{t()})),t}d({type:L.INIT});return{dispatch:d,subscribe:u,getState:c,replaceReducer:function(t){if("function"!==typeof t)throw new Error(P(10));s=t,d({type:L.REPLACE})},[F]:function(){const t=u;return{subscribe(e){if("object"!==typeof e||null===e)throw new Error(P(11));function i(){const t=e;t.next&&t.next(c())}i();return{unsubscribe:t(i)}},[F](){return this}}}}}function _(t){const e=Object.keys(t),i={};for(let o=0;o<e.length;o++){const s=e[o];0,"function"===typeof t[s]&&(i[s]=t[s])}const s=Object.keys(i);let n;try{!function(t){Object.keys(t).forEach((e=>{const i=t[e];if("undefined"===typeof i(void 0,{type:L.INIT}))throw new Error(P(12));if("undefined"===typeof i(void 0,{type:L.PROBE_UNKNOWN_ACTION()}))throw new Error(P(13))}))}(i)}catch(r){n=r}return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;if(n)throw n;let r=!1;const o={};for(let n=0;n<s.length;n++){const a=s[n],l=i[a],h=t[a],c=l(h,e);if("undefined"===typeof c){e&&e.type;throw new Error(P(14))}o[a]=c,r=r||c!==h}return r=r||s.length!==Object.keys(t).length,r?o:t}}function V(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return 0===e.length?t=>t:1===e.length?e[0]:e.reduce(((t,e)=>function(){return t(e(...arguments))}))}function B(t){return e=>{let{dispatch:i,getState:s}=e;return e=>n=>"function"===typeof n?n(i,s,t):e(n)}}var O=B(),U=B,H=Symbol.for("immer-nothing"),G=Symbol.for("immer-draftable"),W=Symbol.for("immer-state");function j(t){throw new Error("[Immer] minified error nr: ".concat(t,". Full error at: https://bit.ly/3cXEKWf"))}var Y=Object.getPrototypeOf;function X(t){return!!t&&!!t[W]}function q(t){var e;return!!t&&(K(t)||Array.isArray(t)||!!t[G]||!(null===(e=t.constructor)||void 0===e||!e[G])||et(t)||it(t))}var J=Object.prototype.constructor.toString();function K(t){if(!t||"object"!==typeof t)return!1;const e=Y(t);if(null===e)return!0;const i=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return i===Object||"function"==typeof i&&Function.toString.call(i)===J}function Z(t,e){0===Q(t)?Reflect.ownKeys(t).forEach((i=>{e(i,t[i],t)})):t.forEach(((i,s)=>e(s,i,t)))}function Q(t){const e=t[W];return e?e.type_:Array.isArray(t)?1:et(t)?2:it(t)?3:0}function $(t,e){return 2===Q(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function tt(t,e,i){const s=Q(t);2===s?t.set(e,i):3===s?t.add(i):t[e]=i}function et(t){return t instanceof Map}function it(t){return t instanceof Set}function st(t){return t.copy_||t.base_}function nt(t,e){if(et(t))return new Map(t);if(it(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const i=K(t);if(!0===e||"class_only"===e&&!i){const e=Object.getOwnPropertyDescriptors(t);delete e[W];let i=Reflect.ownKeys(e);for(let s=0;s<i.length;s++){const n=i[s],r=e[n];!1===r.writable&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(e[n]={configurable:!0,writable:!0,enumerable:r.enumerable,value:t[n]})}return Object.create(Y(t),e)}{const e=Y(t);if(null!==e&&i)return{...t};const s=Object.create(e);return Object.assign(s,t)}}function rt(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return at(t)||X(t)||!q(t)||(Q(t)>1&&(t.set=t.add=t.clear=t.delete=ot),Object.freeze(t),e&&Object.entries(t).forEach((t=>{let[e,i]=t;return rt(i,!0)}))),t}function ot(){j(2)}function at(t){return Object.isFrozen(t)}var lt,ht={};function ct(t){const e=ht[t];return e||j(0),e}function ut(){return lt}function dt(t,e){e&&(ct("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function ft(t){pt(t),t.drafts_.forEach(mt),t.drafts_=null}function pt(t){t===lt&&(lt=t.parent_)}function gt(t){return lt={drafts_:[],parent_:lt,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mt(t){const e=t[W];0===e.type_||1===e.type_?e.revoke_():e.revoked_=!0}function yt(t,e){e.unfinalizedDrafts_=e.drafts_.length;const i=e.drafts_[0];return void 0!==t&&t!==i?(i[W].modified_&&(ft(e),j(4)),q(t)&&(t=vt(e,t),e.parent_||xt(e,t)),e.patches_&&ct("Patches").generateReplacementPatches_(i[W].base_,t,e.patches_,e.inversePatches_)):t=vt(e,i,[]),ft(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==H?t:void 0}function vt(t,e,i){if(at(e))return e;const s=e[W];if(!s)return Z(e,((n,r)=>bt(t,s,e,n,r,i))),e;if(s.scope_!==t)return e;if(!s.modified_)return xt(t,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const e=s.copy_;let n=e,r=!1;3===s.type_&&(n=new Set(e),e.clear(),r=!0),Z(n,((n,o)=>bt(t,s,e,n,o,i,r))),xt(t,e,!1),i&&t.patches_&&ct("Patches").generatePatches_(s,i,t.patches_,t.inversePatches_)}return s.copy_}function bt(t,e,i,s,n,r,o){if(X(n)){const o=vt(t,n,r&&e&&3!==e.type_&&!$(e.assigned_,s)?r.concat(s):void 0);if(tt(i,s,o),!X(o))return;t.canAutoFreeze_=!1}else o&&i.add(n);if(q(n)&&!at(n)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;vt(t,n),e&&e.scope_.parent_||"symbol"===typeof s||!Object.prototype.propertyIsEnumerable.call(i,s)||xt(t,n)}}function xt(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&rt(e,i)}var St={get(t,e){if(e===W)return t;const i=st(t);if(!$(i,e))return function(t,e,i){var s;const n=Ct(e,i);return n?"value"in n?n.value:null===(s=n.get)||void 0===s?void 0:s.call(t.draft_):void 0}(t,i,e);const s=i[e];return t.finalized_||!q(s)?s:s===wt(t.base_,e)?(kt(t),t.copy_[e]=Rt(s,t)):s},has:(t,e)=>e in st(t),ownKeys:t=>Reflect.ownKeys(st(t)),set(t,e,i){const s=Ct(st(t),e);if(null!==s&&void 0!==s&&s.set)return s.set.call(t.draft_,i),!0;if(!t.modified_){const s=wt(st(t),e),n=null===s||void 0===s?void 0:s[W];if(n&&n.base_===i)return t.copy_[e]=i,t.assigned_[e]=!1,!0;if(function(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}(i,s)&&(void 0!==i||$(t.base_,e)))return!0;kt(t),Mt(t)}return t.copy_[e]===i&&(void 0!==i||e in t.copy_)||Number.isNaN(i)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=i,t.assigned_[e]=!0),!0},deleteProperty:(t,e)=>(void 0!==wt(t.base_,e)||e in t.base_?(t.assigned_[e]=!1,kt(t),Mt(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0),getOwnPropertyDescriptor(t,e){const i=st(t),s=Reflect.getOwnPropertyDescriptor(i,e);return s?{writable:!0,configurable:1!==t.type_||"length"!==e,enumerable:s.enumerable,value:i[e]}:s},defineProperty(){j(11)},getPrototypeOf:t=>Y(t.base_),setPrototypeOf(){j(12)}},At={};function wt(t,e){const i=t[W];return(i?st(i):t)[e]}function Ct(t,e){if(!(e in t))return;let i=Y(t);for(;i;){const t=Object.getOwnPropertyDescriptor(i,e);if(t)return t;i=Y(i)}}function Mt(t){t.modified_||(t.modified_=!0,t.parent_&&Mt(t.parent_))}function kt(t){t.copy_||(t.copy_=nt(t.base_,t.scope_.immer_.useStrictShallowCopy_))}Z(St,((t,e)=>{At[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),At.deleteProperty=function(t,e){return At.set.call(this,t,e,void 0)},At.set=function(t,e,i){return St.set.call(this,t[0],e,i,t[0])};function Rt(t,e){const i=et(t)?ct("MapSet").proxyMap_(t,e):it(t)?ct("MapSet").proxySet_(t,e):function(t,e){const i=Array.isArray(t),s={type_:i?1:0,scope_:e?e.scope_:ut(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=s,r=St;i&&(n=[s],r=At);const{revoke:o,proxy:a}=Proxy.revocable(n,r);return s.draft_=a,s.revoke_=o,a}(t,e);return(e?e.scope_:ut()).drafts_.push(i),i}function Et(t){if(!q(t)||at(t))return t;const e=t[W];let i;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,i=nt(t,e.scope_.immer_.useStrictShallowCopy_)}else i=nt(t,!0);return Z(i,((t,e)=>{tt(i,t,Et(e))})),e&&(e.finalized_=!1),i}var Tt=new class{constructor(t){var e=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,e,i)=>{if("function"===typeof t&&"function"!==typeof e){const i=e;e=t;const s=this;return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i;for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return s.produce(t,(t=>e.call(this,t,...r)))}}let s;if("function"!==typeof e&&j(6),void 0!==i&&"function"!==typeof i&&j(7),q(t)){const n=gt(this),r=Rt(t,void 0);let o=!0;try{s=e(r),o=!1}finally{o?ft(n):pt(n)}return dt(n,i),yt(s,n)}if(!t||"object"!==typeof t){if(s=e(t),void 0===s&&(s=t),s===H&&(s=void 0),this.autoFreeze_&&rt(s,!0),i){const e=[],n=[];ct("Patches").generateReplacementPatches_(t,s,e,n),i(e,n)}return s}j(1)},this.produceWithPatches=(t,i)=>{if("function"===typeof t)return function(i){for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];return e.produceWithPatches(i,(e=>t(e,...n)))};let s,n;const r=this.produce(t,i,((t,e)=>{s=t,n=e}));return[r,s,n]},"boolean"===typeof(null===t||void 0===t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),"boolean"===typeof(null===t||void 0===t?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){q(t)||j(8),X(t)&&(t=function(t){X(t)||j(10);return Et(t)}(t));const e=gt(this),i=Rt(t,void 0);return i[W].isManual_=!0,pt(e),i}finishDraft(t,e){const i=t&&t[W];i&&i.isManual_||j(9);const{scope_:s}=i;return dt(s,e),yt(void 0,s)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let i;for(i=e.length-1;i>=0;i--){const s=e[i];if(0===s.path.length&&"replace"===s.op){t=s.value;break}}i>-1&&(e=e.slice(i+1));const s=ct("Patches").applyPatches_;return X(t)?s(t,e):this.produce(t,(t=>s(t,e)))}},It=Tt.produce;Tt.produceWithPatches.bind(Tt),Tt.setAutoFreeze.bind(Tt),Tt.setUseStrictShallowCopy.bind(Tt),Tt.applyPatches.bind(Tt),Tt.createDraft.bind(Tt),Tt.finishDraft.bind(Tt);var Pt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?V:V.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ft(t,e){function i(){if(e){let i=e(...arguments);if(!i)throw new Error(te(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:arguments.length<=0?void 0:arguments[0]}}return i.toString=()=>"".concat(t),i.type=t,i.match=e=>function(t){return z(t)&&"type"in t&&"string"===typeof t.type}(e)&&e.type===t,i}var Dt=class t extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,t.prototype)}static get[Symbol.species](){return t}concat(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return super.concat.apply(this,e)}prepend(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return 1===i.length&&Array.isArray(i[0])?new t(...i[0].concat(this)):new t(...i.concat(this))}};function Lt(t){return q(t)?It(t,(()=>{})):t}function zt(t,e,i){if(t.has(e)){let s=t.get(e);return i.update&&(s=i.update(s,e,t),t.set(e,s)),s}if(!i.insert)throw new Error(te(10));const s=i.insert(e,t);return t.set(e,s),s}var Nt="RTK_autoBatch",_t=t=>e=>{setTimeout(e,t)},Vt="undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:_t(10),Bt=t=>function(e){const{autoBatch:i=!0}=null!==e&&void 0!==e?e:{};let s=new Dt(t);return i&&s.push(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return e=>function(){const i=e(...arguments);let s=!0,n=!1,r=!1;const o=new Set,a="tick"===t.type?queueMicrotask:"raf"===t.type?Vt:"callback"===t.type?t.queueNotification:_t(t.timeout),l=()=>{r=!1,n&&(n=!1,o.forEach((t=>t())))};return Object.assign({},i,{subscribe(t){const e=i.subscribe((()=>s&&t()));return o.add(t),()=>{e(),o.delete(t)}},dispatch(t){try{var e;return s=!(null!==t&&void 0!==t&&null!==(e=t.meta)&&void 0!==e&&e[Nt]),n=!s,n&&(r||(r=!0,a(l))),i.dispatch(t)}finally{s=!0}}})}}("object"===typeof i?i:void 0)),s};function Ot(t){const e={},i=[];let s;const n={addCase(t,i){const s="string"===typeof t?t:t.type;if(!s)throw new Error(te(28));if(s in e)throw new Error(te(29));return e[s]=i,n},addMatcher:(t,e)=>(i.push({matcher:t,reducer:e}),n),addDefaultCase:t=>(s=t,n)};return t(n),[e,i,s]}var Ut=Symbol.for("rtk-slice-createasyncthunk");function Ht(t,e){return"".concat(t,"/").concat(e)}function Gt(){var t;let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=null===e||void 0===e||null===(t=e.asyncThunk)||void 0===t?void 0:t[Ut];return function(t){const{name:e,reducerPath:s=e}=t;if(!e)throw new Error(te(11));const n=("function"===typeof t.reducers?t.reducers(function(){function t(t,e){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...e}}return t.withTypes=()=>t,{reducer:t=>Object.assign({[t.name](){return t(...arguments)}}[t.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(t,e)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:e}),asyncThunk:t}}()):t.reducers)||{},r=Object.keys(n),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(t,e){const i="string"===typeof t?t:t.type;if(!i)throw new Error(te(12));if(i in o.sliceCaseReducersByType)throw new Error(te(13));return o.sliceCaseReducersByType[i]=e,a},addMatcher:(t,e)=>(o.sliceMatchers.push({matcher:t,reducer:e}),a),exposeAction:(t,e)=>(o.actionCreators[t]=e,a),exposeCaseReducer:(t,e)=>(o.sliceCaseReducersByName[t]=e,a)};function l(){const[e={},i=[],s]="function"===typeof t.extraReducers?Ot(t.extraReducers):[t.extraReducers],n={...e,...o.sliceCaseReducersByType};return function(t,e){let i,[s,n,r]=Ot(e);if(function(t){return"function"===typeof t}(t))i=()=>Lt(t());else{const e=Lt(t);i=()=>e}function o(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(),e=arguments.length>1?arguments[1]:void 0,o=[s[e.type],...n.filter((t=>{let{matcher:i}=t;return i(e)})).map((t=>{let{reducer:e}=t;return e}))];return 0===o.filter((t=>!!t)).length&&(o=[r]),o.reduce(((t,i)=>{if(i){if(X(t)){const s=i(t,e);return void 0===s?t:s}if(q(t))return It(t,(t=>i(t,e)));{const s=i(t,e);if(void 0===s){if(null===t)return t;throw new Error(te(9))}return s}}return t}),t)}return o.getInitialState=i,o}(t.initialState,(t=>{for(let e in n)t.addCase(e,n[e]);for(let e of o.sliceMatchers)t.addMatcher(e.matcher,e.reducer);for(let e of i)t.addMatcher(e.matcher,e.reducer);s&&t.addDefaultCase(s)}))}r.forEach((s=>{const r=n[s],o={reducerName:s,type:Ht(e,s),createNotation:"function"===typeof t.reducers};!function(t){return"asyncThunk"===t._reducerDefinitionType}(r)?function(t,e,i){let s,n,{type:r,reducerName:o,createNotation:a}=t;if("reducer"in e){if(a&&!function(t){return"reducerWithPrepare"===t._reducerDefinitionType}(e))throw new Error(te(17));s=e.reducer,n=e.prepare}else s=e;i.addCase(r,s).exposeCaseReducer(o,s).exposeAction(o,n?Ft(r,n):Ft(r))}(o,r,a):function(t,e,i,s){let{type:n,reducerName:r}=t;if(!s)throw new Error(te(18));const{payloadCreator:o,fulfilled:a,pending:l,rejected:h,settled:c,options:u}=e,d=s(n,o,u);i.exposeAction(r,d),a&&i.addCase(d.fulfilled,a);l&&i.addCase(d.pending,l);h&&i.addCase(d.rejected,h);c&&i.addMatcher(d.settled,c);i.exposeCaseReducer(r,{fulfilled:a||Yt,pending:l||Yt,rejected:h||Yt,settled:c||Yt})}(o,r,a,i)}));const h=t=>t,c=new Map;let u;function d(t,e){return u||(u=l()),u(t,e)}function f(){return u||(u=l()),u.getInitialState()}function p(e){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function s(t){let s=t[e];return"undefined"===typeof s&&i&&(s=f()),s}function n(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;const s=zt(c,i,{insert:()=>new WeakMap});return zt(s,e,{insert:()=>{const s={};for(const[r,o]of Object.entries(null!==(n=t.selectors)&&void 0!==n?n:{})){var n;s[r]=Wt(o,e,f,i)}return s}})}return{reducerPath:e,getSelectors:n,get selectors(){return n(s)},selectSlice:s}}const g={name:e,reducer:d,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:f,...p(s),injectInto(t){let{reducerPath:e,...i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=null!==e&&void 0!==e?e:s;return t.inject({reducerPath:n,reducer:d},i),{...g,...p(n,!0)}}};return g}}function Wt(t,e,i,s){function n(n){let r=e(n);"undefined"===typeof r&&s&&(r=i());for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return t(r,...a)}return n.unwrapped=t,n}var jt=Gt();function Yt(){}var Xt="listener",qt="completed",Jt="cancelled";"task-".concat(Jt),"task-".concat(qt),"".concat(Xt,"-").concat(Jt),"".concat(Xt,"-").concat(qt);var{assign:Kt}=Object,Zt="listenerMiddleware",Qt=Kt(Ft("".concat(Zt,"/add")),{withTypes:()=>Qt}),$t=("".concat(Zt,"/removeAll"),Kt(Ft("".concat(Zt,"/remove")),{withTypes:()=>$t}));Symbol.for("rtk-state-proxy-original");function te(t){return"Minified Redux Toolkit error #".concat(t,"; visit https://redux-toolkit.js.org/Errors?code=").concat(t," for the full message or use the non-minified dev environment for full errors. ")}const ee={stateSettingsWindow:!1,stateLogWindow:!1,serverUrl:(()=>{if("SERVER_URL"in window.cfgApp&&window.cfgApp.SERVER_URL.length)return window.cfgApp.SERVER_URL;return("https:"===window.location.protocol?"wss:":"ws:")+"//"+(window.location.host.length?window.location.host:"localhost:8080")+"/"})(),readySocket:!1,theme:(()=>{let t=localStorage.getItem("features-color-theme");return t||"dark"})(),view:(()=>{let t=localStorage.getItem("features-view");return t?JSON.parse(t):{maxWidth:!1,displayedChan:0,chartSamplesChan:!0,chartSpectrumChan:!0,chartCrossSpectrum:!0,chartPhaseSpectrum:!0,chartBearing:!0}})()};document.body.setAttribute("data-theme",ee.theme);const ie=jt({name:"appData",initialState:ee,reducers:{updateStateSettingsWindow:(t,e)=>{t.stateSettingsWindow=e.payload},updateStateLogWindow:(t,e)=>{t.stateLogWindow=e.payload},updateServerUrl:(t,e)=>{t.serverUrl=e.payload},updateReadySocket:(t,e)=>{t.readySocket=e.payload},updateTheme:(t,e)=>{t.theme=e.payload,localStorage.setItem("features-color-theme",e.payload)},updateView:(t,e)=>{Object.assign(t.view,e.payload),localStorage.setItem("features-view",JSON.stringify(t.view))}}}),{updateStateSettingsWindow:se,updateStateLogWindow:ne,updateServerUrl:re,updateReadySocket:oe,updateTheme:ae,updateView:le}=ie.actions,he=ie.reducer;var ce="delete",ue=5,de=1<<ue,fe=de-1,pe={};function ge(t){t&&(t.value=!0)}function me(){}function ye(t){return void 0===t.size&&(t.size=t.__iterate(be)),t.size}function ve(t,e){if("number"!==typeof e){var i=e>>>0;if(""+i!==e||4294967295===i)return NaN;e=i}return e<0?ye(t)+e:e}function be(){return!0}function xe(t,e,i){return(0===t&&!Ce(t)||void 0!==i&&t<=-i)&&(void 0===e||void 0!==i&&e>=i)}function Se(t,e){return we(t,e,0)}function Ae(t,e){return we(t,e,e)}function we(t,e,i){return void 0===t?i:Ce(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function Ce(t){return t<0||0===t&&1/t===-1/0}var Me="@@__IMMUTABLE_ITERABLE__@@";function ke(t){return Boolean(t&&t[Me])}var Re="@@__IMMUTABLE_KEYED__@@";function Ee(t){return Boolean(t&&t[Re])}var Te="@@__IMMUTABLE_INDEXED__@@";function Ie(t){return Boolean(t&&t[Te])}function Pe(t){return Ee(t)||Ie(t)}var Fe=function(t){return ke(t)?t:ni(t)},De=function(t){function e(t){return Ee(t)?t:ri(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Fe),Le=function(t){function e(t){return Ie(t)?t:oi(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Fe),ze=function(t){function e(t){return ke(t)&&!Pe(t)?t:ai(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Fe);Fe.Keyed=De,Fe.Indexed=Le,Fe.Set=ze;var Ne="@@__IMMUTABLE_SEQ__@@";function _e(t){return Boolean(t&&t[Ne])}var Ve="@@__IMMUTABLE_RECORD__@@";function Be(t){return Boolean(t&&t[Ve])}function Oe(t){return ke(t)||Be(t)}var Ue="@@__IMMUTABLE_ORDERED__@@";function He(t){return Boolean(t&&t[Ue])}var Ge=0,We=1,je=2,Ye="function"===typeof Symbol&&Symbol.iterator,Xe="@@iterator",qe=Ye||Xe,Je=function(t){this.next=t};function Ke(t,e,i,s){var n=0===t?e:1===t?i:[e,i];return s?s.value=n:s={value:n,done:!1},s}function Ze(){return{value:void 0,done:!0}}function Qe(t){return!!Array.isArray(t)||!!ei(t)}function $e(t){return t&&"function"===typeof t.next}function ti(t){var e=ei(t);return e&&e.call(t)}function ei(t){var e=t&&(Ye&&t[Ye]||t[Xe]);if("function"===typeof e)return e}Je.prototype.toString=function(){return"[Iterator]"},Je.KEYS=Ge,Je.VALUES=We,Je.ENTRIES=je,Je.prototype.inspect=Je.prototype.toSource=function(){return this.toString()},Je.prototype[qe]=function(){return this};var ii=Object.prototype.hasOwnProperty;function si(t){return!(!Array.isArray(t)&&"string"!==typeof t)||t&&"object"===typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var ni=function(t){function e(t){return void 0===t||null===t?di():Oe(t)?t.toSeq():function(t){var e=gi(t);if(e)return function(t){var e=ei(t);return e&&e===t.entries}(t)?e.fromEntrySeq():function(t){var e=ei(t);return e&&e===t.keys}(t)?e.toSetSeq():e;if("object"===typeof t)return new hi(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var i=this._cache;if(i){for(var s=i.length,n=0;n!==s;){var r=i[e?s-++n:n++];if(!1===t(r[1],r[0],this))break}return n}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var i=this._cache;if(i){var s=i.length,n=0;return new Je((function(){if(n===s)return{value:void 0,done:!0};var r=i[e?s-++n:n++];return Ke(t,r[0],r[1])}))}return this.__iteratorUncached(t,e)},e}(Fe),ri=function(t){function e(t){return void 0===t||null===t?di().toKeyedSeq():ke(t)?Ee(t)?t.toSeq():t.fromEntrySeq():Be(t)?t.toSeq():fi(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(ni),oi=function(t){function e(t){return void 0===t||null===t?di():ke(t)?Ee(t)?t.entrySeq():t.toIndexedSeq():Be(t)?t.toSeq().entrySeq():pi(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(ni),ai=function(t){function e(t){return(ke(t)&&!Pe(t)?t:oi(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(ni);ni.isSeq=_e,ni.Keyed=ri,ni.Set=ai,ni.Indexed=oi,ni.prototype[Ne]=!0;var li=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[ve(this,t)]:e},e.prototype.__iterate=function(t,e){for(var i=this._array,s=i.length,n=0;n!==s;){var r=e?s-++n:n++;if(!1===t(i[r],r,this))break}return n},e.prototype.__iterator=function(t,e){var i=this._array,s=i.length,n=0;return new Je((function(){if(n===s)return{value:void 0,done:!0};var r=e?s-++n:n++;return Ke(t,r,i[r])}))},e}(oi),hi=function(t){function e(t){var e=Object.keys(t).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return ii.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var i=this._object,s=this._keys,n=s.length,r=0;r!==n;){var o=s[e?n-++r:r++];if(!1===t(i[o],o,this))break}return r},e.prototype.__iterator=function(t,e){var i=this._object,s=this._keys,n=s.length,r=0;return new Je((function(){if(r===n)return{value:void 0,done:!0};var o=s[e?n-++r:r++];return Ke(t,o,i[o])}))},e}(ri);hi.prototype[Ue]=!0;var ci,ui=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var i=ti(this._collection),s=0;if($e(i))for(var n;!(n=i.next()).done&&!1!==t(n.value,s++,this););return s},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var i=ti(this._collection);if(!$e(i))return new Je(Ze);var s=0;return new Je((function(){var e=i.next();return e.done?e:Ke(t,s++,e.value)}))},e}(oi);function di(){return ci||(ci=new li([]))}function fi(t){var e=gi(t);if(e)return e.fromEntrySeq();if("object"===typeof t)return new hi(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function pi(t){var e=gi(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function gi(t){return si(t)?new li(t):Qe(t)?new ui(t):void 0}var mi="@@__IMMUTABLE_MAP__@@";function yi(t){return Boolean(t&&t[mi])}function vi(t){return yi(t)&&He(t)}function bi(t){return Boolean(t&&"function"===typeof t.equals&&"function"===typeof t.hashCode)}function xi(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if("function"===typeof t.valueOf&&"function"===typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(bi(t)&&bi(e)&&t.equals(e))}var Si="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var i=65535&(t|=0),s=65535&(e|=0);return i*s+((t>>>16)*s+i*(e>>>16)<<16>>>0)|0};function Ai(t){return t>>>1&1073741824|3221225471&t}var wi=Object.prototype.valueOf;function Ci(t){if(null==t)return Mi(t);if("function"===typeof t.hashCode)return Ai(t.hashCode(t));var e,i=(e=t).valueOf!==wi&&"function"===typeof e.valueOf?e.valueOf(e):e;if(null==i)return Mi(i);switch(typeof i){case"boolean":return i?1108378657:1108378656;case"number":return function(t){if(t!==t||t===1/0)return 0;var e=0|t;e!==t&&(e^=4294967295*t);for(;t>4294967295;)e^=t/=4294967295;return Ai(e)}(i);case"string":return i.length>zi?function(t){var e=Vi[t];void 0===e&&(e=ki(t),_i===Ni&&(_i=0,Vi={}),_i++,Vi[t]=e);return e}(i):ki(i);case"object":case"function":return function(t){var e;if(Pi&&void 0!==(e=Ii.get(t)))return e;if(e=t[Li],void 0!==e)return e;if(!Ei){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Li]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}if(e=Ti(),Pi)Ii.set(t,e);else{if(void 0!==Ri&&!1===Ri(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Ei)Object.defineProperty(t,Li,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Li]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Li]=e}}return e}(i);case"symbol":return function(t){var e=Fi[t];if(void 0!==e)return e;return e=Ti(),Fi[t]=e,e}(i);default:if("function"===typeof i.toString)return ki(i.toString());throw new Error("Value type "+typeof i+" cannot be hashed.")}}function Mi(t){return null===t?1108378658:1108378659}function ki(t){for(var e=0,i=0;i<t.length;i++)e=31*e+t.charCodeAt(i)|0;return Ai(e)}var Ri=Object.isExtensible,Ei=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function Ti(){var t=++Di;return 1073741824&Di&&(Di=0),t}var Ii,Pi="function"===typeof WeakMap;Pi&&(Ii=new WeakMap);var Fi=Object.create(null),Di=0,Li="__immutablehash__";"function"===typeof Symbol&&(Li=Symbol(Li));var zi=16,Ni=255,_i=0,Vi={},Bi=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=ji(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var i=this,s=Wi(this,t,e);return this._useKeys||(s.valueSeq=function(){return i._iter.toSeq().map(t,e)}),s},e.prototype.__iterate=function(t,e){var i=this;return this._iter.__iterate((function(e,s){return t(e,s,i)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(ri);Bi.prototype[Ue]=!0;var Oi=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var i=this,s=0;return e&&ye(this),this._iter.__iterate((function(n){return t(n,e?i.size-++s:s++,i)}),e)},e.prototype.__iterator=function(t,e){var i=this,s=this._iter.__iterator(We,e),n=0;return e&&ye(this),new Je((function(){var r=s.next();return r.done?r:Ke(t,e?i.size-++n:n++,r.value,r)}))},e}(oi),Ui=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var i=this;return this._iter.__iterate((function(e){return t(e,e,i)}),e)},e.prototype.__iterator=function(t,e){var i=this._iter.__iterator(We,e);return new Je((function(){var e=i.next();return e.done?e:Ke(t,e.value,e.value,e)}))},e}(ai),Hi=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var i=this;return this._iter.__iterate((function(e){if(e){es(e);var s=ke(e);return t(s?e.get(1):e[1],s?e.get(0):e[0],i)}}),e)},e.prototype.__iterator=function(t,e){var i=this._iter.__iterator(We,e);return new Je((function(){for(;;){var e=i.next();if(e.done)return e;var s=e.value;if(s){es(s);var n=ke(s);return Ke(t,n?s.get(0):s[0],n?s.get(1):s[1],e)}}}))},e}(ri);function Gi(t){var e=ss(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=ns,e.__iterateUncached=function(e,i){var s=this;return t.__iterate((function(t,i){return!1!==e(i,t,s)}),i)},e.__iteratorUncached=function(e,i){if(e===je){var s=t.__iterator(e,i);return new Je((function(){var t=s.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(e===We?Ge:We,i)},e}function Wi(t,e,i){var s=ss(t);return s.size=t.size,s.has=function(e){return t.has(e)},s.get=function(s,n){var r=t.get(s,pe);return r===pe?n:e.call(i,r,s,t)},s.__iterateUncached=function(s,n){var r=this;return t.__iterate((function(t,n,o){return!1!==s(e.call(i,t,n,o),n,r)}),n)},s.__iteratorUncached=function(s,n){var r=t.__iterator(je,n);return new Je((function(){var n=r.next();if(n.done)return n;var o=n.value,a=o[0];return Ke(s,a,e.call(i,o[1],a,t),n)}))},s}function ji(t,e){var i=this,s=ss(t);return s._iter=t,s.size=t.size,s.reverse=function(){return t},t.flip&&(s.flip=function(){var e=Gi(t);return e.reverse=function(){return t.flip()},e}),s.get=function(i,s){return t.get(e?i:-1-i,s)},s.has=function(i){return t.has(e?i:-1-i)},s.includes=function(e){return t.includes(e)},s.cacheResult=ns,s.__iterate=function(i,s){var n=this,r=0;return s&&ye(t),t.__iterate((function(t,o){return i(t,e?o:s?n.size-++r:r++,n)}),!s)},s.__iterator=function(s,n){var r=0;n&&ye(t);var o=t.__iterator(je,!n);return new Je((function(){var t=o.next();if(t.done)return t;var a=t.value;return Ke(s,e?a[0]:n?i.size-++r:r++,a[1],t)}))},s}function Yi(t,e,i,s){var n=ss(t);return s&&(n.has=function(s){var n=t.get(s,pe);return n!==pe&&!!e.call(i,n,s,t)},n.get=function(s,n){var r=t.get(s,pe);return r!==pe&&e.call(i,r,s,t)?r:n}),n.__iterateUncached=function(n,r){var o=this,a=0;return t.__iterate((function(t,r,l){if(e.call(i,t,r,l))return a++,n(t,s?r:a-1,o)}),r),a},n.__iteratorUncached=function(n,r){var o=t.__iterator(je,r),a=0;return new Je((function(){for(;;){var r=o.next();if(r.done)return r;var l=r.value,h=l[0],c=l[1];if(e.call(i,c,h,t))return Ke(n,s?h:a++,c,r)}}))},n}function Xi(t,e,i,s){var n=t.size;if(xe(e,i,n))return t;if("undefined"===typeof n&&(e<0||i<0))return Xi(t.toSeq().cacheResult(),e,i,s);var r,o=Se(e,n),a=Ae(i,n)-o;a===a&&(r=a<0?0:a);var l=ss(t);return l.size=0===r?r:t.size&&r||void 0,!s&&_e(t)&&r>=0&&(l.get=function(e,i){return(e=ve(this,e))>=0&&e<r?t.get(e+o,i):i}),l.__iterateUncached=function(e,i){var n=this;if(0===r)return 0;if(i)return this.cacheResult().__iterate(e,i);var a=0,l=!0,h=0;return t.__iterate((function(t,i){if(!l||!(l=a++<o))return h++,!1!==e(t,s?i:h-1,n)&&h!==r})),h},l.__iteratorUncached=function(e,i){if(0!==r&&i)return this.cacheResult().__iterator(e,i);if(0===r)return new Je(Ze);var n=t.__iterator(e,i),a=0,l=0;return new Je((function(){for(;a++<o;)n.next();if(++l>r)return{value:void 0,done:!0};var t=n.next();return s||e===We||t.done?t:Ke(e,l-1,e===Ge?void 0:t.value[1],t)}))},l}function qi(t,e,i,s){var n=ss(t);return n.__iterateUncached=function(n,r){var o=this;if(r)return this.cacheResult().__iterate(n,r);var a=!0,l=0;return t.__iterate((function(t,r,h){if(!a||!(a=e.call(i,t,r,h)))return l++,n(t,s?r:l-1,o)})),l},n.__iteratorUncached=function(n,r){var o=this;if(r)return this.cacheResult().__iterator(n,r);var a=t.__iterator(je,r),l=!0,h=0;return new Je((function(){var t,r,c;do{if((t=a.next()).done)return s||n===We?t:Ke(n,h++,n===Ge?void 0:t.value[1],t);var u=t.value;r=u[0],c=u[1],l&&(l=e.call(i,c,r,o))}while(l);return n===je?t:Ke(n,r,c,t)}))},n}function Ji(t,e,i){var s=ss(t);return s.__iterateUncached=function(n,r){if(r)return this.cacheResult().__iterate(n,r);var o=0,a=!1;return function t(l,h){l.__iterate((function(r,l){return(!e||h<e)&&ke(r)?t(r,h+1):(o++,!1===n(r,i?l:o-1,s)&&(a=!0)),!a}),r)}(t,0),o},s.__iteratorUncached=function(s,n){if(n)return this.cacheResult().__iterator(s,n);var r=t.__iterator(s,n),o=[],a=0;return new Je((function(){for(;r;){var t=r.next();if(!1===t.done){var l=t.value;if(s===je&&(l=l[1]),e&&!(o.length<e)||!ke(l))return i?t:Ke(s,a++,l,t);o.push(r),r=l.__iterator(s,n)}else r=o.pop()}return{value:void 0,done:!0}}))},s}function Ki(t,e,i){e||(e=rs);var s=Ee(t),n=0,r=t.toSeq().map((function(e,s){return[s,e,n++,i?i(e,s,t):e]})).valueSeq().toArray();return r.sort((function(t,i){return e(t[3],i[3])||t[2]-i[2]})).forEach(s?function(t,e){r[e].length=2}:function(t,e){r[e]=t[1]}),s?ri(r):Ie(t)?oi(r):ai(r)}function Zi(t,e,i){if(e||(e=rs),i){var s=t.toSeq().map((function(e,s){return[e,i(e,s,t)]})).reduce((function(t,i){return Qi(e,t[1],i[1])?i:t}));return s&&s[0]}return t.reduce((function(t,i){return Qi(e,t,i)?i:t}))}function Qi(t,e,i){var s=t(i,e);return 0===s&&i!==e&&(void 0===i||null===i||i!==i)||s>0}function $i(t,e,i,s){var n=ss(t),r=new li(i).map((function(t){return t.size}));return n.size=s?r.max():r.min(),n.__iterate=function(t,e){for(var i,s=this.__iterator(We,e),n=0;!(i=s.next()).done&&!1!==t(i.value,n++,this););return n},n.__iteratorUncached=function(t,n){var r=i.map((function(t){return t=Fe(t),ti(n?t.reverse():t)})),o=0,a=!1;return new Je((function(){var i;return a||(i=r.map((function(t){return t.next()})),a=s?i.every((function(t){return t.done})):i.some((function(t){return t.done}))),a?{value:void 0,done:!0}:Ke(t,o++,e.apply(null,i.map((function(t){return t.value}))))}))},n}function ts(t,e){return t===e?t:_e(t)?e:t.constructor(e)}function es(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function is(t){return Ee(t)?De:Ie(t)?Le:ze}function ss(t){return Object.create((Ee(t)?ri:Ie(t)?oi:ai).prototype)}function ns(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):ni.prototype.cacheResult.call(this)}function rs(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function os(t,e){e=e||0;for(var i=Math.max(0,t.length-e),s=new Array(i),n=0;n<i;n++)s[n]=t[n+e];return s}function as(t,e){if(!t)throw new Error(e)}function ls(t){as(t!==1/0,"Cannot perform this action with an infinite size.")}function hs(t){if(si(t)&&"string"!==typeof t)return t;if(He(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}Oi.prototype.cacheResult=Bi.prototype.cacheResult=Ui.prototype.cacheResult=Hi.prototype.cacheResult=ns;var cs=Object.prototype.toString;function us(t){if(!t||"object"!==typeof t||"[object Object]"!==cs.call(t))return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;for(var i=e,s=Object.getPrototypeOf(e);null!==s;)i=s,s=Object.getPrototypeOf(i);return i===e}function ds(t){return"object"===typeof t&&(Oe(t)||Array.isArray(t)||us(t))}function fs(t){try{return"string"===typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function ps(t,e){return Oe(t)?t.has(e):ds(t)&&ii.call(t,e)}function gs(t,e,i){return Oe(t)?t.get(e,i):ps(t,e)?"function"===typeof t.get?t.get(e):t[e]:i}function ms(t){if(Array.isArray(t))return os(t);var e={};for(var i in t)ii.call(t,i)&&(e[i]=t[i]);return e}function ys(t,e){if(!ds(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Oe(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!ii.call(t,e))return t;var i=ms(t);return Array.isArray(i)?i.splice(e,1):delete i[e],i}function vs(t,e,i){if(!ds(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Oe(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,i)}if(ii.call(t,e)&&i===t[e])return t;var s=ms(t);return s[e]=i,s}function bs(t,e,i,s){s||(s=i,i=void 0);var n=xs(Oe(t),t,hs(e),0,i,s);return n===pe?i:n}function xs(t,e,i,s,n,r){var o=e===pe;if(s===i.length){var a=o?n:e,l=r(a);return l===a?e:l}if(!o&&!ds(e))throw new TypeError("Cannot update within non-data-structure value in path ["+i.slice(0,s).map(fs)+"]: "+e);var h=i[s],c=o?pe:gs(e,h,pe),u=xs(c===pe?t:Oe(c),c,i,s+1,n,r);return u===c?e:u===pe?ys(e,h):vs(o?t?$s():{}:e,h,u)}function Ss(t,e,i){return bs(t,e,pe,(function(){return i}))}function As(t,e){return Ss(this,t,e)}function ws(t,e){return bs(t,e,(function(){return pe}))}function Cs(t){return ws(this,t)}function Ms(t,e,i,s){return bs(t,[e],i,s)}function ks(t,e,i){return 1===arguments.length?t(this):Ms(this,t,e,i)}function Rs(t,e,i){return bs(this,t,e,i)}function Es(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Is(this,t)}function Ts(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];if("function"!==typeof t)throw new TypeError("Invalid merger function: "+t);return Is(this,e,t)}function Is(t,e,i){for(var s=[],n=0;n<e.length;n++){var r=De(e[n]);0!==r.size&&s.push(r)}return 0===s.length?t:0!==t.toSeq().size||t.__ownerID||1!==s.length?t.withMutations((function(t){for(var e=i?function(e,s){Ms(t,s,pe,(function(t){return t===pe?e:i(t,e,s)}))}:function(e,i){t.set(i,e)},n=0;n<s.length;n++)s[n].forEach(e)})):t.constructor(s[0])}function Ps(t,e,i){return Fs(t,e,function(t){function e(i,s,n){return ds(i)&&ds(s)&&function(t,e){var i=ni(t),s=ni(e);return Ie(i)===Ie(s)&&Ee(i)===Ee(s)}(i,s)?Fs(i,[s],e):t?t(i,s,n):s}return e}(i))}function Fs(t,e,i){if(!ds(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Oe(t))return"function"===typeof i&&t.mergeWith?t.mergeWith.apply(t,[i].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var s=Array.isArray(t),n=t,r=s?Le:De,o=s?function(e){n===t&&(n=ms(n)),n.push(e)}:function(e,s){var r=ii.call(n,s),o=r&&i?i(n[s],e,s):e;r&&o===n[s]||(n===t&&(n=ms(n)),n[s]=o)},a=0;a<e.length;a++)r(e[a]).forEach(o);return n}function Ds(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ps(this,t)}function Ls(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return Ps(this,e,t)}function zs(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return bs(this,t,$s(),(function(t){return Fs(t,e)}))}function Ns(t){for(var e=[],i=arguments.length-1;i-- >0;)e[i]=arguments[i+1];return bs(this,t,$s(),(function(t){return Ps(t,e)}))}function _s(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Vs(){return this.__ownerID?this:this.__ensureOwner(new me)}function Bs(){return this.__ensureOwner()}function Os(){return this.__altered}var Us=function(t){function e(e){return void 0===e||null===e?$s():yi(e)&&!He(e)?e:$s().withMutations((function(i){var s=t(e);ls(s.size),s.forEach((function(t,e){return i.set(e,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return $s().withMutations((function(e){for(var i=0;i<t.length;i+=2){if(i+1>=t.length)throw new Error("Missing value for key: "+t[i]);e.set(t[i],t[i+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return tn(this,t,e)},e.prototype.remove=function(t){return tn(this,t,pe)},e.prototype.deleteAll=function(t){var e=Fe(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):$s()},e.prototype.sort=function(t){return kn(Ki(this,t))},e.prototype.sortBy=function(t,e){return kn(Ki(this,e,t))},e.prototype.map=function(t,e){var i=this;return this.withMutations((function(s){s.forEach((function(n,r){s.set(r,t.call(e,n,r,i))}))}))},e.prototype.__iterator=function(t,e){return new Js(this,t,e)},e.prototype.__iterate=function(t,e){var i=this,s=0;return this._root&&this._root.iterate((function(e){return s++,t(e[1],e[0],i)}),e),s},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Qs(this.size,this._root,t,this.__hash):0===this.size?$s():(this.__ownerID=t,this.__altered=!1,this)},e}(De);Us.isMap=yi;var Hs=Us.prototype;Hs[mi]=!0,Hs[ce]=Hs.remove,Hs.removeAll=Hs.deleteAll,Hs.setIn=As,Hs.removeIn=Hs.deleteIn=Cs,Hs.update=ks,Hs.updateIn=Rs,Hs.merge=Hs.concat=Es,Hs.mergeWith=Ts,Hs.mergeDeep=Ds,Hs.mergeDeepWith=Ls,Hs.mergeIn=zs,Hs.mergeDeepIn=Ns,Hs.withMutations=_s,Hs.wasAltered=Os,Hs.asImmutable=Bs,Hs["@@transducer/init"]=Hs.asMutable=Vs,Hs["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},Hs["@@transducer/result"]=function(t){return t.asImmutable()};var Gs=function(t,e){this.ownerID=t,this.entries=e};Gs.prototype.get=function(t,e,i,s){for(var n=this.entries,r=0,o=n.length;r<o;r++)if(xi(i,n[r][0]))return n[r][1];return s},Gs.prototype.update=function(t,e,i,s,n,r,o){for(var a=n===pe,l=this.entries,h=0,c=l.length;h<c&&!xi(s,l[h][0]);h++);var u=h<c;if(u?l[h][1]===n:a)return this;if(ge(o),(a||!u)&&ge(r),!a||1!==l.length){if(!u&&!a&&l.length>=an)return function(t,e,i,s){t||(t=new me);for(var n=new Xs(t,Ci(i),[i,s]),r=0;r<e.length;r++){var o=e[r];n=n.update(t,0,void 0,o[0],o[1])}return n}(t,l,s,n);var d=t&&t===this.ownerID,f=d?l:os(l);return u?a?h===c-1?f.pop():f[h]=f.pop():f[h]=[s,n]:f.push([s,n]),d?(this.entries=f,this):new Gs(t,f)}};var Ws=function(t,e,i){this.ownerID=t,this.bitmap=e,this.nodes=i};Ws.prototype.get=function(t,e,i,s){void 0===e&&(e=Ci(i));var n=1<<((0===t?e:e>>>t)&fe),r=this.bitmap;return 0===(r&n)?s:this.nodes[rn(r&n-1)].get(t+ue,e,i,s)},Ws.prototype.update=function(t,e,i,s,n,r,o){void 0===i&&(i=Ci(s));var a=(0===e?i:i>>>e)&fe,l=1<<a,h=this.bitmap,c=0!==(h&l);if(!c&&n===pe)return this;var u=rn(h&l-1),d=this.nodes,f=c?d[u]:void 0,p=en(f,t,e+ue,i,s,n,r,o);if(p===f)return this;if(!c&&p&&d.length>=ln)return function(t,e,i,s,n){for(var r=0,o=new Array(de),a=0;0!==i;a++,i>>>=1)o[a]=1&i?e[r++]:void 0;return o[s]=n,new js(t,r+1,o)}(t,d,h,a,p);if(c&&!p&&2===d.length&&sn(d[1^u]))return d[1^u];if(c&&p&&1===d.length&&sn(p))return p;var g=t&&t===this.ownerID,m=c?p?h:h^l:h|l,y=c?p?on(d,u,p,g):function(t,e,i){var s=t.length-1;if(i&&e===s)return t.pop(),t;for(var n=new Array(s),r=0,o=0;o<s;o++)o===e&&(r=1),n[o]=t[o+r];return n}(d,u,g):function(t,e,i,s){var n=t.length+1;if(s&&e+1===n)return t[e]=i,t;for(var r=new Array(n),o=0,a=0;a<n;a++)a===e?(r[a]=i,o=-1):r[a]=t[a+o];return r}(d,u,p,g);return g?(this.bitmap=m,this.nodes=y,this):new Ws(t,m,y)};var js=function(t,e,i){this.ownerID=t,this.count=e,this.nodes=i};js.prototype.get=function(t,e,i,s){void 0===e&&(e=Ci(i));var n=(0===t?e:e>>>t)&fe,r=this.nodes[n];return r?r.get(t+ue,e,i,s):s},js.prototype.update=function(t,e,i,s,n,r,o){void 0===i&&(i=Ci(s));var a=(0===e?i:i>>>e)&fe,l=n===pe,h=this.nodes,c=h[a];if(l&&!c)return this;var u=en(c,t,e+ue,i,s,n,r,o);if(u===c)return this;var d=this.count;if(c){if(!u&&--d<hn)return function(t,e,i,s){for(var n=0,r=0,o=new Array(i),a=0,l=1,h=e.length;a<h;a++,l<<=1){var c=e[a];void 0!==c&&a!==s&&(n|=l,o[r++]=c)}return new Ws(t,n,o)}(t,h,d,a)}else d++;var f=t&&t===this.ownerID,p=on(h,a,u,f);return f?(this.count=d,this.nodes=p,this):new js(t,d,p)};var Ys=function(t,e,i){this.ownerID=t,this.keyHash=e,this.entries=i};Ys.prototype.get=function(t,e,i,s){for(var n=this.entries,r=0,o=n.length;r<o;r++)if(xi(i,n[r][0]))return n[r][1];return s},Ys.prototype.update=function(t,e,i,s,n,r,o){void 0===i&&(i=Ci(s));var a=n===pe;if(i!==this.keyHash)return a?this:(ge(o),ge(r),nn(this,t,e,i,[s,n]));for(var l=this.entries,h=0,c=l.length;h<c&&!xi(s,l[h][0]);h++);var u=h<c;if(u?l[h][1]===n:a)return this;if(ge(o),(a||!u)&&ge(r),a&&2===c)return new Xs(t,this.keyHash,l[1^h]);var d=t&&t===this.ownerID,f=d?l:os(l);return u?a?h===c-1?f.pop():f[h]=f.pop():f[h]=[s,n]:f.push([s,n]),d?(this.entries=f,this):new Ys(t,this.keyHash,f)};var Xs=function(t,e,i){this.ownerID=t,this.keyHash=e,this.entry=i};Xs.prototype.get=function(t,e,i,s){return xi(i,this.entry[0])?this.entry[1]:s},Xs.prototype.update=function(t,e,i,s,n,r,o){var a=n===pe,l=xi(s,this.entry[0]);return(l?n===this.entry[1]:a)?this:(ge(o),a?void ge(r):l?t&&t===this.ownerID?(this.entry[1]=n,this):new Xs(t,this.keyHash,[s,n]):(ge(r),nn(this,t,e,Ci(s),[s,n])))},Gs.prototype.iterate=Ys.prototype.iterate=function(t,e){for(var i=this.entries,s=0,n=i.length-1;s<=n;s++)if(!1===t(i[e?n-s:s]))return!1},Ws.prototype.iterate=js.prototype.iterate=function(t,e){for(var i=this.nodes,s=0,n=i.length-1;s<=n;s++){var r=i[e?n-s:s];if(r&&!1===r.iterate(t,e))return!1}},Xs.prototype.iterate=function(t,e){return t(this.entry)};var qs,Js=function(t){function e(t,e,i){this._type=e,this._reverse=i,this._stack=t._root&&Zs(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var i=e.node,s=e.index++,n=void 0;if(i.entry){if(0===s)return Ks(t,i.entry)}else if(i.entries){if(s<=(n=i.entries.length-1))return Ks(t,i.entries[this._reverse?n-s:s])}else if(s<=(n=i.nodes.length-1)){var r=i.nodes[this._reverse?n-s:s];if(r){if(r.entry)return Ks(t,r.entry);e=this._stack=Zs(r,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(Je);function Ks(t,e){return Ke(t,e[0],e[1])}function Zs(t,e){return{node:t,index:0,__prev:e}}function Qs(t,e,i,s){var n=Object.create(Hs);return n.size=t,n._root=e,n.__ownerID=i,n.__hash=s,n.__altered=!1,n}function $s(){return qs||(qs=Qs(0))}function tn(t,e,i){var s,n;if(t._root){var r={value:!1},o={value:!1};if(s=en(t._root,t.__ownerID,0,void 0,e,i,r,o),!o.value)return t;n=t.size+(r.value?i===pe?-1:1:0)}else{if(i===pe)return t;n=1,s=new Gs(t.__ownerID,[[e,i]])}return t.__ownerID?(t.size=n,t._root=s,t.__hash=void 0,t.__altered=!0,t):s?Qs(n,s):$s()}function en(t,e,i,s,n,r,o,a){return t?t.update(e,i,s,n,r,o,a):r===pe?t:(ge(a),ge(o),new Xs(e,s,[n,r]))}function sn(t){return t.constructor===Xs||t.constructor===Ys}function nn(t,e,i,s,n){if(t.keyHash===s)return new Ys(e,s,[t.entry,n]);var r,o=(0===i?t.keyHash:t.keyHash>>>i)&fe,a=(0===i?s:s>>>i)&fe,l=o===a?[nn(t,e,i+ue,s,n)]:(r=new Xs(e,s,n),o<a?[t,r]:[r,t]);return new Ws(e,1<<o|1<<a,l)}function rn(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function on(t,e,i,s){var n=s?t:os(t);return n[e]=i,n}var an=de/4,ln=de/2,hn=de/4,cn="@@__IMMUTABLE_LIST__@@";function un(t){return Boolean(t&&t[cn])}var dn=function(t){function e(e){var i=bn();if(void 0===e||null===e)return i;if(un(e))return e;var s=t(e),n=s.size;return 0===n?i:(ls(n),n>0&&n<de?vn(0,n,ue,null,new pn(s.toArray())):i.withMutations((function(t){t.setSize(n),s.forEach((function(e,i){return t.set(i,e)}))})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=ve(this,t))>=0&&t<this.size){var i=An(this,t+=this._origin);return i&&i.array[t&fe]}return e},e.prototype.set=function(t,e){return function(t,e,i){if(e=ve(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?wn(t,e).set(0,i):wn(t,0,e+1).set(e,i)}));e+=t._origin;var s=t._tail,n=t._root,r={value:!1};e>=Cn(t._capacity)?s=xn(s,t.__ownerID,0,e,i,r):n=xn(n,t.__ownerID,t._level,e,i,r);if(!r.value)return t;if(t.__ownerID)return t._root=n,t._tail=s,t.__hash=void 0,t.__altered=!0,t;return vn(t._origin,t._capacity,t._level,n,s)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=ue,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):bn()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(i){wn(i,0,e+t.length);for(var s=0;s<t.length;s++)i.set(e+s,t[s])}))},e.prototype.pop=function(){return wn(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){wn(e,-t.length);for(var i=0;i<t.length;i++)e.set(i,t[i])}))},e.prototype.shift=function(){return wn(this,1)},e.prototype.concat=function(){for(var e=arguments,i=[],s=0;s<arguments.length;s++){var n=e[s],r=t("string"!==typeof n&&Qe(n)?n:[n]);0!==r.size&&i.push(r)}return 0===i.length?this:0!==this.size||this.__ownerID||1!==i.length?this.withMutations((function(t){i.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(i[0])},e.prototype.setSize=function(t){return wn(this,0,t)},e.prototype.map=function(t,e){var i=this;return this.withMutations((function(s){for(var n=0;n<i.size;n++)s.set(n,t.call(e,s.get(n),n,i))}))},e.prototype.slice=function(t,e){var i=this.size;return xe(t,e,i)?this:wn(this,Se(t,i),Ae(e,i))},e.prototype.__iterator=function(t,e){var i=e?this.size:0,s=yn(this,e);return new Je((function(){var n=s();return n===mn?{value:void 0,done:!0}:Ke(t,e?--i:i++,n)}))},e.prototype.__iterate=function(t,e){for(var i,s=e?this.size:0,n=yn(this,e);(i=n())!==mn&&!1!==t(i,e?--s:s++,this););return s},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?vn(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?bn():(this.__ownerID=t,this.__altered=!1,this)},e}(Le);dn.isList=un;var fn=dn.prototype;fn[cn]=!0,fn[ce]=fn.remove,fn.merge=fn.concat,fn.setIn=As,fn.deleteIn=fn.removeIn=Cs,fn.update=ks,fn.updateIn=Rs,fn.mergeIn=zs,fn.mergeDeepIn=Ns,fn.withMutations=_s,fn.wasAltered=Os,fn.asImmutable=Bs,fn["@@transducer/init"]=fn.asMutable=Vs,fn["@@transducer/step"]=function(t,e){return t.push(e)},fn["@@transducer/result"]=function(t){return t.asImmutable()};var pn=function(t,e){this.array=t,this.ownerID=e};pn.prototype.removeBefore=function(t,e,i){if(i===e?1<<e:0===this.array.length)return this;var s=i>>>e&fe;if(s>=this.array.length)return new pn([],t);var n,r=0===s;if(e>0){var o=this.array[s];if((n=o&&o.removeBefore(t,e-ue,i))===o&&r)return this}if(r&&!n)return this;var a=Sn(this,t);if(!r)for(var l=0;l<s;l++)a.array[l]=void 0;return n&&(a.array[s]=n),a},pn.prototype.removeAfter=function(t,e,i){if(i===(e?1<<e:0)||0===this.array.length)return this;var s,n=i-1>>>e&fe;if(n>=this.array.length)return this;if(e>0){var r=this.array[n];if((s=r&&r.removeAfter(t,e-ue,i))===r&&n===this.array.length-1)return this}var o=Sn(this,t);return o.array.splice(n+1),s&&(o.array[n]=s),o};var gn,mn={};function yn(t,e){var i=t._origin,s=t._capacity,n=Cn(s),r=t._tail;return o(t._root,t._level,0);function o(t,a,l){return 0===a?function(t,o){var a=o===n?r&&r.array:t&&t.array,l=o>i?0:i-o,h=s-o;h>de&&(h=de);return function(){if(l===h)return mn;var t=e?--h:l++;return a&&a[t]}}(t,l):function(t,n,r){var a,l=t&&t.array,h=r>i?0:i-r>>n,c=1+(s-r>>n);c>de&&(c=de);return function(){for(;;){if(a){var t=a();if(t!==mn)return t;a=null}if(h===c)return mn;var i=e?--c:h++;a=o(l&&l[i],n-ue,r+(i<<n))}}}(t,a,l)}}function vn(t,e,i,s,n,r,o){var a=Object.create(fn);return a.size=e-t,a._origin=t,a._capacity=e,a._level=i,a._root=s,a._tail=n,a.__ownerID=r,a.__hash=o,a.__altered=!1,a}function bn(){return gn||(gn=vn(0,0,ue))}function xn(t,e,i,s,n,r){var o,a=s>>>i&fe,l=t&&a<t.array.length;if(!l&&void 0===n)return t;if(i>0){var h=t&&t.array[a],c=xn(h,e,i-ue,s,n,r);return c===h?t:((o=Sn(t,e)).array[a]=c,o)}return l&&t.array[a]===n?t:(r&&ge(r),o=Sn(t,e),void 0===n&&a===o.array.length-1?o.array.pop():o.array[a]=n,o)}function Sn(t,e){return e&&t&&e===t.ownerID?t:new pn(t?t.array.slice():[],e)}function An(t,e){if(e>=Cn(t._capacity))return t._tail;if(e<1<<t._level+ue){for(var i=t._root,s=t._level;i&&s>0;)i=i.array[e>>>s&fe],s-=ue;return i}}function wn(t,e,i){void 0!==e&&(e|=0),void 0!==i&&(i|=0);var s=t.__ownerID||new me,n=t._origin,r=t._capacity,o=n+e,a=void 0===i?r:i<0?r+i:n+i;if(o===n&&a===r)return t;if(o>=a)return t.clear();for(var l=t._level,h=t._root,c=0;o+c<0;)h=new pn(h&&h.array.length?[void 0,h]:[],s),c+=1<<(l+=ue);c&&(o+=c,n+=c,a+=c,r+=c);for(var u=Cn(r),d=Cn(a);d>=1<<l+ue;)h=new pn(h&&h.array.length?[h]:[],s),l+=ue;var f=t._tail,p=d<u?An(t,a-1):d>u?new pn([],s):f;if(f&&d>u&&o<r&&f.array.length){for(var g=h=Sn(h,s),m=l;m>ue;m-=ue){var y=u>>>m&fe;g=g.array[y]=Sn(g.array[y],s)}g.array[u>>>ue&fe]=f}if(a<r&&(p=p&&p.removeAfter(s,0,a)),o>=d)o-=d,a-=d,l=ue,h=null,p=p&&p.removeBefore(s,0,o);else if(o>n||d<u){for(c=0;h;){var v=o>>>l&fe;if(v!==d>>>l&fe)break;v&&(c+=(1<<l)*v),l-=ue,h=h.array[v]}h&&o>n&&(h=h.removeBefore(s,l,o-c)),h&&d<u&&(h=h.removeAfter(s,l,d-c)),c&&(o-=c,a-=c)}return t.__ownerID?(t.size=a-o,t._origin=o,t._capacity=a,t._level=l,t._root=h,t._tail=p,t.__hash=void 0,t.__altered=!0,t):vn(o,a,l,h,p)}function Cn(t){return t<de?0:t-1>>>ue<<ue}var Mn,kn=function(t){function e(t){return void 0===t||null===t?En():vi(t)?t:En().withMutations((function(e){var i=De(t);ls(i.size),i.forEach((function(t,i){return e.set(i,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var i=this._map.get(t);return void 0!==i?this._list.get(i)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):En()},e.prototype.set=function(t,e){return Tn(this,t,e)},e.prototype.remove=function(t){return Tn(this,t,pe)},e.prototype.__iterate=function(t,e){var i=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],i)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),i=this._list.__ensureOwner(t);return t?Rn(e,i,t,this.__hash):0===this.size?En():(this.__ownerID=t,this.__altered=!1,this._map=e,this._list=i,this)},e}(Us);function Rn(t,e,i,s){var n=Object.create(kn.prototype);return n.size=t?t.size:0,n._map=t,n._list=e,n.__ownerID=i,n.__hash=s,n.__altered=!1,n}function En(){return Mn||(Mn=Rn($s(),bn()))}function Tn(t,e,i){var s,n,r=t._map,o=t._list,a=r.get(e),l=void 0!==a;if(i===pe){if(!l)return t;o.size>=de&&o.size>=2*r.size?(s=(n=o.filter((function(t,e){return void 0!==t&&a!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(s.__ownerID=n.__ownerID=t.__ownerID)):(s=r.remove(e),n=a===o.size-1?o.pop():o.set(a,void 0))}else if(l){if(i===o.get(a)[1])return t;s=r,n=o.set(a,[e,i])}else s=r.set(e,o.size),n=o.set(o.size,[e,i]);return t.__ownerID?(t.size=s.size,t._map=s,t._list=n,t.__hash=void 0,t.__altered=!0,t):Rn(s,n)}kn.isOrderedMap=vi,kn.prototype[Ue]=!0,kn.prototype[ce]=kn.prototype.remove;var In="@@__IMMUTABLE_STACK__@@";function Pn(t){return Boolean(t&&t[In])}var Fn=function(t){function e(t){return void 0===t||null===t?Nn():Pn(t)?t:Nn().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var i=this._head;for(t=ve(this,t);i&&t--;)i=i.next;return i?i.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,i=this._head,s=arguments.length-1;s>=0;s--)i={value:t[s],next:i};return this.__ownerID?(this.size=e,this._head=i,this.__hash=void 0,this.__altered=!0,this):zn(e,i)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&Pn(e))return e;ls(e.size);var i=this.size,s=this._head;return e.__iterate((function(t){i++,s={value:t,next:s}}),!0),this.__ownerID?(this.size=i,this._head=s,this.__hash=void 0,this.__altered=!0,this):zn(i,s)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Nn()},e.prototype.slice=function(e,i){if(xe(e,i,this.size))return this;var s=Se(e,this.size);if(Ae(i,this.size)!==this.size)return t.prototype.slice.call(this,e,i);for(var n=this.size-s,r=this._head;s--;)r=r.next;return this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):zn(n,r)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?zn(this.size,this._head,t,this.__hash):0===this.size?Nn():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var i=this;if(e)return new li(this.toArray()).__iterate((function(e,s){return t(e,s,i)}),e);for(var s=0,n=this._head;n&&!1!==t(n.value,s++,this);)n=n.next;return s},e.prototype.__iterator=function(t,e){if(e)return new li(this.toArray()).__iterator(t,e);var i=0,s=this._head;return new Je((function(){if(s){var e=s.value;return s=s.next,Ke(t,i++,e)}return{value:void 0,done:!0}}))},e}(Le);Fn.isStack=Pn;var Dn,Ln=Fn.prototype;function zn(t,e,i,s){var n=Object.create(Ln);return n.size=t,n._head=e,n.__ownerID=i,n.__hash=s,n.__altered=!1,n}function Nn(){return Dn||(Dn=zn(0))}Ln[In]=!0,Ln.shift=Ln.pop,Ln.unshift=Ln.push,Ln.unshiftAll=Ln.pushAll,Ln.withMutations=_s,Ln.wasAltered=Os,Ln.asImmutable=Bs,Ln["@@transducer/init"]=Ln.asMutable=Vs,Ln["@@transducer/step"]=function(t,e){return t.unshift(e)},Ln["@@transducer/result"]=function(t){return t.asImmutable()};var _n="@@__IMMUTABLE_SET__@@";function Vn(t){return Boolean(t&&t[_n])}function Bn(t){return Vn(t)&&He(t)}function On(t,e){if(t===e)return!0;if(!ke(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||Ee(t)!==Ee(e)||Ie(t)!==Ie(e)||He(t)!==He(e))return!1;if(0===t.size&&0===e.size)return!0;var i=!Pe(t);if(He(t)){var s=t.entries();return e.every((function(t,e){var n=s.next().value;return n&&xi(n[1],t)&&(i||xi(n[0],e))}))&&s.next().done}var n=!1;if(void 0===t.size)if(void 0===e.size)"function"===typeof t.cacheResult&&t.cacheResult();else{n=!0;var r=t;t=e,e=r}var o=!0,a=e.__iterate((function(e,s){if(i?!t.has(e):n?!xi(e,t.get(s,pe)):!xi(t.get(s,pe),e))return o=!1,!1}));return o&&t.size===a}function Un(t,e){var i=function(i){t.prototype[i]=e[i]};return Object.keys(e).forEach(i),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(i),t}function Hn(t){if(!t||"object"!==typeof t)return t;if(!ke(t)){if(!ds(t))return t;t=ni(t)}if(Ee(t)){var e={};return t.__iterate((function(t,i){e[i]=Hn(t)})),e}var i=[];return t.__iterate((function(t){i.push(Hn(t))})),i}var Gn=function(t){function e(e){return void 0===e||null===e?qn():Vn(e)&&!He(e)?e:qn().withMutations((function(i){var s=t(e);ls(s.size),s.forEach((function(t){return i.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(De(t).keySeq())},e.intersect=function(t){return(t=Fe(t).toArray()).length?jn.intersect.apply(e(t.pop()),t):qn()},e.union=function(t){return(t=Fe(t).toArray()).length?jn.union.apply(e(t.pop()),t):qn()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return Yn(this,this._map.set(t,t))},e.prototype.remove=function(t){return Yn(this,this._map.remove(t))},e.prototype.clear=function(){return Yn(this,this._map.clear())},e.prototype.map=function(t,e){var i=this,s=!1,n=Yn(this,this._map.mapEntries((function(n){var r=n[1],o=t.call(e,r,r,i);return o!==r&&(s=!0),[o,o]}),e));return s?n:this},e.prototype.union=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];return e=e.filter((function(t){return 0!==t.size})),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(i){for(var s=0;s<e.length;s++)"string"===typeof e[s]?i.add(e[s]):t(e[s]).forEach((function(t){return i.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var s=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||s.push(t)})),this.withMutations((function(t){s.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var s=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&s.push(t)})),this.withMutations((function(t){s.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return fr(Ki(this,t))},e.prototype.sortBy=function(t,e){return fr(Ki(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var i=this;return this._map.__iterate((function(e){return t(e,e,i)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(ze);Gn.isSet=Vn;var Wn,jn=Gn.prototype;function Yn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Xn(t,e){var i=Object.create(jn);return i.size=t?t.size:0,i._map=t,i.__ownerID=e,i}function qn(){return Wn||(Wn=Xn($s()))}jn[_n]=!0,jn[ce]=jn.remove,jn.merge=jn.concat=jn.union,jn.withMutations=_s,jn.asImmutable=Bs,jn["@@transducer/init"]=jn.asMutable=Vs,jn["@@transducer/step"]=function(t,e){return t.add(e)},jn["@@transducer/result"]=function(t){return t.asImmutable()},jn.__empty=qn,jn.__make=Xn;var Jn,Kn=function(t){function e(t,i,s){if(!(this instanceof e))return new e(t,i,s);if(as(0!==s,"Cannot step a Range by 0"),t=t||0,void 0===i&&(i=1/0),s=void 0===s?1:Math.abs(s),i<t&&(s=-s),this._start=t,this._end=i,this._step=s,this.size=Math.max(0,Math.ceil((i-t)/s-1)+1),0===this.size){if(Jn)return Jn;Jn=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+ve(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,i){return xe(t,i,this.size)?this:(t=Se(t,this.size),(i=Ae(i,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step===0){var i=e/this._step;if(i>=0&&i<this.size)return i}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var i=this.size,s=this._step,n=e?this._start+(i-1)*s:this._start,r=0;r!==i&&!1!==t(n,e?i-++r:r++,this);)n+=e?-s:s;return r},e.prototype.__iterator=function(t,e){var i=this.size,s=this._step,n=e?this._start+(i-1)*s:this._start,r=0;return new Je((function(){if(r===i)return{value:void 0,done:!0};var o=n;return n+=e?-s:s,Ke(t,e?i-++r:r++,o)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:On(this,t)},e}(oi);function Zn(t,e,i){for(var s=hs(e),n=0;n!==s.length;)if((t=gs(t,s[n++],pe))===pe)return i;return t}function Qn(t,e){return Zn(this,t,e)}function $n(t,e){return Zn(t,e,pe)!==pe}function tr(){ls(this.size);var t={};return this.__iterate((function(e,i){t[i]=e})),t}Fe.isIterable=ke,Fe.isKeyed=Ee,Fe.isIndexed=Ie,Fe.isAssociative=Pe,Fe.isOrdered=He,Fe.Iterator=Je,Un(Fe,{toArray:function(){ls(this.size);var t=new Array(this.size||0),e=Ee(this),i=0;return this.__iterate((function(s,n){t[i++]=e?[n,s]:s})),t},toIndexedSeq:function(){return new Oi(this)},toJS:function(){return Hn(this)},toKeyedSeq:function(){return new Bi(this,!0)},toMap:function(){return Us(this.toKeyedSeq())},toObject:tr,toOrderedMap:function(){return kn(this.toKeyedSeq())},toOrderedSet:function(){return fr(Ee(this)?this.valueSeq():this)},toSet:function(){return Gn(Ee(this)?this.valueSeq():this)},toSetSeq:function(){return new Ui(this)},toSeq:function(){return Ie(this)?this.toIndexedSeq():Ee(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Fn(Ee(this)?this.valueSeq():this)},toList:function(){return dn(Ee(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ts(this,function(t,e){var i=Ee(t),s=[t].concat(e).map((function(t){return ke(t)?i&&(t=De(t)):t=i?fi(t):pi(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===s.length)return t;if(1===s.length){var n=s[0];if(n===t||i&&Ee(n)||Ie(t)&&Ie(n))return n}var r=new li(s);return i?r=r.toKeyedSeq():Ie(t)||(r=r.toSetSeq()),(r=r.flatten(!0)).size=s.reduce((function(t,e){if(void 0!==t){var i=e.size;if(void 0!==i)return t+i}}),0),r}(this,t))},includes:function(t){return this.some((function(e){return xi(e,t)}))},entries:function(){return this.__iterator(je)},every:function(t,e){ls(this.size);var i=!0;return this.__iterate((function(s,n,r){if(!t.call(e,s,n,r))return i=!1,!1})),i},filter:function(t,e){return ts(this,Yi(this,t,e,!0))},partition:function(t,e){return function(t,e,i){var s=Ee(t),n=[[],[]];t.__iterate((function(r,o){n[e.call(i,r,o,t)?1:0].push(s?[o,r]:r)}));var r=is(t);return n.map((function(e){return ts(t,r(e))}))}(this,t,e)},find:function(t,e,i){var s=this.findEntry(t,e);return s?s[1]:i},forEach:function(t,e){return ls(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ls(this.size),t=void 0!==t?""+t:",";var e="",i=!0;return this.__iterate((function(s){i?i=!1:e+=t,e+=null!==s&&void 0!==s?s.toString():""})),e},keys:function(){return this.__iterator(Ge)},map:function(t,e){return ts(this,Wi(this,t,e))},reduce:function(t,e,i){return rr(this,t,e,i,arguments.length<2,!1)},reduceRight:function(t,e,i){return rr(this,t,e,i,arguments.length<2,!0)},reverse:function(){return ts(this,ji(this,!0))},slice:function(t,e){return ts(this,Xi(this,t,e,!0))},some:function(t,e){ls(this.size);var i=!1;return this.__iterate((function(s,n,r){if(t.call(e,s,n,r))return i=!0,!1})),i},sort:function(t){return ts(this,Ki(this,t))},values:function(){return this.__iterator(We)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return ye(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,i){var s=Us().asMutable();return t.__iterate((function(n,r){s.update(e.call(i,n,r,t),0,(function(t){return t+1}))})),s.asImmutable()}(this,t,e)},equals:function(t){return On(this,t)},entrySeq:function(){var t=this;if(t._cache)return new li(t._cache);var e=t.toSeq().map(ar).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(lr(t),e)},findEntry:function(t,e,i){var s=i;return this.__iterate((function(i,n,r){if(t.call(e,i,n,r))return s=[n,i],!1})),s},findKey:function(t,e){var i=this.findEntry(t,e);return i&&i[0]},findLast:function(t,e,i){return this.toKeyedSeq().reverse().find(t,e,i)},findLastEntry:function(t,e,i){return this.toKeyedSeq().reverse().findEntry(t,e,i)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(be,null,t)},flatMap:function(t,e){return ts(this,function(t,e,i){var s=is(t);return t.toSeq().map((function(n,r){return s(e.call(i,n,r,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return ts(this,Ji(this,t,!0))},fromEntrySeq:function(){return new Hi(this)},get:function(t,e){return this.find((function(e,i){return xi(i,t)}),void 0,e)},getIn:Qn,groupBy:function(t,e){return function(t,e,i){var s=Ee(t),n=(He(t)?kn():Us()).asMutable();t.__iterate((function(r,o){n.update(e.call(i,r,o,t),(function(t){return(t=t||[]).push(s?[o,r]:r),t}))}));var r=is(t);return n.map((function(e){return ts(t,r(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,pe)!==pe},hasIn:function(t){return $n(this,t)},isSubset:function(t){return t="function"===typeof t.includes?t:Fe(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"===typeof t.isSubset?t:Fe(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return xi(e,t)}))},keySeq:function(){return this.toSeq().map(or).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Zi(this,t)},maxBy:function(t,e){return Zi(this,e,t)},min:function(t){return Zi(this,t?hr(t):ur)},minBy:function(t,e){return Zi(this,e?hr(e):ur,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return ts(this,qi(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(lr(t),e)},sortBy:function(t,e){return ts(this,Ki(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return ts(this,function(t,e,i){var s=ss(t);return s.__iterateUncached=function(s,n){var r=this;if(n)return this.cacheResult().__iterate(s,n);var o=0;return t.__iterate((function(t,n,a){return e.call(i,t,n,a)&&++o&&s(t,n,r)})),o},s.__iteratorUncached=function(s,n){var r=this;if(n)return this.cacheResult().__iterator(s,n);var o=t.__iterator(je,n),a=!0;return new Je((function(){if(!a)return{value:void 0,done:!0};var t=o.next();if(t.done)return t;var n=t.value,l=n[0],h=n[1];return e.call(i,h,l,r)?s===je?t:Ke(s,l,h,t):(a=!1,{value:void 0,done:!0})}))},s}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(lr(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=He(t),i=Ee(t),s=e?1:0,n=t.__iterate(i?e?function(t,e){s=31*s+dr(Ci(t),Ci(e))|0}:function(t,e){s=s+dr(Ci(t),Ci(e))|0}:e?function(t){s=31*s+Ci(t)|0}:function(t){s=s+Ci(t)|0});return function(t,e){return e=Si(e,3432918353),e=Si(e<<15|e>>>-15,461845907),e=Si(e<<13|e>>>-13,5),e=e+3864292196^t,e=Si(e^e>>>16,2246822507),e=Si(e^e>>>13,3266489909),e=Ai(e^e>>>16),e}(n,s)}(this))}});var er=Fe.prototype;er[Me]=!0,er[qe]=er.values,er.toJSON=er.toArray,er.__toStringMapper=fs,er.inspect=er.toSource=function(){return this.toString()},er.chain=er.flatMap,er.contains=er.includes,Un(De,{flip:function(){return ts(this,Gi(this))},mapEntries:function(t,e){var i=this,s=0;return ts(this,this.toSeq().map((function(n,r){return t.call(e,[r,n],s++,i)})).fromEntrySeq())},mapKeys:function(t,e){var i=this;return ts(this,this.toSeq().flip().map((function(s,n){return t.call(e,s,n,i)})).flip())}});var ir=De.prototype;ir[Re]=!0,ir[qe]=er.entries,ir.toJSON=tr,ir.__toStringMapper=function(t,e){return fs(e)+": "+fs(t)},Un(Le,{toKeyedSeq:function(){return new Bi(this,!1)},filter:function(t,e){return ts(this,Yi(this,t,e,!1))},findIndex:function(t,e){var i=this.findEntry(t,e);return i?i[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return ts(this,ji(this,!1))},slice:function(t,e){return ts(this,Xi(this,t,e,!1))},splice:function(t,e){var i=arguments.length;if(e=Math.max(e||0,0),0===i||2===i&&!e)return this;t=Se(t,t<0?this.count():this.size);var s=this.slice(0,t);return ts(this,1===i?s:s.concat(os(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var i=this.findLastEntry(t,e);return i?i[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return ts(this,Ji(this,t,!1))},get:function(t,e){return(t=ve(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,i){return i===t}),void 0,e)},has:function(t){return(t=ve(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return ts(this,function(t,e){var i=ss(t);return i.size=t.size&&2*t.size-1,i.__iterateUncached=function(i,s){var n=this,r=0;return t.__iterate((function(t){return(!r||!1!==i(e,r++,n))&&!1!==i(t,r++,n)}),s),r},i.__iteratorUncached=function(i,s){var n,r=t.__iterator(We,s),o=0;return new Je((function(){return(!n||o%2)&&(n=r.next()).done?n:o%2?Ke(i,o++,e):Ke(i,o++,n.value,n)}))},i}(this,t))},interleave:function(){var t=[this].concat(os(arguments)),e=$i(this.toSeq(),oi.of,t),i=e.flatten(!0);return e.size&&(i.size=e.size*t.length),ts(this,i)},keySeq:function(){return Kn(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return ts(this,qi(this,t,e,!1))},zip:function(){return ts(this,$i(this,cr,[this].concat(os(arguments))))},zipAll:function(){return ts(this,$i(this,cr,[this].concat(os(arguments)),!0))},zipWith:function(t){var e=os(arguments);return e[0]=this,ts(this,$i(this,t,e))}});var sr=Le.prototype;sr[Te]=!0,sr[Ue]=!0,Un(ze,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}});var nr=ze.prototype;function rr(t,e,i,s,n,r){return ls(t.size),t.__iterate((function(t,r,o){n?(n=!1,i=t):i=e.call(s,i,t,r,o)}),r),i}function or(t,e){return e}function ar(t,e){return[e,t]}function lr(t){return function(){return!t.apply(this,arguments)}}function hr(t){return function(){return-t.apply(this,arguments)}}function cr(){return os(arguments)}function ur(t,e){return t<e?1:t>e?-1:0}function dr(t,e){return t^e+2654435769+(t<<6)+(t>>2)}nr.has=er.includes,nr.contains=nr.includes,nr.keys=nr.values,Un(ri,ir),Un(oi,sr),Un(ai,nr);var fr=function(t){function e(t){return void 0===t||null===t?yr():Bn(t)?t:yr().withMutations((function(e){var i=ze(t);ls(i.size),i.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(De(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Gn);fr.isOrderedSet=Bn;var pr,gr=fr.prototype;function mr(t,e){var i=Object.create(gr);return i.size=t?t.size:0,i._map=t,i.__ownerID=e,i}function yr(){return pr||(pr=mr(En()))}gr[Ue]=!0,gr.zip=sr.zip,gr.zipWith=sr.zipWith,gr.zipAll=sr.zipAll,gr.__empty=yr,gr.__make=mr;var vr=function(t,e){var i;!function(t){if(Be(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Oe(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===t||"object"!==typeof t)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(t);var s=function(r){var o=this;if(r instanceof s)return r;if(!(this instanceof s))return new s(r);if(!i){i=!0;var a=Object.keys(t),l=n._indices={};n._name=e,n._keys=a,n._defaultValues=t;for(var h=0;h<a.length;h++){var c=a[h];l[c]=h,n[c]?"object"===typeof console&&console.warn&&console.warn("Cannot define "+Sr(this)+' with property "'+c+'" since that property name is part of the Record API.'):wr(n,c)}}return this.__ownerID=void 0,this._values=dn().withMutations((function(t){t.setSize(o._keys.length),De(r).forEach((function(e,i){t.set(o._indices[i],e===o._defaultValues[i]?void 0:e)}))})),this},n=s.prototype=Object.create(br);return n.constructor=s,e&&(s.displayName=e),s};vr.prototype.toString=function(){for(var t,e=Sr(this)+" { ",i=this._keys,s=0,n=i.length;s!==n;s++)e+=(s?", ":"")+(t=i[s])+": "+fs(this.get(t));return e+" }"},vr.prototype.equals=function(t){return this===t||Be(t)&&Ar(this).equals(Ar(t))},vr.prototype.hashCode=function(){return Ar(this).hashCode()},vr.prototype.has=function(t){return this._indices.hasOwnProperty(t)},vr.prototype.get=function(t,e){if(!this.has(t))return e;var i=this._indices[t],s=this._values.get(i);return void 0===s?this._defaultValues[t]:s},vr.prototype.set=function(t,e){if(this.has(t)){var i=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(i!==this._values&&!this.__ownerID)return xr(this,i)}return this},vr.prototype.remove=function(t){return this.set(t)},vr.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:xr(this,t)},vr.prototype.wasAltered=function(){return this._values.wasAltered()},vr.prototype.toSeq=function(){return Ar(this)},vr.prototype.toJS=function(){return Hn(this)},vr.prototype.entries=function(){return this.__iterator(je)},vr.prototype.__iterator=function(t,e){return Ar(this).__iterator(t,e)},vr.prototype.__iterate=function(t,e){return Ar(this).__iterate(t,e)},vr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?xr(this,e,t):(this.__ownerID=t,this._values=e,this)},vr.isRecord=Be,vr.getDescriptiveName=Sr;var br=vr.prototype;function xr(t,e,i){var s=Object.create(Object.getPrototypeOf(t));return s._values=e,s.__ownerID=i,s}function Sr(t){return t.constructor.displayName||t.constructor.name||"Record"}function Ar(t){return fi(t._keys.map((function(e){return[e,t.get(e)]})))}function wr(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){as(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(i){}}br[Ve]=!0,br[ce]=br.remove,br.deleteIn=br.removeIn=Cs,br.getIn=Qn,br.hasIn=er.hasIn,br.merge=Es,br.mergeWith=Ts,br.mergeIn=zs,br.mergeDeep=Ds,br.mergeDeepWith=Ls,br.mergeDeepIn=Ns,br.setIn=As,br.update=ks,br.updateIn=Rs,br.withMutations=_s,br.asMutable=Vs,br.asImmutable=Bs,br[qe]=br.entries,br.toJSON=br.toObject=er.toObject,br.inspect=br.toSource=function(){return this.toString()};var Cr=function(t,e){return Cr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])},Cr(t,e)};function Mr(t){var e="function"===typeof Symbol&&Symbol.iterator,i=e&&t[e],s=0;if(i)return i.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&s>=t.length&&(t=void 0),{value:t&&t[s++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kr(t,e){var i="function"===typeof Symbol&&t[Symbol.iterator];if(!i)return t;var s,n,r=i.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(s=r.next()).done;)o.push(s.value)}catch(a){n={error:a}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}return o}var Rr=function(t){function e(i){var s,n="EventError: "+i+"}";return s=t.call(this,n)||this,Object.setPrototypeOf(s,e.prototype),s}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function i(){this.constructor=t}Cr(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}(e,t),e}(Error),Er=0,Tr=function(t,e){return new Rr("Event listener with "+t.token+" id does not exist at Eventer with "+e+" id.")},Ir=function(){function t(){this.id=++Er,this.lastEventIndex=0,this.topics=new Map}return t.prototype.on=function(t,e,i){var s=this.topics.get(t),n=i||function(t,e){return{token:t+"-"+e,ownerIndex:t,id:e}}(this.id,++this.lastEventIndex);return s?s.set(n,e):this.topics.set(t,new Map([[n,e]])),n},t.prototype.has=function(t,e){var i,s;if(e)return(o=this.topics.get(e))?(a=o.get(t))||Tr(t,this.id):new Rr("Eventer with "+t.ownerIndex+" does not have "+e+".");try{for(var n=Mr(this.topics),r=n.next();!r.done;r=n.next()){var o,a,l=kr(r.value,2);l[0];if(a=(o=l[1]).get(t))return a}}catch(h){i={error:h}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}return Tr(t,this.id)},t.prototype.off=function(t,e){var i,s;if(e)return!(!(o=this.topics.get(e))||!o.delete(t));try{for(var n=Mr(this.topics),r=n.next();!r.done;r=n.next()){var o,a=kr(r.value,2);a[0];if((o=a[1]).delete(t))return!0}}catch(l){i={error:l}}finally{try{r&&!r.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}return!1},t.prototype.allOff=function(){return this.topics.clear(),this},t.prototype.topicOff=function(t){return this.topics.delete(t)},t.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s=this.topics.get(t),n=0;s&&new Map(s).forEach((function(t){t.apply(void 0,function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kr(arguments[e]));return t}(e)),n++}));return n},t.prototype.listeners=function(t){var e=this.topics.get(t);return e||new Map},t}(),Pr=i(1232);class Fr{constructor(){this.i=!0}o(){return this.i}}class Dr extends Fr{constructor(t,e){super(),this.u=t,this.i=e}S(t){return t!==this.u&&(this.u=t,this.i=!0),this}M(){return this.u}o(){return super.o()}}const Lr=(t,e)=>({x:t,y:e}),zr=(t,e)=>({x:t,y:e}),Nr=(t,e,i)=>({position:t,high:e,low:i}),_r=(t,e,i)=>({x:t,y:e,z:i}),Vr=t=>{const e=Array(0),i=Array(0);return t.length>0&&t.forEach((t=>{e.push(Lr(t.position,t.high)),i.push(Lr(t.position,t.low))})),[e,i]},Br=(t,e)=>({min:t,max:e}),Or=(t,e,i,s)=>({x:Math.ceil(t),y:Math.ceil(e),width:Math.ceil(i),height:Math.ceil(s)}),Ur=function(t){return new Dr(t,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])},Hr=function(){return{left:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,top:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,right:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,bottom:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0}},Gr=Hr,Wr=(t,e)=>({left:void 0!==e.left?e.left:t.left,top:void 0!==e.top?e.top:t.top,right:void 0!==e.right?e.right:t.right,bottom:void 0!==e.bottom?e.bottom:t.bottom}),jr=vr({type:"color",r:1,g:1,b:1,a:1});class Yr extends jr{constructor(t){super(t)}toUint32(){return void 0!==this._||(this._=to(this.getR(),this.getG(),this.getB(),this.getA())),this._}toString(){return"color:".concat(this.r,",").concat(this.g,",").concat(this.b,",").concat(this.a)}setA(t){return this.set("a",t/255)}setR(t){return this.set("r",t/255)}setG(t){return this.set("g",t/255)}setB(t){return this.set("b",t/255)}getA(){return 255*this.get("a")}getR(){return 255*this.get("r")}getG(){return 255*this.get("g")}getB(){return 255*this.get("b")}getHighlight(){return this.C||(this.C=new Yr({r:this.r+.45*(1-this.r),g:this.g+.45*(1-this.g),b:this.b+.45*(1-this.b),a:this.a<1?this.a+.45*(1-this.a):1})),this.C}getLighter(){return this.T||(this.T=new Yr({r:this.r+.4*(1-this.r),g:this.g+.4*(1-this.g),b:this.b+.4*(1-this.b),a:this.a})),this.T}getDarker(){return this.F||(this.F=new Yr({r:this.r-.4*(1-this.r),g:this.g-.4*(1-this.g),b:this.b-.4*(1-this.b),a:this.a})),this.F}toRGBAString(){return"rgba( ".concat(255*this.r,", ").concat(255*this.g,", ").concat(255*this.b,", ").concat(255*this.a," )")}}const Xr=t=>!(!t||"object"!=typeof t||!("type"in t)||"color"!==t.type),qr=function(t,e,i){return new Yr({r:t/255,g:e/255,b:i/255,a:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:255)/255})},Jr=t=>{const e=t.startsWith("#")?t.substring(1):t.startsWith("0x")?t.substr(2):t;switch(e.length){case 8:return new Yr({r:Number("0x".concat(e.substring(0,2)))/255,g:Number("0x".concat(e.substring(2,4)))/255,b:Number("0x".concat(e.substring(4,6)))/255,a:Number("0x".concat(e.substring(6,8)))/255});case 6:return new Yr({r:Number("0x".concat(e.substring(0,2)))/255,g:Number("0x".concat(e.substring(2,4)))/255,b:Number("0x".concat(e.substring(4,6)))/255});case 4:return new Yr({r:Number("0x".concat(e.charAt(0)).concat(e.charAt(0)))/255,g:Number("0x".concat(e.charAt(1)).concat(e.charAt(1)))/255,b:Number("0x".concat(e.charAt(2)).concat(e.charAt(2)))/255,a:Number("0x".concat(e.charAt(3)).concat(e.charAt(3)))/255});case 3:return new Yr({r:Number("0x".concat(e.charAt(0)).concat(e.charAt(0)))/255,g:Number("0x".concat(e.charAt(1)).concat(e.charAt(1)))/255,b:Number("0x".concat(e.charAt(2)).concat(e.charAt(2)))/255});default:throw new Error("ColorHEX parsing error | input: ".concat(t))}},Kr=function(t){let e,i,s,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t/=360;const o=Math.floor(6*t),a=6*t-o,l=r*(1-n),h=r*(1-a*n),c=r*(1-(1-a)*n);switch(o%6){case 0:e=r,i=c,s=l;break;case 1:e=h,i=r,s=l;break;case 2:e=l,i=r,s=c;break;case 3:e=l,i=h,s=r;break;case 4:e=c,i=l,s=r;break;default:e=r,i=l,s=h}return new Yr({r:e,g:i,b:s})},Zr=t=>qr(255&t,255&(t>>=8),255&(t>>=8),255&(t>>=8)),Qr=new Yr({}),$r=qr(0,0,0,0),to=function(t,e,i){return((arguments.length>3&&void 0!==arguments[3]?arguments[3]:255)<<24|i<<16|e<<8|t)>>>0},eo=(t,e)=>t.value-e.value,io=vr({type:"lut",steps:[],title:"",units:"",interpolate:!0,color:qr(0,0,0,255),length:0,min:0,max:0,subranges:[],isValid:!1,percentageValues:!1}),so=t=>{const{steps:e}=t,i=e.length;e.sort(eo);const[s,n]=i>0?[e[0].value,e[i-1].value]:[0,0],r=i>0?i-1:0,o=Array(r);for(let a=0;a<r;a+=1)o[a]={min:e[a],max:e[a+1]};return{min:s,max:n,length:i,steps:e,subranges:o,isValid:i>0&&s!==n}};const no=vr({type:"fillstyle",fillType:"empty"});const ro=new class extends no{toString(){return"emptyFill"}},oo=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"empty"===t.fillType),ao=vr({type:"fillstyle",fillType:"solid",color:qr(255,255,255)});class lo extends ao{}class ho extends lo{constructor(t){super({...t,fillType:"solid"})}toString(){return"solidFill:".concat(this.color.toString())}setColor(t){return Xr(t)?this.set("color",t):this.set("color",t(this.get("color")))}getColor(){return this.get("color")}setA(t){return this.setColor(this.getColor().setA(t))}setR(t){return this.setColor(this.getColor().setR(t))}setG(t){return this.setColor(this.getColor().setG(t))}setB(t){return this.setColor(this.getColor().setB(t))}}const co=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"solid"===t.fillType);class uo extends lo{constructor(t){super({...t,fillType:"individual"})}toString(){return"individualPointFill:".concat(this.color.toString())}setFallbackColor(t){return Xr(t)?this.set("color",t):this.set("color",t(this.get("color")))}getFallbackColor(){return this.get("color")}}const fo=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"individual"===t.fillType);vr({type:"fillstyle",fillType:"palette",lut:new class extends io{constructor(t){super(((t,e)=>({steps:t.steps,title:t.title,units:t.units,interpolate:t.interpolate,percentageValues:t.percentageValues,color:t.color,length:e.length,min:e.min,max:e.max,subranges:e.subranges,isValid:e.isValid}))(t,so(t)))}toString(){return"LUT:interpolate=".concat(this.interpolate,",steps=").concat(this.steps.length,",percentage=").concat(this.percentageValues)}setSteps(t){return this.merge(so({...this,steps:t}))}getSteps(){return this.get("steps")}setTitle(t){return this.set("title",t)}getTitle(){return this.get("title")}setUnits(t){return this.set("units",t)}getUnits(){return this.get("units")}setInterpolation(t){return this.set("interpolate",t)}getInterpolation(){return this.get("interpolate")}setFallbackColor(t){return this.set("color",t)}getFallbackColor(){return this.get("color")}setPercentageValues(t){return this.set("percentageValues",t)}getPercentageValues(){return this.get("percentageValues")}getColors(t){if(Array.isArray(t)){if(Array.isArray(t[0])){const e=t,i=e.length,s=e[0].length,n=[...Array(i)].map((()=>Array(s)));for(let t=0;t<i;t+=1)for(let i=0;i<s;i+=1)n[t][i]=this.I(e[t][i]);return n}const e=t,i=e.length,s=Array(i);for(let t=0;t<i;t+=1)s[t]=this.I(e[t]);return s}return this.I(t)}I(t){const{steps:e}=this,i=e.length;if(0===i)return this.getFallbackColor();if(1===i)return e[0].color||this.color;if(this.interpolate){for(let o=0;o<i-1;o+=1){const i=e[o],a=e[o+1],l=Math.min(i.value,a.value),h=Math.max(i.value,a.value);if(t>=l&&t<=h){if(l===h)return i.color;const e=(t-i.value)/(a.value-i.value);return s=i.color,n=a.color,r=e,new Yr({r:s.r+(n.r-s.r)*r,g:s.g+(n.g-s.g)*r,b:s.b+(n.b-s.b)*r,a:s.a+(n.a-s.a)*r})}}return t<e[0].value?e[0].color:e[i-1].color}var s,n,r;for(let o=i-1;o>=0;o-=1)if(t>=e[o].value)return e[o].color;return e[0].color}}({steps:[]}),lookUpProperty:"value"});const po=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"palette"===t.fillType),go={linear:(t,e,i)=>{const s=e-t;return n=>n<i?t+s/i*n:e},easeIn:(t,e,i)=>s=>s<i?t+Math.abs(2*(Math.sqrt(.5)*s/i)**2)*(e-t):e,easeOut:(t,e,i)=>s=>s<i?t+Math.abs(1-2*(Math.sqrt(.5)*(1-s/i))**2)*(e-t):e,ease:(t,e,i)=>s=>s<i?t+(s<i/2?.5*(s/i*2)**2.5:.5+.5*(1-(1-2*(s/i-.5))**2.5))*(e-t):e,logarithmic:t=>{const e=Sa(t);return(i,s,n)=>{const r=e(i),o=e(s);return e=>e<n?t**(r+Math.abs(1-2*(Math.sqrt(.5)*(1-e/n))**2)*(o-r)):s}}};class mo{constructor(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:go.linear,n=arguments.length>4?arguments[4]:void 0;this.delta=0,this.nextAnimations=new Array,this.P=!1,this.easing=go.linear,this.D=new Ir,this.isOver=()=>(this.delta===this.duration||this.P)&&0===this.nextAnimations.length,this.values=t,this.action=e,this.duration=i,this.easing=s,this.L=n,this.eases=t.map((t=>{let[e,n]=t;return s(e,n,i)}))}R(){this.D.emit("start")}start(){return this.L.includes(this)||this.L.push(this),this}addNextAnimations(t){return t instanceof Array?t.forEach((t=>this.nextAnimations.push(t))):this.nextAnimations.push(t),this}NextAnimation(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.duration,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.easing;const n=new mo(t,e,i,s,this.L);return this.nextAnimations.push(n),n}onAnimationStart(t,e){return this.D.on("start",t,e)}onAnimationEnd(t,e){return this.D.on("end",t,e)}onEveryAnimationEnd(t,e){return this.D.on("everyEnd",t,e)}onAllAnimationEnd(t,e){return this.D.on("allEnd",t,e)}allOffAnimationEnd(){return this.D.topicOff("end"),this}allOffEveryAnimationEnd(){return this.D.topicOff("everyEnd"),this}allOffAllAnimationEnd(){return this.D.topicOff("allEnd"),this}offAnimationEnd(t){return this.D.off(t,"end")}offEveryAnimationEnd(t){return this.D.off(t,"everyEnd")}offAllAnimationEnd(t){return this.D.off(t,"allEnd")}finish(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.P=!0,this.L.splice(this.L.indexOf(this),1),this.nextAnimations.length>0){const e=this.nextAnimations[0];return t&&(this.D.listeners("allEnd").forEach(((t,i)=>e.onAllAnimationEnd(t,i))),this.D.listeners("everyEnd").forEach(((t,i)=>e.onEveryAnimationEnd(t,i)))),e.addNextAnimations(this.nextAnimations.slice(1)),e.start(),t&&(this.D.emit("end",e),this.D.emit("everyEnd",e)),e}t&&(this.D.emit("end",void 0),this.D.emit("everyEnd",void 0),this.D.emit("allEnd"))}finishAll(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this;for(;e;)e=e.finish(t)}getFinalValues(){return this.nextAnimations.length>0?this.nextAnimations[this.nextAnimations.length-1].values.map(jo):this.values.map(jo)}getTimeUntilFinish(){let t=this.duration-this.delta;for(let e=0;e<this.nextAnimations.length;e+=1)t+=this.nextAnimations[e].duration-this.nextAnimations[e].delta;return t}}const yo=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;e>60&&console.log("Note: Animator FPS is usually capped at 60 by the browser!");const i=[];let s,n,r=0;const o=()=>{s=void 0;const a=Date.now();n=n||a,r=a-n,r/1e3>=1/e&&(n=Date.now()-r%(1e3/e),i.forEach((t=>{0===t.delta&&t.R(),t.delta+=r-r%(1e3/e),t.delta>t.duration&&(t.delta=t.duration),t.action(t.eases.map((e=>e(t.delta)))),t.delta===t.duration&&t.finish()})),t()),i.length>0?s=Ho.requestAnimationFrame(o):(s=void 0,n=void 0)};return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:go.linear;return function(n,r){const a=new mo(n,r,arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,e,i).start();return s||(s=Ho.requestAnimationFrame(o)),a}}};var vo,bo,xo;(xo=vo||(vo={})).circle="circle",xo.ellipse="ellipse",function(t){t.closestSide="closest-side",t.closestCorner="closest-corner",t.farthestSide="farthest-side",t.farthestCorner="farthest-corner"}(bo||(bo={}));const So=vr({type:"fillstyle",fillType:"radial-gradient",stops:[{color:Jr("#f00"),offset:0},{color:Jr("#0f0"),offset:1}],position:Lr(.5,.5),shape:vo.ellipse,extent:bo.farthestCorner});class Ao extends So{constructor(t){if(super(t),null===t||t&&null===t.stops||t&&t.stops&&!Array.isArray(t.stops)||t&&t.stops&&Array.isArray(t.stops)&&t.stops.length<2)throw new Error("RadialGradientFill requires minimum two color stops to be defined.")}toString(){return"radialGradientFill:".concat(this.shape,",").concat(this.extent,",").concat(this.position.x,",").concat(this.position.y,",").concat(this.stops.map((t=>"".concat(t.offset,",").concat(t.color.toString()))).join(","))}setColorStops(t){if(t.length<2)throw new Error("Minimum of two color stops required");return this.set("stops",t)}getColorStops(){return this.get("stops")}setPosition(t){return this.set("position",t)}getPosition(){return this.get("position")}setShape(t){return this.set("shape",t)}getShape(){return this.get("shape")}setExtent(t){return this.set("extent",t)}getExtent(){return this.get("extent")}}const wo=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"radial-gradient"===t.fillType),Co=vr({type:"fillstyle",fillType:"linear-gradient",stops:[{color:Jr("#f00"),offset:0},{color:Jr("#0f0"),offset:1}],angle:0});class Mo extends Co{constructor(t){if(super(t),null===t||t&&null===t.stops||t&&t.stops&&!Array.isArray(t.stops)||t&&t.stops&&Array.isArray(t.stops)&&t.stops.length<2)throw new Error("LinearGradientFill requires minimum two color stops to be defined.")}toString(){return"linearGradientFill:".concat(this.angle,",").concat(this.stops.map((t=>"".concat(t.offset,",").concat(t.color.toString()))).join(","))}setColorStops(t){if(t.length<2)throw new Error("Minimum of two color stops required");const e=t.sort(((t,e)=>t.offset-e.offset));return this.set("stops",e)}getColorStops(){return this.get("stops")}setAngle(t,e){return this.set("angle",e?zl(t):t)}getAngle(t){return t?Ll(this.get("angle")):this.get("angle")}}const ko=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"linear-gradient"===t.fillType),Ro=vr({type:"linestyle",lineType:"empty"}),Eo=new class extends Ro{constructor(){super(...arguments),this.thickness=0}setThickness(t){return this}getThickness(){return 0}V(){return 0}setFillStyle(t){return this}getFillStyle(){return ro}},To=t=>!(!t||"object"!=typeof t||!("lineType"in t)||"empty"!==t.lineType);class Io{constructor(t,e,i,s){this.cellIndex=t,this.cellSpan=e,this.cellsAmount=i,this.observedAmount=s,this.x=new Po,this.y=new Po,this.z=new Po,this.D=new Ir;const n={...t},r={...e};if(s){const t=t=>{this.cellsAmount.x=t.reduce(ll,0),this.cellIndex.x=t.reduce(((t,e,i)=>i>=n.x?t:t+e),0),this.cellSpan.x=t.reduce(((t,e,i)=>i>=n.x&&i<n.x+r.x?t+e:t),0),this.D.emit("cell-resize")},e=s.x.O(t);t(s.x.M());const i=t=>{this.cellsAmount.y=t.reduce(ll,0),this.cellIndex.y=t.reduce(((t,e,i)=>i>=n.y?t:t+e),0),this.cellSpan.y=t.reduce(((t,e,i)=>i>=n.y&&i<n.y+r.y?t+e:t),0),this.D.emit("cell-resize")},o=s.y.O(i);i(s.y.M()),this.N=()=>{s.x.G(e),s.y.G(o)}}}W(){return this.N&&(this.N(),this.N=void 0),this}U(t){return this.D.on("cell-resize",t)}Y(t){return this.D.off(t,"cell-resize")}}class Po extends Fr{constructor(){super(...arguments),this.H=0,this.$=10,this.X=1}j(){return this.i=!1,this}Z(){return this.i=!0,this}getInnerStart(){return this.H}getInnerEnd(){return this.$}getInnerInterval(){return Math.abs(this.getInnerEnd()-this.getInnerStart())}J(t,e){return this.H=t,this.$=e,this.K(),this}q(t){return this.X=t,this.K(),this}tt(t){return t/this.X}K(){const t=this.tt(this.$-this.H),e=this.X;void 0!==this.it&&!1!==qo(t,this.it)||(this.i=!0,this.st=e,this.it=t)}et(){return this.it}ht(){return this.st}rt(){return this.$<this.H}nt(t,e){return!0}}const Fo={d1:t=>new t.scale1DConstructor(0,1,1,void 0),d2:t=>(new t.scaleXYConstructor).ot({x:0,y:0},{x:1,y:1},{x:1,y:1},void 0),d3:()=>new Io({x:0,y:0},{x:1,y:1},{x:1,y:1},void 0)},Do=(t,e,i)=>e===i?t:i.ut(e.ct(t)),Lo=(t,e,i)=>{if(e===i)return t;const s=e instanceof th?e.x:e.x instanceof th?e.x.x:e.x.dt,n=e instanceof th?e.y:e.y instanceof th?e.y.y:e.y.dt,r=i instanceof th?i.x:i.x instanceof th?i.x.x:i.x.dt,o=i instanceof th?i.y:i.y instanceof th?i.y.y:i.y.dt;return{...t,x:Do(t.x,s,r),y:Do(t.y,n,o)}};class zo extends Error{constructor(t,e){super("ChartError: ".concat(t," ").concat(e?"in ".concat(e.constructor.name):"")),Object.setPrototypeOf(this,zo.prototype)}}class No extends Error{constructor(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s="EngineError: ".concat(t," ").concat(e?"in ".concat(e.constructor.name):"");super(s),i&&Ho.alert(s),Object.setPrototypeOf(this,No.prototype)}}class _o extends No{constructor(t){super(t),Object.setPrototypeOf(this,_o.prototype)}}var Vo,Bo,Oo,Uo;!function(t){t[t.Content=0]="Content",t[t.PaddedContent=1]="PaddedContent",t[t.PaddedBackground=2]="PaddedBackground",t[t.Everything=3]="Everything"}(Vo||(Vo={})),function(t){t[t.never=0]="never",t[t.always=1]="always",t[t.whenHovered=2]="whenHovered",t[t.whenDragged=3]="whenDragged",t[t.whenNotDragged=4]="whenNotDragged",t[t.whenHoveredOrDragged=5]="whenHoveredOrDragged"}(Bo||(Bo={})),function(t){t[t.notDraggable=0]="notDraggable",t[t.draggable=1]="draggable",t[t.onlyHorizontal=2]="onlyHorizontal",t[t.onlyVertical=3]="onlyVertical"}(Oo||(Oo={})),function(t){t[t.Up=0]="Up",t[t.Right=1]="Right",t[t.Down=2]="Down",t[t.Left=3]="Left"}(Uo||(Uo={}));const Ho="undefined"!=typeof window?window:"undefined"!=typeof global&&global._lcjs?global._lcjs:{},Go=(t,e)=>t.x===e.x&&t.y===e.y,Wo=t=>t!==$a&&t!==tl&&!Number.isNaN(t)&&Number.isFinite(t)&&t!==1/0&&t!==-1/0,jo=t=>t[1],Yo=t=>t.dispose(),Xo=()=>{},qo=(t,e)=>t===e,Jo=(t,e,i)=>i>e?Math.min(Math.max(t,e),i):Math.min(Math.max(t,i),e),Ko=t=>Array.prototype.concat.apply([],t),Zo=(t,e)=>void 0!==t?t:e,Qo=t=>t.vt(),$o=t=>t.bt(),ta=t=>t.xt(),ea=t=>t.Mt(),ia=t=>t.min.x,sa=t=>t.max.x,na=t=>t.min.y,ra=t=>t.max.y,oa=(t,e,i,s,n)=>{if(t.length>0){let r=n?s(n):void 0;for(let s=0;s<t.length;s+=1){const n=e(t[s]);void 0!==n&&(r=void 0!==r?i(r,n):n)}return r}if(n)return s(n)},aa=(t,e)=>t.position===e.position&&t.high===e.high&&t.low===e.low,la=Lr(0,1),ha=Lr(1,0),ca=Lr(0,-1),ua=Lr(-1,0),da=Lr(0,0),fa=t=>{switch(t){case Uo.Up:return la;case Uo.Right:return ha;case Uo.Down:return ca;case Uo.Left:return ua;default:return da}},pa=t=>t===Uo.Left||t===Uo.Right,ga=t=>{t.stopPropagation(),t.preventDefault()},ma=(t,e)=>{if(!e)return t;const i=t.length,s=new Float32Array(2*i);let n=0;for(let r=0;r<i;r+=1){const e=t[r],i=Math.fround(e);s[n+0]=i,s[n+1]=e-i,n+=2}return s},ya=(t,e)=>{if(!e){const e=t.length,i=new Float32Array(2*e);let s=0;for(let n=0;n<e;n+=1){const e=t[n];i[s+0]=e.x,i[s+1]=e.y,s+=2}return i}const i=t.length,s=new Float32Array(4*i);let n=0;for(let r=0;r<i;r+=1){const e=t[r],i=Math.fround(e.x),o=Math.fround(e.y);s[n+0]=i,s[n+1]=o,s[n+2]=e.x-i,s[n+3]=e.y-o,n+=4}return s},va=t=>{const e=t.length,i=new Float32Array(3*e);let s=0;for(let n=0;n<e;n+=1){const e=t[n];i[s+0]=e.x,i[s+1]=e.y,i[s+2]=e.z,s+=3}return i},ba=t=>e=>{const i=t.indexOf(e);i>=0&&t.splice(i,1)},xa=t=>{let e=t.length;for(let i=0;i<e-1;i+=1)t[i].x===t[i+1].x&&t[i].y===t[i+1].y&&(t.splice(i,1),i-=1,e-=1);return t},Sa=t=>{const e=Math.log(t);return t=>Math.log(t)/e},Aa=Sa(Math.E),wa=(t,e)=>{const i=e[t];return i?i():void 0},Ca=(t,e)=>{let i;if(e)i=e;else{const e={x:0,y:0};for(let i=0;i<t.length;i+=1)e.x+=t[i].x/t.length,e.y+=t[i].y/t.length;i=e}return t.sort(((t,e)=>Nl(Rl(t,i))-Nl(Rl(e,i))))},Ma=(t,e,i)=>{if(0===t.length)return!1===i.canReturnB?e.slice():e;const s=e.length;if(s<1e5)return t.push.apply(t,e),t;for(let n=0;n<s;n+=1)t.push(e[n]);return t},ka=(t,e,i)=>i<0?t:i>1?e:qr(t.getR()+i*(e.getR()-t.getR()),t.getG()+i*(e.getG()-t.getG()),t.getB()+i*(e.getB()-t.getB()),t.getA()+i*(e.getA()-t.getA())),Ra=t=>255===t.getA()?t:t.setA(255),Ea=(()=>{const t=qr(0,0,0);return e=>(e=Ra(e),new Ao({shape:vo.circle,extent:bo.farthestCorner,position:{x:.2,y:.8},stops:[{offset:0,color:e},{offset:1,color:ka(e,t,.5)}]}))})(),Ta=(()=>{const t=t=>{var e;if(t){if(co(t)){if(0===t.getColor().getA())return;return t.getColor()}if(wo(t)||ko(t)){const i=t.getColorStops();return 3===i.length?i[1].color:null===(e=i[0])||void 0===e?void 0:e.color}po(t)}};return(e,i,s,n)=>{const r=[];if(n.fill&&r.push(n.fill),n.fill2&&r.push(n.fill2),n.stroke){const t=n.stroke.getFillStyle();t!==ro&&r.push(t)}if(n.point3D){const t=n.point3D;r.push(t.getFillStyle())}let o;if(n.behavior&&!0===n.behavior.colorStep){const[e,s]=r.reduce(((e,i)=>{if(e[0]&&e[1])return e;const s=t(i);return s&&(void 0===e[0]?e[0]=s:e[1]=s),e}),[void 0,void 0]);o=e&&s?(a=e)===(l=s)||a.getR()===l.getR()&&a.getG()===l.getG()&&a.getB()===l.getB()?Ea(a):(a=Ra(a),l=Ra(l),new Mo({angle:0,stops:[{offset:0,color:l},{offset:.5,color:l},{offset:.5,color:a},{offset:1,color:a}]})):i.uiButtonFillStyle}else{const e=r.reduce(((e,i)=>e||t(i)),void 0);o=e?s?new ho({color:e}):Ea(e):i.uiButtonFillStyle}var a,l;e.setButtonOnFillStyle(o)}})(),Ia=t=>{const e=t;if(po(e))return{lut:e.getPalette(),lookUpProperty:e.getLookUpProperty()}},Pa=t=>{let e=0;return()=>(e+=1,"".concat(t,"-").concat(e))},Fa=(t,e)=>{let i="string"==typeof t?t:String(t);const s=i.indexOf(".");let n=s>=0?s:i.length;for(;n<e;n+=1)i="0".concat(i);return i},Da=(t,e)=>"function"==typeof t?t(e):t,La=t=>t.ctrlKey?Math.sign(t.deltaY)*Math.min(.05*Math.abs(t.deltaY),1):Math.sign(t.deltaY),za=(t,e)=>e(),Na=()=>new Error("LightningChart JS encountered an unexpected error.\nPlease report this issue to https://lightningchart.com/js-charts/docs/contact");new ho({color:qr(255,255,255,1)});const _a=t=>t===el||t.min.x===el.min.x&&t.max.x===el.max.x&&t.min.y===el.min.y&&t.max.y===el.max.y,Va=t=>Array.from(new Set(t)),Ba=t=>t.filter((t=>void 0!==t)),Oa=t=>"boolean"==typeof t?t?1:0:t>1?1:t<0?0:t,Ua=(t,e,i)=>{e.length<=0||(t.setText(i.label).setOn(e[0].getVisible()),i.style&&t.setButtonOnFillStyle(i.style),i.toggleVisibilityOnClick&&t.onSwitch(((t,i)=>e.forEach((t=>t.setVisible(i))))),t.onMouseEnter((()=>e.forEach((t=>t.setHighlight(!0))))),t.onMouseLeave((()=>e.forEach((t=>t.setHighlight(!1))))),e.forEach((e=>e.onMouseEnter((()=>t.setHighlight(!0))))),e.forEach((e=>e.onMouseLeave((()=>t.setHighlight(!1))))),e.forEach((e=>e.onTouchStart((()=>t.setHighlight(!0))))),e.forEach((e=>e.onTouchEnd((()=>t.setHighlight(!1))))))},Ha=(t,e)=>{throw new Error(e)},Ga=()=>{const t=yo((()=>{}));let e;return(i,s,n,r)=>{const o=null==r?void 0:r.onStart,a=null==r?void 0:r.onCompleted,l=(null==r?void 0:r.easing)||go.ease,h=(null==r?void 0:r.durationMs)||1e3;let c;if(e)if(0===e.nextAnimations.length){const t=e.NextAnimation([[i,s]],(i=>{let[s]=i;e=t,n(s)}),h,l);c=t}else{i=e.nextAnimations.pop().values[0][0];const t=e.NextAnimation([[i,s]],(i=>{let[s]=i;e=t,n(s)}),h,l);c=t}else c=t(h,l)([[i,s]],(t=>{let[e]=t;n(e)})),e=c;c.onAnimationEnd((()=>{e=void 0})),o&&c.onAnimationStart(o),a&&c.onAnimationEnd(a)}},Wa=t=>{let e;return()=>e||(e=t(),e)},ja=t=>{if(t===Eo)return 0;const e=t.getThickness();return e<0?1:1*e},Ya=(t,e,i,s)=>{const n='LightningChart JS Resources not found.\nresourcesBaseUrl: "'.concat(t,'"\ninitiator: ').concat(i,"\nresource url: ").concat(e,"\nFor more information, please see https://lightningchart.com/js-charts/docs/troubleshooting/error-resources-not-found/");if(s.shouldCrash)throw Ho.alert(n),new Error(n);Ho.console.warn(n)},Xa=function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t<i(s)||i(e)<t)return;const n=e;for(;s!==e;){const n=Math.ceil((s+e)/2);t<i(n)?e=n-1:s=n}const r=Math.abs(t-i(s));return s<n&&Math.abs(t-i(s+1))<r?s+1:s},qa=()=>{const t=new Map;return{_t:e=>(e.setMouseEnterEventHandler(((e,i,s)=>{const n=s&&t.get(s);n&&n.wt(e,i,s)})),e.setMouseLeaveEventHandler(((e,i,s)=>{const n=s&&t.get(s);n&&n.Ct(e,i,s)})),e.setMouseClickEventHandler(((e,i,s)=>{const n=s&&t.get(s);n&&n.kt(e,i,s)})),e.setMouseDoubleClickEventHandler(((e,i,s)=>{const n=s&&t.get(s);n&&n.Tt(e,i,s)})),e.setMouseDownEventHandler(((e,i,s)=>{const n=s&&t.get(s);n&&n.Ft(e,i,s)})),e.setMouseUpEventHandler(((e,i,s)=>{const n=s&&t.get(s);n&&n.It(e,i,s)})),e.setMouseMoveEventHandler(((e,i,s)=>{const n=s&&t.get(s);n&&n.Pt(e,i,s)})),e.setMouseDragEventHandler(((e,i,s,n,r,o)=>{const a=o&&t.get(o);a&&a.Dt(e,i,s,n,r,o)})),e.setMouseDragStartEventHandler(((e,i,s,n)=>{const r=n&&t.get(n);r&&r.Bt(e,i,s,n)})),e.setMouseDragStopEventHandler(((e,i,s,n,r)=>{const o=r&&t.get(r);o&&o.Lt(e,i,s,n,r)})),e.setMouseWheelEventHandler(((e,i,s)=>{const n=s&&t.get(s);n&&n.Rt(e,i,s)})),e.setTouchStartEventHandler(((e,i,s)=>{const n=s&&t.get(s);n&&n.Et(e,i,s)})),e.setTouchMoveEventHandler(((e,i,s)=>{const n=s&&t.get(s);n&&n.zt(e,i,s)})),e.setTouchEndEventHandler(((e,i,s)=>{const n=s&&t.get(s);n&&n.Vt(e,i,s)})),e),Ot:(e,i)=>{t.set(e,i)},Nt:()=>{t.clear()}}},Ja={left:0,right:0,top:0,bottom:0},Ka=()=>Math.round(Math.random()*Number.MAX_SAFE_INTEGER),Za=(t,e,i)=>{e&&e.Gt();const s=i();return{Wt:t,Gt:()=>{s.forEach((e=>t.Ut(e)))}}},Qa={add:(t,e)=>_r(t.x+e,t.y+e,t.z+e),addVec(t){const e={x:t.x,y:t.y,z:t.z};for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];for(const r of s)e.x+=r.x,e.y+=r.y,e.z+=r.z;return e},subtract:(t,e)=>_r(t.x-e,t.y-e,t.z-e),subtractVec(t){const e={x:t.x,y:t.y,z:t.z};for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];for(const r of s)e.x-=r.x,e.y-=r.y,e.z-=r.z;return e},multiply:(t,e)=>_r(t.x*e,t.y*e,t.z*e),divide:(t,e)=>_r(t.x/e,t.y/e,t.z/e),multiplyVec(t){const e={x:t.x,y:t.y,z:t.z};for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];for(const r of s)e.x*=r.x,e.y*=r.y,e.z*=r.z;return e},divideVec(t){const e={x:t.x,y:t.y,z:t.z};for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];for(const r of s)e.x/=r.x,e.y/=r.y,e.z/=r.z;return e},length:t=>Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z),normalize:t=>Qa.divide(t,Qa.length(t)),dot:(t,e)=>t.x*e.x+t.y*e.y+t.z*e.z,cross:(t,e)=>_r(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x),angle:(t,e)=>Math.acos(Qa.dot(t,e)/(Qa.length(t)*Qa.length(e))),rotateAroundAxis(t,e,i){const s=Math.cos(i),n=Math.sin(i),r=Qa.dot(e,t),o=Qa.cross(e,t);return Qa.addVec(Qa.multiply(t,s),Qa.addVec(Qa.multiply(e,(1-s)*r),Qa.multiply(o,n)))},lerp:(t,e,i)=>(i=Jo(i,0,1),Qa.addVec(Qa.multiply(t,1-i),Qa.multiply(e,i))),equals:(t,e)=>qo(t.x,e.x)&&qo(t.y,e.y)&&qo(t.z,e.z),abs:t=>({x:Math.abs(t.x),y:Math.abs(t.y),z:Math.abs(t.z)}),sign:t=>({x:Math.sign(t.x),y:Math.sign(t.y),z:Math.sign(t.z)})},$a=Number.MAX_SAFE_INTEGER,tl=-Number.MAX_SAFE_INTEGER,el=Br(Lr($a,$a),Lr(tl,tl)),il=Br(_r($a,$a,$a),_r(tl,tl,tl)),sl=(t,e)=>{const i=Math.log(t)/Math.log(e);return Math.floor((t=>(Math.ceil(t)-t<1e-4?t=Math.ceil(t):t-Math.floor(t)<1e-4&&(t=Math.floor(t)),t))(i))},nl=(t,e)=>!(e.min.x>t.max.x||e.max.x<t.min.x||e.min.y>t.max.y||e.max.y<t.min.y),rl=(t,e)=>!(t[1].x<e[0].x||t[0].x>e[1].x||t[3].y<e[0].y||t[0].y>e[3].y),ol=(t,e)=>Br(Lr(Math.max(Math.min(t[0].x,t[2].x),Math.min(e[0].x,e[2].x)),Math.max(Math.min(t[0].y,t[2].y),Math.min(e[0].y,e[2].y))),Lr(Math.min(Math.max(t[0].x,t[2].x),Math.max(e[0].x,e[2].x)),Math.min(Math.max(t[0].y,t[2].y),Math.max(e[0].y,e[2].y)))),al=t=>{const e=t.length;for(let i=0;i<e;i+=1)for(let s=i+1;s<e;s+=1)if(nl(t[i],t[s]))return!0;return!1},ll=(t,e)=>e+t,hl=(t,e,i)=>{const s=Rl(e,t),n=s.x*s.x+s.y*s.y;if(0===n)return t;const r=Rl(i,t),o=(r.x*s.x+r.y*s.y)/n;return o<=0?t:o>=1?e:Lr(t.x+o*s.x,t.y+o*s.y)},cl=(t,e,i)=>i>e?t>=e&&t<=i:t>=i&&t<=e,ul=(t,e)=>{const i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)},dl=(t,e)=>{const i=t.x-e.x,s=t.y-e.y;return i*i+s*s},fl=(t,e,i)=>kl(t,Ml(Rl(e,t),i)),pl=(t,e,i)=>Qa.addVec(t,Qa.multiply(Qa.subtractVec(e,t),i));function gl(t){const e=t.length;if(e>0){let i=t[0].x,s=t[0].x,n=t[0].y,r=t[0].y;for(let o=0;o<e;o+=1){const e=t[o];e.x>i&&(i=e.x),e.x<s&&(s=e.x),e.y>n&&(n=e.y),e.y<r&&(r=e.y)}return Br(Lr(s,r),Lr(i,n))}return el}function ml(t){const e=t.length;if(e>0){let i=t[0].x,s=t[0].x,n=t[0].y,r=t[0].y,o=t[0].z,a=t[0].z;for(let l=0;l<e;l+=1){const e=t[l];e.x>i&&(i=e.x),e.x<s&&(s=e.x),e.y>n&&(n=e.y),e.y<r&&(r=e.y),e.z>o&&(o=e.z),e.z<a&&(a=e.z)}return Br(_r(s,r,a),_r(i,n,o))}return il}const yl=function(){const t={min:{x:$a,y:$a},max:{x:tl,y:tl}};for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];for(const n of i)t.min.x=t.min.x<n.min.x?t.min.x:n.min.x,t.max.x=t.max.x>n.max.x?t.max.x:n.max.x,t.min.y=t.min.y<n.min.y?t.min.y:n.min.y,t.max.y=t.max.y>n.max.y?t.max.y:n.max.y;return t},vl=(t,e)=>Br(_r(t.min.x<e.min.x?t.min.x:e.min.x,t.min.y<e.min.y?t.min.y:e.min.y,t.min.z<e.min.z?t.min.z:e.min.z),_r(t.max.x>e.max.x?t.max.x:e.max.x,t.max.y>e.max.y?t.max.y:e.max.y,t.max.z>e.max.z?t.max.z:e.max.z));function bl(t,e,i,s){const n=t.x-s.x,r=t.y-s.y,o=s.x-i.x,a=i.y-s.y,l=a*n+o*r,h=(s.y-e.y)*n+(e.x-s.x)*r,c=a*(e.x-s.x)+o*(e.y-s.y);return c<0?l<=0&&h<=0&&l+h>=c:l>=0&&h>=0&&l+h<=c}function xl(t,e,i){return Lr(Math.cos(i)*(t.x-e.x)+Math.sin(i)*(t.y-e.y)+e.x,-Math.sin(i)*(t.x-e.x)+Math.cos(i)*(t.y-e.y)+e.y)}function Sl(t,e){return Lr(t.x-e.x,t.y-e.y)}function Al(t){const e=Cl(t);return 0===e?Lr(0,0):Lr(t.x/e,t.y/e)}function wl(t,e){let i={x:e.x-t.x,y:e.y-t.y};i=Al(i);const s=Math.PI/2,n=i.x;return i.x=-Math.sin(s)*i.y,i.y=n*Math.sin(s),i}function Cl(t){return Math.sqrt(t.x*t.x+t.y*t.y)}function Ml(t,e){return Lr(t.x*e,t.y*e)}function kl(t,e){return Lr(t.x+e.x,t.y+e.y)}function Rl(t,e){return Lr(t.x-e.x,t.y-e.y)}function El(t,e){return Lr(t.x*e.x,t.y*e.y)}function Tl(t,e){return Lr(t.x/e.x,t.y/e.y)}function Il(t){return Ml(t,-1)}function Pl(t,e){return t.x*e.x+t.y*e.y}const Fl=(t,e,i)=>{const s=(i.y-e.y)/(i.x-e.x),n=e.y+(t-e.x)*s;return Lr(t,n)},Dl=(t,e,i)=>{const s=(i.y-e.y)/(i.x-e.x),n=e.x+(t-e.y)/s;return Lr(n,t)};function Ll(t){return t*Math.PI/180}function zl(t){return 180*t/Math.PI}function Nl(t){return 180*Math.atan2(t.y,t.x)/Math.PI}function _l(t){return Lr(Math.cos(t),Math.sin(t))}function Vl(t){let e=-1;const i=Math.cos(t),s=Math.sin(t);return i>0&&i<1&&s>0&&s<1?e=1:i<0&&i>-1&&s>0&&s<1?e=2:i<0&&i>-1&&s<0&&s>-1?e=3:i>0&&i<1&&s<0&&s>-1&&(e=4),e}const Bl=(t,e,i,s)=>{let n,r,o,a;if(e.x-t.x!=0||s.x-i.x!=0)return e.x-t.x==0?(o=e.x,r=(s.y-i.y)/(s.x-i.x),a=r*(o-i.x)+i.y):s.x-i.x==0?(o=s.x,n=(e.y-t.y)/(e.x-t.x),a=n*(o-t.x)+t.y):(n=(e.y-t.y)/(e.x-t.x),r=(s.y-i.y)/(s.x-i.x),o=(i.y-r*i.x+n*t.x-t.y)/(n-r),a=n*(o-t.x)+t.y),Lr(o,a)},Ol=(t,e)=>{const i=t.length,s=e.length,n=new Uint16Array(i+s);return n.set(t,0),n.set(e,i),n};class Ul{constructor(){this.Yt=!0}getInnerStart(){return this.H}getInnerEnd(){return this.$}getInnerInterval(){return Math.abs(this.$-this.H)}J(t,e){return this.Yt=t!==this.H||e!==this.$,this.H=t,this.$=e,this}j(){return this.Yt=!1,this}Z(){return this.Yt=!0,this}}class Hl extends Ul{constructor(t,e,i,s){if(super(),this.Ht=!0,this.$t=!0,this.Xt=[0,0],this.jt=!0,this.Zt=t,this.Qt=e,this.Jt=i,this.Kt=t,this.qt=e,s){const t=s.O(this.ti.bind(this));this.ti(s.M()),this.ii=()=>s.G(t)}}q(t){return this.X=t,this.$t=!0,this}si(t){return this.Xt=t.map(Math.abs),this.jt=!0,this}ei(){return this.Zt/this.Jt*this.X+this.Xt[0]}hi(){return(this.Zt+this.Qt)/this.Jt*this.X-this.Xt[1]}ri(){return this.getCellSize()-this.ni()}oi(){return this.X}getCellSize(){return this.ai(this.X)}ni(){return this.Xt[0]+this.Xt[1]}li(){return this.Xt}ti(t){this.Jt=t.reduce(ll,0),this.Zt=t.reduce(((t,e,i)=>i>=this.Kt?t:t+e),0),this.Qt=t.reduce(((t,e,i)=>i>=this.Kt&&i<this.Kt+this.qt?t+e:t),0),this.Ht=!0,this.ui()}ai(t){return t*this.Qt/this.Jt}j(){return super.j(),this.$t=!1,this.jt=!1,this.Ht=!1,this}Z(){return super.Z(),this.$t=!0,this.jt=!0,this.Ht=!0,this}}class Gl extends Hl{constructor(t,e,i,s){super(t,e,i,s),this.ci={internal:10,function:Wl(10),number:10},this.X=1e3,this.J(1,1e3),this.di=this.fi()}nt(t,e,i,s,n){if(t===e)return!1;const r=Math.min(t,e)<Yl,o=Math.max(t,e)>Xl;return!r&&!o||!!n&&(e>t?{start:r?Yl:t,end:o?Xl:e}:{start:o?Xl:t,end:r?Yl:e})}ct(t){const e=this.ei(),i=this.hi(),s=Math.max(t,Yl);return e+(this.ci.function(s)-this.di.scaleStartLog)/this.di.scaleIntervalLog*(i-e)}ut(t){const e=this.ei(),i=(t-e)/(this.hi()-e),s=this.di.scaleStartLog+i*this.di.scaleIntervalLog;return this.ci.number**s}ui(){this.ci&&this.fi()}J(t,e){return super.J(t,e),this.ci&&this.fi(),this}si(t){return super.si(t),this.ci&&this.fi(),this}q(t){return super.q(t),this.ci&&this.fi(),this}Ai(t){return this.ci={internal:t,function:Wl(t),number:jl(t)},this}gi(){return this.ci.internal}mi(t,e){const i=this.ct(t)+e;return this.ut(i)}yi(){return this.$t||this.Yt||this.jt||this.Ht}fi(){const t=this.ci.function(this.H),e=this.ci.function(this.$)-t,i=2*this.ei()/this.X-1,s=2*this.hi()/this.X-1-i;return this.di={scaleStartLog:t,scaleIntervalLog:e,viewportStart:i,viewportSize:s},this.di}pi(){return this.di}}const Wl=t=>"e"===t?Aa:Sa(t),jl=t=>"e"===t?Math.E:t,Yl=.9*10**-4,Xl=1.1*10**25,ql=[{prefix:"T",unit:10**12},{prefix:"B",unit:10**9},{prefix:"M",unit:1e6},{prefix:"K",unit:1e3}],Jl=(t,e,i)=>{const s=Math.abs(i-e),n=Math.max(2-sl(s,10),0);return t.toFixed(n)},Kl={Numeric:(t,e)=>Jl(t,e.getInnerStart(),e.getInnerEnd()),NumericUnits:(t,e)=>{const i=Math.abs(e.getInnerEnd()-e.getInnerStart()),s=t<0;t=Math.abs(t);let n="",r="";if(i>=1e3&&t>1e3){let e="";for(const i of ql){const s=Math.round(1e3*t/i.unit)/1e3;if(s>=1){e=s.toString(),r=i.prefix;break}}n=(s?"-":"")+e}else{let e=String(Math.floor(t));const r=sl(t,1e3);for(let t=1;t<=r;t+=1){const i=e.length-(3*t+(t-1));e="".concat(e.substring(0,i)," ").concat(e.substring(i,e.length))}n=(s?"-":"")+e+(i<=10?((t,e)=>{if(0===e)return"";let i=(Math.abs(t)-Math.abs(Math.floor(t))).toString().substring(1);return i.length>e&&(i=i.substring(0,e+1)),i})(t,2-sl(i,10)):"")}return n+=r,n},LogarithmicExponentsRounded:function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const n=Wl(s)(t);return"".concat(s).concat(Zl(n))},LogarithmicExponents:function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const n=Wl(s),r=Math.floor(n(t)),o=t/jl(s)**r;return"".concat(Math.round(o),"\xd7").concat(s).concat(Zl(r))},LogarithmicExtreme:function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const n=Wl(s),r=Math.floor(n(t));return"".concat((t/jl(s)**r).toFixed(2),"\xd7").concat(s).concat(Zl(r))},LogarithmicNoExponents:function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;const n=Wl(s);if("e"===s)return"".concat(Math.floor(n(t)),"e");const r=t.toString();if(t>1)return r;const o=Math.floor(n(t));return t.toFixed(Math.abs(o))}},Zl=t=>Math.round(t).toString().split("").map((t=>{switch(t){case"0":return"\u2070";case"1":return"\xb9";case"2":return"\xb2";case"3":return"\xb3";case"4":return"\u2074";case"5":return"\u2075";case"6":return"\u2076";case"7":return"\u2077";case"8":return"\u2078";case"9":return"\u2079";case"-":return"\u207b";default:return t}})).join("");class Ql extends Hl{constructor(t,e,i,s){super(t,e,i,s),this.Si=!1,this.vi=!1,this.bi=0,this.X=1e3,this.J(0,10),this.K()}yi(){return this.vi}nt(t,e,i,s,n){if(t===e)return!1;const r=Math.abs(s-i),o=Math.abs(e-t);if(!this.Si){const i=((t,e,i)=>{const s=((t,e)=>{if(e<$a&&e>tl&&t<$a&&t>tl){const i=Math.abs(t/2**23),s=Math.abs(e/2**23),n=Math.min(i,s);return 10**Math.floor(Math.log10(n))}})(t,e);if(void 0!==s)return s*i})(t,e,this.getCellSize());if(void 0===i)return!1;if(o>i)return!0;const s=(e+t)/2,a=(n?i/2:r/2)*(t>e?-1:1);return{start:s-a,end:s+a}}const a=10**-(12-Math.log10(Math.max(Math.abs(t),1)));if(o>a)return!0;const l=(e+t)/2,h=(n?a/2:r/2)*(t>e?-1:1);return{start:l-h,end:l+h}}ui(){this.K()}ct(t){return this.ei()+(t-this.H)/(this.$-this.H)*(this.hi()-this.ei())}ut(t){return this.H+(t-this.ei())/(this.hi()-this.ei())*(this.$-this.H)}J(t,e){return super.J(t,e),this.K(),this}si(t){return super.si(t),this.K(),this}q(t){return super.q(t),this.xi=$l(this.$-this.H,this.Xt,this.X,this.Qt,this.Jt),this.K(),this}Mi(){return this.Si=!0,this}_i(){return this.Si}wi(){return Math.abs(this.Ci)}ki(){return this.wi()/this.xi}Ti(){return this.Fi}Ii(){return this.Pi}getPixelSize(){return this.xi}pi(){return this.di}Z(){return super.Z(),this.vi=!0,this}j(){return super.j(),this.vi=!1,this}Di(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Kl.Numeric)(t,this)}Bi(){const t=Math.abs(this.getInnerEnd()).toString().length,e=Math.abs(this.getInnerStart()).toString().length;return t>e?t:e}Li(t){return $l(t,this.Xt,this.X,this.Qt,this.Jt)}K(){let t=this.H,e=this.$,i=0;this.Si&&(t=0,e=this.$-this.H,i=this.H);const s=e-t,n=$l(s,this.Xt,this.X,this.Qt,this.Jt);this.Pi=t-this.Xt[0]*n,this.Fi=e+this.Xt[1]*n;const r=this.Fi-this.Pi,o=r-this.Ci,a=Math.abs(o/n),l=s-this.bi,h=Math.abs(l/n);(!this.di||a>=.4||h>=.4)&&(this.bi=s,this.Ci=r,this.xi=n,this.vi=!0);const c=this.Ci*this.Jt/(2*this.Qt),u=-(this.Pi-this.Ci*this.Zt/this.Qt)-c,d=2*this.ei()/this.X-1,f=2*this.hi()/this.X-1-d;this.di={displacement:u,scaling:c,highPrecisionOffset:i,viewportStart:d,viewportSize:f,scaleStartLog:0,scaleIntervalLog:0}}mi(t,e){return t+this.xi*e}}const $l=function(t,e,i){return t/(i*(arguments.length>3&&void 0!==arguments[3]?arguments[3]:1)/(arguments.length>4&&void 0!==arguments[4]?arguments[4]:1)-(e[0]+e[1]))};class th{Ri(t,e){return"x"in t?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e),this}j(){return this.x.j(),this.y.j(),this}Z(){return this.x.Z(),this.y.Z(),this}q(t,e){return"object"==typeof t?(this.x.q(t.x),this.y.q(t.y)):(this.x.q(t),this.y.q(e)),this}oi(){return Lr(this.x.oi(),this.y.oi())}Ei(t){return this.x.si(t),this}zi(t){return this.y.si(t),this}ni(){return Lr(this.x.ni(),this.y.ni())}Vi(t,e){return this.x.J(t,e),this}Oi(t,e){return this.y.J(t,e),this}getInnerIntervalPixels(){const t=this.x.getCellSize(),e=this.y.getCellSize();return{x:t-this.x.ni(),y:e-this.y.ni()}}Ni(){return this.x.yi()||this.y.yi()}}class eh extends th{constructor(){super(...arguments),this.Gi="LinearScaleXY"}ot(t,e,i,s){return this.x=new Ql(t.x,e.x,i.x,s?s.x:void 0),this.y=new Ql(t.y,e.y,i.y,s?s.y:void 0),this}_i(){return this.x._i()||this.y._i()}Wi(){return Lr(this.x.getPixelSize(),this.y.getPixelSize())}pi(){return{x:this.x.pi(),y:this.y.pi()}}mi(t,e){const i=this.Wi();return{x:t.x+e.x*i.x,y:t.y+e.y*i.y}}Ui(t,e,i,s){const n=this.Wi(),r=wl(t,e);return r.x*=s,r.y*=s,{x:t.x+i*n.x*r.x,y:t.y+i*n.y*r.y}}}class ih extends th{constructor(){super(...arguments),this.Gi="MixedScaleXY"}_i(){return!1}mi(t,e){const i=this.x.ct(t.x),s=this.y.ct(t.y),n={x:i+e.x,y:s+e.y};return{x:this.x.ut(n.x),y:this.y.ut(n.y)}}Ui(t,e,i,s){const n={x:this.x.ct(t.x),y:this.y.ct(t.y)},r={x:this.x.ct(e.x),y:this.y.ct(e.y)},o=Al(Rl(r,n)),a=wl(r,n),l={x:n.x+o.x*s+a.x*i,y:n.y+o.y*s+a.y*i};return{x:this.x.ut(l.x),y:this.y.ut(l.y)}}pi(){const t=this.x.pi(),e=this.y.pi();return{uScaleStart:[this.x.H,this.y.H],uScaleInterval:[this.x.getInnerInterval(),this.y.getInnerInterval()],uScaleStartLog:[t.scaleStartLog,e.scaleStartLog],uScaleIntervalLog:[t.scaleIntervalLog,e.scaleIntervalLog],uViewportStart:[t.viewportStart,e.viewportStart],uViewportSize:[t.viewportSize,e.viewportSize]}}}const sh=(t,e)=>t instanceof Gl||e instanceof Gl?(new ih).Ri(t,e):(new eh).Ri(t,e),nh=t=>"client"===t,rh=t=>!!(t&&"object"==typeof t&&"clientX"in t&&"number"==typeof t.clientX&&"clientY"in t&&"number"==typeof t.clientY),oh=t=>"relative"===t,ah=t=>!!(t&&"object"==typeof t&&"x"in t&&"number"==typeof t.x&&"y"in t&&"number"==typeof t.y);var lh;!function(t){t[t.noHighlighting=0]="noHighlighting",t[t.onHover=1]="onHover"}(lh||(lh={}));class hh{constructor(t,e,i,s){this.Yi=!0,this.Hi=lh.onHover,this.$i=!1,this.Xi=!0,this.ji=!1,this.D=new Ir,this.Zi=[],this.Qi=[],this.onMouseEnter=t=>this.D.on("mouseEnter",t),this.onMouseLeave=t=>this.D.on("mouseLeave",t),this.onMouseClick=t=>this.D.on("mouseClick",t),this.onMouseDoubleClick=t=>this.D.on("mouseDoubleClick",t),this.onMouseDown=t=>this.D.on("mouseDown",t),this.onMouseUp=t=>this.D.on("mouseUp",t),this.onMouseMove=t=>this.D.on("mouseMove",t),this.offMouseEnter=t=>this.D.off(t,"mouseEnter"),this.offMouseLeave=t=>this.D.off(t,"mouseLeave"),this.offMouseClick=t=>this.D.off(t,"mouseClick"),this.offMouseDoubleClick=t=>this.D.off(t,"mouseDoubleClick"),this.offMouseDown=t=>this.D.off(t,"mouseDown"),this.offMouseUp=t=>this.D.off(t,"mouseUp"),this.offMouseMove=t=>this.D.off(t,"mouseMove"),this.offMouseDragStart=t=>this.D.off(t,"mouseDragStart"),this.offMouseDrag=t=>this.D.off(t,"mouseDrag"),this.offMouseDragStop=t=>this.D.off(t,"mouseDragStop"),this.offMouseWheel=t=>this.D.off(t,"mouseWheel"),this.wt=(t,e,i)=>{this.D.emit("mouseEnter",this,e),this.ji=!0,this.Hi===lh.onHover&&this.setHighlight(!0)},this.Ct=(t,e,i)=>{this.D.emit("mouseLeave",this,e),this.ji=!1,this.Hi===lh.onHover&&this.setHighlight(!1)},this.Pt=(t,e,i)=>{this.D.emit("mouseMove",this,e)},this.kt=(t,e,i)=>this.D.emit("mouseClick",this,e),this.Tt=(t,e,i)=>this.D.emit("mouseDoubleClick",this,e),this.Ft=(t,e,i)=>this.D.emit("mouseDown",this,e),this.It=(t,e,i)=>this.D.emit("mouseUp",this,e),this.Bt=(t,e,i,s)=>{this.D.emit("mouseDragStart",this,e,i)},this.Dt=(t,e,i,s,n,r)=>{this.D.emit("mouseDrag",this,e,i,s,n)},this.Lt=(t,e,i,s,n)=>{this.D.emit("mouseDragStop",this,e,i,s)},this.Rt=(t,e,i)=>{this.D.emit("mouseWheel",this,e)},this.Et=(t,e,i)=>{this.D.emit("touchStart",this,e),this.ji=!0,this.Hi===lh.onHover&&this.setHighlight(!0)},this.zt=(t,e,i)=>{this.D.emit("touchMove",this,e)},this.Vt=(t,e,i)=>{this.D.emit("touchEnd",this,e),this.ji=!1,this.Hi===lh.onHover&&this.setHighlight(!1)},this.Ji=t,this.Ki=e,this.qi=i,this.ts=new Map,this.ss=s,this.es=this.ss.hs(this,{rs:{themeEffectEnabled:this.qi.effectsText},ns:{}}),this.Ji.us.ls.os(this,(t=>{this.ts.forEach(((e,i)=>i.cs(t))),this.Qi.forEach((e=>e.setHighlight(t))),this.Zi.forEach((e=>e.cs(t)))}),{animationEnabled:this.Ji.getAnimationsEnabled()})}ds(t,e){const i=void 0===(null==e?void 0:e.setEventHandlers)||e.setEventHandlers,s=void 0!==(null==e?void 0:e.isText)&&e.isText;this.ts.set(t,{isText:s});const n=Array.from(this.ts);this.es.rs.fs(n.filter((t=>t[1].isText)).map((t=>t[0]))),this.es.ns.fs(n.filter((t=>!t[1].isText)).map((t=>t[0]))),t.setMouseInteractions(this.Yi).setVisible(this.Xi).cs(this.Ji.us.ls.As(this,!0)),i&&t.setMouseEnterEventHandler(this.wt).setMouseLeaveEventHandler(this.Ct).setMouseClickEventHandler(this.kt).setMouseDoubleClickEventHandler(this.Tt).setMouseDownEventHandler(this.Ft).setMouseUpEventHandler(this.It).setMouseMoveEventHandler(this.Pt).setMouseDragStartEventHandler(this.Bt).setMouseDragEventHandler(this.Dt).setMouseDragStopEventHandler(this.Lt).setMouseWheelEventHandler(this.Rt).setTouchStartEventHandler(this.Et).setTouchMoveEventHandler(this.zt).setTouchEndEventHandler(this.Vt);const r=t.onDispose((()=>{t.offDispose(r),this.ts.delete(t)}))}gs(t){this.Zi=t;const e=this.Ji.us.ls.As(this,!0);t.forEach((t=>{t.cs(e).ys(this.Xi)}))}setEffect(t){return this.es.rs.ps(t&&this.qi.effectsText),this.es.ns.ps(t),this.Ji.us.Ss(),this}getEffect(){return this.es.rs.vs()||this.es.ns.vs()}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}setIcon(t){return this.bs=t,this.Ji.us.Ss(),this}getIcon(){return this.bs}setName(t){return this.xs=t,this.Qi.forEach((t=>t.setText(this.xs))),this}getName(){return this.xs}dispose(){return this.$i||(this.$i=!0,this.ts.forEach(((t,e)=>e.dispose())),this.Ki(this),this.Qi.forEach((t=>{t.dispose()})),this.Qi.length=0,this.D.emit("dispose",this),this.Ji.us.Ss()),this}setVisible(t){return t===this.Xi||(this.Xi=t,this.ts.forEach(((e,i)=>i.setVisible(t))),this.Zi.forEach((e=>e.ys(t))),this.Qi.forEach((e=>e.setOn(t))),this.D.emit("visibleStateChanged",this,this.Xi),this.Ji.us.Ss()),this}getVisible(){return this.Xi}onVisibleStateChanged(t){return this.D.on("visibleStateChanged",t)}offVisibleStateChanged(t){return this.D.off(t,"visibleStateChanged")}setHighlight(t){return this.Ji.us.ls.Ms(this,t),this.D.emit("highlight",this,t),this}getHighlight(){return this.Ji.us.ls.As(this)}setAnimationHighlight(t){return this.Ji.us.ls._s(this,t),this}getAnimationHighlight(){return this.Ji.us.ls.ws(this)}setMouseInteractions(t){return this.Yi=t,this.ts.forEach(((e,i)=>i.setMouseInteractions(t))),this.Ji.us.Ss(),this}getMouseInteractions(){return this.Yi}getIsUnderMouse(){return this.ji}setHighlightOnHover(t){return this.Hi=t?lh.onHover:lh.noHighlighting,!1===t&&this.getHighlight()>0&&this.setHighlight(!1),this}getHighlightOnHover(){return this.Hi!==lh.noHighlighting}attach(t){return Ua(t,[this],{toggleVisibilityOnClick:!(arguments.length>1&&void 0!==arguments[1])||arguments[1],label:this.xs,style:void 0}),this.Qi.push(t),t.onDispose((()=>{const e=this.Qi.indexOf(t);e>=0&&this.Qi.splice(e,1)})),this}Cs(){return this.bs}onMouseDragStart(t){return this.D.on("mouseDragStart",t)}onMouseDrag(t){return this.D.on("mouseDrag",t)}onMouseDragStop(t){return this.D.on("mouseDragStop",t)}onMouseWheel(t){return this.D.on("mouseWheel",t)}onTouchStart(t){return this.D.on("touchStart",t)}onTouchMove(t){return this.D.on("touchMove",t)}onTouchEnd(t){return this.D.on("touchEnd",t)}isDisposed(){return this.$i}onDispose(t){return this.D.on("dispose",t)}offTouchStart(t){return this.D.off(t,"touchStart")}offTouchMove(t){return this.D.off(t,"touchMove")}offTouchEnd(t){return this.D.off(t,"touchEnd")}offDispose(t){return this.D.off(t,"dispose")}}class ch extends hh{constructor(t,e,i,s,n,r,o,a){super(e,i,o,a),this.ks=t,this.axis=s,this.dt=n,this.Ts=r,this.Fs()}}const uh=t=>{const e=t.length;if(e>0){let i=0,s=0;for(let n=0;n<e;n+=1)i+=t[n].x,s+=t[n].y;return Lr(i/e,s/e)}return Lr(0,0)},dh=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=e.length,n=new Array(s).fill(!1),r=(t,i)=>{for(let r=0;r<s;r+=1){const s=e[r],o=s.Is(t,i);o?s.Ps(t,i,!0):n[r]&&n[r]&&s.Ps(t,i,!1),n[r]=o}return!1};return{onTouchStart:r,onTouchMove:r,onTouchEnd:r}},fh=class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;this.Ds=!1,this.Bs=[],this.Ls=300,this.Rs=t,this.Ls=e}Is(t,e){const i=Ho.performance.now();let s=!1;for(let n=0;n<this.Bs.length;n+=1)i-this.Bs[n].time>=this.Ls?(this.Bs.splice(n,1),n-=1):this.Bs[n].state&&(s=!0);return this.Ds?0===e.interactions.length&&(this.Bs.push({state:!1,time:i}),this.Ds=!1):1===e.interactions.length&&"pointerdown"===e.type&&(this.Bs.push({state:!0,time:i}),s=!0,this.Ds=!0),s}Ps(t,e,i){if(i){const i=this.Bs.reduce(((t,e)=>(e.state?t.on+=1:t.off+=1,t)),{on:0,off:0});i.on>=2&&i.off>=1&&(this.Rs(t,e),this.Bs.length=0)}}},ph=class{constructor(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:100;this.Es=t,this.zs=e,this.Vs=i,this.Os=s,this.Ns=n}Is(t,e){const i=e.interactions.length;if(i===this.Os){if(void 0!==this.Gs)return!0;if("pointerdown"===e.type&&(1===i||(t=>{const e=t.length;if(e>0){const i=uh(t);let s=0;for(let n=0;n<e;n+=1)s=Math.max(s,ul(i,Lr(t[n].x,t[n].y)));return s}return $a})(e.interactions)<=this.Ns))return this.Gs=uh(e.interactions),!0}return!1}Ps(t,e,i){const s=this.Ws;if(!i||e.forceTouchEnd||"pointerup"===e.type)this.Vs&&this.Vs(t,this.Gs,s,e),this.Gs=void 0,this.Ws=void 0;else{const i=uh(e.interactions);"pointerdown"===e.type?this.Es&&this.Es(t,this.Gs,e):"pointermove"===e.type&&this.zs&&this.zs(t,this.Gs,i,Lr(i.x-s.x,s.y-i.y),e),this.Ws=i}}},gh=class{constructor(t,e,i){this.Us=!1,this.Es=t,this.zs=e,this.Vs=i}Is(t,e){return this.Us?2!==e.interactions.length&&(this.Us=!1):2===e.interactions.length&&"pointerdown"===e.type&&(this.Us=!0),this.Us}Ps(t,e,i){let s,n;if(i&&"pointerup"!==e.type){if("pointerdown"===e.type){const i=e.interactions;s=i[0],n=i[1],this.Es(t,s,n,e)}else if("pointermove"===e.type){s=e.interactions[0],n=e.interactions[1];const i=this.Ys,r=this.Hs,o=Lr(s.x-i.x,i.y-s.y),a=Lr(n.x-r.x,r.y-n.y);this.zs(t,s,n,o,a,e)}}else{const i=e.interactions;this.Vs(t,i[0],i[1],e)}this.Ys=s,this.Hs=n}},mh=vr({type:"linestyle",lineType:"solid",fillStyle:new ho({color:qr(255,255,255)}),thickness:1});class yh extends mh{constructor(t){super({...t,lineType:"solid"})}setFillStyle(t){return"function"==typeof t?this.set("fillStyle",t(this.getFillStyle())):this.set("fillStyle",t)}getFillStyle(){return this.get("fillStyle")}setThickness(t){return"function"==typeof t?this.set("thickness",t(this.getThickness())):this.set("thickness",t)}getThickness(){return this.get("thickness")}V(){const t=this.getThickness();return t<0?1:t}}const vh=t=>!(!t||"object"!=typeof t||!("lineType"in t)||"solid"!==t.lineType);class bh{constructor(t,e){this.$s=t,this.Xs=e,this.js=e.rows*qh,this.Zs=e.columns*Jh}}var xh,Sh;!function(t){t[t.ZoomIn=0]="ZoomIn",t[t.ZoomInX=1]="ZoomInX",t[t.ZoomInY=2]="ZoomInY",t[t.ZoomOut=3]="ZoomOut",t[t.ZoomOutX=4]="ZoomOutX",t[t.ZoomOutY=5]="ZoomOutY",t[t.ZoomToFit=6]="ZoomToFit",t[t.ToggleAnimations=7]="ToggleAnimations"}(xh||(xh={})),function(t){t[t.Circle=0]="Circle",t[t.Rectangle=1]="Rectangle",t[t.RoundedRectangle=2]="RoundedRectangle"}(Sh||(Sh={}));const Ah={x:-43,y:0},wh={x:-65,y:0},Ch={x:-86,y:0},Mh={x:-107,y:-1},kh={x:-128,y:-3},Rh={x:-150,y:0},Eh={x:-171,y:0},Th={x:-276,y:0},Ih={x:-298,y:0},Ph={x:0,y:0},Fh={x:-21,y:0};class Dh extends bh{constructor(t,e,i,s){super(t,i),this.Qs=Ho.document.createElement("button"),this.Js=Ho.document.createElement("div"),this.Ks=Ho.document.createElement("label"),this.Xs=i,this.qs=e,this.Ji=s}te(t,e,i,s){this.ie(t,s),this.se(),this.ee(e),this.he(),this.Ks.textContent=i||"";const n=Ho.document.createElement("div");this.re(n),this.Qs.onclick=this.onClick.bind(this),n.appendChild(this.Js),n.appendChild(this.Ks),this.Qs.appendChild(n)}he(){this.Qs.style.cursor="pointer"}re(t){t.style.display="flex",t.style.justifyContent="center",t.style.alignContent="center",t.style.flexDirection="column"}ee(t){"string"==typeof t?(this.Js.style.backgroundImage="url(".concat(t,")"),this.Js.style.backgroundSize="100%",this.Js.style.backgroundRepeat="no-repeat",this.Js.style.backgroundPosition="center",this.Js.style.width="20px",this.Js.style.height="20px"):this.applyStyleForSprite(t),this.Js.style.margin="auto"}se(){switch(this.qs){case Sh.RoundedRectangle:this.Qs.style.borderRadius="10px";break;case Sh.Rectangle:this.Qs.style.borderRadius="0px";break;case Sh.Circle:default:this.Qs.style.borderRadius="31px"}}ie(t,e){this.Qs.style.width="".concat(this.Zs.toString(),"px"),this.Qs.style.height="".concat(this.js.toString(),"px"),this.Qs.style.backgroundColor=t,this.Qs.style.opacity=e||Kh,this.Qs.style.alignItems="center",this.Qs.style.border="2px solid #707070",this.Qs.style.transition="background-color .8s ease"}applyStyleForSprite(t){this.Js.style.backgroundImage="url(".concat(this.$s,"/").concat(Zh,")"),this.Js.style.backgroundPositionX="".concat(t.x,"px"),this.Js.style.backgroundPositionY="".concat(t.y,"px"),this.Js.style.backgroundSize="1600%",this.Js.style.backgroundRepeat="no-repeat",this.Js.style.width="20px",this.Js.style.height="20px"}ne(t){return t.appendChild(this.Qs),t}oe(){return this.Qs}}class Lh extends Dh{constructor(t,e,i,s){super(t,e,i,s),this.ae="",this.le="",this.ue=!1,this.Ji=s}ce(){this.de(),this.onToggledStateAction()}fe(){this.Ae(),this.onInitialStateAction()}Ae(){this.ge(this.ae)}de(){this.ge(this.le)}ge(t){"string"==typeof t?this.Js.style.background=t:(this.Js.style.backgroundImage="url(".concat(this.$s,"/").concat(Zh,")"),this.Js.style.backgroundPositionX="".concat(t.x,"px"),this.Js.style.backgroundPositionY="".concat(t.y,"px"))}onClick(){this.ue?this.fe():this.ce(),this.ue=!this.ue}}class zh extends Dh{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const s=this.Ji.getTheme();this.te(s.onScreenMenuBackgroundColor.toRGBAString(),Ah)}onClick(){const t=this.Ji.me();t&&this.Ji.zoom(t,{x:-1,y:-1})}}class Nh extends Dh{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const s=this.Ji.getTheme();this.te(s.onScreenMenuBackgroundColor.toRGBAString(),Mh)}onClick(){const t=this.Ji.me();t&&this.Ji.zoom(t,{x:-1,y:0})}}class _h extends Dh{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const s=this.Ji.getTheme();this.te(s.onScreenMenuBackgroundColor.toRGBAString(),Rh)}onClick(){const t=this.Ji.me();t&&this.Ji.zoom(t,{x:0,y:-1})}}class Vh extends Dh{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const s=this.Ji.getTheme();this.te(s.onScreenMenuBackgroundColor.toRGBAString(),wh)}onClick(){const t=this.Ji.me();t&&this.Ji.zoom(t,{x:1,y:1})}}class Bh extends Dh{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const s=this.Ji.getTheme();this.te(s.onScreenMenuBackgroundColor.toRGBAString(),kh)}onClick(){const t=this.Ji.me();t&&this.Ji.zoom(t,{x:1,y:0})}}class Oh extends Dh{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const s=this.Ji.getTheme();this.te(s.onScreenMenuBackgroundColor.toRGBAString(),Eh)}onClick(){const t=this.Ji.me();t&&this.Ji.zoom(t,{x:0,y:1})}}class Uh extends Lh{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const s=this.Ji.getTheme();this.ae=Th,this.le=Ih,this.te(s.onScreenMenuBackgroundColor.toRGBAString(),this.ae)}onToggledStateAction(){this.Ji.setAnimationsEnabled(!1)}onInitialStateAction(){this.Ji.setAnimationsEnabled(!0)}}class Hh extends Dh{constructor(t,e,i){super(t,i,{rows:1,columns:1},e),this.Ji=e;const s=this.Ji.getTheme();this.te(s.onScreenMenuBackgroundColor.toRGBAString(),Ch)}onClick(){this.Ji.forEachAxis((t=>{t.fit(!0)}))}}class Gh extends Dh{constructor(t,e,i){super(t,e.shape||Qh,e.dimensions||{rows:1,columns:1},i);const s=i.getTheme(),n=e.color||s.onScreenMenuBackgroundColor.toRGBAString(),r=e.icon||"",o=e.label||"",a=e.opacity||"";this.te(n,r,o,a),this.ye=e.action}onClick(){this.ye(this.Ji)}}class Wh extends Lh{constructor(t,e,i,s){super(t,e,{rows:1,columns:1},i),this.Ji=i,this.pe=s,this.ae=Fh,this.le=Ph,this.te($h,this.ae)}Ae(){this.ge(this.ae),this.Qs.style.backgroundColor=$h,this.Qs.style.border="2px solid #707070",this.Qs.style.margin="0px"}de(){this.ge(this.le),this.Qs.style.background="#FECC00 0% 0% no-repeat padding-box",this.Qs.style.border="10px solid #BCBCBC12",this.Qs.style.margin="1px"}onToggledStateAction(){var t;null===(t=this.pe)||void 0===t||t.style.setProperty("display","block")}onInitialStateAction(){var t;null===(t=this.pe)||void 0===t||t.style.setProperty("display","none")}}var jh;!function(t){t.Move="move",t.ResizeColumn="col-resize",t.ResizeRow="row-resize",t.Horizontal="ew-resize",t.Vertical="ns-resize",t.NorthWest="nw-resize",t.NorthEast="ne-resize",t.Copy="copy",t.CrossHair="crosshair",t.Default="default",t.Help="help",t.Restricted="not-allowed",t.None="none",t.Point="pointer",t.Text="text",t.Wait="wait",t.ZoomIn="zoom-in",t.ZoomOut="zoom-out"}(jh||(jh={}));const Yh={LeftBottom:Lr(-1,-1),CenterBottom:Lr(0,-1),RightBottom:Lr(1,-1),LeftCenter:Lr(-1,0),Center:Lr(0,0),RightCenter:Lr(1,0),LeftTop:Lr(-1,1),CenterTop:Lr(0,1),RightTop:Lr(1,1)},Xh=new ho({color:qr(255,255,255,0)}),qh=(new yh({thickness:1,fillStyle:Xh}),60),Jh=60,Kh="1.0",Zh="osm/osm-sprite-transparent.png",Qh=Sh.Circle,$h="#363636";var tc;!function(t){t[t.TopRight=0]="TopRight",t[t.TopLeft=1]="TopLeft",t[t.BottomLeft=2]="BottomLeft",t[t.BottomRight=3]="BottomRight"}(tc||(tc={}));class ec extends ch{constructor(t,e,i,s,n,r,o,a){super(t,e,i,s,n,r,o,a),this.xs="Band",this.Se=0,this.ve=0,this.be=this.qi.bandFillStyle,this.xe=this.qi.bandStrokeStyle,this.Me=!0,this._e=this.ks.ke(this.dt).Ce(this.be).we(this.xe).cs(this.getHighlight()),this.ds(this._e)}setValueStart(t){return this.Se=t,this.D.emit("valueChange",this,this.Se,this.ve),this.ks.Ss(),this}getValueStart(){return this.Se}setValueEnd(t){return this.ve=t,this.D.emit("valueChange",this,this.Se,this.ve),this.ks.Ss(),this}getValueEnd(){return this.ve}setFillStyle(t){this.be="function"==typeof t?t(this.be):t;const e=this.be;return this._e.Ce(e),this.ks.Ss(),this}getFillStyle(){return this.be}setStrokeStyle(t){this.xe="function"==typeof t?t(this.xe):t;const e=this.xe;return this._e.we(e),this.ks.Ss(),this}getStrokeStyle(){return this.xe}onValueChange(t){return this.D.on("valueChange",t)}offValueChange(t){return this.D.off(t,"valueChange")}Te(){return this._e.Fe(this.Ts.toVec2(this.Se,this.Ts.getHeight(this.dt).getInnerStart())).q(this.Ts.toVec2(this.ve-this.Se,this.Ts.getHeight(this.dt).getInnerInterval())),this}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e),Ta(t,this.qi,i,{fill:this.be,stroke:this.xe}),this}Ie(t,e){t.cs(e),this.ks.Ss()}setDefaultMouseInteractions(t){return this.Me=t,this}Fs(){let t,e;const i=(i,s)=>{if(!this.Me)return;const n=Lo(this.ks.us.Pe(s.x,s.y),this.ks.us.dt,this.dt),r=this.Ts.getWidth(n),o=this.axis.dt.ct(this.Se),a=this.axis.dt.ct(this.ve),l=(this.axis.dt.ct(r)-o)/(a-o);t=!(l<.1||l>.9),!1===t&&(e=l<.5)},s=(i,s,n,r,o)=>{if(!this.Me)return;const a=this.Ts.getWidth(r);t?(this.Se=this.axis.dt.mi(this.Se,a),this.ve=this.axis.dt.mi(this.ve,a)):e?this.Se=this.axis.dt.mi(this.Se,a):this.ve=this.axis.dt.mi(this.ve,a),ga(o),this.D.emit("valueChange",this,this.Se,this.ve),this.ks.Ss()};this.onMouseMove(((e,s)=>{if(!this.Me)return;i(0,Lr(s.clientX,s.clientY));const n=t?jh.Point:this.Ts.getWidth({x:jh.Horizontal,y:jh.Vertical});this.De=this.Ji.engine.setMouseStyle(n,this.De)})),this.onMouseLeave((()=>{this.Me&&(this.Ji.engine.restoreMouseStyle(this.De),this.De=void 0)})),this.onMouseDrag(((t,e,i,n,r)=>{this.Me&&0===i&&s(0,0,0,r,e)}));const n=dh(new ph(i,s));this.onTouchStart(n.onTouchStart),this.onTouchMove(n.onTouchMove),this.onTouchEnd(n.onTouchEnd)}}class ic extends ch{constructor(t,e,i,s,n,r,o,a){super(t,e,i,s,n,r,o,a),this.xs="Constant Line",this.u=0,this.xe=this.qi.constantLineStrokeStyle,this.Be=!0,this.Me=!0,this.Le=this.ks.Ee(this.dt).Re(this.xe).cs(this.getHighlight()),this.ds(this.Le)}setValue(t){return this.u=t,this.D.emit("valueChange",this,this.u),this.ks.Ss(),this}getValue(){return this.u}setStrokeStyle(t){this.xe="function"==typeof t?t(this.xe):t;const e=this.xe;return this.Le.Re(e),this.ks.Ss(),this}getStrokeStyle(){return this.xe}setInteractionMoveByDragging(t){return this.Be=t,this}getInteractionMoveByDragging(){return this.Be}onValueChange(t){return this.D.on("valueChange",t)}offValueChange(t){return this.D.off(t,"valueChange")}Te(){return this.Le.Ve(this.Ts.toVec2(this.u,this.Ts.getHeight(this.dt).getInnerStart())).ze(this.Ts.toVec2(this.u,this.Ts.getHeight(this.dt).getInnerEnd())),this}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{stroke:this.xe}),this}Ie(t,e){t.cs(e),this.ks.Ss()}setDefaultMouseInteractions(t){return this.Me=t,this}Fs(){const t=(t,e)=>{this.Me&&this.Be&&(this.u=this.axis.dt.mi(this.u,this.Ts.getWidth(e)),this.D.emit("valueChange",this,this.u),this.ks.Ss(),ga(t))};this.onMouseMove((()=>{if(this.Me&&this.Be){const t=this.Ts.getWidth({x:jh.Horizontal,y:jh.Vertical});this.De=this.Ji.engine.setMouseStyle(t,this.De)}})),this.onMouseLeave((()=>{this.Me&&this.Be&&(this.Ji.engine.restoreMouseStyle(this.De),this.De=void 0)})),this.onMouseDrag(((e,i,s,n,r)=>{this.Me&&this.Be&&0===s&&t(i,r)}));const e=dh(new ph(void 0,((e,i,s,n,r)=>t(r,n))));this.onTouchStart(e.onTouchStart),this.onTouchMove(e.onTouchMove),this.onTouchEnd(e.onTouchEnd)}}const sc={fitting:{start:(t,e,i,s)=>e>=t?i:s,end:(t,e,i,s)=>e>=t?s:i,allowIntervalLengthChange:!0},expansion:{start:(t,e,i,s)=>e>=t?i<t?i:t:s>t?s:t,end:(t,e,i,s)=>e>=t?s>e?s:e:i<e?i:e,allowIntervalLengthChange:!0},progressive:{start:(t,e,i,s)=>e>t?sc.progressive.end(t,e,i,s)+(t-e):s>t?s:t,end:(t,e,i,s)=>e>t?s>e?s:e:sc.progressive.start(t,e,i,s)+(e-t),allowIntervalLengthChange:!1},regressive:{start:(t,e,i,s)=>e>t?i<t?i:t:sc.regressive.end(t,e,i,s)+(t-e),end:(t,e,i,s)=>e>t?sc.regressive.start(t,e,i,s)+(e-t):i<e?i:e,allowIntervalLengthChange:!1}},nc="Empty",rc="Numeric",oc=t=>void 0!==t.Oe,ac=t=>void 0!==t.Ne,lc={Ge:Kl.Numeric},hc=(t,e)=>[t,e],cc=(t,e,i,s)=>{const n=[],r=Math.round(Math.abs((t-e)/i));for(let o=1;o<r;o+=1){const r=Math.round((t+i*o)*s)/s;r<e&&n.push(r)}return n},uc=(t,e,i,s,n)=>{qo(t,0)&&(t=0),qo(e,0)&&(e=0);const r=[];let o=void 0!==s?((t,e,i)=>t-(t-i)%e)(t,i,s):t;if(i<=0)throw new Error("_getRegularGreatKeyValues unit less than or equal to 0, unit: ".concat(i));for(;o<e&&!1===qo(o,e);)r.push(o),o+=i,o=Math.round(o*n)/n;return r.push(o),r},dc=(t,e,i,s)=>{const n=[];let r=i(t),o=0;for(;r<e&&!1===qo(r,e);)if(n.push(r),r=s(r),o+=1,o>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return n.push(r),n},fc=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];const n=i.length>0?i.length:t?1:0;return(e,s,r,o,a,l)=>{if(s>=n)return;const h=i[s]||1;let c=!1,u=!1,d=1;return t&&(c="ignore"in t?"first"===t.ignore||"both"===t.ignore:c,u="ignore"in t?"last"===t.ignore||"both"===t.ignore:u,d="offset"in t&&void 0!==t.offset?t.offset:d),((t,e,i,s,n)=>(i&&(t=t.filter(((t,e)=>e>0))),s&&(t=t.filter(((e,i)=>i<t.length-1))),t.filter(((t,i)=>(i+n)%e==0))))(e,h,c,u,d)}},pc=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=e.length>0?e.length:0;return(t,i,n,r,o,a)=>{if(i>=s)return;const l=e[i]||1;return t.filter(((t,e)=>e%l==0))}},gc=(t,e)=>{if(e.has(t))return e.get(t);const i=gl(t.Ue.We());if(_a(i))return i;const s=t.Ye.mi(i.min,{x:-5,y:-5}),n=t.Ye.mi(i.min,{x:5,y:5}),r=t.Ye.mi(i.max,{x:-5,y:-5}),o=t.Ye.mi(i.max,{x:5,y:5}),a={min:{x:Math.min(s.x,n.x,r.x,o.x),y:Math.min(s.y,n.y,r.y,o.y)},max:{x:Math.max(s.x,n.x,r.x,o.x),y:Math.max(s.y,n.y,r.y,o.y)}};return e.set(t,a),a},mc=t=>{const e=new Map;if(t!==lc){for(const i of t.He)e.set(i,new Map);for(const i of t.$e)e.set(i,new Map)}return e};class yc{constructor(t,e,i,s,n,r,o){this.D=new Ir,this.Xe=lc,this.je=nc,this.Ze=new Map,this.Qe=new Map,this.Je=sc.fitting,this.Ke=!0,this.qe=yo((()=>this.chart.us.Ss()))(300,go.linear),this.th=!0,this.Xi=!0,this.ih=!1,this.sh=tl,this.eh=!1,this.hh=!1,this.rh=tl,this.oh=tl,this.ah=tl,this.lh=!1,this.uh=()=>{this.ih||void 0===this.Je||this.chart.us.Ss(!0)},this.dh={},this.fh=(t,e,i,s,n,r)=>{const o=[],a=[];for(const l of t){if(l<i||l>s){o.push(l);continue}const t=this.Ze.get(e),h=(t?t.get(l):void 0)||this.Ah(l,e);h.gh=!1;const c=this.mh(h,n);r.set(h,c),o.push(l),a.push(h)}return{displayedKeyValues:o,createdTicks:a}},this.yh=(t,e,i,s,n,r,o,a,l,h,c)=>{const u=[];for(let d=0;d<t.length;d+=1){const f=t[d],p=e[d];let g,m,y;if(this.ph(f,i)){const e=gc(f,l);m=[t[d-1],t[d+1]],y=m.concat(h).concat(c).filter((t=>void 0!==t)).filter((e=>e.Sh!==i||!!t.find((t=>t===e)))).map((t=>nl(e,gc(t,l))?t:void 0)),g=y.some((t=>void 0!==t))}else g=!1;if(g){let t=!0;const e=y.filter((t=>void 0!==t));if(t&&e.every((t=>oc(t.Sh)))&&(t=!1),t&&i.bh&&i.bh.xh&&!1===i.bh.xh(p,s,n,r,o,a)&&(t=!1),!1===t)continue;return!0}u.push(f)}return u},this.formatValue=t=>this.Xe.Ge(t,this.dt),this.Mh=!0,this._h=!0,this.chart=t,this.wh=e,this.qi=s,this.Ch=r,this.dt=i,this.kh=o,"logarithmic"===o.type&&this.setAnimationZoom(go.logarithmic(jl(o.base))),this.Th=r.numeric,this.Fh("Numeric"),this.Ih=i.getInnerStart(),this.Ph=i.getInnerEnd(),this.setAnimationsEnabled(n)}setDefaultInterval(t,e){return this.Dh=t,!1!==(null==e?void 0:e.applyImmediately)&&(this.lh=!0,this.chart.us.Ss()),this}getDefaultInterval(){return this.Dh}getTitle(){return this.Lh.Bh()}setTitle(t){return this.Lh.Rh(t),this.chart.us.Ss(),this}getTitleFillStyle(){return this.Lh.Eh()}setIntervalRestrictions(t){return this.zh=t,this.chart.us.Ss(),this}getIntervalRestrictions(){return this.zh}setTitleFillStyle(t){return this.Lh.Ce(t),this.chart.us.Ss(),this}getTitleFont(){return this.Lh.Vh()}setTitleFont(t){return this.Lh.Oh(t),this.chart.us.Ss(),this}setTitleRotation(t){return this.Lh.Nh(t),this.chart.us.Ss(),this}getTitleRotation(){return this.Lh.Gh()}setTitleEffect(t){return this.Wh.ps(t),this.chart.us.Ss(),this}getTitleEffect(){return this.Wh.vs()}Fh(t,e){if(this.Ze.size>0&&this.Uh(),"Empty"===t)this.Xe=lc,this.je=t;else if("Numeric"===t){"Numeric"!==this.je&&(this.Th=this.Ch.numeric);const i=e||(t=>t);this.Th=i(this.Th),this.Xe=this.Th.Yh(this.kh),this.je=t}else if("DateTime"===t){"DateTime"!==this.je&&(this.Th=this.Ch.datetime);const i=e||(t=>t);this.Th=i(this.Th),this.Xe=this.Th.Yh(this.kh),this.je=t}else if("Time"===t){"Time"!==this.je&&(this.Th=this.Ch.time);const i=e||(t=>t);this.Th=i(this.Th),this.Xe=this.Th.Yh(this.kh),this.je=t}return this.Qe.forEach((t=>Array.from(t.values()).forEach((t=>t.dispose())))),this.Qe=mc(this.Xe),this.chart.us.Ss(),this}Hh(){return this.Xe}$h(t){this.Xe=t,this.Qe.forEach((t=>Array.from(t.values()).forEach((t=>t.dispose())))),this.Qe=mc(this.Xe),this.chart.us.Ss()}setInterval(t){const{start:e,end:i,animate:s,stopAxisAfter:n}=t;return this.St(void 0!==e?e:this.Ih,void 0!==i?i:this.Ph,void 0!==s&&s,void 0===n||n,"userSetInterval"),this}St(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=arguments.length>4?arguments[4]:void 0,r={start:t,end:e};const o=!0,a=Math.abs(e-t);if(Math.abs(this.Ph-this.Ih),void 0!==this.Xe.Xh&&this.Xe.Xh>a){const i=(e+t)/2,s=this.Xe.Xh/2*(t>e?-1:1);r={start:i-s,end:i+s}}if(void 0!==this.Xe.jh&&this.Xe.jh<a){const i=(e+t)/2,s=this.Xe.jh/2*(t>e?-1:1);r={start:i-s,end:i+s}}const l=this.dt.nt(r.start,r.end,this.Ih,this.Ph,o);if(!1===l)return this;if(!0===l);else if(r=l,"zoomBandChart"===n)return this;let h;switch(n){case"userSetInterval":case"userFit":case"interactionSetInterval":case"interactionZoom":h=!0;break;case"zoomBandChart":case"synchronizedAxis":h=!1;break;default:return Ha(0,""),this}if(this.Zh&&this.Zh.finishAll(!1),this.qe&&(!0===i||i>0)){this.setStopped(!0);const t=!0===i?void 0:i,e=!this.Zh||this.Zh.isOver()?this.qe:this.Zh.NextAnimation.bind(this);this.Zh=e([[this.Ih,r.start],[this.Ph,r.end]],(t=>{let[e,i]=t;this.Qh(e,i,o)}),t),this.Zh.onAnimationEnd((()=>{this.Zh=void 0,h&&(this.ah=Ho.performance.now())})),this.Zh.onAnimationEnd((()=>this.setStopped(s)))}else this.Qh(r.start,r.end,o),this.setStopped(s),h&&(this.ah=Ho.performance.now());return this}getInterval(){return{start:this.Ih,end:this.Ph}}setStopped(t){return t===this.ih||(t&&(this.Zh&&this.Zh.finishAll(!1),this.Zh=void 0),this.ih=t,this.D.emit("stoppedStateChanged",this,this.ih),this.sh=Ho.performance.now(),this.chart.us.Ss()),this}getStopped(){return this.ih}onStoppedStateChanged(t){return this.D.on("stoppedStateChanged",t)}offStoppedStateChanged(t){return this.D.off(t,"stoppedStateChanged")}fit(t,e){const i=this.Jh(),s=this.Dh||Ac,n="function"==typeof s?s({curStart:this.Ih,curEnd:this.Ph,dataMin:null==i?void 0:i.min,dataMax:null==i?void 0:i.max}):s;return this.St(void 0!==n.start?n.start:this.Ih,void 0!==n.end?n.end:this.Ph,void 0!==n.animate?n.animate:void 0===t||t,void 0!==n.stopAxisAfter?n.stopAxisAfter:void 0===e||e,"userFit"),this}setScrollStrategy(t){return this.Je=t,this.chart.us.Ss(),this}getScrollStrategy(){return this.Je}setAnimationScroll(t){return this.Ke=Boolean(t),this.chart.us.Ss(),this}setAnimationZoom(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;return this.Zh&&(this.Zh.finishAll(!1),this.Zh=void 0),this.qe=t?yo((()=>this.chart.us.Ss()))(e,t):void 0,this}setAnimationsEnabled(t){return this.th=t,t?(this.setAnimationScroll(!0),this.setAnimationZoom(go.ease,void 0)):(this.setAnimationScroll(void 0),this.setAnimationZoom(void 0)),this}getAnimationsEnabled(){return this.th}setVisible(t){const e=this.Xi!==t;return this.Xi=t,this.Lh.setVisible(t),this.Kh((e=>{e.Ue.setVisible(t)})),e&&this.D.emit("visibleStateChanged",this,this.Xi),this}getVisible(){return this.Xi}onIntervalChange(t){return this.D.on("scaleChange",t)}offIntervalChange(t){return this.D.off(t,"scaleChange")}onVisibleStateChanged(t){return this.D.on("visibleStateChanged",t)}offVisibleStateChanged(t){return this.D.off(t,"visibleStateChanged")}qh(t,e){const i=new Map;if(this.Xe===lc||!this.Xi)return this.Uh(),i;e=e||new Map;const s=this.tr(),n=s.min,r=s.max,o=r-n,a=t.physicalAxisSize;this.dh.physicalAxisSize=a;const l=bc(this.Xe,n,r,this.Ih,this.Ph,a),h=[];if(this.ir(),h.push(...this.sr(this.Xe,n,r,l,e,t,i)),this.er(this.Xe,n,r,l,e,t,h,i),this.hr(),l)for(const[c,u]of this.Qe){const t=l.get(c);if(void 0!==t)for(const[e,i]of u)t.includes(e)||(null==i||i.dispose(),u.delete(e))}return this.dh.min=n,this.dh.max=r,this.dh.scaleInterval=o,this.dh.physicalAxisSize=a,i}rr(t){const e=t.Sh.nr;t.Ue.Rh(e(t.u,this.dt)).Ps()}ar(t,e){const i=e.lr;t.Ue.Ce(i.getLabelFillStyle()).Oh(i.getLabelFont()).Nh(i.getLabelRotation())}Ah(t,e){const i=this.Qe.get(e);let s=i.get(t);s?(i.delete(t),s.Sh=e,s.ys(!0)):s=this.ur(t,e);const n=this.Ze.get(e)||new Map;return n.set(t,s),this.Ze.set(e,n),this.ar(s,e),s}mh(t,e){const i=this.cr(t,e);return this.rr(t),i}sr(t,e,i,s,n,r,o){const a=[];for(const l of t.He){const t=s.get(l);for(const s of t){if(s<e||s>i)continue;const t=this.Ze.get(l),h=(t?t.get(s):void 0)||this.Ah(s,l),c=this.mh(h,r),u=gc(h,n);a.find((t=>nl(u,gc(t,n))))&&h.Ue.setVisible(!1),h.gh=!1,o.set(h,c),a.push(h)}}return a}er(t,e,i,s,n,r,o,a){let l,h=[];for(const c of t.$e){const t=s.get(c);if(!t)break;let u;if(void 0===l)u=[{start:e,end:i,keyValues:t}];else{u=[];for(let e=0;e<l.length-1;e+=1){const i=l[e],s=l[e+1],n={start:i,end:s,keyValues:[]};for(const e of t)e>=i&&e<s&&n.keyValues.push(e);u.push(n)}}if(l=t,ac(c))continue;let d=0,f=-1,p=[],g=[];for(let s=0;s<u.length;s+=1){const t=this.fh(u[s].keyValues,c,e,i,r,a);p=p.concat(t.displayedKeyValues),g=g.concat(t.createdTicks)}let m=g,y=!0;if(c.lr.getLabelFillStyle()!==ro){let t=[];for(;++f<u.length;){const s=u[f],r=s.start,a=s.end;let l=s.keyValues;if(d>0){if(void 0===c.bh){y=!1;break}const t=c.bh.dr;if(l=t(l,d-1,r,a,e,i),void 0===l)break}const m=this.yh(g.filter((t=>l.some((e=>qo(t.u,e))))),p,c,d,r,a,e,i,n,o,h);!0!==m?t=t.concat(m):(d+=1,f=-1,t=[])}m=t,g.forEach((e=>{t.find((t=>t===e))||this.Ar(e)}))}if(h=m,!y)break}}Ar(t){const e=this.Ze.get(t.Sh);null==e||e.delete(t.u);const i=this.Qe.get(t.Sh);i&&i.has(t.u)?t.dispose():i&&(t.ys(!1),i.set(t.u,t))}Kh(t){for(const e of this.Ze.values())for(const i of e.values())t(i)}gr(t,e){for(const i of this.Ze.values())for(const s of i.values())e=t(e,s);return e}Uh(){this.Ze.forEach(((t,e)=>{t.forEach((t=>this.Ar(t)))})),this.Ze.clear()}ir(){for(const t of this.Ze.values())for(const e of t.values())e.gh=!0}hr(){for(const t of this.Ze.values())for(const[e,i]of t.entries())i.gh&&(i.dispose(),t.delete(e))}tr(){const t=this.dt.getInnerStart()<this.dt.getInnerEnd()?this.dt.getInnerStart():this.dt.getInnerEnd(),e=this.dt.getInnerEnd()>this.dt.getInnerStart()?this.dt.getInnerEnd():this.dt.getInnerStart();return Br(t,e)}ph(t,e){return!(t.gh||0===t.Ue.Bh().length||oc(e)&&!0!==e.mr)}yr(t,e){return this.Xe===lc||(this.Xe.He.forEach((i=>{e=t(e,i.lr)})),this.Xe.$e.forEach((i=>{(t=>void 0!==t.nr)(i)&&(e=t(e,i.lr))}))),e}Jh(){let t=this.wh.pr();const e=this.wh.Sr();let i;if(void 0!==t&&Wo(t)&&void 0!==e&&Wo(e)&&("logarithmic"===this.kh.type&&(0===t&&(t=Math.min(1,e)),Math.sign(t)!==Math.sign(e)&&(t=Math.min(1,e-.1))),i?(i.min=Math.min(i.min,t),i.max=Math.max(i.max,e)):i=Br(t,e)),i&&Wo(i.min)&&Wo(i.max))return qo(i.min,i.max)?{min:i.min-1,max:i.max+1}:i}vr(){if(!this.Mh)return 0;let t=0;const e=this.wh.br();return e&&(t=Math.max(t,e)),t}setAutoRegionsEnabled(t){return this.Mh=t,this.chart.us.Ss(),this}Mr(){var t;const e=this.eh;let i=!1;if(this.lh&&this.Dh){const t=this.Jh(),e="function"==typeof this.Dh?this.Dh({curStart:this.Ih,curEnd:this.Ph,dataMin:null==t?void 0:t.min,dataMax:null==t?void 0:t.max}):this.Dh;this.setInterval(e),this.lh=!1}if(this.Je&&!this.ih){const e=this.Jh();if(e){const s=this.Ih,n=this.Ph;let r=this.Je.start(s,n,e.min,e.max),o=this.Je.end(s,n,e.min,e.max);const a=null===(t=this.Je.allowIntervalLengthChange)||void 0===t||t,l=Sc(this.zh,e,{start:r,end:o},{start:s,end:n},a);r=l.start,o=l.end;const h=!1===qo(s,r),c=!1===qo(n,o);if(r=h?r:s,o=c?o:n,h||c){let t=!1;if(this.Ke&&!this._h)if(this.Ke){t=!0;const e=h?this._r(s,r):s,l=c?this._r(n,o):n;if(!0===this.Qh(e,l,a)&&(h&&!1===qo(e,r)||c&&!1===qo(l,o))){this.chart.us.Ss(!0),i=!0;let t=Math.abs(o-r)/Math.abs(e-l);t<1&&(t=1/t),this.hh=t>=1.4}}else t=!1;t||this.Qh(r,o,a),this._h=!1}}}return i?(this.eh!==i&&(this.eh=i,this.rh=Ho.performance.now()),this.wr&&(clearTimeout(this.wr),this.wr=void 0)):!0===e&&void 0===this.wr&&(this.hh=!1,this.wr=setTimeout((()=>{!1!==this.eh&&(this.eh=!1,this.rh=Ho.performance.now()),this.wr=void 0,this.chart.us.Ss()}),200)),this}Qh(t,e,i){let s={start:t,end:e},n=!0;if(this.zh){const t=this.Jh();s=Sc(this.zh,t,s,{start:this.Ih,end:this.Ph},i)}const r=Math.abs(e-t),o=Math.abs(this.Ph-this.Ih);if(void 0!==this.Xe.Xh&&this.Xe.Xh>r){const r=(e+t)/2,a=(i?this.Xe.Xh/2:o/2)*(t>e?-1:1);s={start:r-a,end:r+a},n=!1}if(void 0!==this.Xe.jh&&this.Xe.jh<r){const r=(e+t)/2,a=(i?this.Xe.jh/2:o/2)*(t>e?-1:1);s={start:r-a,end:r+a},n=!1}let a=this.dt.nt(s.start,s.end,this.Ih,this.Ph,i);if(!1===a)return!1;!0!==a&&(s=a);const l=this.vr(),h=this.Cr(Math.min(s.start,s.end),Math.max(s.start,s.end),l);return a=this.dt.nt(s.end>s.start?h.min:h.max,s.end>s.start?h.max:h.min,this.Ih,this.Ph,!1),!!a&&(!0===a?this.dt.J(s.end>s.start?h.min:h.max,s.end>s.start?h.max:h.min):this.dt.J(s.start,s.end),this.Ih=s.start,this.Ph=s.end,this.D.emit("scaleChange",this,s.start,s.end),this.oh=Ho.performance.now(),this.chart.us.Ss(),n)}kr(){return this.eh}Tr(){return void 0!==this.Zh}}class vc{constructor(t,e,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:i.Pr(s).Ir(Ja).Fr(Ja).setMouseInteractions(!1);this.gh=!1,this.$i=!1,this.ts=[],this.Sh=t,this.u=e,this.Dr=i,this.Ye=s,this.Ue=n,this.ts.push(n)}ys(t){this.ts.forEach((e=>e.setVisible(t)))}dispose(){return this.$i||(this.$i=!0,this.ts.forEach((t=>t.dispose()))),this}}const bc=(t,e,i,s,n,r)=>{const o=new Map;for(const l of t.He){let t=l.Br(e,i,s,n);t=xc(t),o.set(l,t)}let a;for(const l of t.$e){let t;if(void 0===a)t=l.Br(e,i,e,i);else{let s=[];const n=a.filter((t=>e<=t&&t<=i)).length;if(n>0){const t=r/(n-1);if(void 0!==l.Lr&&l.Lr>t)break}for(let t=0;t<a.length-1;t+=1){const n=l.Br(a[t],a[t+1],e,i);s=s.concat(n)}t=s}t=xc(t),o.set(l,t),a=t}return o},xc=t=>(t=(t=>{const e={},i=[],s=t.length;let n=0;for(let r=0;r<s;r+=1){const s=t[r];1!==e[s]&&(e[s]=1,i[n]=s,n+=1)}return i})(t)).sort(((t,e)=>t-e)),Sc=(t,e,i,s,n)=>{const r="function"==typeof t?t({curStart:s.start,curEnd:s.end,dataMin:null==e?void 0:e.min,dataMax:null==e?void 0:e.max}):t;if(!r)return i;const o={start:i.start,end:i.end};let a=Math.abs(i.end-i.start);if(void 0!==r.intervalMin&&a<r.intervalMin){const t=(o.start+o.end)/2;o.start=t+.5*Math.sign(i.start-t)*r.intervalMin,o.end=t+.5*Math.sign(i.end-t)*r.intervalMin}if(a=Math.abs(i.end-i.start),void 0!==r.intervalMax&&a>r.intervalMax){const t=(o.start+o.end)/2;o.start=t+.5*Math.sign(i.start-t)*r.intervalMax,o.end=t+.5*Math.sign(i.end-t)*r.intervalMax}return a=Math.abs(i.end-i.start),void 0!==r.startMin&&(o.start=Math.max(o.start,r.startMin),n||qo(Math.abs(o.start-o.end),a)||(o.end=o.start+Math.sign(i.end-i.start)*a)),a=Math.abs(i.end-i.start),void 0!==r.startMax&&(o.start=Math.min(o.start,r.startMax),n||qo(Math.abs(o.start-o.end),a)||(o.end=o.start+Math.sign(i.end-i.start)*a)),a=Math.abs(i.end-i.start),void 0!==r.endMin&&(o.end=Math.max(o.end,r.endMin),n||qo(Math.abs(o.start-o.end),a)||(o.start=o.end+Math.sign(i.start-i.end)*a)),a=Math.abs(i.end-i.start),void 0!==r.endMax&&(o.end=Math.min(o.end,r.endMax),n||qo(Math.abs(o.start-o.end),a)||(o.start=o.end+Math.sign(i.start-i.end)*a)),o},Ac=t=>{if(void 0===t.dataMin||void 0===t.dataMax)return{stopAxisAfter:!1};const e=t.curEnd>=t.curStart;return{start:e?t.dataMin:t.dataMax,end:e?t.dataMax:t.dataMin,stopAxisAfter:!1}},wc=vr({type:"font",size:14,family:"Arial",weight:"normal",style:"normal",variant:!1});class Cc extends wc{constructor(t){super(t)}setSize(t){return this.set("size",t)}setFamily(t){return this.set("family",t)}setWeight(t){return this.set("weight",t)}setStyle(t){return this.set("style",t)}setVariant(t){return this.set("variant",t)}getSize(){return this.get("size")}getFamily(){return this.get("family")}getWeight(){return this.get("weight")}getStyle(){return this.get("style")}getVariant(){return this.get("variant")}}const Mc=t=>!(!t||"object"!=typeof t||!("type"in t)||"font"!==t.type),kc=new Cc,Rc=new class{getFillStyle(){return ro}},Ec=vr({type:"triangulated-points-3d",shape:"sphere",size:10,fillStyle:new ho,wireframeStyle:Eo});class Tc extends Ec{constructor(t){super(t)}setSize(t){return this.set("size",t)}getSize(){return this.get("size")}setFillStyle(t){return"function"==typeof t?this.set("fillStyle",t(this.get("fillStyle"))):this.set("fillStyle",t)}getFillStyle(){return this.get("fillStyle")}setWireframeStyle(t){return"function"==typeof t?this.set("wireframeStyle",t(this.get("wireframeStyle"))):this.set("wireframeStyle",t)}getWireframeStyle(){return this.get("wireframeStyle")}setShape(t){return this.set("shape",t)}getShape(){return this.get("shape")}}const Ic=t=>!(!t||"object"!=typeof t||!("type"in t)||"triangulated-points-3d"!==t.type),Pc=vr({type:"pixelated-points-3d",size:5,fillStyle:new ho});const Fc=t=>!(!t||"object"!=typeof t||!("type"in t)||"pixelated-points-3d"!==t.type),Dc={Triangulated:Tc,Pixelated:class extends Pc{constructor(t){super(t)}setSize(t){return this.set("size",t)}getSize(){return this.get("size")}setFillStyle(t){return"function"==typeof t?this.set("fillStyle",t(this.get("fillStyle"))):this.set("fillStyle",t)}getFillStyle(){return this.get("fillStyle")}}};class Lc{constructor(t){this.Rr=new Map,this.us=t}os(t,e,i){const s=i.animationEnabled;this.Rr.set(t,{applyHighlight:e,curUnanimatedHighlightValue:0,curAnimationPositionMillis:0,animationEnabled:s,curAnimatedHighlightValue:0});const n=t.onDispose((()=>{this.Rr.delete(t),t.offDispose(n)}))}Er(t,e){let i=e.animationEnabled;const s=[],n=t.onDispose((()=>{s.forEach((t=>{this.Rr.delete(t)})),t.offDispose(n)}));return{zr:(t,e)=>{const n={applyHighlight:e,curUnanimatedHighlightValue:0,curAnimationPositionMillis:0,animationEnabled:i,curAnimatedHighlightValue:0};s.push(t),this.Rr.set(t,n)},Vr:()=>{s.forEach((t=>{this.Rr.delete(t)})),s.length=0},Or:t=>{i=t,s.forEach((t=>{this._s(t,i)}))},Nr:()=>i}}Ms(t,e){const i=this.Rr.get(t);i&&(i.curUnanimatedHighlightValue=Oa(e),this.us.Ss())}As(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.Rr.get(t);return i?e?i.curAnimatedHighlightValue:i.curUnanimatedHighlightValue:0}_s(t,e){const i=this.Rr.get(t);i&&(i.animationEnabled=e)}ws(t){const e=this.Rr.get(t);return!!e&&e.animationEnabled}Ps(t){let e=!1;this.Rr.forEach(((i,s)=>{let n;if(i.animationEnabled){const s=1e3;if(i.curUnanimatedHighlightValue>0){const r=i.curAnimationPositionMillis/s;n=i.curUnanimatedHighlightValue*Math.abs(Math.sin(r*Math.PI/2+.5));const o=0===i.curAnimatedHighlightValue?1:t;i.curAnimationPositionMillis+=o,e=!0}else i.curAnimatedHighlightValue>0&&0===i.curUnanimatedHighlightValue?(n=Math.max(i.curAnimatedHighlightValue-t/s,0),e=e||n>0):n=0,i.curAnimationPositionMillis=0}else n=i.curUnanimatedHighlightValue;n!==i.curAnimatedHighlightValue&&(i.applyHighlight(n),i.curAnimatedHighlightValue=n)})),e&&this.us.Ss(!0)}}const zc=new Map,Nc=(t,e)=>{const i=t.getSize(),s=t.getFamily(),n=t.getWeight(),r=t.getStyle(),o=t.getVariant(),a="".concat(r," ").concat(o?"small-caps":"normal"," ").concat(n," ").concat(i,"px ").concat(s),l="".concat(a," ").concat(e.toFixed(2));let h=zc.get(l);return h||(h=((t,e,i,s)=>({font:t,properties:e,dpr:i,id:s}))(a,{type:"font",size:i,family:s,style:r,variant:o,weight:n},e,l),zc.set(l,h)),h};var _c,Vc;!function(t){t[t.click=0]="click",t[t.dbclick=1]="dbclick",t[t.mouseDown=2]="mouseDown",t[t.mouseUp=3]="mouseUp",t[t.contextmenu=4]="contextmenu",t[t.wheel=5]="wheel"}(_c||(_c={})),function(t){t[t.touchStart=0]="touchStart",t[t.touchMove=1]="touchMove",t[t.touchEnd=2]="touchEnd"}(Vc||(Vc={}));const Bc=t=>({container:t.Gr,scale:t.dt,setMouseStyle:(e,i)=>t.Wr(e,i),restoreMouseStyle:e=>t.Ur(e),clientLocation2Engine:(e,i)=>t.Pe(e,i),engineLocation2Client:(e,i)=>t.Yr(e,i),captureFrame:(e,i,s)=>t.Hr(e,i,s),renderFrame:function(e,i){let s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.$r(e,i,s)},layout:()=>{t.Xr(),t.jr(),t.Qr.Zr(),t.Ss()},setBackgroundFillStyle(e){return t.setBackgroundFillStyle(e),this},setBackgroundStrokeStyle(e){return t.setBackgroundStrokeStyle(e),this},getBackgroundFillStyle:()=>t.getBackgroundFillStyle(),getBackgroundStrokeStyle:()=>t.getBackgroundStrokeStyle(),addCustomIcon:(e,i)=>t.Jr(e,i),onRenderFrame:e=>t.Kr(e),offRenderFrame:e=>t.qr(e)}),Oc=[];let Uc;const Hc=()=>{if(void 0!==Uc){const t=Ho.getComputedStyle(Ho.document.body),e=Number(t.getPropertyValue("margin-top").replace("px",""))+Number(t.getPropertyValue("margin-bottom").replace("px",""));Uc.style.height=Ho.innerHeight-e+"px",(()=>{for(let t=0;t<Oc.length;t+=1)Oc[t]()})()}},Gc=new ho({color:qr(255,255,255)}),Wc={font:Nc(kc,0),fillStyle:Gc,lineStyle:new yh({fillStyle:Gc,thickness:1}),pointStyle3D:new Dc.Triangulated};class jc{constructor(t,e,i){this.D=new Ir,this.dt=Fo.d2({scaleXYConstructor:eh}),this.tn=new Map,this.sn=yo((()=>this.Ss()),60),this.en=Lr(0,0),this.hn=!1,this.rn=Xo,this.nn=()=>{},this.an=[],this.ln=-1,this.un=[],this.cn=!0,this.$i=!1,this.dn=!1,this.jr=()=>{const{bottom:t,left:e}=this.Gr.getBoundingClientRect();return this.en=Lr(Math.floor(e),Math.floor(t)),this},this.Xr=()=>{this.fn&&this.fn()},this.Wr=(t,e)=>{if(!e){this.Gr.style.cursor=t;const e=this.ln;return this.ln+=1,this.un.push([e,t]),e}return this.Ur(e),this.Wr(t)},this.Ur=t=>{const e=t?this.un.findIndex((e=>e[0]===t)):-1;e>=0?(this.un.splice(e,1),this.un.length>0?this.Gr.style.cursor=this.un[this.un.length-1][1]:this.Gr.style.cursor="default"):(this.un.push([0,"default"]),this.Gr.style.cursor="default")},this.An=t=>(this.gn.S(t),this),this.mn=()=>this.gn.M(),this.yn=()=>{this.rn&&this.rn(1e3/60),this.pn(),this.Sn(),this.nn&&this.nn()},this.vn=t=>(this.tn.set(t.bn(),t),this.tn=new Map([...this.tn.entries()].sort(((t,e)=>t[0]-e[0]))),t),this.xn=t=>(this.tn.delete(t),this),this.j=()=>(this.gn.i=!1,this),this.Z=()=>(this.gn.i=!0,this),this.Mn=t=>{if(!this.cn)return;const e=this._n,i=e&&e.clientX===t.clientX&&e.clientY===t.clientY,s=this.Pe(t.clientX,t.clientY),n=this.wn(t,{x:t.clientX,y:t.clientY});if(this.Cn&&((null==n?void 0:n.entity)!==this.Cn.entity||n.collectionMember!==this.Cn.collectionMember)&&!this.kn){this.Cn.entity.ji=!1;const e=this.Cn.entity.Tn;e&&e(this.Cn.entity,t,this.Cn.collectionMember)}if(n&&n.entity.getMouseInteractions()&&!this.kn)if(n.entity.ji){if(!i){const e=n.entity.Fn;e&&e(n.entity,t,n.collectionMember)}}else{n.entity.ji=!0;const e=n.entity.In;e&&e(n.entity,t,n.collectionMember)}if(this.kn){const i=this.kn.entity.Pn,s=e?Lr(t.clientX-e.clientX,e.clientY-t.clientY):{x:0,y:0};!i||0===s.x&&0===s.y||i(this.kn.entity,t,this.kn.button,this.kn.startLocation,s,this.kn.collectionMember)}this.Dn=t,this._n=t,this.Bn=s,this.Cn=n},this.Ln=t=>{if(this.cn=!1,this.Bn=void 0,this.Dn=t,this.Cn&&!this.Rn&&!this.kn){this.Cn.entity.ji=!1;const e=this.Cn.entity.Tn;e&&e(this.Cn.entity,t,this.Cn.collectionMember),this.Cn=void 0}},this.En=t=>{if(this.cn=!0,this.Dn=t,this.kn&&t.buttons<=0){const e=this.kn.entity.zn;e&&e(this.kn.entity,t,this.kn.button,this.kn.startLocation,this.kn.collectionMember),this.kn=void 0}if(this.Rn&&t.buttons<=0){const e=this.Rn.entity.Vn;e&&e(this.Rn.entity,t,this.Rn.collectionMember),this.Rn=void 0}},this.On=()=>this.Bn,this.Qr=t,this.qi=e.theme,this.Nn=i.Nn,this.Gn=i.Gn,this.Wn=i.Wn,this.Un={Yn:e&&e.overrideInteractionMouseButtons?e.overrideInteractionMouseButtons:void 0,$s:e&&void 0!==e.resourcesBaseUrl&&null!==e.resourcesBaseUrl?e.resourcesBaseUrl:"".concat(Ho.location.origin,"/resources"),Hn:!e||!("warnings"in e)||"boolean"!=typeof e.warnings||e.warnings,$n:(()=>{const t=null==e?void 0:e.pickingPrecision;if("string"==typeof t){const e=t.toLowerCase();if("best"===e)return 1;if("high"===e)return.5;if("low"===e)return 1/8}return 1/4})(),Xn:void 0===(null==e?void 0:e.interactable)||e.interactable,jn:void 0===e.textPixelSnappingEnabled||e.textPixelSnappingEnabled};const s=e?e.container:void 0;if(s){if("string"==typeof s){const t=Ho.document.getElementById(s);if(!t)throw new Error('Container "'.concat(s,"\" doesn't exist."));this.Gr=t}else this.Gr=s;Ho.addEventListener("resize",this.Xr),this.an.push((()=>{Ho.removeEventListener("resize",this.Xr)}))}else{if(void 0===Uc){const t=Ho.document.createElement("div");t.id="lcjs-auto-flexbox",t.style.position="relative",t.style.width="100%",t.style.display="flex",t.style.flexDirection="column",Ho.document.body.appendChild(t),Uc=t,Ho.addEventListener("resize",Hc)}let t=1;for(;null!==Ho.document.getElementById("chart-".concat(t));)t+=1;this.Gr=Ho.document.createElement("div"),this.Gr.id="chart-".concat(t),this.Gr.style.flex="1",this.Gr.style.height="100%",Uc.appendChild(this.Gr),Hc(),Oc.push(this.Xr),this.an.push((()=>{Uc&&Uc.removeChild(this.Gr),Oc.includes(this.Xr)&&Oc.splice(Oc.indexOf(this.Xr),1),0===Oc.length&&Uc&&(Ho.document.body.removeChild(Uc),Uc=void 0,Ho.removeEventListener("resize",Hc))}))}if(Ho.ResizeObserver){const t=t=>{for(const e of t)e.target===this.Gr&&this.Xr()};this.Zn=new Ho.ResizeObserver(t.bind(this)),this.Zn.observe(this.Gr)}""===this.Gr.style.position&&(this.Gr.style.position="relative"),this.Gr.style.boxSizing="content-box",this.Gr.addEventListener("fullscreenchange",this.Xr),this.Gr.addEventListener("webkitfullscreenchange",this.Xr);const n=e?e.maxFps:void 0;this.Qn=n?-1===n?-1:0!==n?1e3/n:0:0;const r=new Map;let o=!1;const a=(t,e)=>i=>{const s=function(t){return{x:t.clientX,y:t.clientY}}(i);switch(i.type){case"pointerover":case"pointerenter":case"pointermove":case"pointerdown":r.set(i.pointerId,s);break;default:r.delete(i.pointerId),o=!1}switch(i.interactions=Array.from(r.values()),i.pointerType){case"pen":case"mouse":default:t&&t(i);break;case"touch":e&&e(i)}i.defaultPrevented&&(o=!0)};this.Gr.onwheel=this.Jn(_c.wheel),this.Gr.oncontextmenu=this.Jn(_c.contextmenu),this.Gr.onclick=this.Jn(_c.click),this.Gr.ondblclick=this.Jn(_c.dbclick),this.Gr.onlostpointercapture=()=>{o=!1},this.Gr.ontouchmove=t=>{o&&t.preventDefault()},this.Gr.onpointerover=a(),this.Gr.onpointerenter=a(this.En),this.Gr.onpointerdown=a(this.Jn(_c.mouseDown),this.Kn(Vc.touchStart)),this.Gr.onpointermove=a(this.Mn,this.Kn(Vc.touchMove)),this.Gr.onpointerup=a(this.Jn(_c.mouseUp),this.Kn(Vc.touchEnd)),this.Gr.onpointercancel=a(),this.Gr.onpointerout=a(),this.Gr.onpointerleave=a(this.Ln,this.Kn(Vc.touchEnd)),Ho.addEventListener("scroll",this.jr,{passive:!0}),this.gn=Ur(new Yr({r:0,g:0,b:0,a:0})),this.ls=new Lc(this)}qn(t,e){var i,s,n,r;(null===(i=this.Cn)||void 0===i?void 0:i.entity)===t.entity&&this.Cn.collectionMember===t.collectionMember&&(this.Cn=e),(null===(s=this.io)||void 0===s?void 0:s.entity)===t.entity&&this.io.collectionMember===t.collectionMember&&(this.io=e),(null===(n=this.Rn)||void 0===n?void 0:n.entity)===t.entity&&this.Rn.collectionMember===t.collectionMember&&(this.Rn={...e,event:this.Rn.event}),(null===(r=this.kn)||void 0===r?void 0:r.entity)===t.entity&&this.kn.collectionMember===t.collectionMember&&(this.kn={...e,button:this.kn.button,startLocation:this.kn.startLocation})}so(){this.dn=!0,this.rn=void 0,this.nn=void 0}Kr(t){return this.D.on("render",t)}qr(t){return this.D.off(t)}eo(){return this.ho}ro(){return this.no}setBackgroundFillStyle(t){return this.oo.Ce(t),this}getBackgroundFillStyle(){return this.oo.Eh()}setBackgroundStrokeStyle(t){return this.oo.we(t),this}getBackgroundStrokeStyle(){return this.oo.ao()}lo(t){return this.nn=t,this}uo(t){return this.rn=t,this}co(t){return this.tn.get(t)}do(){return Array.from(this.tn.keys()).reverse().reduce(((t,e)=>e!==Number.MAX_SAFE_INTEGER&&e>t?e:t),0)+1}Jn(t){return e=>this.fo(t,e)}fo(t,e){if(!this.cn)return;t===_c.contextmenu&&ga(e);const i=this.Pe(e.clientX,e.clientY),s=this.wn(e,{x:e.clientX,y:e.clientY});if(t===_c.mouseUp){if(this.kn){const t=this.kn.entity.zn;if(t&&t(this.kn.entity,e,this.kn.button,this.kn.startLocation,this.kn.collectionMember),(null==s?void 0:s.entity)!==this.kn.entity||s.collectionMember!==this.kn.collectionMember){this.kn.entity.ji=!1;const t=this.kn.entity.Tn;t&&t(this.kn.entity,e,this.kn.collectionMember)}this.kn=void 0}if(this.Rn){const t=this.Rn.entity.getMouseInteractions()&&this.Rn.entity.Vn;t&&t(this.Rn.entity,e,this.Rn.collectionMember),this.Rn=void 0}}else if(s&&s.entity.getMouseInteractions()){const i=t===_c.click?s.entity.Ao:t===_c.dbclick?s.entity.mo:t===_c.mouseDown?s.entity.yo:t===_c.wheel?s.entity.po:t===_c.contextmenu?s.entity.So:void 0;if(i&&i(s.entity,e,s.collectionMember),t===_c.mouseDown){this.Rn={entity:s.entity,collectionMember:s.collectionMember,event:e};const t=this.Rn.event.button,i=s.entity.vo;i&&i(s.entity,e,t,s.collectionMember),this.kn={entity:s.entity,collectionMember:s.collectionMember,button:t,startLocation:Lr(e.clientX,e.clientY)}}}this.Dn=e,this.Bn=i,this.Cn=s}Kn(t){return e=>this.bo(t,e)}bo(t,e){const i=e.interactions.length;if(this.xo=e,this.io){const s=t===Vc.touchMove?this.io.entity.Mo:t===Vc.touchEnd?this.io.entity._o:t===Vc.touchStart?this.io.entity.wo:void 0;s&&s(this.io.entity,e,this.io.collectionMember),t===Vc.touchEnd&&0===i&&(this.io.entity.ji=!1,this.io=void 0)}else if(t===Vc.touchStart){for(let t=0;t<i&&(this.io=this.wn(e,{x:e.interactions[t].x,y:e.interactions[t].y}),!this.io);t+=1);if(this.io){this.io.entity.ji=!0;const t=this.io.entity.wo;t&&t(this.io.entity,e,this.io.collectionMember)}}t===Vc.touchEnd?this.Bn=void 0:this.Bn=this.Pe(e.clientX,e.clientY)}Co(t){return this.D.on("resize",t)}ko(t){return this.D.off(t,"resize")}To(){return this.D.topicOff("resize"),this}Fo(t){return this.D.on("inViewChange",t)}Io(t){return this.D.off(t)}W(){if(!this.$i){if(this.$i=!0,this.tn)for(const t of this.tn.values())t.W();this.rn=void 0,this.nn=void 0,Ho.removeEventListener("scroll",this.jr),this.Gr.removeEventListener("fullscreenchange",this.Xr),this.Gr.removeEventListener("webkitfullscreenchange",this.Xr),this.Zn&&(this.Zn.disconnect(),this.Zn=void 0),this.an.forEach((t=>{t()})),this.an.length=0}}Pe(t,e){return Lr(t-this.en.x,this.en.y-e)}Yr(t,e){return Lr(t+this.en.x,this.en.y-e)}Po(t){const e=this.Pe(t.clientX,t.clientY);return{engineX:e.x,engineY:e.y}}Do(t){const e=this.Yr(t.engineX,t.engineY);return{clientX:e.x,clientY:e.y}}}const Yc=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"horizontalProgressive",packager:(e,i,s)=>{if(e.length>1){const n=Ml(i,s*t),r=Math.abs(n.x),o=e.length,a=[];let l=0,h=0,c=e[0].x+r;for(;h<o;){const t=e[h];if(a[l]=t,l+=1,h+=1,t.x<c&&h<o){const i=h;let s=t.y,n=t.y;for(;h<o&&e[h].x<=c;)e[h].y>s&&(s=e[h].y),e[h].y<n&&(n=e[h].y),h+=1;if(i!==h){const t=(a[l-1].x+e[h-1].x)/2;a[l+0]=Lr(t,n),a[l+1]=Lr(t,s),a[l+2]=e[h-1],l+=3}}c+=r}return a}return e.slice()}}},Xc=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"horizontalRegressive",packager:(e,i,s)=>{if(e.length>1){const n=Ml(i,s*t),r=Math.abs(n.x),o=e.length,a=[];let l=0,h=0,c=e[0].x-r;for(;h<o;){const t=e[h];if(a[l]=t,l+=1,h+=1,t.x>c&&h<o){const i=h;let s=t.y,n=t.y;for(;h<o&&e[h].x>=c;)e[h].y>s&&(s=e[h].y),e[h].y<n&&(n=e[h].y),h+=1;if(i!==h){const t=(a[l-1].x+e[h-1].x)/2;a[l+0]=Lr(t,n),a[l+1]=Lr(t,s),a[l+2]=e[h-1],l+=3}}c-=r}return a}return e.slice()}}},qc=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"verticalProgressive",packager:(e,i,s)=>{if(e.length>1){const n=Ml(i,s*t),r=Math.abs(n.y),o=e.length,a=[];let l=0,h=0,c=e[0].y+r;for(;h<o;){const t=e[h];if(a[l]=t,l+=1,h+=1,t.y<c&&h<o){const i=h;let s=t.x,n=t.x;for(;h<o&&e[h].y<=c;)e[h].x>s&&(s=e[h].x),e[h].x<n&&(n=e[h].x),h+=1;if(i!==h){const t=(a[l-1].y+e[h-1].y)/2;a[l+0]=Lr(n,t),a[l+1]=Lr(s,t),a[l+2]=e[h-1],l+=3}}c+=r}return a}return e.slice()}}},Jc=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return{type:"verticalRegressive",packager:(e,i,s)=>{if(e.length>1){const n=Ml(i,s*t),r=Math.abs(n.y),o=e.length,a=[];let l=0,h=0,c=e[0].y-r;for(;h<o;){const t=e[h];if(a[l]=t,l+=1,h+=1,t.y>c&&h<o){const i=h;let s=t.x,n=t.x;for(;h<o&&e[h].y>=c;)e[h].x>s&&(s=e[h].x),e[h].x<n&&(n=e[h].x),h+=1;if(i!==h){const t=(a[l-1].y+e[h-1].y)/2;a[l+0]=Lr(n,t),a[l+1]=Lr(s,t),a[l+2]=e[h-1],l+=3}}c-=r}return a}return e.slice()}}};var Kc;!function(t){t[t.Square=0]="Square",t[t.Circle=1]="Circle",t[t.Triangle=2]="Triangle",t[t.Cross=3]="Cross",t[t.Diamond=4]="Diamond",t[t.Plus=5]="Plus",t[t.Minus=6]="Minus",t[t.Arrow=7]="Arrow",t[t.Star=8]="Star"}(Kc||(Kc={}));const Zc="ProgressiveX",Qc="ProgressiveY",$c="RegressiveX",tu="RegressiveY";var eu;!function(t){t[t.Nearest=0]="Nearest",t[t.NearestX=1]="NearestX",t[t.NearestY=2]="NearestY"}(eu||(eu={}));const iu=t=>{const e="nearest"===t?eu.Nearest:"nearest-x"===t?eu.NearestX:"nearest-y"===t?eu.NearestY:void 0;return void 0!==e?e:eu.NearestX},su=(t,e,i,s,n,r,o,a,l,h)=>{const c=t.length;if(0===c)return;const u=s?1:0,d=c-(n?2:1);if(i===eu.Nearest)return nu(t,e,r,o,u,d);if(i===eu.NearestX||i===eu.NearestY){if("boolean"==typeof h&&("x"===l&&i===eu.NearestX||"y"===l&&i===eu.NearestY))return au(t,Lo(e,o,r),l,h,u,d);if(i===eu.NearestX)return ru(t,Lo(e,o,r),a,u,d);if(i===eu.NearestY)return ou(t,Lo(e,o,r),a,u,d)}},nu=(t,e,i,s,n,r)=>{let o,a=Number.MAX_VALUE;for(let l=n;l<=r;l+=1){const n=t[l];if(!Number.isNaN(n.x)&&!Number.isNaN(n.y)){const t=Lo(n,i,s),r=(t.x-e.x)**2+(t.y-e.y)**2;r<a&&(a=r,o=l)}}return o},ru=(t,e,i,s,n)=>{if(e.x<i.min.x||e.x>i.max.x)return;let r,o=Number.MAX_VALUE;for(let a=s;a<=n;a+=1){const i=t[a],s=i.x>e.x?i.x-e.x:e.x-i.x;s<o&&!Number.isNaN(i.x)&&!Number.isNaN(i.y)&&(o=s,r=a)}return r},ou=(t,e,i,s,n)=>{if(e.y<i.min.y||e.y>i.max.y)return;let r,o=Number.MAX_VALUE;for(let a=s;a<=n;a+=1){const i=t[a],s=i.y>e.y?i.y-e.y:e.y-i.y;s<o&&!Number.isNaN(i.x)&&!Number.isNaN(i.y)&&(o=s,r=a)}return r},au=(t,e,i,s,n,r)=>{const o="x"===i,a=o?e.x:e.y,l=t[n],h=t[r],c=l.x<h.x?l.x:h.x,u=l.y<h.y?l.y:h.y,d=l.x>h.x?l.x:h.x,f=l.y>h.y?l.y:h.y;if(o&&(a<c||a>d)||!o&&(a<u||a>f))return;let p=n,g=Math.floor((n+r)/2),m=r,y=-1;for(;;){const e=a-(o?t[g].x:t[g].y);if(e*(s?-1:1)>0)p=Math.min(g+1,m),y=Math.floor((p+m)/2);else{if(0===Math.abs(e))return g;m=Math.max(g-1,p),y=Math.floor((p+m)/2)}if(y===g){const i=g>n?Math.abs(a-(o?t[g-1].x:t[g-1].y)):$a,s=g<r?Math.abs(a-(o?t[g+1].x:t[g+1].y)):$a,l=Math.abs(e);switch(Math.min(l,i,s)){case i:return g-1;case s:return g+1;default:return g}}else g=y}},lu=(t,e,i,s,n,r)=>{const o="x"===i,a=o?e.x:e.y,l=t[n],h=t[r],c=l.x<h.x?l.x:h.x,u=l.y<h.y?l.y:h.y,d=l.x>h.x?l.x:h.x,f=l.y>h.y?l.y:h.y;if(o&&(a<c||a>d)||!o&&(a<u||a>f))return;let p=n,g=Math.floor((n+r)/2),m=r,y=-1;for(;;){const i=a-(o?t[g].x:t[g].y);if(i*(s?-1:1)>0)p=Math.min(g+1,m),y=Math.floor((p+m)/2);else{if(0===Math.abs(i))return{a:g,b:g,lerpAmount:0};m=Math.max(g-1,p),y=Math.floor((p+m)/2)}if(y===g){if(i*(s?-1:1)<0&&g>n){const i=t[g-1],s=t[g];return{a:g-1,b:g,lerpAmount:o?(e.x-i.x)/(s.x-i.x):(e.y-i.y)/(s.y-i.y)}}if(g<r){const i=t[g],s=t[g+1];return{a:g,b:g+1,lerpAmount:o?(e.x-i.x)/(s.x-i.x):(e.y-i.y)/(s.y-i.y)}}return{a:g,b:g,lerpAmount:0}}g=y}};let hu=0;class cu{constructor(t,e,i){this.Bo=Ur(!0),this.Lo=!1,this.ji=!1,this.Ro=!1,this.$i=!1,this.Xi=!0,this.Eo=void 0,this.zo=0,this.D=new Ir,this.Fn=void 0,this.In=void 0,this.Tn=void 0,this.Ao=void 0,this.po=void 0,this.So=void 0,this.mo=void 0,this.yo=void 0,this.Vn=void 0,this.vo=void 0,this.Pn=void 0,this.zn=void 0,this.wo=void 0,this.Mo=void 0,this._o=void 0,this.onDispose=t=>this.D.on("dispose",t),this.offDispose=t=>this.D.off(t,"dispose"),this.us=t,this.Vo=e,this.Oo=i,this.No=hu,hu+=1,this.Go=t.qi.highlightColorOffset}Wo(t){return void 0!==this.Oo.find((e=>e.type===t))}Uo(t,e){var i;return!!this.Wo(t)&&!0===e(null===(i=this.Oo.find((e=>e.type===t)))||void 0===i?void 0:i.args)}dispose(){return this.$i||(this.ji&&this.Tn&&this.Tn(this,void 0,void 0),this.$i=!0,this.Vo(this),this.D.emit("dispose",this)),this}isDisposed(){return this.$i}setVisible(t){const e=this.Xi;return this.Xi=t,!t&&e&&(this.ji&&this.Tn&&this.Tn(this,void 0,void 0),this.ji=!1),this}getVisible(){return this.Xi}setMouseInteractions(t){const e=this.Bo.M();return this.Bo.S(t),t||(e&&this.ji&&this.Tn&&this.Tn(this,void 0,void 0),this.ji=!1),this}getMouseInteractions(){return this.Bo.M()}getIsUnderMouse(){return this.ji}getIsGrabbed(){return this.Ro}setMouseMoveEventHandler(t){return this.Fn=t,this}setMouseEnterEventHandler(t){return this.In=t,this}setMouseLeaveEventHandler(t){return this.Tn=t,this}setMouseClickEventHandler(t){return this.Ao=t,this}setMouseDoubleClickEventHandler(t){return this.mo=t,this}setMouseDownEventHandler(t){return this.yo=t,this}setMouseUpEventHandler(t){return this.Vn=t,this}setMouseWheelEventHandler(t){return this.po=t,this}setMouseContextMenuEventHandler(t){return this.So=t,this}setMouseDragEventHandler(t){return this.Pn=t,this}setMouseDragStartEventHandler(t){return this.vo=t,this}setMouseDragStopEventHandler(t){return this.zn=t,this}setTouchStartEventHandler(t){return this.wo=t,this}setTouchMoveEventHandler(t){return this.Mo=t,this}setTouchEndEventHandler(t){return this._o=t,this}Yo(t){return this.Eo=t,this}Ho(){return this.Eo?this.Eo:uu}cs(t){return this.zo=t,this}$o(){return this.zo}Xo(t){return this.Go=t,this}jo(){return this.Go}}const uu=Br(Lr(0,0),Lr(0,0));class du extends cu{constructor(t,e,i,s){super(t,i,s),this.Zo=0,this.ks=e,this.ks.Qo=!0}Jo(t){return this.Zo===t||(this.Zo=t,this.ks.Qo=!0),this}Ko(){return this.Zo}}class fu extends du{constructor(t,e,i,s,n){super(t,e,s,n),this.qo=!0,this.dt=i}}const pu=(t,e,i)=>{if(i instanceof eh){const s=i.Wi(),n=El(e,{x:Math.abs(s.x),y:Math.abs(s.y)});return Br(Lr(t.min.x-n.x,t.min.y-n.y),Lr(t.max.x+n.x,t.max.y+n.y))}return Br(i.mi(Lr(t.min.x,t.min.y),Ml(e,-1)),i.mi(Lr(t.max.x,t.max.y),e))},gu=(t,e)=>"function"==typeof e?e(t):e,mu=(t,e)=>!t||t!==e,yu=t=>t!==ro;class vu extends fu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.be=Wc.fillStyle,this.us=t}Ce(t){return this.be=gu(this.be,t),this}Eh(){return this.be}ta(){return mu(this.ia,this.be)}sa(){return((t,e)=>t===ro&&e!==ro)(this.ia,this.be)}ea(){return yu(this.be)}ha(t){this.ia=t}}class bu extends vu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.xe=Wc.lineStyle,this.us=t}we(t){return this.xe="function"==typeof t?t(this.xe):t,this}ao(){return this.xe}ra(){return!this.na||this.na!==this.xe}oa(t){return!this.na||this.na.getThickness()!==t}ea(){return this.xe!==Eo||super.ea()}sa(){return(this.xe!==Eo||this.be!==ro)&&this.na===Eo&&this.ia===ro}aa(t){this.na=t}}class xu extends vu{constructor(t,e,i,s,n){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ur(5);super(t,e,i,s,n),this.size=Ur(5),this.size=r}q(t){return this.size.S(t),this}}class Su extends vu{constructor(t,e,i,s,n){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Ur(Wc.font);super(t,e,i,s,n),this.la=Ur(""),this.ua=Ur(Lr(0,0)),this.ca=Ur(0),this.da=Ur(0),this.fa=Ur(Lr(0,0)),this.Aa=Ur(0),this.ga=Ur(kc),this.ma=Lr(0,0),this.Xt=Ur(Hr(1,1,1,1)),this.ya=Ur(Gr(4,4,4,4)),this.font=Ur(Wc.font),this.pa=!1,this.font=r}ea(){return yu(this.be)&&this.la.M().length>0}sa(){return!1===this.pa&&this.ea()}Rh(t){return this.la.S(t),this}Bh(){return this.la.M()}Oh(t){return Mc(t)?this.ga.S(t):this.ga.S(t(this.ga.M())),this}Vh(){return this.ga.M()}Sa(t){return this.ga.S(this.ga.M().setFamily(t)),this}va(){return this.ga.M().getFamily()}ba(t){return this.ga.S(this.ga.M().setSize(t)),this}xa(){return this.ga.M().getSize()}Ma(t){return this.ga.S(this.ga.M().setWeight(t)),this}_a(){return this.ga.M().getWeight()}wa(t){return this.ga.S(this.ga.M().setStyle(t)),this}Ca(){return this.ga.M().getStyle()}ka(t){return this.ga.S(this.ga.M().setVariant(t)),this}Ta(){return this.ga.M().getVariant()}Fe(t){return this.ua.S(t),this}Fa(){return this.ua.M()}Nh(t){return this.Aa.S(t),this}Gh(){return this.Aa.M()}Ia(t,e){return this.fa.S(Lr(t,e)),this}Pa(){return this.fa.M()}Da(t){return this.da.S(t),this}Ba(){return this.da.M()}La(t){return this.ca.S(t),this}Ra(){return this.ca.M()}Ea(t){return this.da.S(t.x),this.ca.S(t.y),this}Fr(t){return this.Xt.S(t),this}za(){return this.Xt.M()}Ir(t){return this.ya.S(t),this}Va(){return this.ya.M()}}class Au extends xu{constructor(t,e,i,s,n){super(t,e,i,s,n,Ur(arguments.length>5&&void 0!==arguments[5]?arguments[5]:5)),this.Oa=[],this.Na=Ur(Kc.Square),this.Aa=Ur(0),this.Ga=Ur(!1),this.Wa=Ur(!1),this.Ua=Ur(!1),this.Ya=el,this.Ha=0,this.$a=[],this.Xa=0,this.ja=el,this.Za=eu.Nearest,this.Qa=!1,this.Ja=void 0}Ka(t){return this.Za=t,this}qa(){return this.$a}tl(){return this.Oa}il(t){return this.Na.S(t),this}sl(){return this.Na.M()}Nh(t){return this.Aa.S(t),this}Gh(){return this.Aa.M()}el(t){return this.Ga.S(t),this}hl(t){return this.Wa.S(t),this}rl(t){return this.Ua.S(t),this}nl(t,e){return Array.isArray(t)||(t=[t]),this.Xa+=t.length,this.$a=Ma(this.$a,t,{canReturnB:!0}),this.ja&&(this.ja=e?yl(this.ja,e):void 0),this.Ja=void 0,this}Nt(){return this.Qa=!0,this.Oa.length=0,this.Ha=0,this.Ya=el,this.$a=[],this.Xa=0,this.Ja=void 0,this}ol(){return this.Ha}al(){return this.Xa}}class wu extends bu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.ua=Ur(Lr(0,0)),this.X=Ur(Lr(100,100)),this.Aa=Ur(0),this.ma=Ur(Lr(0,0)),this.ll=!1}Ps(){return this.ul(),this}Fe(t){const e=this.ua.M();return t.x===e.x&&t.y===e.y||(this.ua.S(t),this.ul()),this}Fa(){return this.ua.M()}cl(t){const e=this.ua.M();return t!==e.x&&(this.ua.S(Lr(t,e.y)),this.ul()),this}dl(t){const e=this.ua.M();return t!==e.y&&(this.ua.S(Lr(e.x,t)),this.ul()),this}q(t){const e=this.X.M();return t.x===e.x&&t.y===e.y||(this.X.S(Lr(t.x,t.y)),this.ul()),this}oi(){return this.X.M()}fl(t){const e=this.X.M();return t!==e.x&&(this.X.S(Lr(t,e.y)),this.ul()),this}Al(t){const e=this.X.M();return t!==e.x&&(this.X.S(Lr(e.x,t)),this.ul()),this}Nh(t){return this.Aa.S(t),this}Gh(){return this.Aa.M()}ml(t){const e=this.ma.M();return t===e&&e.x===t.x&&e.y===t.y||(void 0===t?(this.ll=!1,this.ul()):(this.ll=!0,this.ma.S(t))),this}ul(){if(!this.ll){const t=this.ua.M(),e=this.X.M(),i=Lr(t.x+e.x/2,t.y+e.y/2),s=this.ma.M();i.x===s.x&&i.y===s.y||this.ma.S(i)}}}class Cu extends bu{constructor(){super(...arguments),this.Oa=[],this.ua=Ur(Lr(0,0)),this.Ya=el,this.yl=!1}pl(t){return t=xa(t),this.Oa=t,this.yl=!0,this}Sl(){return this.Oa}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return 0}bl(){return 0}}class Mu extends Cu{}class ku extends vu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.xl=new Array,this.Ml=new Array,this._l=Ur({type:"disabled",packager:(t,e,i)=>t.slice()}),this.Ya=el,this.wl=0,this.Cl=!1,this.$a=[Array(),Array()],this.kl=!1,this.Tl=(new ho).setColor(qr(42,171,240)),this.Qa=!1,this.Fl=!1,this.Il=!1}nl(t,e){const i=this.wl-1,s=i>0&&!this.kl;let[n,r]=s?[[this.xl[i]],[this.Ml[i]]]:[[],[]];if(t instanceof Array){const[e,i]=Vr(t);n=Ma(n,e,{canReturnB:!0}),r=Ma(r,i,{canReturnB:!0})}else{const e=t.position;n.push(Lr(e,t.high)),r.push(Lr(e,t.low))}return this.kl?(this.$a[0]=Ma(this.$a[0],n,{canReturnB:!0}),this.$a[1]=Ma(this.$a[1],r,{canReturnB:!0})):(this.$a=[n,r],this.kl=!0),this.Ya=yl(this.Ya,e||yl(gl(n),gl(r))),this}Nt(){return this.Qa=!0,this.xl.length=0,this.Ml.length=0,this.wl=0,this.Ya=el,this}tl(){return[this.xl,this.Ml]}qa(){return[this.$a[0],this.$a[1]]}Pl(t){return this._l.S(t),this}Dl(){return this._l.M()}Bl(t){return this.Tl="function"==typeof t?t(this.Tl):t,this}Ll(){return this.Tl}ol(){return this.wl-(Number(this.Fl)+Number(this.Il))}al(){return this.$a.length}Rl(t){return this.Fl=t,this}El(){return this.Fl}zl(t){return this.Il=t,this}Vl(){return this.Il}sa(){return this.ia===ro&&this.Ol===ro&&(this.be!==ro||this.Tl!==ro)}Nl(t){this.Ol=t}ea(){return this.Tl!==ro||super.ea()}ta(){return super.ta()||!this.Ol||this.Ol!==this.Tl}}class Ru extends bu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.ua=Ur(Lr(0,0)),this.Gl=Ur(0),this.Fi=Ur(360),this.Wl=Ur(100),this.Ul=Ur(100),this.Yl=Ur(0),this.Hl=Ur(void 0),this.$l=Lr(0,0),this.Xl=Lr(0,0),this.jl=Lr(0,0)}Zl(){return this.Wl.M()}Ql(){return this.Ul.M()}Fa(){return this.ua.M()}Jl(){return this.Gl.M()}Ti(){return this.Fi.M()}Kl(){return this.Yl.M()}ql(){return this.Hl.M()}tu(){return this.$l}iu(){return this.Xl}su(){return this.jl}Fe(t){return this.ua.S(t),this}eu(t){return this.Gl.S(t),this}ze(t){return this.Fi.S(t),this}hu(t){return this.Ul.S(t),this.Wl.S(t),this}ru(t){return this.Wl.S(t),this}nu(t){return this.Ul.S(t),this}ou(t){return this.Yl.S(t<0?0:t),this}au(t){return this.Hl.S(void 0!==t&&t<=0?void 0:t),this}}var Eu;!function(t){t[t.Complex=0]="Complex",t[t.Simple=1]="Simple"}(Eu||(Eu={}));class Tu extends fu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.lu=Wc.lineStyle,this.engine=t}Re(t){return this.lu=((t,e)=>"function"==typeof e?e(t):e)(this.lu,t),this}uu(){return this.lu}ra(){return((t,e)=>!t||t!==e)(this.cu,this.lu)}du(t){return((t,e)=>!t||t.getThickness()!==e)(this.cu,t)}sa(){return((t,e)=>t===Eo&&e!==Eo)(this.cu,this.lu)}ea(){return(t=>t!==Eo&&t.getFillStyle()!==ro)(this.lu)}fu(t){this.cu=t}}class Iu extends Tu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.Pi=Lr(0,0),this.Fi=Lr(0,0),this.Au=!1}S(t){let{min:e,max:i}=t;return e.x===this.Pi.x&&e.y===this.Pi.y&&i.x===this.Fi.x&&i.y===this.Fi.y||(this.Au=!0,this.Pi=e,this.Fi=i),this}Ii(){return this.Pi}Ti(){return this.Fi}Ve(t){return t.x===this.Pi.x&&t.y===this.Pi.y||(this.Au=!0,this.Pi=t),this}ze(t){return t.x===this.Fi.x&&t.y===this.Fi.y||(this.Au=!0,this.Fi=t),this}}class Pu extends Tu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.gu=void 0,this.mu=!1}}class Fu extends Tu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.yu=[],this.Ya=el,this.$a=new Array,this.Ha=0,this.Za=eu.NearestX,this.Qa=!1,this.pu=Ur(void 0),this.Fl=!1,this.Il=!1}Su(t){return this.pu.S(t),this}vu(){return this.pu.M()}qa(){return this.$a}tl(){return this.yu}Ka(t){return this.Za=t,this}Nt(){return this.Qa=!0,this.yu.length=0,this.Ha=0,this.$a=[],this.Ya=el,this}ol(){return this.Ha-(Number(this.Fl)+Number(this.Il))}al(){return this.$a.length}Rl(t){return this.Fl=t,this}El(){return this.Fl}zl(t){return this.Il=t,this}Vl(){return this.Il}}const Du=t=>{const e=t.getDraggingMode();return void 0!==e&&e!==Oo.notDraggable?e===Oo.draggable?jh.Move:e===Oo.onlyHorizontal?jh.Horizontal:jh.Vertical:void 0};class Lu{constructor(){this.Xi=!0,this.D=new Ir,this.bu=0,this.wt=(t,e,i)=>{0===this.bu&&this.D.emit("mouseEnter",this,e),this.bu+=1},this.Ct=(t,e,i)=>{this.bu-=1,this.bu<1&&(this.D.emit("mouseLeave",this,e),this.bu=0)},this.kt=(t,e,i)=>{this.D.emit("mouseClick",this,e)},this.Tt=(t,e,i)=>{this.D.emit("mouseDoubleClick",this,e)},this.Ft=(t,e,i)=>{this.D.emit("mouseDown",this,e)},this.It=(t,e,i)=>{this.D.emit("mouseUp",this,e)},this.Pt=(t,e,i)=>{this.D.emit("mouseMove",this,e)},this.Bt=(t,e,i,s)=>{this.D.emit("mouseDragStart",this,e,i)},this.Dt=(t,e,i,s,n,r)=>{this.D.emit("mouseDrag",this,e,i,s,n)},this.Lt=(t,e,i,s,n)=>{this.D.emit("mouseDragStop",this,e,i,s)},this.Rt=(t,e,i)=>{this.D.emit("mouseWheel",this,e)},this.Et=(t,e)=>{this.bu+=1,this.D.emit("touchStart",this,e)},this.zt=(t,e)=>{this.D.emit("touchMove",this,e)},this.Vt=(t,e)=>{this.bu-=1,this.D.emit("touchEnd",this,e)},this.xu=t=>(t instanceof fu?t.setMouseEnterEventHandler(this.wt).setMouseLeaveEventHandler(this.Ct).setMouseClickEventHandler(this.kt).setMouseDoubleClickEventHandler(this.Tt).setMouseDownEventHandler(this.Ft).setMouseUpEventHandler(this.It).setMouseMoveEventHandler(this.Pt).setMouseDragEventHandler(this.Dt).setMouseDragStartEventHandler(this.Bt).setMouseDragStopEventHandler(this.Lt).setMouseWheelEventHandler(this.Rt).setTouchStartEventHandler(this.Et).setTouchMoveEventHandler(this.zt).setTouchEndEventHandler(this.Vt):(t.onMouseEnter(this.wt),t.onMouseLeave(this.Ct),t.onMouseClick(this.kt),t.onMouseDoubleClick(this.Tt),t.onMouseDown(this.Ft),t.onMouseUp(this.It),t.onMouseMove(this.Pt),t.onMouseDrag(this.Dt),t.onMouseDragStart(this.Bt),t.onMouseDragStop(this.Lt),t.onMouseWheel(this.Rt),t.onTouchStart(this.Et),t.onTouchMove(this.zt),t.onTouchEnd(this.Vt)),t)}onMouseEnter(t){return this.D.on("mouseEnter",t)}onMouseLeave(t){return this.D.on("mouseLeave",t)}onMouseClick(t){return this.D.on("mouseClick",t)}onMouseDoubleClick(t){return this.D.on("mouseDoubleClick",t)}onMouseDown(t){return this.D.on("mouseDown",t)}onMouseUp(t){return this.D.on("mouseUp",t)}onMouseMove(t){return this.D.on("mouseMove",t)}onMouseDragStart(t){return this.D.on("mouseDragStart",t)}onMouseDrag(t){return this.D.on("mouseDrag",t)}onMouseDragStop(t){return this.D.on("mouseDragStop",t)}onMouseWheel(t){return this.D.on("mouseWheel",t)}onTouchStart(t){return this.D.on("touchStart",t)}onTouchMove(t){return this.D.on("touchMove",t)}onTouchEnd(t){return this.D.on("touchEnd",t)}offMouseEnter(t){return this.D.off(t,"mouseEnter")}offMouseLeave(t){return this.D.off(t,"mouseLeave")}offMouseClick(t){return this.D.off(t,"mouseClick")}offMouseDoubleClick(t){return this.D.off(t,"mouseDoubleClick")}offMouseDown(t){return this.D.off(t,"mouseDown")}offMouseUp(t){return this.D.off(t,"mouseUp")}offMouseMove(t){return this.D.off(t,"mouseMove")}offMouseDragStart(t){return this.D.off(t,"mouseDragStart")}offMouseDrag(t){return this.D.off(t,"mouseDrag")}offMouseDragStop(t){return this.D.off(t,"mouseDragStop")}offMouseWheel(t){return this.D.off(t,"mouseWheel")}offTouchStart(t){return this.D.off(t,"touchStart")}offTouchMove(t){return this.D.off(t,"touchMove")}offTouchEnd(t){return this.D.off(t,"touchEnd")}getIsUnderMouse(){return this.bu>0}setVisible(t){const e=this.Xi!==t;return this.Xi=t,e&&this.D.emit("visibleStateChanged",this,this.Xi),this}getVisible(){return this.Xi}onVisibleStateChanged(t){return this.D.on("visibleStateChanged",t)}offVisibleStateChanged(t){return this.D.off(t,"visibleStateChanged")}}const zu=(t,e,i)=>{const s=t.getDraggingMode();if(s!==Oo.notDraggable){const n=t.scale.mi(t.getPosition(),{x:s!==Oo.onlyVertical?e.x:0,y:s!==Oo.onlyHorizontal?e.y:0}),r=t.scale,o=t.getSize(),a=t.getOrigin(),l=r.mi({x:r.x.getInnerStart(),y:r.y.getInnerStart()},El({x:(1+a.x)/2,y:(1+a.y)/2},o)),h=r.mi({x:r.x.getInnerEnd(),y:r.y.getInnerEnd()},El({x:(a.x-1)/2,y:(a.y-1)/2},o)),c={x:Math.min(Math.max(n.x,l.x),h.x),y:Math.min(Math.max(n.y,l.y),h.y)};t.setPosition(c),ga(i)}},Nu=(t,e,i,s,n)=>{zu(t,n,e)},_u=(t,e,i,s,n)=>{zu(t,s,n)};class Vu extends Lu{constructor(t,e,i,s,n){super(),this.position=Lr(50,50),this.origin=Lr(0,0),this.size=Lr(0,0),this.$i=!1,this.Mu=void 0,this._u=void 0,this.wu=Du,this.Cu=void 0,this.Bo=!0,this.ku=()=>{const t="function"==typeof this.wu?this.wu(this):this.wu;t&&(this._u=this.ks.us.Wr(t))},this.Tu=()=>{this.ks.us.Ur(this._u)},this.Xt=Hr(0,0,0,0),this.ks=t,this.renderingScale=e,this.scale=i,this.Vo=s,this.qi=n,this.ks.Ss(),this.onMouseEnter(this.ku),this.onMouseLeave(this.Tu),this.onMouseDrag(Nu);const r=dh(new ph(Xo,_u,Xo));this.onTouchStart(r.onTouchStart),this.onTouchMove(r.onTouchMove),this.onTouchEnd(r.onTouchEnd),this.qi=n}setMouseInteractions(t){return this.Fu().forEach((e=>e.setMouseInteractions(t))),this.Bo=t,this}getMouseInteractions(){return this.Bo}setEffect(t){return this.es=this.es||this.ks.us.es.hs(this,{Iu:{shapes:this.Fu()}}),this.es.Iu.ps(t),this}getEffect(){return!!this.es&&this.es.Iu.vs()}setAutoDispose(t){return this.Cu=t,this.ks.Ss(),this}getAutoDispose(){return this.Cu}getSize(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vo.Everything)===Vo.Everything?Lr(this.size.x+(this.Xt.left+this.Xt.right),this.size.y+(this.Xt.bottom+this.Xt.top)):this.size}setContentSize(t){this.size=t}setMargin(t){return this.Xt="object"==typeof t?Wr(this.Xt,t):{left:t,top:t,right:t,bottom:t},this.ks.Ss(),this}getMargin(){return this.Xt}Te(){if(this.Cu){const t=this.size,e=this.renderingScale.oi(),i={x:t.x/e.x,y:t.y/e.y};("max-width"===this.Cu.type&&i.x>=this.Cu.maxWidth||"max-height"===this.Cu.type&&i.y>=this.Cu.maxHeight)&&this.dispose()}return this}Ps(){return this}dispose(){return this.$i||(this.ks.Ss(),this.$i=!0,this.Vo(this),this.D.emit("dispose",this),this.Fu().forEach((t=>t.dispose()))),this}setVisible(t){return super.setVisible(t),this.Fu().forEach((e=>e.setVisible(t))),this.ks.Ss(),this}isDisposed(){return this.$i}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}setPosition(t){return this.position=t,this.ks.Ss(),this}getPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.origin,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vo.Everything;const i=this.getSize(Vo.Everything),s=this.scale.mi(this.position,El({x:-(this.origin.x+1)/2,y:-(this.origin.y+1)/2},i));if(e===Vo.Everything)return this.scale.mi(s,El({x:(t.x+1)/2,y:(t.y+1)/2},i));const n=this.scale.mi(s,{x:this.Xt.left,y:this.Xt.bottom}),r=this.getSize(Vo.Content);return this.scale.mi(n,El({x:(t.x+1)/2,y:(t.y+1)/2},r))}setOrigin(t){return this.origin=t,this.ks.Ss(),this}getOrigin(){return this.origin}setDraggingMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo.notDraggable;return this.Mu=t,this.ks.Ss(),this}getDraggingMode(){return void 0!==this.Mu?this.Mu:Oo.notDraggable}setMouseStyle(t){return this.wu=t,this}getMouseStyle(){return this.wu}}class Bu extends Vu{constructor(t,e,i,s,n,r){super(t,e,i,n,r),this.ya=Hr(),this.Pu=0,this.ks=t,this.Du=s,this.backgroundElement=new this.Du(this.ks,this.renderingScale,this.scale,Xo,r),this.xu(this.backgroundElement)}Fu(){return this.backgroundElement.Fu()}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}setBackground(t){return t(this.backgroundElement),this}getBackground(){return this.backgroundElement}Te(){return super.Te(),this.$i||this.backgroundElement.setOrigin(this.origin).setPosition(this.getPosition(this.origin,Vo.PaddedBackground)).Te(),this}Ps(){const t=this.getSize(Vo.PaddedContent);return this.backgroundElement.Bu(t).Ps(),super.Ps()}dispose(){return super.dispose(),this.backgroundElement.dispose(),this}setVisible(t){return super.setVisible(t),this.backgroundElement.setVisible(t),this}setPadding(t){return this.ya="object"==typeof t?Wr(this.ya,t):{left:t,top:t,right:t,bottom:t},this.ks.Ss(),this}getPadding(){return this.ya}getSize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vo.Everything,e=super.getSize(t);return t>=Vo.PaddedContent&&(e=Lr(e.x+this.ya.left+this.ya.right,e.y+this.ya.bottom+this.ya.top)),t>=Vo.PaddedBackground&&(e=Lr(e.x+this.backgroundElement.Lu()+this.backgroundElement.Ru(),e.y+this.backgroundElement.Eu()+this.backgroundElement.zu())),e}getPosition(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.origin,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vo.Everything;if(e===Vo.Everything)return super.getPosition(t,e);const i=super.getPosition(Lr(-1,-1),Vo.Everything),s=this.getMargin(),n=this.scale.mi(i,{x:s.left,y:s.bottom});if(e===Vo.PaddedBackground){const e=this.getSize(Vo.PaddedBackground);return this.scale.mi(n,El({x:(t.x+1)/2,y:(t.y+1)/2},e))}const r=this.scale.mi(n,{x:this.backgroundElement.Lu(),y:this.backgroundElement.Eu()});if(e===Vo.PaddedContent){const e=this.getSize(Vo.PaddedContent);return this.scale.mi(r,El({x:(t.x+1)/2,y:(t.y+1)/2},e))}const o=this.getPadding(),a=this.scale.mi(r,{x:o.left,y:o.bottom}),l=this.getSize(Vo.Content);return this.scale.mi(a,El({x:(t.x+1)/2,y:(t.y+1)/2},l))}setMouseInteractions(t){return super.setMouseInteractions(t),this.backgroundElement.setMouseInteractions(t),this}getHighlight(){return this.Pu}setHighlight(t){return this.Pu=Oa(t),this.backgroundElement.setHighlight(t),this.D.emit("highlight",this,t),this}}const Ou=t=>"setBackground"in t;class Uu extends Lu{constructor(t,e,i,s,n,r,o,a,l,h,c){super(),this.u=0,this.Vu=1,this.Ou=!0,this.Nu=new Cc,this.Gu=!0,this.$i=!1,this.axisScale=s,this.renderingScale=n,this.Wu=o,this.Uu=a,this.Yu=l,this.Vo=h,this.Hu=e,this.$u=i,this.Xu=this.xu(this.Hu.Ee(this.renderingScale)),this.qi=c,this.ju=this.xu(this.Yu.Zu(this.$u,this.renderingScale,r,Xo,this.qi,!1).setOrigin(fa(this.Uu)).setDirection(this.Uu)),this.axis=t,this.setMouseInteractions(!1),"major"===this.ju.Qu?this.Xu.Re(c.xAxisNumericTicks.majorTickStyle.gridStrokeStyle):"minor"===this.ju.Qu?this.Xu.Re(c.xAxisNumericTicks.minorTickStyle.gridStrokeStyle):"other"===this.ju.Qu&&this.Xu.Re(c.cursorGridStrokeStyleX)}setValue(t){return this.u=t,this.$u.Ss(),this.D.emit("valueChange",this,this.u),this}getValue(){return this.u}setTextFormatter(t){return this.Ju=t,this.$u.Ss(),this}setTickLength(t){return this.ju.setPointerLength(t),this.Hu.Ss(),this}getTickLength(){return this.ju.getPointerLength()}setTickLabelPadding(t){return this.ju.setTickLabelPadding(t),this.Hu.Ss(),this}setTickLabelRotation(t){return this.ju.setTextRotation(t),this.Hu.Ss(),this}getTickLabelRotation(){return this.ju.getTextRotation()}getTickLabelPadding(){return this.ju.getTickLabelPadding()}setGridStrokeLength(t){return this.Vu=t,this.Hu.Ss(),this}getGridStrokeLength(){return this.Vu}setGridStrokeStyle(t){return this.Xu.Re(t),this.Hu.Ss(),this}getGridStrokeStyle(){return this.Xu.uu()}dispose(){return this.$i||(this.$i=!0,this.Xu.dispose(),this.ju.dispose(),this.Vo(this),this.Hu.us.Ss(),this.D.emit("dispose",this)),this}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}setMarkerVisible(t){return this.Ou=t,this.$u.Ss(),this}getMarkerVisible(){return this.Ou}setMarker(t){return t(this.ju),this.$u.Ss(),this}getMarker(){return this.ju}setMouseInteractions(t){return this.ju.setMouseInteractions(t),this.Xu.setMouseInteractions(t),this}getMouseInteractions(){return this.Xu.getMouseInteractions()}setAllocatesAxisSpace(t){return this.Gu=t,this.$u.Ss(),this}getAllocatesAxisSpace(){return this.Gu}isInScale(){return cl(this.u,this.axisScale.getInnerStart(),this.axisScale.getInnerEnd())}onValueChange(t){return this.D.on("valueChange",t)}offValueChange(t){return this.D.off(t,"valueChange")}}class Hu extends Uu{constructor(t,e,i,s,n,r,o,a,l,h,c){super(t,e,i,s,n,r,o,a,c,l,h),this.Ku=!1,this.Vo=l,this.Hu=e,this.$u=i}dispose(){return this.Ku=!1,super.dispose()}update(){return this}plot(t,e,i,s,n){if(this.isInScale()&&this.getVisible()&&t){this.Ku=!1;const t=Do(this.u,this.axisScale,this.Wu.getWidth(this.renderingScale));this.Xu.setVisible(!0).Ve(this.Wu.toPoint(t,e)).ze(this.Wu.toPoint(t,e-(s+i*this.Vu))),this.Ou?(this.Ju&&this.ju.setText(this.Ju(this.u,this)),this.ju.setVisible(!0).setPosition(this.Wu.toPoint(t,n))):this.ju.setVisible(!1)}else this.Xu.setVisible(!1),this.ju.setVisible(!1);return this.ju.Ps().Te(),this}qu(){const t=this.ju.Ps().getSize();return this.Wu.getHeight(t)}}const Gu=(t,e)=>t.setTextFillStyle(e.uiTextFillStyle).setTextFont(e.uiTextFont),Wu=(t,e)=>(Ta(t.setButtonSize(e.uiButtonSize),e,!1,{fill:e.uiButtonFillStyle}),t),ju=(t,e,i)=>{i&&Ou(t)&&t.setBackground((t=>t.setFillStyle(e.uiBackgroundFillStyle).setStrokeStyle(e.uiBackgroundStrokeStyle))).setEffect(!0)},Yu={uiElement:void 0,stylers:dn(),addStyler(t){return{...this,stylers:this.stylers.push(t)}},applyStylers(t,e){return this.stylers.forEach((i=>void 0!==i?i(t,e):void 0)),t}},Xu={background:void 0,setBackground(t){return{...this,background:t}}},qu={Zu(t,e,i,s,n,r){const o=this.applyStylers(new this.uiElement(t,e,i,s,n),n);return ju(o,n,r),o}},Ju={Zu(t,e,i,s,n,r){const o=this.applyStylers(new this.uiElement(t,e,i,this.background,s,n),n);return ju(o,n,r),o}};class Ku extends Vu{constructor(){super(...arguments),this.tc=!0}Te(){return super.Te(),this}setMouseInteractions(t){return this.tc=t,this}getMouseInteractions(){return this.tc}Fu(){return[]}}class Zu extends Vu{constructor(){super(...arguments),this.D=new Ir,this.Pu=0}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}getHighlight(){return this.Pu}setHighlight(t){return this.Pu=t,this.Fu().forEach((e=>e.cs(t))),this.D.emit("highlight",this,t),this.ks.Ss(),this}}class Qu extends Zu{}class $u extends Qu{constructor(t,e,i,s,n,r){super(t,e,i,n,r),this.ks=t,this.Na=this.ks.ic(this.renderingScale,Eu.Simple).setVisible(!1).Ce(ro).we(Eo),this.xu(this.Na)}sc(){const t=this.hc();if(t.length>2){const e=gl(t),i=Lr(e.max.x-e.min.x,e.max.y-e.min.y);this.setContentSize(i);const s=t.map((t=>{const s=kl(t,Ml(e.min,-1));return this.scale.mi(this.position,kl(s,El(Ml(kl(this.origin,Lr(1,1)),-.5),i)))})).map((t=>Lo(t,this.scale,this.renderingScale)));this.Na.pl(s).setVisible(this.getVisible()).setVisible(this.getVisible())}else this.Na&&this.Na.setVisible(!1),this.setContentSize(Lr(0,0))}Te(){return super.Te(),this.$i||this.sc(),this}Ps(){return this.sc(),super.Ps()}setVisible(t){return super.setVisible(t),this.Na.setVisible(t),this}}const td=(t,e,i)=>t*(1-i)+e*i,ed=(t,e,i,s,n)=>{if(void 0===e.value||void 0===i.value||void 0===s.value||void 0===n.value)return;const r=(t.x-i.point.x)/(n.point.x-i.point.x),o=(n.point.y-i.point.y)*r+i.point.y,a=(t.x-e.point.x)/(s.point.x-e.point.x),l=(s.point.y-e.point.y)*a+e.point.y,h=(t.y-l)/(o-l),c=td(i.value,n.value,r),u=td(e.value,s.value,a);return td(u,c,h)};class id{constructor(){this.type="simple"}}const sd=new id;class nd{constructor(t){this.type="phong",this.ambientReflection=1,this.specularReflection=.1,this.diffuseReflection=1,this.ambientColor=Jr("#000"),this.specularColor=Jr("#fff"),this.shininess=32,t&&(this.ambientReflection=Number.isNaN(Number(t.ambientReflection))?this.ambientReflection:Number(t.ambientReflection),this.specularReflection=Number.isNaN(Number(t.specularReflection))?this.specularReflection:Number(t.specularReflection),this.diffuseReflection=Number.isNaN(Number(t.diffuseReflection))?this.diffuseReflection:Number(t.diffuseReflection),this.ambientColor=t.ambientColor||this.ambientColor,this.specularColor=t.specularColor||this.specularColor,this.shininess=t.shininess||this.shininess)}}const rd=new nd,od=id;var ad;!function(t){t[t.Fill=0]="Fill",t[t.Fit=1]="Fit",t[t.Stretch=2]="Stretch",t[t.Center=3]="Center",t[t.Tile=4]="Tile"}(ad||(ad={}));const ld=vr({type:"fillstyle",fillType:"image",source:void 0,surroundingColor:qr(0,0,0,0),sourceMissingColor:qr(0,0,0,0),fitMode:ad.Fill});class hd extends ld{constructor(t){super(t)}setSource(t){return this.set("source",t)}getSource(){return this.get("source")}setSurroundingColor(t){return Xr(t)?this.set("surroundingColor",t):this.set("surroundingColor",t(this.get("surroundingColor")))}getSurroundingColor(){return this.get("surroundingColor")}setSourceMissingColor(t){return Xr(t)?this.set("sourceMissingColor",t):this.set("sourceMissingColor",t(this.get("sourceMissingColor")))}getSourceMissingColor(){return this.get("sourceMissingColor")}setFitMode(t){return this.set("fitMode",t)}getFitMode(){return this.get("fitMode")}toString(){return"imagefill:".concat(this.fitMode)}}const cd=t=>!!(t&&"object"==typeof t&&"type"in t&&"fillstyle"===t.type&&"fillType"in t&&"image"===t.fillType),ud={Dotted:[1,3],DottedDense:[1,1],Dashed:[3,1],DashedEqual:[2,2],DashedLoose:[2,4],DashDotted:[3,2,1,2]},dd=vr({type:"linestyle",lineType:"dashed",pattern:ud.DashedEqual,fillStyle:new ho({color:qr(255,255,255)}),thickness:1,patternScale:3});class fd extends dd{constructor(t){super({...t,lineType:"dashed"})}setFillStyle(t){return"function"==typeof t?this.set("fillStyle",t(this.getFillStyle())):this.set("fillStyle",t)}getFillStyle(){return this.get("fillStyle")}setThickness(t){return"function"==typeof t?this.set("thickness",t(this.getThickness())):this.set("thickness",t)}getThickness(){return this.get("thickness")}V(){const t=this.getThickness();return t<0?1:t}setPattern(t){return"function"==typeof t?this.set("pattern",t(this.getPattern())):this.set("pattern",t)}getPattern(){return this.get("pattern")}setPatternScale(t){return"function"==typeof t?this.set("patternScale",t(this.getPatternScale())):this.set("patternScale",t)}getPatternScale(){return this.get("patternScale")}}const pd=t=>!(!t||"object"!=typeof t||!("lineType"in t)||"dashed"!==t.lineType),gd=vr({type:"icon",width:void 0,height:void 0,rc:void 0,nc:Xo,oc:Xo});class md extends gd{constructor(t,e,i,s){super({...s,rc:t,nc:e,oc:i})}dispose(){return this.oc(this),this}setWidth(t){const e=this.set("width",t);return this.nc(e),e}getWidth(){return this.get("width")}setHeight(t){const e=this.set("height",t);return this.nc(e),e}getHeight(){return this.get("height")}setSize(t,e){const i=this.withMutations((i=>{i.set("width",t).set("height",e)}));return this.nc(i),i}oi(){if(!this.rc)return{x:0,y:0};const t=this.rc.width,e=this.rc.height;if(0===t||0===e)return{x:0,y:0};const i=this.width,s=this.height;return"number"==typeof i&&"number"==typeof s?{x:i,y:s}:"number"==typeof i?{x:i,y:e*i/t}:"number"==typeof s?{x:t*s/e,y:s}:{x:t,y:e}}}const yd=t=>!(!t||"object"!=typeof t||!("type"in t)||"icon"!==t.type),vd=vr({type:"glow",color:qr(255,255,255,50),spread:1,blur:4,offset:{x:0,y:0}});class bd extends vd{constructor(t){super(t)}setSpread(t){return this.set("spread","function"==typeof t?t(this.get("spread")):t)}getSpread(){return this.get("spread")}setBlur(t){return this.set("blur","function"==typeof t?t(this.get("blur")):t)}getBlur(){return this.get("blur")}setColor(t){return this.set("color","function"==typeof t?t(this.get("color")):t)}getColor(){return this.get("color")}setOffset(t){return this.set("offset","function"==typeof t?t(this.get("offset")):t)}getOffset(){return this.get("offset")}}class xd{constructor(t){this.ac=0,this.lc=0,this.uc=0,this.cc=!1,this.dc=!0,this.fc=!1,this.Ac={warningDisplayed:!1,expandEvents:[]},this.D=new Ir,this.dc=!t||void 0===t.autoSortingEnabled||t.autoSortingEnabled,void 0!==(null==t?void 0:t.dataPattern)&&(this.gc={userSpecified:null===t.dataPattern?void 0:t.dataPattern}),this.mc=void 0!==(null==t?void 0:t.lookupValues)&&t.lookupValues,this.yc=void 0!==(null==t?void 0:t.colors)&&t.colors,this.Sc=void 0!==(null==t?void 0:t.ids)&&t.ids,this.vc=void 0!==(null==t?void 0:t.sizes)&&t.sizes,this.bc=void 0!==(null==t?void 0:t.rotations)&&t.rotations,this.xc=(null==t?void 0:t.dataStorage)?t.dataStorage:Float64Array,this.Mc=!1!==(null==t?void 0:t.allowInputModification)}add(t){return Array.isArray(t)?this.appendJSON(t,{x:"x",y:"y"}):this.appendSample(t),this}addArraysXY(t,e){return this.appendSamples({xValues:t,yValues:e}),this}appendJSON(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:"x",y:"y"};const i=t.length,s=e.x,n=e.y,r=e.lookupValue,o=e.size,a=e.rotation,l=e.color,h=e.id;let c,u,d,f,p,g,m;if(s){c=new this.xc(i);for(let e=0;e<i;e+=1){const i=t[e];c[e]=i[s]}}if(n){u=new this.xc(i);for(let e=0;e<i;e+=1){const i=t[e];u[e]=i[n]}}if(r){d=new Float32Array(i);for(let e=0;e<i;e+=1){const i=t[e];d[e]=i[r]}}if(l){f=[];for(let e=0;e<i;e+=1){const i=t[e];f[e]=i[l]}}if(h){p=new Uint32Array(i);for(let e=0;e<i;e+=1){const i=t[e];p[e]=i[h]}}if(o){g=new Float32Array(i);for(let e=0;e<i;e+=1){const i=t[e];g[e]=i[o]}}if(a){m=new Float32Array(i);for(let e=0;e<i;e+=1){const i=t[e];m[e]=i[a]}}return this.appendSamples({xValues:c,yValues:u,ids:p,colors:f,lookupValues:d,sizes:g,rotations:m,start:e.start,step:e.step}),this}appendSample(t){const{samplesCacheX:e,samplesCacheY:i,samplesCacheColors:s,samplesCacheIDs:n,samplesCacheLookup:r,samplesCacheSize:o,samplesCacheRotation:a,maxSampleCount:l,dataPattern:h}=this._c({appendCount:1}),c=this.wc(),u=void 0!==t.step?t.step:1,d=void 0!==t.x?t.x:c?c.x+u:0,f=void 0!==t.y?t.y:c?c.y+u:0;if(h&&this.dc&&this.Cc&&this.kc&&!this.Tc(h,d,f)&&!this.fc)return this.Fc(this.Cc,this.kc,new this.xc([d]),new this.xc([f]),void 0!==t.lookupValue?new Float32Array([t.lookupValue]):void 0,void 0!==t.color?this.Ic((t.color,[t.color])):void 0,void 0!==t.id?new Uint32Array([t.id]):void 0,void 0!==t.size?new Float32Array([t.size]):void 0,void 0!==t.rotation?new Float32Array([t.rotation]):void 0,h),this;if(e[this.ac]=d,i[this.ac]=f,void 0!==t.lookupValue&&r&&(r[this.ac]=t.lookupValue),void 0!==t.color&&s){const e=this.Ic((t.color,[t.color]));void 0!==e&&(s[this.ac]=e[0])}return void 0!==t.id&&n&&(n[this.ac]=t.id),void 0!==t.size&&o&&(o[this.ac]=t.size),void 0!==t.rotation&&a&&(a[this.ac]=t.rotation),this.Pc(this.ac,this.ac),this.ac+=1,this.ac>l-1&&(this.ac=0,this.cc=!0),this.lc=Math.min(this.lc+1,l),this.uc+=1,this}appendSamples(t){const{lookupValues:e,colors:i,ids:s,sizes:n,rotations:r,start:o,step:a}=t;let l=t.offset,h=t.count;const c=t.xValues||t.yValues;if(!c)return this;const u=c.length;if(l=void 0!==l?l:0,h=void 0!==h?h:u-l,h<=0)return this;const d=void 0!==t.offsetLookupValues?t.offsetLookupValues:l,f=void 0!==t.offsetColors?t.offsetColors:l,p=void 0!==t.offsetIds?t.offsetIds:l,g=void 0!==t.offsetSizes?t.offsetSizes:l,m=void 0!==t.offsetRotations?t.offsetRotations:l,[y,v]=this.Dc(h,t.xValues,"x",o,a,l),[b,x]=this.Dc(h,t.yValues,"y",o,a,l),S=this.Ic(i),{samplesCacheX:A,samplesCacheY:w,samplesCacheLookup:C,samplesCacheColors:M,samplesCacheIDs:k,samplesCacheSize:R,samplesCacheRotation:E,maxSampleCount:T,dataPattern:I,incomingDataReplacedCache:P}=this._c({appendCount:h,...0===v&&0===x&&0===l&&0===d&&0===f&&0===p&&0===g&&0===m?{incomingDataX:y,incomingDataY:b,incomingDataLookup:e,incomingDataIDs:s,incomingDataColors:S,incomingDataSize:n,incomingDataRotation:r}:{}});if(!P&&I&&this.dc&&this.Cc&&this.kc){const t=y[v],i=b[x];if(!this.Tc(I,t,i)&&!this.fc)return this.Fc(this.Cc,this.kc,kd(y,v,v+h),kd(b,x,x+h),kd(e,d,d+h),kd(S,f,f+h),kd(s,p,p+h),kd(n,g,g+h),kd(r,m,m+h),I),this}const F=T-this.ac,D=Math.min(h,F);if(D>0&&(P||(Cd(A,y,v,D,this.ac),Cd(w,b,x,D,this.ac),e&&C&&Cd(C,e,d,D,this.ac),s&&k&&Cd(k,s,p,D,this.ac),S&&M&&Cd(M,S,f,D,this.ac),n&&R&&Cd(R,n,g,D,this.ac),r&&E&&Cd(E,r,m,D,this.ac)),this.Pc(this.ac,this.ac+D-1),this.ac+=D,this.ac>T-1&&(this.ac=0,this.cc=!0)),this.lc=Math.min(this.lc+D,T),this.uc+=D,this.Bc(),h-D>0){const t={xValues:y?kd(y,v+D,void 0):void 0,yValues:b?kd(b,x+D,void 0):void 0,lookupValues:e?kd(e,d+D,void 0):void 0,ids:s?kd(s,p+D,void 0):void 0,colors:S?kd(S,f+D,void 0):void 0,sizes:n?kd(n,g+D,void 0):void 0,rotations:r?kd(r,m+D,void 0):void 0};this.appendSamples(t)}return this}setSamples(t){return this.clear().appendSamples(t)}fill(t){const e=this.Cc||this.kc;if(!e)return this;const i=e.length;if(void 0!==t.x&&(this.Cc=this.Cc||new this.xc(i),this.Cc.fill(t.x)),void 0!==t.y&&(this.kc=this.kc||new this.xc(i),this.kc.fill(t.y)),void 0!==t.lookupValue&&(this.Lc=this.Lc||new Float32Array(i),this.Lc.fill(t.lookupValue)),void 0!==t.color){const e=this.Ic([t.color]);e&&(this.Rc=this.Rc||new Uint32Array(i),this.Rc.fill(e[0]))}return void 0!==t.size&&(this.Ec=this.Ec||new Float32Array(i),this.Ec.fill(t.size)),void 0!==t.rotation&&(this.zc=this.zc||new Float32Array(i),this.zc.fill(t.rotation)),this.D.emit("cleared"),this}alterSamples(t,e){const{xValues:i,yValues:s,lookupValues:n,colors:r,ids:o,sizes:a,rotations:l}=e;let h=e.offset,c=e.count;const u=i||s||n||r||o||a||l;if(!u)return this;const d=u.length;if(h=void 0!==h?h:0,c=void 0!==c?c:d-h,c<=0)return this;const f=void 0!==e.offsetLookupValues?e.offsetLookupValues:h,p=void 0!==e.offsetColors?e.offsetColors:h,g=void 0!==e.offsetIds?e.offsetIds:h,m=void 0!==e.offsetSizes?e.offsetSizes:h,y=void 0!==e.offsetRotations?e.offsetRotations:h,v=this.Ic(r),b=this.uc-1,x=void 0!==this.Vc?Math.max(this.uc-this.Vc,0):0,S=t+c-1,A=Math.max(t,x),w=Math.min(S,b),C=w-A+1;if(this.uc>0&&C>0){const{samplesCacheX:e,samplesCacheY:r,samplesCacheColors:c,samplesCacheIDs:u,samplesCacheLookup:d,samplesCacheSize:b,samplesCacheRotation:S}=this._c({appendCount:0}),M=e.length;if(void 0!==this.Vc&&this.cc&&this.uc%this.Vc!=0){const x=this.uc-this.uc%this.Vc,C=this.uc-1,k=this.uc-this.lc,R=x-1,E=Math.max(A,k),T=Math.min(w,R)-E+1;if(T>0){const x=E-t,A=Sd(E,this.uc,M,this.ac);i&&Cd(e,i,h+x,T,A),s&&Cd(r,s,h+x,T,A),n&&d&&Cd(d,n,f+x,T,A),o&&u&&Cd(u,o,g+x,T,A),v&&c&&Cd(c,v,p+x,T,A),a&&b&&Cd(b,a,m+x,T,A),l&&S&&Cd(S,l,y+x,T,A)}const I=Math.max(A,x),P=Math.min(w,C)-I+1;if(P>0){const x=I-t,A=Sd(I,this.uc,M,this.ac);i&&Cd(e,i,h+x,P,A),s&&Cd(r,s,h+x,P,A),n&&d&&Cd(d,n,f+x,P,A),o&&u&&Cd(u,o,g+x,P,A),v&&c&&Cd(c,v,p+x,P,A),a&&b&&Cd(b,a,m+x,P,A),l&&S&&Cd(S,l,y+x,P,A)}}else{const t=A-x;i&&Cd(e,i,h,C,t),s&&Cd(r,s,h,C,t),n&&d&&Cd(d,n,f,C,t),o&&u&&Cd(u,o,g,C,t),v&&c&&Cd(c,v,p,C,t),a&&b&&Cd(b,a,m,C,t),l&&S&&Cd(S,l,y,C,t)}this.D.emit("cleared")}const M=t+c-1-b;if(M>0){const e=w+1-t;this.appendSamples({xValues:i,yValues:s,lookupValues:n,colors:r,ids:o,sizes:a,rotations:l,offset:h+e,offsetLookupValues:f+e,offsetColors:p+e,offsetIds:g+e,offsetSizes:m+e,offsetRotations:y+e,count:M})}return this}alterSamplesByID(t,e){if(!this.Sc)throw new Error("LightningChart JS attempted to use alterSamplesByID on DataSetXY that doesn't have IDs enabled.");const i=t.length,s=this.Oc;if(i<=0||!s)return this;const n=(("object"==typeof e.color?this.Ic([e.color]):"number"==typeof e.color?[e.color]:[])||[])[0],r=Array.isArray(e.xValues)?new this.xc(e.xValues):e.xValues,o=Array.isArray(e.yValues)?new this.xc(e.yValues):e.yValues,a=Array.isArray(e.yValues)?new Float32Array(e.yValues):e.yValues,l=this.Ic(e.colors),h=Array.isArray(e.sizes)?new Float32Array(e.sizes):e.sizes,c=Array.isArray(e.rotations)?new Float32Array(e.rotations):e.rotations,u=s.length,d=this.lc,f=this.uc-1,p=Math.max(f-d+1,0);for(let g=0;g<i;g+=1){const i=t[g],d=wd(i,p,f,(t=>s[Sd(t,this.uc,u,this.ac)])),m=Sd(d,this.uc,u,this.ac);s[m]===i&&(void 0!==e.x&&this.Cc&&(this.Cc[m]=e.x),void 0!==e.y&&this.kc&&(this.kc[m]=e.y),void 0!==e.lookupValue&&this.Lc&&(this.Lc[m]=e.lookupValue),void 0!==e.size&&this.Ec&&(this.Ec[m]=e.size),void 0!==e.rotation&&this.zc&&(this.zc[m]=e.rotation),void 0!==n&&this.Rc&&(this.Rc[m]=n),r&&this.Cc&&(this.Cc[m]=r[g]),o&&this.kc&&(this.kc[m]=o[g]),a&&this.Lc&&(this.Lc[m]=a[g]),l&&this.Rc&&(this.Rc[m]=l[g]),h&&this.Ec&&(this.Ec[m]=h[g]),c&&this.zc&&(this.zc[m]=c[g]))}return this.D.emit("cleared"),this}clear(){return this.ac=0,this.lc=0,this.uc=0,this.cc=!1,this.D.emit("cleared"),this}getSampleCount(){return this.lc}getNextSampleIndex(){return this.uc}setMaxSampleCount(t){if("object"==typeof t){this.Nc&&this.offMaxSampleCountExceeded(this.Nc);const e=t.max;this.Nc=this.onMaxSampleCountExceeded(((t,i,s,n)=>{if(void 0!==e&&s>=e)return;let r=2*s;void 0!==e&&(r=Math.min(r,e)),this.setMaxSampleCount(r)})),void 0===this.Vc&&this.setMaxSampleCount(1e5)}else if("number"==typeof t){const e=t;if(void 0!==this.Vc&&this.Vc>e)throw new Error("LightningChart JS | DataSetXY.setMaxSampleCount attempted to shrink data set. This is currently not supported.");if(!this.Cc||!this.kc)return this.Vc=e,this;if(e===this.Vc)return this;if(this.cc&&0!==this.ac)throw new Error("LightningChart JS | DataSetXY.setMaxSampleCount attempted to expand data set that has exceeded its max sample count. This is currently not supported.");this.Vc=e,this.lc<e?(this.ac=this.lc,this.cc=!1):(this.ac=0,this.cc=!0);const i=new this.xc(this.Vc);i.set(this.Cc);const s=new this.xc(this.Vc);if(s.set(this.kc),this.Cc=i,this.kc=s,this.mc){const t=new Float32Array(this.Vc);this.Lc&&t.set(this.Lc),this.Lc=t}if(this.Sc){const t=new Uint32Array(this.Vc);this.Oc&&t.set(this.Oc),this.Oc=t}if(this.yc){const t=new Uint32Array(this.Vc);this.Rc&&t.set(this.Rc),this.Rc=t}if(this.vc){const t=new Float32Array(this.Vc);this.Ec&&t.set(this.Ec),this.Ec=t}if(this.bc){const t=new Float32Array(this.Vc);this.zc&&t.set(this.zc),this.zc=t}}return this}getMaxSampleCount(){return this.Vc}readBack(t){if(!this.Cc||!this.kc)return{xValues:new this.xc,yValues:new this.xc};const e=this.Cc.length;let i=[];if(null==t?void 0:t.onlyInRange){const e=this.Gc();if(!e)throw new Error("LightningChart JS - attempted to use `DataSetXY.readBack` with `visibleOnly: true` without a data pattern.\nThis operation is only supported for patterned data (e.g. 'ProgressiveX')");const s=Math.min(t.onlyInRange.start,t.onlyInRange.end),n=Math.max(t.onlyInRange.start,t.onlyInRange.end),r=Ad(s,n,this.Cc,this.uc,this.lc,this.ac,e,0);if(!r)return{xValues:new this.xc,yValues:new this.xc};i=r.dataRanges}else if(void 0!==this.Vc&&this.cc&&this.uc%this.Vc!=0){const t=this.ac,s=e-t,n=this.ac-1;i.push({offset:t,count:s}),i.push({offset:0,count:n+1})}else i.push({offset:0,count:this.lc});const s=i.reduce(((t,e)=>t+e.count),0),n=new this.xc(s),r=new this.xc(s),o=this.yc?new Uint32Array(s):void 0,a=this.mc?new Float32Array(s):void 0,l=this.Sc?new Uint32Array(s):void 0,h=this.vc?new Float32Array(s):void 0,c=this.bc?new Float32Array(s):void 0;let u=0;for(const d of i)n.set(this.Cc.subarray(d.offset,d.offset+d.count),u),r.set(this.kc.subarray(d.offset,d.offset+d.count),u),this.yc&&o&&this.Rc&&o.set(this.Rc.subarray(d.offset,d.offset+d.count),u),this.mc&&a&&this.Lc&&a.set(this.Lc.subarray(d.offset,d.offset+d.count),u),this.Sc&&l&&this.Oc&&l.set(this.Oc.subarray(d.offset,d.offset+d.count),u),this.vc&&h&&this.Ec&&h.set(this.Ec.subarray(d.offset,d.offset+d.count),u),this.bc&&c&&this.zc&&c.set(this.zc.subarray(d.offset,d.offset+d.count),u),u+=d.count;return{xValues:n,yValues:r,lookupValues:a,colors:o,ids:l,sizes:h,rotations:c}}onMaxSampleCountExceeded(t){return this.D.on("maxSampleCountExceeded",t)}offMaxSampleCountExceeded(t){return this.D.off(t)}Dc(t,e,i,s,n,r){if(void 0===e){const e=this.wc();n=void 0!==n?n:1,s=void 0!==s?s:e?e[i]+n:0;const r=new this.xc(t);for(let i=0;i<t;i+=1)r[i]=s+i*n;return[r,0]}return[e,r]}Ic(t){if(!t||0===t.length)return;const e=t[0];if(Xr(e)){const e=t.length,i=new Uint32Array(e);for(let s=0;s<e;s+=1){const e=t[s],n=255*e.a<<24|255*e.b<<16|255*e.g<<8|255*e.r;i[s]=n}return i}return t}Wc(){return{min:0,max:void 0!==this.Vc&&this.cc?this.Vc-1:this.lc-1}}Uc(t){t=Math.min(t,this.lc),this.uc-=t,this.lc-=t,this.ac-=t,this.ac<0&&void 0!==this.Vc&&(this.ac+=this.Vc)}Fc(t,e,i,s,n,r,o,a,l,h){var c;const u=i.length,d=i[0],f=i[u-1],p=s[u-1];if(this.Tc(h,f,p)){const t=(null===(c=this.wc())||void 0===c?void 0:c.x)||0;let e=0;for(let s=0;s<u;s+=1)if(i[s]>t){e=s;break}const h={xValues:i,yValues:s,lookupValues:n,colors:r,ids:o,sizes:a,rotations:l,offset:e};this.fc=!0,this.appendSamples(h),this.fc=!1}else{const h=t.length,c=this.lc,f=this.uc-1,p=Math.max(f-c+1,0),g=wd(d,p,f,(e=>t[Sd(e,this.uc,h,this.ac)])),m=g-1,y=g+1,v=t[Sd(g,this.uc,h,this.ac)],b=y<=this.uc-1?t[Sd(y,this.uc,h,this.ac)]:void 0,x=void 0!==b&&b<d?y+1:v<d?g+1:m+1,S=f-x+1,A=new this.xc(S),w=new this.xc(S),C=this.mc?new Float32Array(S):void 0,M=this.yc?new Uint32Array(S):void 0,k=this.Sc?new Uint32Array(S):void 0,R=this.vc?new Float32Array(S):void 0,E=this.bc?new Float32Array(S):void 0;let T=0;for(let i=x;i<=f;i+=1){const s=Sd(i,this.uc,h,this.ac);A[T]=t[s],w[T]=e[s],C&&this.Lc&&(C[T]=this.Lc[s]),M&&this.Rc&&(M[T]=this.Rc[s]),k&&this.Oc&&(k[T]=this.Oc[s]),R&&this.Ec&&(R[T]=this.Ec[s]),E&&this.zc&&(E[T]=this.zc[s]),T+=1}this.Uc(S);const I=new this.xc(u+S);I.set(i),I.set(A,u);const P=new this.xc(u+S);let F,D,L,z,N;P.set(s),P.set(w,u),n&&C&&(F=new Float32Array(u+S),F.set(n),F.set(C,u)),r&&M&&(D=new Uint32Array(u+S),D.set(r),D.set(M,u)),o&&k&&(L=new Uint32Array(u+S),L.set(o),L.set(k,u)),a&&R&&(z=new Float32Array(u+S),z.set(a),z.set(R,u)),l&&E&&(N=new Float32Array(u+S),N.set(l),N.set(E,u)),this.fc=!0,this.appendSamples({xValues:I,yValues:P,lookupValues:F,colors:D,ids:L,sizes:z,rotations:N}),this.fc=!1,this.D.emit("cleared")}}Gc(){return this.Bc()}Bc(){let t;if(this.gc&&"userSpecified"in this.gc)t=this.gc.userSpecified;else if(this.gc&&"autoDetectResult"in this.gc)t=this.gc.autoDetectResult;else if(this.Cc&&this.kc&&this.uc>0){const e=void 0!==this.Vc&&this.cc?this.ac:0,i=this.lc-1,s=void 0!==this.Vc&&this.cc?0:void 0,n=void 0!==this.Vc&&this.cc?this.ac-1:void 0,[r,o]=void 0!==s&&void 0!==n&&Math.abs(n-s)>Math.abs(i-e)?[s,n]:[e,i];if(1+o-r>=2){let e,i,s=this.Cc[r],n=this.kc[r];for(let t=r+1;t<=o;t+=1){if(!1!==e){const i=this.Cc[t],n=Math.sign(i-s);0!==n&&e&&e.direction!==n?e=!1:0===n||e||(e={direction:n}),s=i}if(!1!==i){const e=this.kc[t],s=Math.sign(e-n);0!==s&&i&&i.direction!==s?i=!1:0===s||i||(i={direction:s}),n=e}}t=e&&e.direction>0?Zc:e&&e.direction<0?$c:i&&i.direction>0?Qc:i&&i.direction<0?tu:void 0,this.gc={autoDetectResult:t},t&&Ho.console.warn("LightningChart JS DataSetXY warning | Data pattern was detected automatically (DataPatterns.".concat(t,").\nAutomatic detection is only intended for kick-starting application development, not for production use.\nAdd { dataPattern: '").concat(t,"'} } to your application when creating series or DataSetXY to get clear this warning."))}}if(t&&"ProgressiveX"!==t)throw new Error("LightningChart JS New XY rework beta features do not yet support other data patterns than ProgressiveX. This will be introduced in near future.");return t}Tc(t,e,i){const s=this.wc();return!s||("ProgressiveX"===t?e>s.x:"RegressiveX"===t?e<s.x:"ProgressiveY"===t?i>s.y:"RegressiveY"!==t||i<s.y)}_c(t){if(t.incomingDataX&&t.incomingDataY&&0===this.lc&&!this.Cc&&!this.kc&&(void 0===this.Vc||this.Vc===t.appendCount)&&this.Mc)return this.Cc=Md(t.incomingDataX,this.xc)||new this.xc,this.kc=Md(t.incomingDataY,this.xc)||new this.xc,this.Lc=this.mc?Md(t.incomingDataLookup,Float32Array):void 0,this.Oc=this.Sc?Md(t.incomingDataIDs,Uint32Array):void 0,this.Rc=this.yc?Md(t.incomingDataColors,Uint32Array):void 0,this.Ec=this.vc?Md(t.incomingDataSize,Float32Array):void 0,this.zc=this.bc?Md(t.incomingDataRotation,Float32Array):void 0,{dataPattern:this.Bc(),samplesCacheX:this.Cc,samplesCacheY:this.kc,samplesCacheLookup:this.Lc,samplesCacheIDs:this.Oc,samplesCacheColors:this.Rc,samplesCacheSize:this.Ec,samplesCacheRotation:this.zc,maxSampleCount:t.appendCount,incomingDataReplacedCache:!0};if(void 0===this.Vc){const e=this.lc+t.appendCount;if(!this.Cc||!this.kc)return this.Cc=new this.xc(e),this.kc=new this.xc(e),this.Lc=this.mc?new Float32Array(e):void 0,this.Oc=this.Sc?new Uint32Array(e):void 0,this.Rc=this.yc?new Uint32Array(e):void 0,this.Ec=this.vc?new Float32Array(e):void 0,this.zc=this.bc?new Float32Array(e):void 0,{dataPattern:this.Bc(),samplesCacheX:this.Cc,samplesCacheY:this.kc,samplesCacheLookup:this.Lc,samplesCacheIDs:this.Oc,samplesCacheColors:this.Rc,samplesCacheSize:this.Ec,samplesCacheRotation:this.zc,maxSampleCount:e};const i=this.Cc.length;if(i<e){if(!this.Ac.warningDisplayed){const i=Ho.performance.now();if(this.Ac.expandEvents=this.Ac.expandEvents.filter((t=>i-t.timestamp<5e3)),e>1e3&&this.Ac.expandEvents.push({timestamp:i}),this.Ac.expandEvents.length>5)return Ho.console.warn("LightningChart JS warning - DataSetXY append operation was performed more than 5 times in 5 seconds.\nAutomatic max sample count control was enabled.\nFor streaming applications, DataSetXY.setMaxSampleCount() or Series.setMaxSampleCount() should be configured explicitly to get rid of this warning."),this.Ac.warningDisplayed=!0,this.setMaxSampleCount({mode:"auto"}),this._c(t)}const i=new this.xc(e);i.set(this.Cc),this.Cc=i;const s=new this.xc(e);if(s.set(this.kc),this.kc=s,this.mc){const t=new Float32Array(e);this.Lc&&t.set(this.Lc),this.Lc=t}if(this.Sc){const t=new Uint32Array(e);this.Oc&&t.set(this.Oc),this.Oc=t}if(this.yc){const t=new Uint32Array(e);this.Rc&&t.set(this.Rc),this.Rc=t}if(this.vc){const t=new Float32Array(e);this.Ec&&t.set(this.Ec),this.Ec=t}if(this.bc){const t=new Float32Array(e);this.zc&&t.set(this.zc),this.zc=t}return this.ac=this.lc,{dataPattern:this.Bc(),samplesCacheX:this.Cc,samplesCacheY:this.kc,samplesCacheLookup:this.Lc,samplesCacheIDs:this.Oc,samplesCacheColors:this.Rc,samplesCacheSize:this.Ec,samplesCacheRotation:this.zc,maxSampleCount:e}}if(i>4*e){const t=new this.xc(e);t.set(this.Cc.subarray(0,this.lc)),this.Cc=t;const i=new this.xc(e);if(i.set(this.kc.subarray(0,this.lc)),this.kc=i,this.mc){const t=new Float32Array(e);this.Lc&&t.set(this.Lc.subarray(0,this.lc)),this.Lc=t}if(this.Sc){const t=new Uint32Array(e);this.Oc&&t.set(this.Oc.subarray(0,this.lc)),this.Oc=t}if(this.yc){const t=new Uint32Array(e);this.Rc&&t.set(this.Rc.subarray(0,this.lc)),this.Rc=t}if(this.vc){const t=new Float32Array(e);this.Ec&&t.set(this.Ec.subarray(0,this.lc)),this.Ec=t}if(this.bc){const t=new Float32Array(e);this.zc&&t.set(this.zc.subarray(0,this.lc)),this.zc=t}return{dataPattern:this.Bc(),samplesCacheX:this.Cc,samplesCacheY:this.kc,samplesCacheLookup:this.Lc,samplesCacheIDs:this.Oc,samplesCacheColors:this.Rc,samplesCacheSize:this.Ec,samplesCacheRotation:this.zc,maxSampleCount:e}}return{dataPattern:this.Bc(),samplesCacheX:this.Cc,samplesCacheY:this.kc,samplesCacheLookup:this.Lc,samplesCacheIDs:this.Oc,samplesCacheColors:this.Rc,samplesCacheSize:this.Ec,samplesCacheRotation:this.zc,maxSampleCount:i}}return t.appendCount+this.lc>this.Vc&&this.D.emit("maxSampleCountExceeded",this,this.lc,this.Vc,this.lc+t.appendCount),this.Cc=this.Cc||new this.xc(this.Vc),this.kc=this.kc||new this.xc(this.Vc),this.Lc=this.Lc||(this.mc?new Float32Array(this.Vc):void 0),this.Oc=this.Oc||(this.Sc?new Uint32Array(this.Vc):void 0),this.Rc=this.Rc||(this.yc?new Uint32Array(this.Vc):void 0),this.Ec=this.Ec||(this.vc?new Float32Array(this.Vc):void 0),this.zc=this.zc||(this.bc?new Float32Array(this.Vc):void 0),{dataPattern:this.Bc(),samplesCacheX:this.Cc,samplesCacheY:this.kc,samplesCacheLookup:this.Lc,samplesCacheIDs:this.Oc,samplesCacheColors:this.Rc,samplesCacheSize:this.Ec,samplesCacheRotation:this.zc,maxSampleCount:this.Vc}}Yc(){if(!this.Cc||!this.kc||0===this.lc)return;if(void 0===this.Vc)return this.uc>0?{x:this.Cc[0],y:this.kc[0]}:void 0;if(!this.cc)return{x:this.Cc[0],y:this.kc[0]};let t=this.ac-this.lc;return t<0&&(t+=this.Vc),{x:this.Cc[t],y:this.kc[t]}}wc(){if(!this.Cc||!this.kc||0===this.lc)return;if(void 0===this.Vc){const t=this.lc-1;return t>=0?{x:this.Cc[t],y:this.kc[t]}:void 0}let t=this.ac-1;return t<0&&(t+=this.Vc),{x:this.Cc[t],y:this.kc[t]}}Hc(t,e,i,s){const n=this.Bc(),r=this.Cc,o=this.kc;if(!r||!o)return;const a=t=>({x:r[t],y:o[t],lookupValue:this.mc&&this.Lc?this.Lc[t]:void 0,id:this.Sc&&this.Oc?this.Oc[t]:void 0,color:this.yc&&this.Rc?this.Rc[t]:void 0,size:this.vc&&this.Ec?this.Ec[t]:void 0,rotation:this.bc&&this.zc?this.zc[t]:void 0}),l=r.length,h=this.lc,c=this.uc-1,u=Math.max(c-h+1,0);if(n){const i=this.Yc(),s=this.wc();if(!(i&&s&&this.Cc&&this.kc))return;const r="ProgressiveX"===n||"RegressiveX"===n?"x":"y",o="x"===r?"y":"x",h="x"===r?this.Cc:this.kc,d="x"===o?this.Cc:this.kc,f=t[r],p=Math.min(i[r],s[r]),g=Math.max(i[r],s[r]);if(f<p||f>g)return;const m=wd(f,u,c,(t=>h[Sd(t,this.uc,l,this.ac)])),y=Sd(m,this.uc,l,this.ac);if(!e)return a(y);const v=m-1,b=m+1,x=f>=h[y]&&("ProgressiveX"===n||"ProgressiveY"===n)?b<=c?Sd(b,this.uc,l,this.ac):void 0:v>=u?Sd(v,this.uc,l,this.ac):void 0;if(void 0===x)return;const S=h[y],A=d[y],w=h[x],C=d[x],M=Math.min(S,w),k=M===S?A:C,R=Math.max(S,w),E=td(k,R===S?A:C,(f-M)/(R-M));return"ProgressiveX"===n||"RegressiveX"===n?{x:f,y:E}:{x:E,y:f}}let d,f=Number.MAX_VALUE;const p=Lo(t,i,s),g=this.lc-1;for(let m=0;m<=g;m+=1){const t=r[m],e=o[m];if(!Number.isNaN(t)&&!Number.isNaN(e)){const n=Do(t,i.x,s.x),r=Do(e,i.y,s.y),o=(n-p.x)**2+(r-p.y)**2;o<f&&(f=o,d=m)}}return void 0===d?void 0:a(d)}Pc(t,e){this.D.emit("changed",t,e)}Ut(t){return this.D.off(t)}$c(t){return this.D.on("changed",t)}Xc(t){return this.D.on("cleared",t)}}const Sd=(t,e,i,s)=>t%i,Ad=(t,e,i,s,n,r,o,a)=>{if(0===s||0===n)return;const l=i.length,h=s-1,c=Math.max(h-n+1,0),u=wd(t,c,h,(t=>i[Sd(t,s,l)])),d=wd(e,c,h,(t=>i[Sd(t,s,l)])),f=Math.max(u-a,c),p=Math.min(d+a,h),g=Sd(f,s,l),m=Sd(p,s,l);return g>m?{iFirstSample:f,iLastSample:p,iFirstSampleDataArray:g,iLastSampleDataArray:m,dataRanges:[{offset:g,count:l-g},{offset:0,count:m+1}]}:{iFirstSample:f,iLastSample:p,iFirstSampleDataArray:g,iLastSampleDataArray:m,dataRanges:[{offset:g,count:m-g+1}]}},wd=(t,e,i,s)=>{const n=i;for(;e!==i;){const n=Math.ceil((e+i)/2);t<s(n)?i=n-1:e=n}const r=Math.abs(t-s(e));return e<n&&Math.abs(t-s(e+1))<r?e+1:e},Cd=(t,e,i,s,n)=>{const r=e.length;if(Array.isArray(e))for(let o=0;o<s;o+=1)t[n+o]=e[i+o];else t.set(r===s?e:e.subarray(i,i+s),n)},Md=(t,e)=>void 0===t?void 0:Array.isArray(t)?new e(t):t instanceof e?t:new e(t),kd=(t,e,i)=>{if(void 0!==t)return Array.isArray(t)?t.slice(e,i):t.subarray(e,i)};class Rd extends Zu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.la="label",this.Na=this.ks.Pr(this.renderingScale).Rh(this.la).Ce(ro).Fr(Ja).Ir(Ja),this.setMargin(5),this.xu(this.Na)}Fu(){return[this.Na]}setFillStyle(t){return this.Na.Ce(t),this.ks.Ss(),this}getFillStyle(){return this.Na.Eh()}Te(){const t=this.getPosition(Lr(0,0),Vo.Content),e=Lo(t,this.scale,this.renderingScale);return this.Na.Fe(e),this}Ps(){this.Na.Ps();const t=0===this.la.length?Lr(0,0):this.Na.jc();return this.setContentSize(t),super.Ps()}setText(t){return this.la=t,this.Na.Rh(this.la),this.ks.Ss(),this}getText(){return this.la}setFont(t){return this.Na.Oh(t),this.ks.Ss(),this}getFont(){return this.Na.Vh()}setTextRotation(t){return this.Na.Nh(t),this.ks.Ss(),this}getTextRotation(){return this.Na.Gh()}}const Ed={...Yu,...qu,uiElement:Rd};class Td extends Qu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.Zc=!1,this.fitTo=this.Bu.bind(this),this.setSize=this.fitTo,this.Na=this.ks.ic(e).Ce(ro).we(Eo),this.xu(this.Na)}Fu(){return[this.Na]}setFillStyle(t){return this.Na.Ce(t),this.ks.Ss(),this}getFillStyle(){return this.Na.Eh()}setStrokeStyle(t){return this.Na.we(t),this.ks.Ss(),this}getStrokeStyle(){return this.Na.ao()}Te(){const t=gl([this.getPosition(Lr(-1,-1),Vo.Content),this.getPosition(Lr(1,1),Vo.Content)].map((t=>Lo(t,this.scale,this.renderingScale))));return this.Zc?this.Na.pl([{x:(t.min.x+t.max.x)/2,y:t.min.y},{x:t.min.x,y:(t.min.y+t.max.y)/2},{x:(t.min.x+t.max.x)/2,y:t.max.y},{x:t.max.x,y:(t.min.y+t.max.y)/2}]):this.Na.pl([t.min,{x:t.min.x,y:t.max.y},t.max,{x:t.max.x,y:t.min.y}]),this}Bu(t){return this.setContentSize(t),this.ks.Ss(),this}Lu(){return 0}Ru(){return 0}zu(){return 0}Eu(){return 0}}class Id extends $u{constructor(t,e,i,s,n){super(t,e,i,Eu.Simple,s,n),this.td=Ur(Lr(0,0)),this.sd=Ur(10),this.ed=Ur(void 0),this.Uu=Ur(Uo.Right),this.sc()}Fu(){return[this.Na]}setFillStyle(t){return this.Na.Ce(t),this.ks.Ss(),this}getFillStyle(){return this.Na.Eh()}setStrokeStyle(t){return this.Na.we(t),this.ks.Ss(),this}getStrokeStyle(){return this.Na.ao()}setDirection(t){return this.Uu.S(t),this.ks.Ss(),this}getDirection(){return this.Uu.M()}setPointerLength(t){return this.sd.S(t),this.ks.Ss(),this}getPointerLength(){return this.sd.M()}setPointerAngle(t){return this.ed.S(t),this.ks.Ss(),this}getPointerAngle(){let t=this.ed.M();if(void 0===t){const e=this.hd();if(0===e)return 0;t=0!==e?180*Math.atan(2*this.getPointerLength()/e)/Math.PI:0}return Math.min(Math.max(t,1),89)}Bu(t){return this.td.S(t),this.ks.Ss(),this}rd(){const t=this.getPointerAngle();return 0===t?0:2*this.getPointerLength()/Math.tan(t*Math.PI/180)}nd(){return pa(this.Uu.M())?this.td.M().x:this.td.M().y}hd(){return pa(this.Uu.M())?this.td.M().y:this.td.M().x}Lu(){switch(this.Uu.M()){case Uo.Right:return 0;case Uo.Left:return this.getPointerLength();case Uo.Up:case Uo.Down:return Math.max(0,this.rd()-this.hd());default:return 0}}Ru(){switch(this.Uu.M()){case Uo.Right:return this.getPointerLength();case Uo.Left:return 0;case Uo.Up:case Uo.Down:return Math.max(0,this.rd()-this.hd());default:return 0}}zu(){switch(this.Uu.M()){case Uo.Right:case Uo.Left:return Math.max(0,this.rd()-this.hd());case Uo.Up:return this.getPointerLength();case Uo.Down:default:return 0}}Eu(){switch(this.Uu.M()){case Uo.Right:case Uo.Left:return Math.max(0,this.rd()-this.hd());case Uo.Up:return 0;case Uo.Down:return this.getPointerLength();default:return 0}}hc(){const t=fa(this.Uu.M()),e=wl(Lr(0,0),t),i=this.getPointerLength(),s=this.rd(),n=this.nd(),r=this.hd();if(!(0!==i&&0!==s||0!==n&&0!==r))return[];const o=Lr(0,0),a=kl(kl(o,Ml(t,-i)),Ml(e,s/2)),l=kl(a,Ml(e,(r-s)/2)),h=kl(l,Ml(t,-n)),c=kl(kl(o,Ml(t,-i)),Ml(e,-s/2)),u=kl(c,Ml(e,-(r-s)/2)),d=kl(u,Ml(t,-n));let f;return f=0===n||0===r?[o,a,c]:0===i||0===s?[l,h,d,u]:qo(r,s)?[o,a,h,d,c]:[o,a,l,h,d,u,c],f}}class Pd extends Zu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.fitTo=this.Bu.bind(this),this.setSize=this.fitTo,this.od=new xd,this.Na=this.ks.dd(e).Re(Eo).ud(ro).ld(ro).ad(this.od),this.xu(this.Na)}Fu(){return[this.Na]}setShape(t){return this.Na.fd(t),this}getShape(){return this.Na.Ad()}setRotation(t){return this.Na.gd(t),this}getRotation(){return this.Na.md()}setFillStyle(t){return this.Na.ld(t),this.ks.Ss(),this}getFillStyle(){return this.Na.yd()}Te(){const t=Lo(this.getPosition({x:0,y:0},Vo.Content),this.scale,this.renderingScale),e=Math.max(this.size.x,this.size.y);if(this.od.clear(),e>0){const i=this.Na.Ad(),s=this.Na.yd(),n=yd(i)&&i,r=cd(s)&&s;if(n){const t=e/n.oi().y;this.Na.pd(t)}else if(r){const t=r.source;if(t instanceof Image){const i=e/t.height;this.Na.pd(i)}}else this.Na.pd(e);this.od.appendSample(t)}return this}Bu(t){return this.setContentSize(t),this.ks.Ss(),this}Lu(){return 0}Ru(){return 0}zu(){return 0}Eu(){return 0}}const Fd={...Yu,...qu,uiElement:Pd};class Dd extends Ku{setSize(t){return this.setContentSize(t),this.ks.Ss(),this}}class Ld extends Bu{constructor(){super(...arguments),this.Sd=[],this.vd=0,this.bd=t=>{const e=this.Sd.indexOf(t);e>=0&&this.Sd.splice(e,1)}}getMembers(){return this.Sd}getMemberCount(){return this.Sd.length}setMinimumSize(t){return this.xd=t,this.ks.Ss(),this}getMinimumSize(){return this.xd}addElement(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const i=t.Zu(this.ks,this.renderingScale,this.scale,this.bd,this.qi,!1);return i.setMouseInteractions(this.getMouseInteractions()),e>=0?this.Sd.splice(e,0,i):this.Sd.push(i),i.setVisible(this.getVisible()),this.xu(i),this.$i&&(za(0,(()=>{})),i.dispose()),i}dispose(){return super.dispose(),this.Sd.slice().forEach(Yo),this}setVisible(t){return super.setVisible(t),this.Sd.forEach((e=>e.setVisible(t))),this}setMouseInteractions(t){super.setMouseInteractions(t);for(let e=0;e<this.Sd.length;e+=1)this.Sd[e].setMouseInteractions(t);return this}getMouseInteractions(){if(super.getMouseInteractions())return!0;for(let t=0;t<this.Sd.length;t+=1)if(this.Sd[t].getMouseInteractions())return!0;return!1}setHighlight(t){super.setHighlight(t);for(let i=0;i<this.Sd.length;i+=1){const s=this.Sd[i];"getHighlight"in(e=s)&&"setHighlight"in e&&s.setHighlight(t)}var e;return this}}class zd extends Ld{Te(){super.Te();const t=this.getPosition(Lr(-1,1),Vo.Content),e=this.Sd.reduce(((t,e)=>t+ +(e instanceof Dd)),0),i=e>0?(this.size.x-this.vd)/e:0;return this.Sd.reduce(((e,s)=>s instanceof Dd?this.scale.mi({x:e,y:t.y},{x:i+s.getSize().x,y:0}).x:s.setOrigin(Lr(-1,1)).setPosition(Lr(e,t.y)).Te().getPosition(Lr(1,0)).x),t.x),this}Ps(){for(let i=0;i<this.Sd.length;i+=1){const t=this.Sd[i];t instanceof Nd&&t.setMinimumSize(0),t.Ps()}const t=this.Sd.reduce(this.Md.bind(this),zr(0,0));this.vd=t.x;const e=void 0===this.xd?t:Lr(Math.max(t.x,this.xd),t.y);this.setContentSize(e);for(let i=0;i<this.Sd.length;i+=1){const t=this.Sd[i];t instanceof Nd&&t.setMinimumSize(e.y).Ps()}return super.Ps()}Md(t,e){const i=e.getSize();return t.x+=i.x,t.y=Math.max(t.y,i.y),t}addGap(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.addElement(_d,e).setSize(Lr(0,t))}}class Nd extends Ld{Te(){super.Te();const t=this.getPosition(Lr(-1,1),Vo.Content),e=this.Sd.reduce(((t,e)=>t+ +(e instanceof Dd)),0),i=e>0?(this.size.y-this.vd)/e:0;return this.Sd.reduce(((e,s)=>s instanceof Dd?this.scale.mi({x:t.x,y:e},{x:0,y:-(i+s.getSize().y)}).y:s.setOrigin(Lr(-1,1)).setPosition(Lr(t.x,e)).Te().getPosition(Lr(0,-1)).y),t.y),this}Ps(){for(let i=0;i<this.Sd.length;i+=1){const t=this.Sd[i];t instanceof zd&&t.setMinimumSize(0),t.Ps()}const t=this.Sd.reduce(this.Md.bind(this),zr(0,0));this.vd=t.y;const e=void 0===this.xd?t:Lr(t.x,Math.max(t.y,this.xd));this.setContentSize(e);for(let i=0;i<this.Sd.length;i+=1){const t=this.Sd[i];t instanceof zd&&t.setMinimumSize(e.x).Ps()}return super.Ps()}Md(t,e){const i=e.getSize();return t.y+=i.y,t.x=Math.max(t.x,i.x),t}addGap(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;return this.addElement(_d,e).setSize(Lr(0,t))}}const _d={...Yu,...qu,uiElement:Dd};class Vd extends Nd{constructor(){super(...arguments),this.Sd=[]}addRow(){return this.addElement(Ud,void 0)}getRow(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&this.Sd.length<=t?(this.addRow(),this.getRow(t,!0)):this.Sd[t]}}const Bd={...Yu,...Xu,...Ju},Od={...Bd,uiElement:Nd,background:Td},Ud={...Bd,uiElement:zd,background:Td},Hd={setTextLabel:null,setText(t){return this.setTextLabel.setText(t),this},getText(){return this.setTextLabel.getText()}},Gd=(t,e)=>{const i={},s="stylable".concat(t,"s");return i[s]=e,i["set".concat(t,"FillStyle")]=function(t){return this[s].forEach((e=>e.setFillStyle(t))),this},i["get".concat(t,"FillStyle")]=function(){return this[s][0].getFillStyle()},i["set".concat(t,"Font")]=function(t){return this[s].forEach((e=>e.setFont(t))),this},i["get".concat(t,"Font")]=function(){return this[s][0].getFont()},i["set".concat(t,"Rotation")]=function(t){return this[s].forEach((e=>e.setTextRotation(t))),this},i["get".concat(t,"Rotation")]=function(){return this[s][0].getTextRotation()},i},Wd=Gd("Text",[]),jd={button:void 0,isLocked:!1,setOn(t){const e=this.button.getOn()!==t;return this.button.setOn(t),e&&this.D.emit("switch",t),this},getOn(){return this.button.getOn()},setLocked(t){return this.isLocked=t,this},getLocked(){return this.isLocked},onSwitch(t){return this.D.on("switch",(e=>t(this,e)))},offSwitch(t){return this.D.off(t,"switch")},setButtonOffFillStyle(t){return this.button.setOffFillStyle(t),this},getButtonOffFillStyle(){return this.button.getOffFillStyle()},setButtonOnFillStyle(t){return this.button.setOnFillStyle(t),this},getButtonOnFillStyle(){return this.button.getOnFillStyle()},setButtonSize(t){return this.button.setSize(t),this},getButtonSize(){return this.button.getSize()},setButtonShape(t){return this.button.setButtonShape(t),this},getButtonShape(){return this.button.getButtonShape()}},Yd={textFillStyleHidden:void 0,setTextFillStyleHidden(t){return this.textFillStyleHidden="function"==typeof t?t(this.textFillStyleHidden):t,this},getTextFillStyleHidden(){return this.textFillStyleHidden}},Xd={pointable:void 0,setDirection(t){return this.pointable.setDirection(t),this},getDirection(){return this.pointable.getDirection()},setPointerLength(t){return this.pointable.setPointerLength(t),this},getPointerLength(){return this.pointable.getPointerLength()}},qd={...Yu,...Xu,background:Td,Zu(t,e,i,s,n,r){const o=new zd(t,e,i,this.background,s,n),a=o.addElement(Ed,void 0),l=Object.assign(o,Hd,{setTextLabel:a},Wd,{stylableTexts:[a]});return ju(l,n,r),this.applyStylers(l,n)}}.addStyler(Gu),Jd={...Yu,...Xu,background:Id,Zu(t,e,i,s,n,r){const o=new zd(t,e,i,this.background,s,n),a=o.addElement(Ed,void 0),l=o.getBackground(),h=Object.assign(o,Hd,{setTextLabel:a},Wd,{stylableTexts:[a]},Xd,{pointable:l},{setTickLabelPadding(t){return this.getDirection()===Uo.Up?(this.setPadding({top:t}),a.setMargin({top:0})):this.getDirection()===Uo.Down?(this.setPadding({bottom:t}),a.setMargin({bottom:0})):this.getDirection()===Uo.Right?(this.setPadding({right:t}),a.setMargin({right:0})):this.getDirection()===Uo.Left&&(this.setPadding({left:t}),a.setMargin({left:0})),this},getTickLabelPadding(){return this.getDirection()===Uo.Up?this.getPadding().top:this.getDirection()===Uo.Down?this.getPadding().bottom:this.getDirection()===Uo.Right?this.getPadding().right:this.getPadding().left}});return h.Qu="other",h.setPointerLength(n.xAxisNumericTicks.majorTickStyle.getTickLength()).setTickLabelPadding(n.xAxisNumericTicks.majorTickStyle.getTickPadding()).setTextFont(n.uiTextFont).setTextFillStyle(n.uiTextFillStyle).setBackground((t=>t.setFillStyle(n.uiBackgroundFillStyle).setStrokeStyle(n.uiBackgroundStrokeStyle))),ju(h,n,r),this.applyStylers(h,n)}};const Kd={...Yu,uiElement:class extends Vu{constructor(t,e,i,s,n,r){super(t,e,i,n,r),this.Ds=!1,this.D=new Ir,this._d=ro,this.wd=ro,this.getOn=()=>this.Ds,this.Cd=this.xu(new Pd(this.ks,this.renderingScale,this.scale,Xo,r).setShape(s)),this.wd=r.uiButtonFillStyleHidden||r.uiButtonFillStyle}Fu(){return[...this.Cd.Fu()]}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}setOn(t){return this.Ds=t,this.Cd.setFillStyle(t?this._d:this.wd),this.ks.Ss(),this}setOffFillStyle(t){return this.wd="function"==typeof t?t(this.wd):t,this.Ds||this.Cd.setFillStyle(this.wd),this}getOffFillStyle(){return this.wd}setSize(t){return this.Cd.fitTo("number"==typeof t?Lr(t,t):t),this}getSize(){return this.Cd.getSize()}setOnFillStyle(t){return this._d="function"==typeof t?t(this._d):t,this.Ds&&this.Cd.setFillStyle(this._d),this}getOnFillStyle(){return this._d}setButtonShape(t){return this.Cd.setShape(t),this.ks.Ss(),this}getButtonShape(){return this.Cd.getShape()}Te(){return super.Te(),this.Cd.setVisible(this.getVisible()).setPosition(this.getPosition(Lr(0,0),Vo.Content)).Te(),this}Ps(){const t=this.Cd.Ps().getSize();return this.setContentSize(t),super.Ps()}dispose(){return super.dispose(),this.Cd.dispose(),this}setMouseInteractions(t){return this.Cd.setMouseInteractions(t),this}getMouseInteractions(){return this.Cd.getMouseInteractions()}setHighlight(t){const e=Oa(t);return this.Cd.setHighlight(e),this.D.emit("highlight",this,t),this.ks.Ss(),this}getHighlight(){return this.Cd.getHighlight()}},buttonShape:Kc.Circle,setButtonShape(t){return{...this,buttonShape:t}},Zu(t,e,i,s,n,r){const o=this.applyStylers(new this.uiElement(t,e,i,this.buttonShape,s,n),n);return ju(o,n,r),o}},Zd={...Yu,...Xu,background:Td,buttonBuilder:Kd,setButtonShape(t){return{...this,buttonBuilder:this.buttonBuilder.setButtonShape(t)}},Zu(t,e,i,s,n,r){const o=new zd(t,e,i,this.background,s,n),a=o.addElement(Od);a.addGap();const l=a.addElement(this.buttonBuilder);a.addGap();const h=o.addElement(Od);h.addGap();const c=h.addElement(Ed);h.addGap(),o.addGap();const u=Object.assign(o,Hd,{setTextLabel:c},Wd,{stylableTexts:[c]},jd,{button:l},Yd);let d;return u.onMouseClick(((t,e)=>{u.getLocked()||u.setOn(!u.getOn())})),u.onMouseEnter((()=>u.setHighlight(!0))),u.onMouseLeave((()=>u.setHighlight(!1))),u.setMouseStyle(jh.Point),u.setTextFillStyleHidden(n.uiTextFillStyleHidden||n.uiTextFillStyle),u.onSwitch(((t,e)=>{e?d&&u.setTextFillStyle(d):(d=u.getTextFillStyle(),u.setTextFillStyle(u.getTextFillStyleHidden()))})),u.setPadding({left:5}),ju(u,n,r),this.applyStylers(u,n)}}.addStyler(Gu).addStyler(Wu);class Qd extends Vu{constructor(t,e,i,s,n,r){super(t,e,i,s,n),this.kd=[],this.Td=2,this.Fd="",this.Id=(t,e)=>void 0!==t.label?t.label:e.percentageValues?"".concat((100*t.value).toFixed(0),"%"):Jl(t.value,e.min,e.max),this.Pd=0,this.Dd=0,this.Bd=!1,this.ks=t,this.Ld=r,this.Rd=this.xu(t.ke(e).we(Eo)),this.Ed=this.xu(t.Pr(e).Ce(n.uiTextFillStyle).Oh(n.uiTextFont).setMouseInteractions(!1)),"vertical"===r?(this.zd=140,this.Vd=25):(this.zd=160,this.Vd=15)}Fu(){return[this.Rd,this.Ed]}Od(t){this.Nd=t;const e=ef(t,"vertical"===this.Ld?0:90,this.Bd);return this.Rd.Ce(e),this.ks.Ss(),this}Gd(){return this.Nd}Wd(t){return this.zd=t,this.ks.Ss(),this}Ud(){return this.zd}Yd(t){return this.Vd=t,this.ks.Ss(),this}Hd(){return this.Vd}$d(t){return this.Fd=t,this.ks.Ss(),this}Xd(){return this.Fd}jd(t){return this.Id=t,this.ks.Ss(),this}setLUTDisplayProportionalSteps(t){if(this.Bd=t,this.Nd){const t=ef(this.Nd,"vertical"===this.Ld?0:90,this.Bd);this.Rd.Ce(t)}return this.ks.Ss(),this}getLUTDisplayProportionalSteps(){return this.Bd}setFillStyle(t){return this.Ed.Ce(t),this.ks.Ss(),this}getFillStyle(){return this.Ed.Eh()}setFont(t){return this.Ed.Oh(t),this.ks.Ss(),this}getFont(){return this.Ed.Vh()}setTextRotation(t){return this.Dd=t,this.Ed.Nh(t),this.ks.Ss(),this}getTextRotation(){return this.Ed.Gh()}Te(){var t,e,i,s;if(super.Te(),this.$i||!this.getVisible())return this;const n=this.Nd;if(n){const r=this.renderingScale.Wi(),o=n.min,a=n.max;if("vertical"===this.Ld){const i=this.getPosition({x:-1,y:-1},Vo.Content),s=kl(i,{x:this.Rd.oi().x+this.Td*r.x,y:0}),l={x:s.x,y:s.y+(this.Fd.length>0?this.Pd*r.y+this.Ed.oi().y:0)+.5*((null===(t=this.kd[0])||void 0===t?void 0:t.oi().y)||0)},h={x:l.x,y:this.getPosition({x:-1,y:1},Vo.Content).y-.5*((null===(e=this.kd[this.kd.length-1])||void 0===e?void 0:e.oi().y)||0)};this.Rd.Fe({x:i.x,y:l.y}),this.Ed.Ea({x:-1,y:-1}).Fe(s),n.getSteps().forEach(((t,e)=>{const i=fl(l,h,this.Bd?!0===n.getInterpolation()?(t.value-o)/(a-o):.9*(t.value-o)/(a-o):!0===n.getInterpolation()?e/(n.getSteps().length-1):e/n.getSteps().length);this.kd[e].Ea({x:-1,y:0}).Fe(i)}))}else{const t=this.getPosition({x:-1,y:-1},Vo.Content),e=this.getPosition({x:1,y:1},Vo.Content),l=this.kd.reduce(((t,e)=>Math.max(t,e.oi().y)),0),h=kl(t,{x:.5*((null===(i=this.kd[0])||void 0===i?void 0:i.oi().x)||0),y:l}),c={x:e.x,y:h.y},u={x:c.x-(.5*((null===(s=this.kd[this.kd.length-1])||void 0===s?void 0:s.oi().x)||0)+(this.Fd.length>0?this.Pd*r.x+this.Ed.oi().x:0)),y:h.y},d={x:h.x,y:h.y+this.Td*r.y};this.Rd.Fe(d),this.Ed.Ea({x:1,y:1}).Fe(c),n.getSteps().forEach(((t,e)=>{const i=fl(h,u,this.Bd?!0===n.getInterpolation()?(t.value-o)/(a-o):.9*(t.value-o)/(a-o):!0===n.getInterpolation()?e/(n.getSteps().length-1):e/n.getSteps().length);this.kd[e].Ea({x:0,y:1}).Fe(i)}))}}return this}Ps(){if(this.Nd&&this.getVisible()){const t=this.Nd.getSteps();for(let e=this.kd.length;e<t.length;e+=1)this.kd.push(this.xu(this.ks.Pr(this.renderingScale).setMouseInteractions(!1)));for(let e=0;e<t.length;e+=1)this.kd[e].Ce(this.Ed.Eh()).Oh(this.Ed.Vh()).Rh(this.Id(t[e],this.Nd)).Nh(this.Dd);for(let e=t.length;e<this.kd.length;e+=1)this.kd[e].dispose();if(this.kd.length=t.length,this.Ed.Rh(this.Fd),"vertical"===this.Ld){const t=this.Vd,e=this.zd;this.Rd.q({x:t*this.renderingScale.x.getPixelSize(),y:e*this.renderingScale.y.getPixelSize()});const i=t+Math.max(this.kd.reduce(((t,e)=>Math.max(t,e.Ps().jc().x)),0),this.Ed.Ps().jc().x),s=(this.Fd.length>0?this.Pd+this.Ed.Ps().jc().y:0)+e+.5*this.kd[0].Ps().jc().y+.5*this.kd[this.kd.length-1].Ps().jc().y;this.setContentSize({x:i,y:s})}else{const t=this.zd,e=this.Vd;this.Rd.q({x:t*this.renderingScale.x.getPixelSize(),y:e*this.renderingScale.y.getPixelSize()});const i=Math.max(this.Fd.length>0?this.Pd+this.Ed.Ps().jc().x:0,.5*this.kd[this.kd.length-1].Ps().jc().x),s=t+.5*this.kd[0].Ps().jc().x+i,n=e+this.Td+this.kd.reduce(((t,e)=>Math.max(t,e.Ps().jc().y)),0);this.setContentSize({x:s,y:n})}}else this.kd.forEach((t=>t.dispose())),this.kd.length=0,this.Ed.setVisible(!1),this.Rd.setVisible(!1),this.setContentSize({x:0,y:0});return super.Ps()}dispose(){return super.dispose(),this.Rd.dispose(),this.kd.forEach(Yo),this.Ed.dispose(),this}setMouseInteractions(t){return this.Rd.setMouseInteractions(t),this}getMouseInteractions(){return this.Rd.getMouseInteractions()}}const $d={lutElement:{},setLUT(t){return this.lutElement.Od(t),this},getLUT(){return this.lutElement.Gd()},setLUTLength(t){return this.lutElement.Wd(t),this},getLUTLength(){return this.lutElement.Ud()},setLUTThickness(t){return this.lutElement.Yd(t),this},getLUTThickness(){return this.lutElement.Hd()},setLookUpUnit(t){return this.lutElement.$d(t),this},getLookUpUnit(){return this.lutElement.Xd()},setLUTStepValueFormatter(t){return this.lutElement.jd(t),this},setLUTDisplayProportionalSteps(t){return this.lutElement.setLUTDisplayProportionalSteps(t),this},getLUTDisplayProportionalSteps(){return this.lutElement.getLUTDisplayProportionalSteps()}},tf={...Yu,...Xu,background:Td,alignment:"horizontal",setAlignment(t){return{...this,alignment:t}},Zu(t,e,i,s,n,r){const o=new Nd(t,e,i,this.background,s,n),a=o.addElement({Zu:()=>new Qd(t,e,i,Xo,n,this.alignment)}),l=Object.assign(o,Wd,{stylableTexts:[a]},$d,{lutElement:a});return ju(l,n,r),this.applyStylers(l,n)}}.addStyler(Gu),ef=(t,e,i)=>{const s=t.getSteps(),n=t.min,r=t.max-n;if(!0===t.getInterpolation())return new Mo({angle:e,stops:s.map(((e,o)=>({offset:i?(e.value-n)/r:o/(s.length-1),color:e.color||t.color})))});const o=[];for(let a=0;a<s.length;a+=1){const e=s[a];o.push({offset:i?.9*(e.value-n)/r:a/s.length,color:e.color||t.color});const l=a<s.length-1?s[a+1]:void 0;o.push({offset:i?l?.9*(l.value-n)/r:1:l?(a+1)/s.length:1,color:e.color||t.color})}return new Mo({angle:e,stops:o})},sf={...Yu,...Xu,background:Td,buttonBuilder:Kd,setButtonShape(t){return{...this,buttonBuilder:this.buttonBuilder.setButtonShape(t)}},alignment:"horizontal",setAlignment(t){return{...this,alignment:t}},Zu(t,e,i,s,n){const r=new Nd(t,e,i,this.background,s,n),o=r.addElement(Ud),a=o.addElement(Od);a.addGap();const l=a.addElement(this.buttonBuilder);a.addGap();const h=o.addElement(Od);h.addGap();const c=h.addElement(Ed);h.addGap();const u=r.addElement({Zu:()=>new Qd(t,e,i,Xo,n,this.alignment)});"vertical"===this.alignment&&u.setMargin({left:n.uiButtonSize+6});const d=Object.assign(r,Hd,{setTextLabel:c},Wd,{stylableTexts:[c,u]},Gd("LUTText",[u]),jd,{button:l},$d,{lutElement:u},Yd);let f;return d.onMouseClick((()=>{d.getLocked()||d.setOn(!d.getOn())})),d.onMouseEnter((()=>d.setHighlight(!0))),d.onMouseLeave((()=>d.setHighlight(!1))),d.setMouseStyle(jh.Point),d.setTextFillStyleHidden(n.uiTextFillStyleHidden||n.uiTextFillStyle),d.onSwitch(((t,e)=>{e?f&&d.setTextFillStyle(f):(f=d.getTextFillStyle(),d.setTextFillStyle(d.getTextFillStyleHidden()))})),d.setPadding({left:5}),this.applyStylers(d,n)}}.addStyler(Gu).addStyler(Wu),nf={alignment:null,title:null,entryStylers:null,legendBoxDisposed:null,entries:[],add(t,e){const i=!e||"object"!=typeof e||void 0===e.toggleVisibilityOnClick||e.toggleVisibilityOnClick,s=null==e?void 0:e.matchStyleExactly,n=e&&"object"==typeof e&&void 0!==e.builder?e.builder:void 0;return this.legendBoxDisposed()||(t instanceof up?this.addChart(t,i,n,s):"attach"in t?this.addAttachable(t,i,n,s):t&&this.addDashboard(t,i,n,s)),this},addAttachable(t,e,i,s){const n=t.Gd&&t.Gd(),r=t.Cs&&t.Cs(),o=void 0!==s&&s;let a=i;if(!a){let t=n?sf.setAlignment(this.alignment):Zd;void 0!==r&&(t=t.setButtonShape(r)),a=t}const l=this.addElement(a);if(n&&"setLUT"in l){l.setLUT(n.lut);const t=n.lut.getUnits(),e=n.lookUpProperty,i=t.length>0?t:"x"===e?"x":"y"===e?"y":"z"===e?"z":"";l.setLookUpUnit(i)}return this.entryStylers.forEach((t=>t(l))),this.entries.push({entry:l,component:t}),t.attach(l,e,o),e||l.setLocked(!0),this},addChart(t,e,i,s){return t.Zd().forEach((t=>this.addAttachable(t,e,i,s))),this},addDashboard(t,e,i,s){return t.getCells().filter((t=>t.panel instanceof up)).forEach((t=>this.addChart(t.panel,e,i,s))),this},setTitle(t){return this.title.setText(t),this},getTitle(){return this.title.getText()},setTitleFillStyle(t){return this.title.setTextFillStyle(t),this},getTitleFillStyle(){return this.title.getTextFillStyle()},setTitleFont(t){return this.title.setTextFont(t),this},getTitleFont(){return this.title.getTextFont()},setTitleRotation(t){return this.title.setTextRotation(t),this},getTitleRotation(){return this.title.getTextRotation()},setEntries(t){return this.entries.forEach((e=>t(e.entry,e.component))),this}},rf={alignment:"vertical",layoutBuilder:Od,setAlignment(t){return{...this,alignment:t,layoutBuilder:"horizontal"===t?Ud:Od}},getAlignment(){return this.alignment},titleBuilder:qd,styleTitle(t){return{...this,titleBuilder:this.titleBuilder.addStyler(t)}},entryStylers:[],styleEntries(t){return{...this,entryStylers:[...this.entryStylers,t]}}},of={...Yu,...Xu,...rf,background:Td,Zu(t,e,i,s,n,r){const o=this.layoutBuilder.setBackground(this.background).Zu(t,e,i,s,n,!1);let a=Object.assign(o,nf,{alignment:this.alignment,entryStylers:this.entryStylers,legendBoxDisposed:()=>o.$i});a.entries=[];const l=a.addElement("horizontal"===this.alignment?Od:Ud),h=l.addElement(this.titleBuilder).setText("Legend").setTextFillStyle(n.legendTitleFillStyle).setTextFont(n.legendTitleFont);return l.addGap(),a=Object.assign(a,{title:h}),"horizontal"===this.alignment&&h.setMargin({right:6}),ju(a,n,r),this.applyStylers(a,n)}}.addStyler(((t,e)=>t.setPadding(5)));class af extends Vu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.Qd=10,this.Jd=Uo.Up,this.Kd=0,this.Qu="major",this.la=this.xu(t.Pr(this.renderingScale).Fr(Ja).Ir(Ja)),this.Le=this.xu(t.Ee(this.renderingScale))}Fu(){return[this.la]}Te(){if(super.Te(),this.$i)return this;const t=Lo(this.getPosition(),this.scale,this.renderingScale),e=this.renderingScale.mi(t,{x:this.Jd===Uo.Right?-this.Qd:this.Jd===Uo.Left?this.Qd:0,y:this.Jd===Uo.Up?-this.Qd:this.Jd===Uo.Down?this.Qd:0}),i=this.renderingScale.mi(e,{x:this.Jd===Uo.Right?-this.Kd:this.Jd===Uo.Left?this.Kd:0,y:this.Jd===Uo.Up?-this.Kd:this.Jd===Uo.Down?this.Kd:0});return this.Le.Ve(t).ze(e),this.la.Fe(i).Ea(this.Jd===Uo.Up?{x:0,y:1}:this.Jd===Uo.Down?{x:0,y:-1}:this.Jd===Uo.Right?{x:1,y:0}:{x:-1,y:0}),this}Ps(){const t=this.Le.uu().getThickness();return this.size=this.Jd===Uo.Left||this.Jd===Uo.Right?{x:this.Qd+this.Kd+this.la.Ps().jc().x,y:t}:{y:this.Qd+this.Kd+this.la.Ps().jc().y,x:t},super.Ps()}dispose(){return super.dispose(),this.la.dispose(),this.Le.dispose(),this}setVisible(t){return super.setVisible(t),this.la.setVisible(t),this.Le.setVisible(t),this}setMouseInteractions(t){return this.la.setMouseInteractions(t),this.Le.setMouseInteractions(t),this}getMouseInteractions(){return this.la.getMouseInteractions()}getText(){return this.la.Bh()}setTextFillStyle(t){return this.la.Ce(t),this.ks.Ss(),this}getTextFillStyle(){return this.la.Eh()}setTextFont(t){return this.la.Oh(t),this}setTextRotation(t){return this.la.Nh(t),this}getTextRotation(){return this.la.Gh()}getTextFont(){return this.la.Vh()}setText(t){return this.la.Rh(t),this.ks.Ss(),this}setDirection(t){return this.Jd=t,this.ks.Ss(),this}getDirection(){return this.Jd}setPointerLength(t){return this.Qd=t,this.ks.Ss(),this}getPointerLength(){return this.Qd}setTickLabelPadding(t){return this.Kd=t,this.ks.Ss(),this}getTickLabelPadding(){return this.Kd}setTickStyle(t){return this.Le.Re(t),this.ks.Ss(),this}getTickStyle(){return this.Le.uu()}}const lf={...Yu,Zu(t,e,i,s,n,r){const o=new af(t,e,i,s,n);return ju(o,n,r),this.applyStylers(o,n)}}.addStyler(Gu),hf=lf.addStyler(((t,e)=>(t.Qu="major",t.setPointerLength(e.xAxisNumericTicks.majorTickStyle.tickLength).setTickLabelPadding(e.xAxisNumericTicks.majorTickStyle.tickPadding).setTickStyle(e.xAxisNumericTicks.majorTickStyle.tickStyle).setTextFont(e.xAxisNumericTicks.majorTickStyle.labelFont).setTextFillStyle(e.xAxisNumericTicks.majorTickStyle.labelFillStyle)))),cf=lf.addStyler(((t,e)=>(t.Qu="minor",t.setPointerLength(e.xAxisNumericTicks.minorTickStyle.tickLength).setTickLabelPadding(e.xAxisNumericTicks.minorTickStyle.tickPadding).setTickStyle(e.xAxisNumericTicks.minorTickStyle.tickStyle).setTextFont(e.xAxisNumericTicks.minorTickStyle.labelFont).setTextFillStyle(e.xAxisNumericTicks.minorTickStyle.labelFillStyle)))),uf=Zd.addStyler((t=>t.onSwitch(((e,i)=>!0===i?setTimeout((()=>t.setOn(!1)),300):void 0)))),df=of.setAlignment("horizontal"),ff=of.setAlignment("vertical"),pf={TextBox:qd,CheckBox:Zd,ButtonBox:uf,PointableTextBox:Jd,AxisTickMajor:hf,AxisTickMinor:cf,LUTRange:tf},gf={HorizontalLegendBox:df,VerticalLegendBox:ff},mf=(t,e)=>{if(rh(t)){const i=e.Po(t);return{x:i.engineX,y:i.engineY}}return t},yf=t=>{let e=!1,i={type:"linear"};if(t&&(void 0!==t.opposite&&(e=t.opposite),t.type&&"linear-highPrecision"===t.type&&(i={type:"linear-highPrecision"}),t.type&&"logarithmic"===t.type)){let s=10;if(t.base)if("E"===t.base||"e"===t.base||"natural"===t.base)s="e";else if("number"==typeof t.base)s=t.base;else if("string"==typeof t.base)try{s=Number(t.base)}catch(e){console.warn('Unidentified logarithmic base "'.concat(t.base,'"'))}i={base:s,type:"logarithmic"}}return{opposite:e,type:i}},vf=function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Jo(t+.1*s*(e-t)+.5*s*i.getPixelSize()*Math.sign(e-t),t,e)},bf=function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const n=i.ct(t),r=i.ct(e);return Jo(i.ut(n+.1*s*(r-n)+.5*s*Math.sign(r-n)),t,e)},xf={qd:0,tf:1,if:2,sf:3,ef:4,hf:5,rf:6,nf:7,af:8,lf:9,uf:10,cf:11,df:12,ff:13,Af:14,gf:15,mf:16,yf:17,pf:18,Sf:19,vf:20,bf:21,xf:22,Mf:23};class Sf extends vc{constructor(t,e,i,s,n,r){super(t,e,i,s,r),this._f=n}}class Af extends yc{constructor(t,e,i,s,n,r,o,a,l,h,c,u,d,f,p,g){var m,y,v;super(h,l,o,f,p,{numeric:l.getWidth({x:f.xAxisNumericTicks,y:f.yAxisNumericTicks}),datetime:l.getWidth({x:f.xAxisDateTimeTicks,y:f.yAxisDateTimeTicks}),time:l.getWidth({x:f.xAxisTimeTicks,y:f.yAxisTimeTicks})},g),this.wf=new Map,this.Cf=void 0,this.kf=0,this.Tf=[],this.Ff=[],this.Je=sc.fitting,this.If=!0,this.Pf=8,this.Df=void 0,this.Bf=void 0,this.Lf=20,this.Rf=1,this.Ef=!0,this.zf=!0,this.Vf=!0,this.Of=!0,this.Nf=!0,this.Gf=!0,this.Wf=!0,this.Uf=!0,this.Yf=!0,this.Hf=!0,this.$f=this.wh.defaultDragMouseStyle,this.Xf=this.wh.defaultDragMouseStyle,this.jf=this.wh.defaultDragMouseStyle,this.Zf=this.wh.defaultDragMouseStyle,this.Qf=this.wh.defaultDragMouseStyle,this.D=new Ir,this.Jf=[],this.Kf=t=>{const e=this.Ff.indexOf(t);e>=0&&this.Ff.splice(e,1)},this.qf=t=>(this.Ff.indexOf(t)<0&&this.Ff.push(t),this.Kf),this.Et=(t,e)=>this.D.emit("axisAreaTouch",this,e),this.tA=ba(this.Jf),this.onAxisInteractionAreaMouseClick=t=>this.D.on("axisAreaMouseClick",t),this.onAxisInteractionAreaMouseDoubleClick=t=>this.D.on("axisAreaDoubleClick",t),this.onAxisInteractionAreaMouseDown=t=>this.D.on("axisAreaMouseDown",t),this.onAxisInteractionAreaMouseUp=t=>this.D.on("axisAreaMouseUp",t),this.onAxisInteractionAreaMouseEnter=t=>this.D.on("axisAreaMouseEnter",t),this.onAxisInteractionAreaMouseLeave=t=>this.D.on("axisAreaMouseLeave",t),this.onAxisInteractionAreaMouseMove=t=>this.D.on("axisAreaMouseMove",t),this.onAxisInteractionAreaMouseWheel=t=>this.D.on("axisAreaMouseWheel",t),this.onAxisInteractionAreaMouseDragStart=t=>this.D.on("axisAreaMouseDragStart",t),this.onAxisInteractionAreaMouseDrag=t=>this.D.on("axisAreaMouseDrag",t),this.onAxisInteractionAreaMouseDragStop=t=>this.D.on("axisAreaMouseDragStop",t),this.onAxisInteractionAreaTouchStart=t=>this.D.on("axisAreaTouchStart",t),this.onAxisInteractionAreaTouch=t=>this.D.on("axisAreaTouch",t),this.onAxisInteractionAreaTouchStop=t=>this.D.on("axisAreaTouchEnd",t),this.offAxisInteractionAreaMouseClick=t=>this.D.off(t,"axisAreaMouseClick"),this.offAxisInteractionAreaMouseDoubleClick=t=>this.D.off(t,"axisAreaDoubleClick"),this.offAxisInteractionAreaMouseDown=t=>this.D.off(t,"axisAreaMouseDown"),this.offAxisInteractionAreaMouseUp=t=>this.D.off(t,"axisAreaMouseUp"),this.offAxisInteractionAreaMouseEnter=t=>this.D.off(t,"axisAreaMouseEnter"),this.offAxisInteractionAreaMouseLeave=t=>this.D.off(t,"axisAreaMouseLeave"),this.offAxisInteractionAreaMouseMove=t=>this.D.off(t,"axisAreaMouseMove"),this.offAxisInteractionAreaMouseWheel=t=>this.D.off(t,"axisAreaMouseWheel"),this.offAxisInteractionAreaMouseDragStart=t=>this.D.off(t,"axisAreaMouseDragStart"),this.offAxisInteractionAreaMouseDrag=t=>this.D.off(t,"axisAreaMouseDrag"),this.offAxisInteractionAreaMouseDragStop=t=>this.D.off(t,"axisAreaMouseDragStop"),this.offAxisInteractionAreaTouchStart=t=>this.D.off(t,"axisAreaTouchStart"),this.offAxisInteractionAreaTouch=t=>this.D.off(t,"axisAreaTouch"),this.offAxisInteractionAreaTouchStop=t=>this.D.off(t,"axisAreaTouchEnd"),this.zd={relative:1},this.iA=0,this.sA=0,this.eA=(t,e)=>e.getAllocatesAxisSpace()?Math.max(t,e.update().qu()):t,this.hA=t=>{const e=this.Tf.indexOf(t);-1!==e&&this.Tf.splice(e,1)},this.rA=(t,e)=>{this.D.emit("axisAreaDoubleClick",this,e),this.Of&&(this.setStopped(!1),ga(e))},this.nA=t=>{this.D.emit("axisAreaMouseEnter",this),(this.zf||this.Ef||this.Vf||this.Of)&&this.oA(t)},this.aA=t=>{this.lA(t),this.D.emit("axisAreaMouseLeave",this)},this.uA=(t,e,i)=>{var s,n;this.D.emit("axisAreaMouseDragStart",this,e,i);const r=Zo(null===(s=this.chart.cA.Yn)||void 0===s?void 0:s.axisXYZoomMouseButton,0),o=Zo(null===(n=this.chart.cA.Yn)||void 0===n?void 0:n.axisXYPanMouseButton,2),a=Lr(e.clientX,e.clientY);i===o&&this.zf?(this.dA(t),ga(e)):i===r&&this.Ef&&(this.fA(t,a),ga(e))},this.AA=(t,e,i,s,n)=>{var r,o;this.D.emit("axisAreaMouseDrag",this,e,i,s,n);const a=Zo(null===(r=this.chart.cA.Yn)||void 0===r?void 0:r.axisXYZoomMouseButton,0),l=Zo(null===(o=this.chart.cA.Yn)||void 0===o?void 0:o.axisXYPanMouseButton,2),h=Lr(e.clientX,e.clientY);i===l&&this.zf?(this.gA(t,n),ga(e)):i===a&&this.Ef&&(this.mA(t,s,h,n),ga(e))},this.yA=(t,e,i,s)=>{var n,r;this.D.emit("axisAreaMouseDragStop",this,e,i,s);const o=Zo(null===(n=this.chart.cA.Yn)||void 0===n?void 0:n.axisXYZoomMouseButton,0),a=Zo(null===(r=this.chart.cA.Yn)||void 0===r?void 0:r.axisXYPanMouseButton,2),l=Lr(e.clientX,e.clientY);i===a&&this.zf?(this.pA(t),ga(e)):i===o&&this.Ef&&(this.SA(t,s,l),ga(e)),t.getIsUnderMouse()&&(this.zf||this.Ef||this.Vf||this.Of)&&this.oA(t)},this.vA=(t,e)=>{if(this.D.emit("axisAreaMouseWheel",this,e),this.Vf){this.setStopped(!0);const t=this.wh.getWidth(this.bA.us.Pe(e.clientX,e.clientY)),i=this.dt.ut(t);this.zoom(i,La(e)),ga(e)}},this.xA=(t,e)=>this.D.emit("axisAreaMouseClick",this,e),this.MA=(t,e)=>this.D.emit("axisAreaMouseDown",this,e),this._A=(t,e)=>this.D.emit("axisAreaMouseUp",this,e),this.wA=(t,e)=>this.D.emit("axisAreaMouseMove",this,e),this.CA=(t,e,i)=>{this.D.emit("axisAreaTouchStart",this,i),this.Ef&&(this.oA(t),this.fA(t,e),ga(i))},this.kA=(t,e,i,s,n)=>{this.D.emit("axisAreaTouch",this,n),this.Ef&&(this.mA(t,e,i,s),ga(n))},this.TA=(t,e,i,s)=>{this.D.emit("axisAreaTouchEnd",this,s),this.Ef&&(this.SA(t,e,i),this.lA(t),ga(s))},this.FA=(t,e,i,s)=>{(this.zf||this.Vf)&&(this.oA(t),this.dA(t),ga(s))},this.IA=(t,e,i,s,n,r)=>{if(this.zf){const e=Lr((s.x+n.x)/2,(s.y+n.y)/2);this.gA(t,e),ga(r)}if(this.Vf){const t=this.bA.us.Pe(e.x,e.y),o=this.bA.us.Pe(i.x,i.y),a=Math.abs(this.wh.getWidth(Rl(t,s))-this.wh.getWidth(Rl(o,n)))-Math.abs(this.wh.getWidth(t)-this.wh.getWidth(o)),l=this.dt.mi(this.Ih,-a),h=this.dt.mi(this.Ph,a);this.Qh(l,h,!0),ga(r)}},this.PA=(t,e,i,s)=>{(this.zf||this.Vf)&&(this.pA(t),this.lA(t),ga(s))},this.DA=(t,e)=>{(this.Nf||this.Gf)&&this.BA(t)},this.LA=(t,e)=>{this.RA(t)},this.EA=(t,e,i)=>{const s=Lr(e.clientX,e.clientY);this.Nf&&this.zA(t,s)},this.VA=(t,e,i,s,n)=>{const r=Lr(e.clientX,e.clientY);this.Nf&&this.OA(t,r,s,n)},this.NA=(t,e,i,s,n)=>{const r=Lr(e.clientX,e.clientY);this.Nf&&this.GA(t,r,s,n)},this.WA=(t,e,i,s)=>{const n=Lr(e.clientX,e.clientY);(this.Nf||this.Gf)&&this.UA(t,n,s),(this.Nf||this.Gf)&&this.BA(t)},this.YA=(t,e)=>{this.Gf&&(this.setStopped(!0),this.zoom(this.Ih,La(e)),ga(e))},this.HA=(t,e)=>{this.Gf&&(this.setStopped(!0),this.zoom(this.Ph,La(e)),ga(e))},this.$A=(t,e,i)=>{this.Nf&&(this.BA(t),this.zA(t,e),ga(i))},this.XA=(t,e,i,s,n)=>{this.Nf&&(this.OA(t,e,i,s),ga(n))},this.jA=(t,e,i,s,n)=>{this.Nf&&(this.GA(t,e,i,s),ga(n))},this.ZA=(t,e,i,s)=>{this.Nf&&(this.UA(t,e,i),this.RA(t),ga(s))},this.QA=t,this.bA=e,this.JA=s,this.KA=n,this.chart=h,this.qA=u,this.tg=i,this.ss=r,"logarithmic"===g.type&&this.chart.us.Nn(xf.Sf),d(this,this.qf),o.ig=this,this.sg=c,this.eg=this.sg>50?1:-1,this.hg=(v=this.wh.toPoint(0,-this.eg),Math.abs(v.x)>=Math.abs(v.y)?v.x>=0?Uo.Right:Uo.Left:v.y>=0?Uo.Up:Uo.Down),this.rg=a,this.ng=this.dt instanceof Ql?(new eh).Ri(this.wh.toVec2(this.dt,this.rg)):(new ih).Ri(this.wh.toVec2(this.dt,this.rg)),this.og=this.chart.pixelScale,this.ag=(new eh).Ri(this.wh.toVec2(this.wh.getWidth(this.og),this.rg)),this.lg=this.bA.Ee(this.ng).setMouseInteractions(!1),this.ug=this.bA.Ee(this.ng).setMouseInteractions(!1),this.cg=this.bA.Ee(this.ng).setMouseInteractions(!1),this.dg=this.tg.ke(this.og).Ce(l.getWidth({x:f.xAxisOverlayStyle,y:f.yAxisOverlayStyle})).we(Eo).Xo(f.highlightColorOffsetAxisOverlay||f.highlightColorOffset),this.Ag=this.tg.ke(this.og).Ce(l.getWidth({x:f.xAxisZoomingBandFillStyle,y:f.yAxisZoomingBandFillStyle})).we(l.getWidth({x:f.xAxisZoomingBandStrokeStyle,y:f.yAxisZoomingBandStrokeStyle})),this.gg=this.tg.ke(this.og).Ce(l.getWidth({x:f.xAxisOverlayStyle,y:f.yAxisOverlayStyle})).we(Eo).Xo(f.highlightColorOffsetAxisOverlay||f.highlightColorOffset),this.mg=this.tg.ke(this.og).Ce(l.getWidth({x:f.xAxisOverlayStyle,y:f.yAxisOverlayStyle})).we(Eo).Xo(f.highlightColorOffsetAxisOverlay||f.highlightColorOffset),this.Lh=this.tg.Pr(this.ng).setMouseInteractions(!1).Nh(this.wh.getTitleTextRotation(this.eg)).Ir(Ja).Fr(Ja),this.chart.us.ls.os(this.dg,(t=>this.dg.cs(t)),{animationEnabled:this.th}),this.chart.us.ls.os(this.gg,(t=>this.gg.cs(t)),{animationEnabled:this.th}),this.chart.us.ls.os(this.mg,(t=>this.mg.cs(t)),{animationEnabled:this.th});const b=dh(new ph(this.CA,this.kA,this.TA,1),new gh(this.FA,this.IA,this.PA),new fh(this.rA)),x=dh(new ph(this.$A,this.XA,this.ZA)),S=dh(new ph(this.$A,this.jA,this.ZA));this.dg.setMouseEnterEventHandler(this.nA).setMouseLeaveEventHandler(this.aA).setMouseDragStartEventHandler(this.uA).setMouseDragEventHandler(this.AA).setMouseDragStopEventHandler(this.yA).setMouseWheelEventHandler(this.vA).setMouseDoubleClickEventHandler(this.rA).setMouseClickEventHandler(this.xA).setMouseDownEventHandler(this.MA).setMouseUpEventHandler(this._A).setMouseMoveEventHandler(this.wA).setTouchStartEventHandler(b.onTouchStart).setTouchMoveEventHandler(b.onTouchMove).setTouchEndEventHandler(b.onTouchEnd),this.gg.setMouseEnterEventHandler(this.DA).setMouseLeaveEventHandler(this.LA).setMouseDragStartEventHandler(this.EA).setMouseDragEventHandler(this.VA).setMouseDragStopEventHandler(this.WA).setMouseWheelEventHandler(this.YA).setTouchStartEventHandler(x.onTouchStart).setTouchMoveEventHandler(x.onTouchMove).setTouchEndEventHandler(x.onTouchEnd),this.mg.setMouseEnterEventHandler(this.DA).setMouseLeaveEventHandler(this.LA).setMouseDragStartEventHandler(this.EA).setMouseDragEventHandler(this.NA).setMouseDragStopEventHandler(this.WA).setMouseWheelEventHandler(this.HA).setTouchStartEventHandler(S.onTouchStart).setTouchMoveEventHandler(S.onTouchMove).setTouchEndEventHandler(S.onTouchEnd),this.lg.Re(l.getWidth({x:f.xAxisStrokeStyle,y:f.yAxisStrokeStyle})),this.ug.Re(l.getWidth({x:f.xAxisNibStyle,y:f.yAxisNibStyle})),this.cg.Re(l.getWidth({x:f.xAxisNibStyle,y:f.yAxisNibStyle})),this.Lh.Ce(l.getWidth({x:f.xAxisTitleFillStyle,y:f.yAxisTitleFillStyle})).Oh(l.getWidth({x:f.xAxisTitleFont,y:f.yAxisTitleFont})),this.es=r.hs(this,{}),this.Wh=this.es.yg([this.Lh]).ps(f.effectsText),this.pg=null!==(m=l.getWidth({x:f.xAxisMarginAfterTicks,y:f.yAxisMarginAfterTicks}))&&void 0!==m?m:7,this.Sg=null!==(y=l.getWidth({x:f.xAxisMarginAfterTitle,y:f.yAxisMarginAfterTitle}))&&void 0!==y?y:7}kr(){return this.eh}Tr(){return void 0!==this.Zh}setTickStrategy(t,e){return super.Fh(t,e)}getTickStrategy(){return this.je}addBand(){const t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.KA:this.JA,e=new ec(t,this.chart,this.tA,this,this.ng,this.wh,this.qi,this.ss);return this.Jf.push(e),e}addConstantLine(){const t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.KA:this.JA,e=new ic(t,this.chart,this.tA,this,this.ng,this.wh,this.qi,this.ss);return this.Jf.push(e),e}vg(t){this.Jf.forEach(t)}bg(t){return this.Jf.map(t)}getHighlighters(){return this.Jf}setThickness(t){return"number"==typeof t?(this.xg=t,this.Mg=t):"object"==typeof t&&(this.xg=t.min,this.Mg=t.max),this.chart.us.Ss(),this}getThickness(){return{min:this.xg,max:this.Mg}}setMouseInteractions(t){return this.setAxisInteractionPanByDragging(t).setAxisInteractionReleaseByDoubleClicking(t).setAxisInteractionZoomByDragging(t).setAxisInteractionZoomByWheeling(t).setNibInteractionScaleByDragging(t).setNibInteractionScaleByWheeling(t)}_g(){return this.Ff}ur(t,e){return new Sf(e,t,this.bA,this.ng,this.ng)}Uh(){if(this.wf){for(const t of this.wf)t[1].grid.dispose(),t[1].tick.dispose();this.wf.clear()}super.Uh()}cr(t,e){const{tickStart:i}=e,s=t.Sh.lr,n=i+s.getTickLength()*this.eg+s.getTickPadding()*this.eg;t.Ue.Fe(this.wh.toPoint(t.u,n)).Ea(this.wh.toPoint(s.getLabelAlignment(),-this.eg)).Nh(s.labelRotation).setVisible(this.getVisible())}wg(t,e){const{startPosition:i,gridStrokeLen:s,gridStrokeStart:n,tickStart:r}=e,o=t.Sh.lr,a=i-s*o.getGridStrokeLength(),l=r+o.getTickLength()*this.eg;return{gridStroke:{start:this.wh.toPoint(t.u,n),end:this.wh.toPoint(t.u,a)},tickStroke:{start:this.wh.toPoint(t.u,r),end:this.wh.toPoint(t.u,l)}}}_r(t,e){return"linear"===this.kh.type?vf(t,e,this.dt):bf(t,e,this.dt)}Cg(t,e){return e instanceof Ql?vf:bf}Cr(t,e,i){if("logarithmic"!==this.kh.type){const s=this.dt.Li(e-t);return{min:t-i*s,max:e+i*s}}const s=this.dt;return{min:s.mi(t,-i),max:s.mi(e,i)}}Ps(){if(!this.Xi)return{kg:0,Tg:0,Vd:0};const t=!(this.Ze.size>0),e=this.Lh&&this.Lh.Bh().length>0&&this.getTitleFillStyle()!==ro,i=this.wh.getHeight(e?this.chart.us.Ig.Fg(this.getTitle(),this.getTitleFont(),this.getTitleRotation()):{x:0,y:0})+(e?this.Sg:0),s=this.Xe===lc?new Map:bc(this.Xe,Math.min(this.Ih,this.Ph),Math.max(this.Ih,this.Ph),this.Ih,this.Ph,0),n=this.dt;let r=0;s.forEach(((e,i)=>{if((t=>void 0!==t.lr&&void 0!==t.nr)(i)){const s=Math.max(...e.map((e=>{if(!cl(e,this.Ih,this.Ph))return 0;const s=this.chart.us.Ig.Fg(i.nr(e,n),i.lr.labelFont,i.lr.labelRotation);return t||!s.isEstimate?this.wh.getHeight(s):0})))+i.lr.tickLength+i.lr.tickPadding+i.lr.labelPadding;r=Math.max(r,s)}}));const o=this.Tf.reduce(this.eA,0);r=Math.max(r,o),r+=this.pg;const a=Jo(i+r,void 0!==this.xg?this.xg:0,void 0!==this.Mg?this.Mg:$a);return this.kf=a,{kg:r,Tg:i,Vd:a}}Te(t){const e=this.getVisible()&&t.Pg>0;this.Dg=t;const i=this.lg.uu(),s=this.dt.getInnerStart()<this.dt.getInnerEnd()?this.dt.getInnerStart():this.dt.getInnerEnd(),n=this.dt.getInnerEnd()>this.dt.getInnerStart()?this.dt.getInnerEnd():this.dt.getInnerStart(),r=i.getThickness()*this.eg/2,o=this.rg.getInnerInterval(),a=this.sg/100*o,l=a+t.Bg,h=o*this.eg,c=l+r;if(e||this.Uh(),this.Xe!==lc&&e){const t=this.dt.ri();this.qh({physicalAxisSize:t,startPosition:a,gridStrokeLen:h,gridStrokeStart:l,tickStart:c});for(const[e,i]of this.Ze){let s=this.wf.get(e);if(!s)if(e.Oe)s={grid:this.QA[0].Lg(this.ng).setMouseInteractions(!1),tick:this.QA[0].Lg(this.ng).setMouseInteractions(!1)};else if("Rg"in e){const t=Array.from(this.Ze.keys()).filter((t=>"Rg"in t)).reverse().indexOf(e),i=this.QA[t];if(!i)throw new Error("Not enough tick layers. This is an internal LCJS error - if you see this, please contact Arction support.");s={grid:i.Lg(this.ng).setMouseInteractions(!1),tick:i.Lg(this.ng).setMouseInteractions(!1)}}if(s){s.grid.Nt(),s.tick.Nt();for(const[e,n]of i){const e=this.wg(n,{physicalAxisSize:t,startPosition:a,gridStrokeLen:h,gridStrokeStart:l,tickStart:c});s.grid.zr().Eg(e.gridStroke.start,e.gridStroke.end),s.tick.zr().Eg(e.tickStroke.start,e.tickStroke.end)}s.grid.Re(e.lr.getGridStrokeStyle()),s.tick.Re(e.lr.getTickStyle()),this.wf.set(e,s)}}}const u=c,d=u+this.eg*t.zg,f=this.Nf||this.Gf?Math.min(this.Lf,.25*t.Pg):0,p={start:this.wh.toVec2(this.dt.mi(this.dt.getInnerStart(),f),u),end:this.wh.toVec2(this.dt.mi(this.dt.getInnerEnd(),-f),d)},g=Lo(this.wh.toVec2(this.dt.getInnerStart(),d),this.ng,this.og),m=Lo(p.start,this.ng,this.og),y=Lo(p.end,this.ng,this.og),v=Lo(this.wh.toVec2(this.dt.getInnerEnd(),u),this.ng,this.og);this.lg.Ve(this.wh.toPoint(s,l)).ze(this.wh.toPoint(n,l)).setVisible(e),this.ug.Ve(this.wh.toPoint(this.dt.mi(this.dt.getInnerStart(),this.Pf),l)).ze(this.wh.toPoint(this.dt.getInnerStart(),l)).setVisible(e),this.cg.Ve(this.wh.toPoint(this.dt.mi(this.dt.getInnerEnd(),-this.Pf),l)).ze(this.wh.toPoint(this.dt.getInnerEnd(),l)).setVisible(e);const b=l+t.kg*this.eg;if(this.Lh.Fe(this.wh.toPoint(this.wh.getWidth(Lo(Ml(kl(g,v),.5),this.og,this.ng)),b)).Ea(this.wh.toPoint(0,-1*this.eg)).setVisible(e),this.Cf){const e=this.sg/100*o+t.Bg,i=-this.eg*o-t.Bg,s={start:this.wh.toVec2(this.Cf.min,c+this.eg*this.kf),end:this.wh.toVec2(this.Cf.max,e+i)},n=Lo(s.start,this.ng,this.og),r=Lo(s.end,this.ng,this.og);this.Ag.Fe(n).q(Rl(r,n)).setVisible(!0)}else this.Ag.setVisible(!1);this.dg.Fe(m).q(Rl(y,m)).setVisible(e),this.gg.Fe(g).q(Rl(m,g)).setVisible(e),this.mg.Fe(y).q(Rl(v,y)).setVisible(e);for(const x of this.Tf)x.update().plot(e,l,h,t.Bg,c);for(const x of this.Jf)x.Te()}setLength(t){return this.zd=t,this.chart.us.Ss(),this}getLength(){return this.zd}setMargins(t,e){return this.iA=t,this.sA=e,this.chart.us.Ss(),this}getMargins(){return{start:this.iA,end:this.sA}}getStackIndex(){var t,e;return null!==(e=null===(t=[...this.chart.Vg,...this.chart.Og,...this.chart.Ng,...this.chart.Gg].find((t=>t.axis===this)))||void 0===t?void 0:t.iStack)&&void 0!==e?e:0}getParallelIndex(){var t,e;return null!==(e=null===(t=[...this.chart.Vg,...this.chart.Og,...this.chart.Ng,...this.chart.Gg].find((t=>t.axis===this)))||void 0===t?void 0:t.iParallel)&&void 0!==e?e:0}Wg(){const t=this.Dg;if(!t)return;const e=this.getVisible()&&t.Pg>0,i=this.lg.uu().getThickness()*this.eg/2,s=this.rg.getInnerInterval(),n=this.sg/100*s+t.Bg,r=s*this.eg,o=n+i;for(const a of this.Tf)a.update().plot(e,n,r,t.Bg,o);for(const a of this.Jf)a.Te()}Ug(){return this.kf}Yg(t,e){e=e||pf.AxisTickMajor;const i=new Hu(this,t?this.QA[0]:this.tg,this.tg,this.dt,this.ag,this.ag,this.wh,this.hg,this.hA,this.qi,e).setTextFormatter(this.formatValue);return this.Tf.push(i),i}oA(t){this.chart.us.ls.Ms(t,1),this.Df=t.us.Wr(this.$f,this.Df)}lA(t){this.chart.us.ls.Ms(t,0),t.us.Ur(this.Df)}dA(t){this.setStopped(!0),t.us.Ur(this.Df)}gA(t,e){const i=-this.wh.getWidth(e);this.pan(i),this.Df=t.us.Wr(this.Xf,this.Df)}pan(t){const e=this.Ih,i=this.Ph,s=this.dt.mi(e,t),n=this.dt.mi(i,t);this.Qh(s,n,!1)}zoom(t,e){const i=this.dt.ct(this.Ih),s=this.dt.ct(this.Ph),n=this.dt.ct(t),r=Jo((n-i)/(s-i),0,1),o=.2*this.dt.ri(),a=r*this.Rf*o*-e,l=(1-r)*this.Rf*o*e,h=this.dt.mi(this.Ih,a),c=this.dt.mi(this.Ph,l);this.Qh(h,c,!0)}pA(t){this.Cf=void 0,t.us.Ur(this.Df)}fA(t,e){this.setStopped(!0),t.us.Ur(this.Df),this.chart.us.ls.Ms(this.dg,0)}mA(t,e,i,s){const n=Lo(this.bA.us.Pe(i.x,i.y),this.bA.us.dt,this.ng),r=Jo(this.wh.getWidth(n),this.Ih,this.Ph),o=this.wh.getWidth(Lo(this.bA.us.Pe(e.x,e.y),this.bA.us.dt,this.ng));Math.abs(this.dt.ct(r)-this.dt.ct(o))>10?(this.Cf=Br(Math.min(r,o),Math.max(r,o)),this.Df=t.us.Wr(this.jf,this.Df)):(this.Cf=void 0,this.Df=t.us.Wr(this.$f,this.Df)),this.bA.Ss()}SA(t,e,i){if(this.Cf){const t=this.Cf.min,e=this.Cf.max,i=this.Ph<this.Ih;this.St(i?e:t,i?t:e,!0,!0,"interactionSetInterval")}this.Cf=void 0,t.us.Ur(this.Df)}BA(t){this.chart.us.ls.Ms(t,1),this.Bf=t.us.Wr(this.Zf,this.Bf)}RA(t){this.chart.us.ls.Ms(t,0),t.us.Ur(this.Bf)}zA(t,e){this.setStopped(!0),this.Bf=t.us.Wr(this.Qf,this.Bf)}OA(t,e,i,s){const n=this.wh.getWidth(s);this.Qh(this.dt.mi(this.Ih,n),this.Ph,!0)}GA(t,e,i,s){const n=this.wh.getWidth(s);this.Qh(this.Ih,this.dt.mi(this.Ph,n),!0)}UA(t,e,i){t.us.Ur(this.Bf),t.getIsUnderMouse()&&(this.Bf=t.us.Wr(this.Zf)),this.bA.Ss()}addCustomTick(t){return this.Yg(!0,t)}getUiPosition(){return this.sg}setStrokeStyle(t){return this.lg.Re(t),this.bA.Ss(),this}getStrokeStyle(){return this.lg.uu()}getOverlayStyle(){return this.dg.Eh()}setOverlayStyle(t){return this.dg.Ce(t),this.bA.Ss(),this}setAxisInteractionZoomByDragging(t){return this.Ef=t,this}getAxisInteractionZoomByDragging(){return this.Ef}setAxisInteractionPanByDragging(t){return this.zf=t,this}getAxisInteractionPanByDragging(){return this.zf}setAxisInteractionZoomByWheeling(t){return this.Vf=t,this}getAxisInteractionZoomByWheeling(){return this.Vf}setAxisInteractionReleaseByDoubleClicking(t){return this.Of=t,this}getAxisInteractionReleaseByDoubleClicking(){return this.Of}setAxisMouseHoverStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.wh.defaultDragMouseStyle;return this.$f=t,this}getAxisMouseHoverStyle(){return this.$f}setAxisMousePanStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.wh.defaultDragMouseStyle;return this.Xf=t,this}getAxisMousePanStyle(){return this.Xf}setAxisMouseZoomStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.wh.defaultDragMouseStyle;return this.jf=t,this}getAxisMouseZoomStyle(){return this.jf}setAnimationHighlight(t){return this.chart.us.ls._s(this.dg,t),this.chart.us.ls._s(this.gg,t),this.chart.us.ls._s(this.mg,t),this}getAnimationHighlight(){return this.chart.us.ls.ws(this.dg)}getTitleMargin(){return this.getMarginAfterTicks()}setTitleMargin(t){return this.setMarginAfterTicks(t)}getMarginAfterTicks(){return this.pg}setMarginAfterTicks(t){return this.pg=t,this.bA.Ss(),this}getMarginAfterTitle(){return this.Sg}setMarginAfterTitle(t){return this.Sg=t,this.bA.Ss(),this}getNibLength(){return this.Pf}setNibLength(t){return this.Pf=t,this.bA.Ss(),this}getNibStyle(){return this.ug.uu()}setNibStyle(t){return this.ug.Re(t),this.cg.Re(t),this.bA.Ss(),this}getNibOverlayStyle(){return this.gg.Eh()}setNibOverlayStyle(t){return this.gg.Ce(t),this.mg.Ce(t),this.bA.Ss(),this}setNibMousePickingAreaSize(t){return this.Lf=t,this.bA.Ss(),this}getNibMousePickingAreaSize(){return this.Lf}setNibInteractionScaleByDragging(t){return this.Nf=t,this}getNibInteractionScaleByDragging(){return this.Nf}setNibInteractionScaleByWheeling(t){return this.Gf=t,this}getNibInteractionScaleByWheeling(){return this.Gf}setNibMouseHoverStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.wh.defaultDragMouseStyle;return this.Zf=t,this}getNibMouseHoverStyle(){return this.Zf}setNibMouseScaleStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.wh.defaultDragMouseStyle;return this.Qf=t,this}getNibMouseScaleStyle(){return this.Qf}setChartInteractions(t){return this.setChartInteractionFitByDrag(t),this.setChartInteractionPanByDrag(t),this.setChartInteractionZoomByDrag(t),this.setChartInteractionZoomByWheel(t),this}setChartInteractionPanByDrag(t){return this.Wf=t,this}getChartInteractionPanByDrag(){return this.Wf}setChartInteractionZoomByWheel(t){return this.Uf=t,this}getChartInteractionZoomByWheel(){return this.Uf}setChartInteractionZoomByDrag(t){return this.Yf=t,this}getChartInteractionZoomByDrag(){return this.Yf}setChartInteractionFitByDrag(t){return this.Hf=t,this}getChartInteractionFitByDrag(){return this.Hf}j(){return this.dt.j(),this}Z(){return this.dt.Z(),this}dispose(){this.ug.dispose(),this.cg.dispose(),this.lg.dispose(),this.dg.dispose(),this.Ag.dispose(),this.gg.dispose(),this.mg.dispose(),this.Lh.dispose(),this.Kh(Yo);for(const t of this.wf.values())t.grid.dispose(),t.tick.dispose();return this.Ff.slice().forEach(Yo),this.Jf.slice().forEach(Yo),this.qA(this),this.D.emit("dispose",this),this}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}setVisible(t){this.ug.setVisible(t),this.cg.setVisible(t),this.lg.setVisible(t),this.Lh.setVisible(t),this.dg.setVisible(t),this.gg.setVisible(t),this.mg.setVisible(t),this.Kh((e=>{e.ys(t)}));for(const e of this.wf.values())e.grid.setVisible(t),e.tick.setVisible(t);return super.setVisible(t),this.chart.us.Ss(),this}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.setAnimationHighlight(this.th),this}}const wf={getWidth:t=>t.x,getHeight:t=>t.y,toVec2:(t,e)=>({x:t,y:e}),toPoint:(t,e)=>Lr(t,e)},Cf={getWidth:t=>t.y,getHeight:t=>t.x,toVec2:(t,e)=>({x:e,y:t}),toPoint:(t,e)=>Lr(e,t)},Mf=t=>!!(t&&"object"==typeof t&&"x"in t&&t.x instanceof Af&&"y"in t&&t.y instanceof Af),kf=vr({type:"tick-style",gridStrokeLength:1,gridStrokeStyle:new yh,tickLength:7,tickStyle:new yh,tickPadding:0,labelFont:new Cc,labelFillStyle:new ho,labelPadding:0,labelAlignment:0,labelRotation:0});class Rf extends kf{constructor(t){super(t)}setGridStrokeLength(t){return this.set("gridStrokeLength",t)}getGridStrokeLength(){return this.get("gridStrokeLength")}setGridStrokeStyle(t){return this.set("gridStrokeStyle","function"==typeof t?t(this.get("gridStrokeStyle")):t)}getGridStrokeStyle(){return this.get("gridStrokeStyle")}setTickLength(t){return this.set("tickLength",t)}getTickLength(){return this.get("tickLength")}setTickStyle(t){return this.set("tickStyle","function"==typeof t?t(this.get("tickStyle")):t)}getTickStyle(){return this.get("tickStyle")}setTickPadding(t){return this.set("tickPadding",t)}getTickPadding(){return this.get("tickPadding")}setLabelFillStyle(t){return this.set("labelFillStyle","function"==typeof t?t(this.get("labelFillStyle")):t)}getLabelFillStyle(){return this.get("labelFillStyle")}setLabelFont(t){return this.set("labelFont","function"==typeof t?t(this.get("labelFont")):t)}getLabelFont(){return this.get("labelFont")}setLabelPadding(t){return this.set("labelPadding",t)}getLabelPadding(){return this.get("labelPadding")}setLabelAlignment(t){return this.set("labelAlignment",t)}getLabelAlignment(){return this.get("labelAlignment")}setLabelRotation(t){return this.set("labelRotation",t)}getLabelRotation(){return this.get("labelRotation")}}const Ef=t=>!(!t||"object"!=typeof t||!("type"in t)||"tick-style"!==t.type),Tf=new Rf({labelFillStyle:ro,gridStrokeStyle:Eo,tickStyle:Eo}),If=t=>Ef(t)&&oo(t.labelFillStyle)&&To(t.gridStrokeStyle)&&To(t.tickStyle),Pf=(t,e,i,s,n)=>(r,o)=>a=>{const l=new Date(a+r),h={year:o?l.getUTCFullYear():l.getFullYear(),monthIndex:o?l.getUTCMonth():l.getMonth(),day:o?l.getUTCDate():l.getDate(),hours:o?l.getUTCHours():l.getHours(),minutes:o?l.getUTCMinutes():l.getMinutes(),seconds:o?l.getUTCSeconds():l.getSeconds(),millis:o?l.getUTCMilliseconds():l.getMilliseconds()},c=s?s(h):void 0;if(0===t&&!0===c)return a;const u=h[e];n.includes("year")&&(h.year=Math.floor(h.year/i)*i),n.includes("monthIndex")&&(h.monthIndex=0),n.includes("day")&&(h.day=1),n.includes("hours")&&(h.hours=0),n.includes("minutes")&&(h.minutes=0),n.includes("seconds")&&(h.seconds=0),n.includes("millis")&&(h.millis=0);let d=(0===t?1:t)*i;return-1===t&&!1===c&&(d=0),0!==d&&(h[e]=i*(d>0?Math.floor((u+d)/i):Math.ceil((u+d)/i))),o?Date.UTC(h.year,h.monthIndex,h.day,h.hours,h.minutes,h.seconds,h.millis)-r:new Date(h.year,h.monthIndex,h.day,h.hours,h.minutes,h.seconds,h.millis).getTime()-r},Ff=function(t,e,i){for(var s=arguments.length,n=new Array(s>3?s-3:0),r=3;r<s;r++)n[r-3]=arguments[r];return Pf(-1,t,e,i,n)},Df=function(t,e,i){for(var s=arguments.length,n=new Array(s>3?s-3:0),r=3;r<s;r++)n[r-3]=arguments[r];return Pf(-1,t,e,i,n)},Lf=function(t,e,i){for(var s=arguments.length,n=new Array(s>3?s-3:0),r=3;r<s;r++)n[r-3]=arguments[r];return Pf(0,t,e,i,n)},zf=function(t,e){for(var i=arguments.length,s=new Array(i>2?i-2:0),n=2;n<i;n++)s[n-2]=arguments[n];return Pf(1,t,e,void 0,s)},Nf=t=>(e,i)=>s=>{const n=new Date(s+e),r=i?n.getUTCDay():n.getDay(),o=1===r&&0===(i?n.getUTCHours():n.getHours())&&0===(i?n.getUTCMinutes():n.getMinutes())&&0===n.getSeconds()&&0===n.getMilliseconds();if(0===t&&!0===o)return s;let a=i?n.getUTCDate():n.getDate();return-1===t&&1===r&&!1===o||(-1===t?a-=r>=2?r-1:r+6:a+=r>0?8-r:1),i?Date.UTC(n.getUTCFullYear(),n.getUTCMonth(),a,0,0,0,0)-e:new Date(n.getFullYear(),n.getMonth(),a,0,0,0,0).getTime()-e},_f=[{label:"MilliSecond100",unit:100,irregular:!1,greatTicks:void 0,majorTicks:{fitFunction:fc({ignore:"first"},2,5)},minorTicks:{amount:4,fitFunction:fc(void 0,2)}},{label:"Second",unit:1e3,irregular:!1,greatTicks:{getReferenceKeyValue:Ff("seconds",1,(t=>0===t.millis),"millis")},majorTicks:{fitFunction:pc(5,10,15,30)},minorTicks:{amount:4,fitFunction:fc(void 0,2)}},{label:"Minute",unit:6e4,irregular:!1,greatTicks:{getReferenceKeyValue:Ff("minutes",1,(t=>0===t.seconds&&0===t.millis),"seconds","millis")},majorTicks:{fitFunction:pc(5,10,15,30)},minorTicks:{amount:12,fitFunction:fc(void 0,3,6)}},{label:"Hour",unit:36e5,irregular:!1,greatTicks:{getReferenceKeyValue:Ff("hours",1,(t=>0===t.minutes&&0===t.seconds&&0===t.millis),"minutes","seconds","millis")},majorTicks:{fitFunction:pc(3,6,12)},minorTicks:{amount:8,fitFunction:fc(void 0,2,4)}},{label:"Day",unit:864e5,irregular:!1,greatTicks:{getReferenceKeyValue:Ff("day",1,(t=>0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"hours","minutes","seconds","millis")},majorTicks:{fitFunction:fc({ignore:"last"},2,4)},minorTicks:{amount:7,fitFunction:fc({ignore:"last"},2,3)}},{label:"Week",unit:6048e5,irregular:!0,getPrevKeyValue:Nf(-1),getNextKeyValueIncludingRef:Nf(0),getNextKeyValue:Nf(1),greatTicks:!0,majorTicks:{fitFunction:fc(void 0,2)},minorTicks:{fitFunction:void 0}},{label:"Month",unit:2592e6,irregular:!0,getPrevKeyValue:Df("monthIndex",1,(t=>1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Lf("monthIndex",1,(t=>1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"day","hours","minutes","seconds","millis"),getNextKeyValue:zf("monthIndex",1,"day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:fc(void 0,2,3)},minorTicks:{fitFunction:fc(void 0,2,4,6)}},{label:"Year",unit:31536e6,irregular:!0,getPrevKeyValue:Df("year",1,(t=>1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Lf("year",1,(t=>1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:zf("year",1,"monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:fc({ignore:"first"},2,5)},minorTicks:{fitFunction:fc(void 0,2,5)}},{label:"Decade",unit:31536e7,irregular:!0,getPrevKeyValue:Df("year",10,(t=>t.year%10==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Lf("year",10,(t=>t.year%10==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:zf("year",10,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:fc(void 0,2,4)},minorTicks:{fitFunction:fc(void 0,2,5)}},{label:"Century",unit:316224e7,irregular:!0,getPrevKeyValue:Df("year",100,(t=>t.year%100==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Lf("year",100,(t=>t.year%100==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:zf("year",100,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:void 0},minorTicks:void 0},{label:"Millennium",unit:316224e8,irregular:!0,getPrevKeyValue:Df("year",1e3,(t=>t.year%1e3==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValueIncludingRef:Lf("year",1e3,(t=>t.year%1e3==0&&1===t.day&&0===t.hours&&0===t.minutes&&0===t.seconds&&0===t.millis),"year","monthIndex","day","hours","minutes","seconds","millis"),getNextKeyValue:zf("year",1e3,"year","monthIndex","day","hours","minutes","seconds","millis"),greatTicks:!0,majorTicks:{fitFunction:void 0},minorTicks:void 0}],Vf=(t,e,i)=>{let s=((t,e)=>{const i=e-t;let s;for(let n=0;n<_f.length;n+=1){if(i/_f[n].unit<=1){s=_f[n];break}}return s})(e,i);if(void 0!==s&&0===_f.indexOf(s)&&(s=_f[1]),void 0===s)return;if("great"===t)return s;const n="major"===t?1:2,r=_f[_f.indexOf(s)-n];return void 0===r?_f[0]:r},Bf=(t,e,i)=>(s,n,r,o)=>{const a=Vf("great",s,n);if(void 0===a)return[];if("Decade"===a.label||"Century"===a.label||"Millennium"===a.label)return[];const l=o>r?s:n,h=(s+n)/2,c=o>r?n:s;if(_f.indexOf(a)<=_f.findIndex((t=>"Hour"===t.label)))return"left"===i?[l]:[];let u;if(!0===a.irregular)u=dc(s,n,a.getPrevKeyValue(t,e),a.getNextKeyValue(t,e));else{const i=a.greatTicks.getReferenceKeyValue(t,e)(s);u=uc(s,n,a.unit,i,1)}const d=((t,e,i)=>{for(const s of i)if(s>=t&&s<=e)return s})(s,n,u);return"left"===i?void 0===d||cl(d,h,c)?[l]:[d]:void 0!==d&&cl(d,h,c)?[d]:[c]},Of=(t,e,i)=>(s,n,r,o)=>{const a=Vf(t,r,o);let l;if(void 0===a)return[];if("great"===t&&void 0!==a.greatTicks)if(!0===a.irregular)l=dc(s,n,a.getPrevKeyValue(e,i),a.getNextKeyValue(e,i));else{const t=a.greatTicks.getReferenceKeyValue(e,i)(s);l=uc(s,n,a.unit,t,1)}else if("major"===t&&void 0!==a.majorTicks)l=!0===a.irregular?((t,e,i,s)=>{const n=[];let r=i(t),o=0;for(;r<e;)if(n.push(r),r=s(r),o+=1,o>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return n.push(r),n})(s,n,a.getPrevKeyValue(e,i),a.getNextKeyValue(e,i)):((t,e,i)=>{const s=[];let n=t,r=0;for(;n<e;)if(s.push(n),n+=i,r+=1,r>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return s.push(n),s})(s,n,a.unit);else{if("minor"!==t||void 0===a.minorTicks)return[];if(!0===a.irregular)l=((t,e,i,s)=>{const n=[];let r=i(t),o=0;for(;r<e;)if(n.push(r),r=s(r),o+=1,o>1e3)throw new Error("Infinite loop in Axis tick key values logic.");return n})(s,n,a.getNextKeyValueIncludingRef(e,i),a.getNextKeyValue(e,i));else{const t=(t=>{if(void 0!==t)return _f[_f.indexOf(t)+1]})(a);if(void 0===t)return[];l=cc(s,n,t.unit/a.minorTicks.amount,1)}}return l},Uf=t=>(e,i,s,n,r,o)=>{const a=Vf(t,r,o);if(void 0===a)return;let l;return"major"===t?l=a.majorTicks.fitFunction:a.minorTicks&&(l=a.minorTicks.fitFunction),l?l(e,i,s,n,r,o):void 0},Hf=vr({type:"date-time-ticks",utc:!1,locale:void 0,dateOrigin:void 0,cursorFormatter:void 0,greatTickStyle:new Rf,majorTickStyle:new Rf,minorTickStyle:new Rf,formatOptionsMajorCentury:{year:"numeric"},formatOptionsMinorDecade:{year:"numeric"},formatOptionsMajorDecade:{year:"numeric"},formatOptionsMinorYear:{year:"numeric"},formatOptionsMajorYear:{year:"numeric"},formatOptionsMinorMonth:{month:"short"},formatOptionsGreatYear:{year:"numeric"},formatOptionsMajorMonth:{month:"long"},formatOptionsMinorWeek:{day:"numeric"},formatOptionsGreatMonth:{year:"numeric",month:"long"},formatOptionsMajorWeek:{day:"numeric",weekday:"short"},formatOptionsMinorDay:{day:"numeric",weekday:"short"},formatOptionsGreatWeek:(t,e,i)=>{const s=new Date(t),n=(t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const i=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-i.getTime())/864e5+1)/7)})(s);return"".concat(new Intl.DateTimeFormat(i,{year:"numeric",month:"long"}).format(s)," Week ").concat(n)},formatOptionsMajorDay:{weekday:"long",day:"numeric"},formatOptionsMinorHour:{hour:"2-digit",minute:"2-digit"},formatOptionsGreatDay:{year:"numeric",month:"long",day:"numeric"},formatOptionsMajorHour:{hour:"2-digit",minute:"2-digit"},formatOptionsMinorMinute:{hour:"2-digit",minute:"2-digit"},formatOptionsGreatHour:{year:"numeric",month:"long",day:"numeric"},formatOptionsMajorMinute:{hour:"2-digit",minute:"2-digit"},formatOptionsMinorSecond:{hour:"2-digit",minute:"2-digit",second:"2-digit"},formatOptionsGreatMinute:{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"},formatOptionsMajorSecond:{second:"2-digit"},formatOptionsMinorMillisecond:t=>{const e=new Date(t);return"".concat((e.getSeconds()+e.getUTCMilliseconds()/1e3).toFixed(2))},formatOptionsGreatSecond:{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"},formatOptionsMajorMilliSecond:t=>{const e=new Date(t);return"".concat((e.getSeconds()+e.getUTCMilliseconds()/1e3).toFixed(1))}});class Gf extends Hf{Yh(t){const e=void 0!==this.dateOrigin?this.dateOrigin.getTime():0,i=t=>_f.map((e=>{const i=((t,e,i)=>{switch(i.label){case"MilliSecond100":return"Great"===e?void 0:"Major"===e?t.formatOptionsMajorMilliSecond:t.formatOptionsMinorMillisecond;case"Second":return"Great"===e?t.formatOptionsGreatSecond:"Major"===e?t.formatOptionsMajorSecond:t.formatOptionsMinorSecond;case"Minute":return"Great"===e?t.formatOptionsGreatMinute:"Major"===e?t.formatOptionsMajorMinute:t.formatOptionsMinorMinute;default:case"Hour":return"Great"===e?t.formatOptionsGreatHour:"Major"===e?t.formatOptionsMajorHour:t.formatOptionsMinorHour;case"Day":return"Great"===e?t.formatOptionsGreatDay:"Major"===e?t.formatOptionsMajorDay:t.formatOptionsMinorDay;case"Week":return"Great"===e?t.formatOptionsGreatWeek:"Major"===e?t.formatOptionsMajorWeek:t.formatOptionsMinorWeek;case"Month":return"Great"===e?t.formatOptionsGreatMonth:"Major"===e?t.formatOptionsMajorMonth:t.formatOptionsMinorMonth;case"Year":return"Great"===e?t.formatOptionsGreatYear:"Major"===e?t.formatOptionsMajorYear:t.formatOptionsMinorYear;case"Decade":return"Great"===e?void 0:"Major"===e?t.formatOptionsMajorDecade:t.formatOptionsMinorDecade;case"Century":return"Great"===e?void 0:"Major"===e?t.formatOptionsMajorCentury:void 0;case"Millennium":return}})(this,t,e);if("object"!=typeof i)return i;try{return new Intl.DateTimeFormat(this.locale,i)}catch(t){let s="";for(const t in i)s+=" ".concat(t,": ").concat(i[t],",");Ho.console.error("Invalid Intl.DateTimeFormat ( locale: ".concat(this.locale,", formatOptions {").concat(s,"} )"))}})),s=new Map;s.set("great",i("Great")),s.set("major",i("Major")),s.set("minor",i("Minor"));const n=t=>String(t),r=(t,i)=>(r,o)=>{let a=r+e;const l=o.getInnerStart(),h=o.getInnerEnd(),c=l>h,u=Vf(t,c?h:l,c?l:h);if(void 0===u)return n(a);if("great"===t){const t=qo(r,"left"===i?l:h);let s;if(s=!1===t?r:!1===u.irregular?"left"===i&&!1===c||"right"===i&&!0===c?u.greatTicks.getReferenceKeyValue(e,this.utc)(r):u.greatTicks.getReferenceKeyValue(e,this.utc)(r+1*u.unit):"left"===i&&!1===c||"right"===i&&!0===c?u.getPrevKeyValue(e,this.utc)(r):u.getNextKeyValue(e,this.utc)(r),a=s+e,"right"===i&&!0===t)return""}const d=s.get(t);if(void 0===d)return n(a);const f=d[_f.indexOf(u)];return void 0===f?"":"function"==typeof f?f(a,o,this.locale):f.format(a)},o=[],a=[{Ue:"Great ticks (directive)",Rg:0,Ne:!0,Br:Of("great",e,this.utc),Lr:void 0},{Ue:"Major ticks",Rg:1,lr:this.majorTickStyle,nr:r("major"),Br:Of("major",e,this.utc),bh:{dr:Uf("major")},Lr:void 0}];If(this.greatTickStyle)||(o.push({Ue:"Great ticks (left)",lr:this.greatTickStyle.setLabelAlignment(-1),nr:r("great","left"),Br:Bf(e,this.utc,"left"),Oe:!0,mr:!1}),o.push({Ue:"Great ticks (right)",lr:this.greatTickStyle.setLabelAlignment(1),nr:r("great","right"),Br:Bf(e,this.utc,"right"),Oe:!0,mr:!1})),If(this.minorTickStyle)||a.push({Ue:"Minor ticks",Rg:2,lr:this.minorTickStyle,nr:r("minor"),Br:Of("minor",e,this.utc),bh:{dr:Uf("minor"),xh:(t,e,i,s,n,r)=>{const o=Vf("minor",n,r);return!o||"Week"!==o.label}},Lr:void 0});const l=this.cursorFormatter;return{He:o,$e:a,Ge:l?(t,i,s)=>l(e+t,i,s):(t,i,s)=>{const n=new Date(e+t);return"".concat(new Intl.DateTimeFormat(s,{year:"numeric",month:"numeric",day:"numeric",minute:"2-digit",hour:"2-digit"}).format(n)," ")},Xh:1e3,jh:31536e9}}setCursorFormatter(t){return this.set("cursorFormatter",t)}getCursorFormatter(){return this.get("cursorFormatter")}setTickStyle(t){return this.setGreatTickStyle(t).setMajorTickStyle(t).setMinorTickStyle(t)}setGreatTickStyle(t){if("function"==typeof t){const e=this.get("greatTickStyle");return this.set("greatTickStyle",t(e))}return this.set("greatTickStyle",t)}getGreatTickStyle(){return this.get("greatTickStyle")}setMajorTickStyle(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)}getMajorTickStyle(){return this.get("majorTickStyle")}setMinorTickStyle(t){if("function"==typeof t){const e=this.get("minorTickStyle");return this.set("minorTickStyle",t(e))}return this.set("minorTickStyle",t)}getMinorTickStyle(){return this.get("minorTickStyle")}setUTC(t){return this.set("utc",t)}getUTC(){return this.get("utc")}setLocale(t){return this.set("locale",t)}getLocale(){return this.get("locale")}setDateOrigin(t){return this.set("dateOrigin",t)}getDateOrigin(){return this.get("dateOrigin")}setFormatting(t,e,i){return this.withMutations((s=>s.set("formatOptionsGreatYear",t||this.formatOptionsGreatYear).set("formatOptionsGreatMonth",t||this.formatOptionsGreatMonth).set("formatOptionsGreatWeek",t||this.formatOptionsGreatWeek).set("formatOptionsGreatDay",t||this.formatOptionsGreatDay).set("formatOptionsGreatHour",t||this.formatOptionsGreatHour).set("formatOptionsGreatMinute",t||this.formatOptionsGreatMinute).set("formatOptionsGreatSecond",t||this.formatOptionsGreatSecond).set("formatOptionsMajorCentury",e||this.formatOptionsMajorCentury).set("formatOptionsMajorDecade",e||this.formatOptionsMajorDecade).set("formatOptionsMajorYear",e||this.formatOptionsMajorYear).set("formatOptionsMajorMonth",e||this.formatOptionsMajorMonth).set("formatOptionsMajorWeek",e||this.formatOptionsMajorWeek).set("formatOptionsMajorDay",e||this.formatOptionsMajorDay).set("formatOptionsMajorHour",e||this.formatOptionsMajorHour).set("formatOptionsMajorMinute",e||this.formatOptionsMajorMinute).set("formatOptionsMajorSecond",e||this.formatOptionsMajorSecond).set("formatOptionsMajorMilliSecond",e||this.formatOptionsMajorMilliSecond).set("formatOptionsMinorDecade",i||this.formatOptionsMinorDecade).set("formatOptionsMinorYear",i||this.formatOptionsMinorYear).set("formatOptionsMinorMonth",i||this.formatOptionsMinorMonth).set("formatOptionsMinorWeek",i||this.formatOptionsMinorWeek).set("formatOptionsMinorDay",i||this.formatOptionsMinorDay).set("formatOptionsMinorHour",i||this.formatOptionsMinorHour).set("formatOptionsMinorMinute",i||this.formatOptionsMinorMinute).set("formatOptionsMinorSecond",i||this.formatOptionsMinorSecond)))}setFormattingDecade(t,e){return this.withMutations((i=>(t&&(i=i.set("formatOptionsMajorDecade",t)),e&&(i=i.set("formatOptionsMinorYear",e)),i)))}setFormattingYear(t,e){return this.withMutations((i=>(t&&(i=i.set("formatOptionsMajorYear",t)),e&&(i=i.set("formatOptionsMinorMonth",e)),i)))}setFormattingMonth(t,e,i){return this.withMutations((s=>(t&&(s=s.set("formatOptionsGreatYear",t)),e&&(s=s.set("formatOptionsMajorMonth",e)),i&&(s=s.set("formatOptionsMinorWeek",i)),s)))}setFormattingWeek(t,e,i){return this.withMutations((s=>(t&&(s=s.set("formatOptionsGreatMonth",t)),e&&(s=s.set("formatOptionsMajorWeek",e)),i&&(s=s.set("formatOptionsMinorDay",i)),s)))}setFormattingDay(t,e,i){return this.withMutations((s=>(t&&(s=s.set("formatOptionsGreatWeek",t)),e&&(s=s.set("formatOptionsMajorDay",e)),i&&(s=s.set("formatOptionsMinorHour",i)),s)))}setFormattingHour(t,e,i){return this.withMutations((s=>(t&&(s=s.set("formatOptionsGreatDay",t)),e&&(s=s.set("formatOptionsMajorHour",e)),i&&(s=s.set("formatOptionsMinorMinute",i)),s)))}setFormattingMinute(t,e,i){return this.withMutations((s=>(t&&(s=s.set("formatOptionsGreatHour",t)),e&&(s=s.set("formatOptionsMajorMinute",e)),i&&(s=s.set("formatOptionsMinorSecond",i)),s)))}setFormattingSecond(t,e,i){return this.withMutations((s=>(t&&(s=s.set("formatOptionsGreatMinute",t)),e&&(s=s.set("formatOptionsMajorSecond",e)),i&&(s=s.set("formatOptionsMinorMillisecond",i)),s)))}setFormattingMilliSecond(t,e){return this.withMutations((i=>(t&&(i=i.set("formatOptionsGreatSecond",t)),e&&(i=i.set("formatOptionsMajorMilliSecond",e)),i)))}}const Wf=(t,e)=>(i,s)=>{const n=s-i;if(e){const e=Math.log10(n/2);let r=10**Math.floor(e-t);const o=1/r;r=Math.round(r*o)/o;const a=Math.round(Math.floor(i/(10*r))*r*10*o)/o;return uc(a,s,r,void 0,o)}const r=Math.log10(n);let o=10**Math.round(r-t);const a=1/o;return o=Math.round(o*a)/a,cc(i,s,o,a)},jf=(t,e,i,s,n,r)=>0===e?t.filter(((t,e)=>e%2==0)):1===e?t.filter(((t,e)=>e%5==0)):void 0,Yf=(t,e,i,s,n,r)=>0===e?t.filter(((t,e)=>e%2==0)):1===e?t.filter(((t,e)=>e%3==0)):2===e?t.filter(((t,e)=>e%4==0)):3===e?t.filter(((t,e)=>e%5==0)):void 0,Xf=fc(void 0,2,5),qf=(t,e,i,s,n,r)=>0===e?[t[1],t[3],t[5]]:1===e?[t[0],t[3]]:2===e?[t[1]]:void 0,Jf=(t,e)=>{const i=Wl(t),s=jl(t);if(e)return(t,e)=>{const n=[],r=Math.floor(i(t)),o=Math.ceil(i(e));for(let i=r-1;i<=o+1;i+=1){const t=s**i;n.push(t)}return n};const n=10===t?9:4;return(t,e)=>{const r=Math.round(i(t)),o=Math.round(i(e)),a=[],l=s**r,h=(s**o-l)/n;for(let i=1;i<=n;i+=1){const s=l+h*i;s>t&&s<e&&a.push(s)}return a}},Kf=vr({type:"numeric-ticks",cursorFormatter:void 0,extremeTickStyle:new Rf,majorTickStyle:new Rf,minorTickStyle:new Rf,formattingOffset:void 0,extremeFormattingFunction:void 0,majorFormattingFunction:void 0,minorFormattingFunction:void 0});class Zf extends Kf{Yh(t){const e=this.formattingOffset,i=this.get("extremeFormattingFunction")||("logarithmic"===t.type?(e,i)=>Kl.LogarithmicNoExponents(e,i,void 0,t.base):Kl.Numeric),s=this.get("majorFormattingFunction")||("logarithmic"===t.type?(e,i)=>Kl.LogarithmicNoExponents(e,i,void 0,t.base):Kl.Numeric),n=this.get("minorFormattingFunction")||("logarithmic"===t.type?(e,i)=>Kl.LogarithmicNoExponents(e,i,void 0,t.base):Kl.Numeric),r=[],o=[];If(this.extremeTickStyle)||r.push({Ue:"Extreme ticks",lr:this.extremeTickStyle,nr:void 0===e?i:(t,s,n)=>i(e+t,s,n),Br:hc,Oe:!0,mr:!0}),o.push({Ue:"Major ticks",Rg:0,lr:this.majorTickStyle,nr:void 0===e?s:(t,i,n)=>s(e+t,i,n),Br:"logarithmic"===t.type?Jf(t.base,!0):Wf(0,!0),bh:"logarithmic"===t.type?{dr:Yf}:{dr:jf},Lr:void 0}),If(this.minorTickStyle)||o.push({Ue:"Minor ticks",Rg:1,lr:this.minorTickStyle,nr:void 0===e?n:(t,i,s)=>n(e+t,i,s),Br:"logarithmic"===t.type?Jf(t.base,!1):Wf(1,!1),bh:"logarithmic"===t.type?{dr:qf}:{dr:Xf},Lr:50});const a=this.cursorFormatter?this.cursorFormatter:Kl.Numeric;return{He:r,$e:o,Ge:void 0===e?a:(t,i,s)=>a(e+t,i,s),Xh:1e-9,jh:void 0}}setCursorFormatter(t){return this.set("cursorFormatter",t)}getCursorFormatter(){return this.get("cursorFormatter")}setExtremeTickStyle(t){if("function"==typeof t){const e=this.get("extremeTickStyle");return this.set("extremeTickStyle",t(e))}return this.set("extremeTickStyle",t)}getExtremeTickStyle(){return this.get("extremeTickStyle")}setFormattingOffset(t){return this.set("formattingOffset",t)}getFormattingOffset(){return this.get("formattingOffset")}setTickStyle(t){const e=this.setMajorTickStyle(t).setMinorTickStyle(t);return e.extremeTickStyle!==Tf?e.setExtremeTickStyle(t):e}setMajorTickStyle(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)}getMajorTickStyle(){return this.get("majorTickStyle")}setMinorTickStyle(t){if("function"==typeof t){const e=this.get("minorTickStyle");return this.set("minorTickStyle",t(e))}return this.set("minorTickStyle",t)}getMinorTickStyle(){return this.get("minorTickStyle")}setFormattingFunction(t){return this.withMutations((e=>e.set("extremeFormattingFunction",t).set("majorFormattingFunction",t).set("minorFormattingFunction",t).set("cursorFormatter",t)))}getExtremeFormattingFunction(){return this.get("extremeFormattingFunction")}setExtremeFormattingFunction(t){return this.set("extremeFormattingFunction",t)}getMajorFormattingFunction(){return this.get("majorFormattingFunction")}setMajorFormattingFunction(t){return this.set("majorFormattingFunction",t)}getMinorFormattingFunction(){return this.get("minorFormattingFunction")}setMinorFormattingFunction(t){return this.set("minorFormattingFunction",t)}}const Qf=vr({type:"time-ticks",cursorFormatter:void 0,timeOrigin:void 0,majorTickStyle:new Rf,minorTickStyle:new Rf,majorFormattingFunction:void 0,minorFormattingFunction:void 0}),$f=(t,e)=>{const i=e-t;return i>=864e5?"MajorHours12":i>=36e5?"MajorHours":i>=6e5?"MajorMinutes15":i>=9e4?"MajorMinutes":i>=10500?"MajorSeconds15":i>=1e3?"MajorSeconds":i>=100?"MajorMilliseconds100":i>=10?"MajorMilliseconds10":i>=1?"MajorMilliseconds":i>=.1?"MajorMicroseconds100":i>=.01?"MajorMicroseconds10":i>=.001?"MajorMicroseconds":i<=.001?"MajorNanoseconds100":"Unknown"},tp={hhmmss:t=>{let e=Math.abs(t);const i=t>=0?"":"-",s=Math.floor(e/36e5);e%=36e5;const n=Math.floor(e/6e4);e%=6e4;const r=Math.floor(e/1e3);return"".concat(i).concat(Fa(s,2),":").concat(Fa(n,2),":").concat(Fa(r,2))},hhmmssmmm:t=>{let e=Math.abs(t);const i=t>=0?"":"-",s=Math.floor(e/36e5);e%=36e5;const n=Math.floor(e/6e4);e%=6e4;const r=Math.floor(e/1e3);e%=1e3;const o=Math.floor(e/1);return"".concat(i).concat(Fa(s,2),":").concat(Fa(n,2),":").concat(Fa(r,2),".").concat(Fa(o,3))},hhmmssmmmuuu:t=>{const e=Math.abs(t),i=t>=0?"":"-",s=Math.floor(e/36e5),n=Math.floor(e/6e4)%60,r=Math.floor(e/1e3)%60,o=Math.floor(e/1)%1e3,a=t.toLocaleString("en-US",{minimumFractionDigits:3,maximumFractionDigits:3}).split(".")[1];return"".concat(i).concat(Fa(s,2),":").concat(Fa(n,2),":").concat(Fa(r,2),".").concat(Fa(o,3)).concat(a)},hhmmssmmmuuunnn:t=>{const e=Math.abs(t),i=t>=0?"":"-",s=Math.floor(e/36e5),n=Math.floor(e/6e4)%60,r=Math.floor(e/1e3)%60,o=Math.floor(e/1)%1e3,a=t.toLocaleString("en-US",{minimumFractionDigits:6,maximumFractionDigits:6}).split(".")[1];return"".concat(i).concat(Fa(s,2),":").concat(Fa(n,2),":").concat(Fa(r,2),".").concat(Fa(o,3)).concat(a)}},ep={MajorHours12:{major:{format:tp.hhmmss,getKeyValues:(t,e,i,s)=>{const n=432e5;return t=Math.floor(t/(4*n))*n*4,uc(t,e,n,void 0,1e6)},fitKeyValues:fc({ignore:"first"},2,4)},minor:{format:tp.hhmmss,getKeyValues:(t,e,i,s)=>cc(t,e,36e5,1e6),fitKeyValues:fc({},2,3,4,6)},defaultValueFormatter:tp.hhmmss},MajorHours:{major:{format:tp.hhmmss,getKeyValues:(t,e,i,s)=>{const n=36e5;return t=Math.floor(t/(12*n))*n*12,uc(t,e,n,void 0,1e6)},fitKeyValues:fc({ignore:"first"},2,6,12)},minor:{format:tp.hhmmss,getKeyValues:(t,e,i,s)=>cc(t,e,3e5,1e6),fitKeyValues:fc({},2,4,6)},defaultValueFormatter:tp.hhmmss},MajorMinutes15:{major:{format:tp.hhmmss,getKeyValues:(t,e,i,s)=>(t=36e5*Math.floor(t/36e5),uc(t,e,9e5,void 0,1e6)),fitKeyValues:fc({ignore:"first"},2)},minor:{format:tp.hhmmss,getKeyValues:(t,e,i,s)=>cc(t,e,6e4,1e6),fitKeyValues:fc({},3,5)},defaultValueFormatter:tp.hhmmss},MajorMinutes:{major:{format:tp.hhmmss,getKeyValues:(t,e,i,s)=>(t=6e4*Math.floor(t/6e5)*10,uc(t,e,6e4,void 0,1e6)),fitKeyValues:fc({ignore:"first"},2,5)},minor:{format:tp.hhmmss,getKeyValues:(t,e,i,s)=>cc(t,e,5e3,1e6),fitKeyValues:fc({},2,3,4,6)},defaultValueFormatter:tp.hhmmss},MajorSeconds15:{major:{format:tp.hhmmss,getKeyValues:(t,e,i,s)=>(t=15e3*Math.floor(t/6e4)*4,uc(t,e,15e3,void 0,1e6)),fitKeyValues:fc({ignore:"first"},2,4)},minor:{format:tp.hhmmss,getKeyValues:(t,e,i,s)=>cc(t,e,1e3,1e6),fitKeyValues:fc({},3,5)},defaultValueFormatter:tp.hhmmss},MajorSeconds:{major:{format:tp.hhmmssmmm,getKeyValues:(t,e,i,s)=>(t=1e3*Math.floor(t/1e4)*10,uc(t,e,1e3,void 0,1e6)),fitKeyValues:fc({ignore:"first"},2,5)},minor:{format:tp.hhmmssmmm,getKeyValues:(t,e,i,s)=>cc(t,e,100,1e6),fitKeyValues:fc({},2,3,5)},defaultValueFormatter:tp.hhmmssmmm},MajorMilliseconds100:{major:{format:tp.hhmmssmmm,getKeyValues:(t,e,i,s)=>(t=100*Math.floor(t/1e3)*10,uc(t,e,100,void 0,1e6)),fitKeyValues:fc({ignore:"first"},2,5)},minor:{format:tp.hhmmssmmm,getKeyValues:(t,e,i,s)=>cc(t,e,10,1e6),fitKeyValues:fc({},2,3,5)},defaultValueFormatter:tp.hhmmssmmm},MajorMilliseconds10:{major:{format:tp.hhmmssmmm,getKeyValues:(t,e,i,s)=>(t=10*Math.floor(t/100)*10,uc(t,e,10,void 0,1e6)),fitKeyValues:fc({ignore:"first"},2,5)},minor:{format:tp.hhmmssmmm,getKeyValues:(t,e,i,s)=>cc(t,e,1,1e6),fitKeyValues:fc({},2,3,5)},defaultValueFormatter:tp.hhmmssmmm},MajorMilliseconds:{major:{format:tp.hhmmssmmmuuu,getKeyValues:(t,e,i,s)=>(t=1*Math.floor(t/10)*10,uc(t,e,1,void 0,1e6)),fitKeyValues:fc({ignore:"first"},2,5)},minor:{format:tp.hhmmssmmmuuu,getKeyValues:(t,e,i,s)=>cc(t,e,.1,1e6),fitKeyValues:fc({},2)},defaultValueFormatter:tp.hhmmssmmmuuu},MajorMicroseconds100:{major:{format:tp.hhmmssmmmuuu,getKeyValues:(t,e,i,s)=>(t=.1*Math.floor(t/1)*10,uc(t,e,.1,void 0,1e6)),fitKeyValues:fc({ignore:"first"},2,5)},minor:{format:tp.hhmmssmmmuuu,getKeyValues:(t,e,i,s)=>cc(t,e,.01,1e6),fitKeyValues:fc({},2,3,5)},defaultValueFormatter:tp.hhmmssmmmuuu},MajorMicroseconds10:{major:{format:tp.hhmmssmmmuuu,getKeyValues:(t,e,i,s)=>(t=.01*Math.floor(t/.1)*10,uc(t,e,.01,void 0,1e6)),fitKeyValues:fc({ignore:"first"},2,5)},minor:{format:tp.hhmmssmmmuuu,getKeyValues:(t,e,i,s)=>cc(t,e,.001,1e6),fitKeyValues:fc({},2,3,5)},defaultValueFormatter:tp.hhmmssmmmuuu},MajorMicroseconds:{major:{format:tp.hhmmssmmmuuunnn,getKeyValues:(t,e,i,s)=>(t=.001*Math.floor(t/.01)*10,uc(t,e,.001,void 0,1e6)),fitKeyValues:fc({ignore:"first"},2,5)},minor:{format:tp.hhmmssmmmuuunnn,getKeyValues:(t,e,i,s)=>cc(t,e,100*1e-6,1e6),fitKeyValues:fc({},2,3,5)},defaultValueFormatter:tp.hhmmssmmmuuunnn},MajorNanoseconds100:{major:{format:tp.hhmmssmmmuuunnn,getKeyValues:(t,e,i,s)=>{const n=100*1e-6;return t=Math.floor(t/.001)*n*10,uc(t,e,n,void 0,1e6)},fitKeyValues:fc({ignore:"first"},2,5)},minor:{format:tp.hhmmssmmmuuunnn,getKeyValues:(t,e,i,s)=>cc(t,e,10*1e-6,1e6),fitKeyValues:fc({},2,3,5)},defaultValueFormatter:tp.hhmmssmmmuuunnn},Unknown:{major:{format:(t,e,i)=>"",getKeyValues:(t,e,i,s)=>[],fitKeyValues:void 0},minor:{format:(t,e,i)=>"",getKeyValues:(t,e,i,s)=>[],fitKeyValues:void 0},defaultValueFormatter:(t,e,i)=>""}};class ip extends Qf{Yh(t){const e=this.timeOrigin||0,i=[{Ue:"Major ticks",Rg:0,lr:this.majorTickStyle,nr:this.majorFormattingFunction?this.majorFormattingFunction:(t,i,s)=>{const n=$f(Math.min(i.getInnerStart(),i.getInnerEnd()),Math.max(i.getInnerStart(),i.getInnerEnd()));return(0,ep[n].major.format)(t+e,i,s)},Br:(t,e,i,s)=>{const n=$f(i,s);return(0,ep[n].major.getKeyValues)(t,e,i,s)},bh:{dr:(t,e,i,s,n,r)=>{const o=$f(n,r),a=ep[o].major.fitKeyValues;if(a)return a(t,e,i,s,n,r)}},Lr:void 0}];return Ef(this.minorTickStyle)&&i.push({Ue:"Minor ticks",Rg:1,lr:this.minorTickStyle,nr:this.minorFormattingFunction?this.minorFormattingFunction:(t,i,s)=>{const n=$f(Math.min(i.getInnerStart(),i.getInnerEnd()),Math.max(i.getInnerStart(),i.getInnerEnd()));return(0,ep[n].minor.format)(t+e,i,s)},Br:(t,e,i,s)=>{const n=$f(i,s);return(0,ep[n].minor.getKeyValues)(t,e,i,s)},bh:{dr:(t,e,i,s,n,r)=>{const o=$f(n,r),a=ep[o].minor.fitKeyValues;if(a)return a(t,e,i,s,n,r)}},Lr:void 0}),{He:[],$e:i,Ge:this.cursorFormatter||((t,i,s)=>{const n=$f(Math.min(i.getInnerStart(),i.getInnerEnd()),Math.max(i.getInnerStart(),i.getInnerEnd()));return ep[n].defaultValueFormatter(t+e,i,s)}),Xh:1e-4,jh:864e6}}setTickStyle(t){return this.setMajorTickStyle(t).setMinorTickStyle(t)}setMajorTickStyle(t){return"function"==typeof t?this.set("majorTickStyle",t(this.get("majorTickStyle"))):this.set("majorTickStyle",t)}getMajorTickStyle(){return this.get("majorTickStyle")}setMinorTickStyle(t){if("function"==typeof t){const e=this.get("minorTickStyle");return this.set("minorTickStyle",t(e))}return this.set("minorTickStyle",t)}getMinorTickStyle(){return this.get("minorTickStyle")}setCursorFormatter(t){return this.set("cursorFormatter",t)}getCursorFormatter(){return this.get("cursorFormatter")}setTimeOrigin(t){return this.set("timeOrigin",t)}getTimeOrigin(){return this.get("timeOrigin")}setFormattingFunction(t){return this.withMutations((e=>e.set("majorFormattingFunction",t).set("minorFormattingFunction",t).set("cursorFormatter",t)))}getMajorFormattingFunction(){return this.get("majorFormattingFunction")}setMajorFormattingFunction(t){return this.set("majorFormattingFunction",t)}getMinorFormattingFunction(){return this.get("minorFormattingFunction")}setMinorFormattingFunction(t){return this.set("minorFormattingFunction",t)}}const sp=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"image/png",s=arguments.length>3?arguments[3]:void 0;e+=".".concat(i.slice(i.indexOf("image/")+6));const n=t.captureFrame(i,s);if("image/png"!==i&&n.type.includes("image/png"))throw new Error("saveToFile | type not supported by browser: ".concat(i,"\nCheck support table for HTMLCanvasElement.toDataURL"));if(Ho.navigator.msSaveBlob)Ho.navigator.msSaveBlob(n,e);else{const t=Ho.document.createElement("a");Ho.document.body.appendChild(t);const i=Ho.URL.createObjectURL(n);t.href=i,t.download=e,t.click(),setTimeout((()=>{Ho.URL.revokeObjectURL(i),Ho.document.body.removeChild(t)}),0)}},np=(t,e,i,s,n,r)=>{const o=t.Zu(e,i,s,n,r,!0);return o.setDraggingMode(Oo.draggable),o},rp=(t,e)=>{if("relative"===t)return e;if(t instanceof th)return t;const i=t.x instanceof yc?t.x.dt:t.x.x,s=t.y instanceof yc?t.y.dt:t.y.y;return sh(i,s)},op=(t,e,i,s,n)=>{if(i){const r=t,o=e,a=Mf(o)?o:oh(o)?s:void 0;if(a&&nh(i)){const t=Lo(r,a,n.dt);return n.Do({engineX:t.x,engineY:t.y})}if(a&&oh(i))return Lo(r,a,s);if(a&&Mf(i))return Lo(r,a,i)}else{const i=t;if(oh(e)){const t=n.Po(i);return Lo({x:t.engineX,y:t.engineY},n.dt,s)}if(Mf(e)){const t=e,s=n.Po(i);return Lo({x:s.engineX,y:s.engineY},n.dt,t)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")};class ap{constructor(t,e,i,s,n,r,o,a){this.coordsRelative="relative",this.coordsClient="client",this.Hg=[],this.$g=[],this.D=new Ir,this.Xg=void 0,this.jg=void 0,this.Zg=void 0,this.Xt=Hr(0,0,0,0),this.Qg=!1,this.$i=!1,this.Jg=()=>{this.Kg=!0,this.qg.Ss()},this.tm=t=>e=>{const i=this.Hg.indexOf(e);-1!==i&&this.Hg.splice(i,1),this.us.Ss(),t.W()},this.im=t=>{const e=this.$g.indexOf(t);-1!==e&&this.$g.splice(e,1),this.us.Ss()},this.Kg=!0,this.onInViewChange=t=>this.D.on("inViewChange",t),this.offInViewChange=t=>this.D.off(t,"inViewChange"),this.cA=t,this.sm=i,this.qg=s,this.removePanel=n,this.qi=e.us.qi;const l=e.us.oi();if(this.uiScale=i.d2({scaleXYConstructor:eh}).Vi(0,100).Oi(0,100).q(l),this.pixelScale=i.d2({scaleXYConstructor:eh}).Vi(0,this.uiScale.x.getCellSize()).Oi(0,this.uiScale.y.getCellSize()).q(l),this.engine=e.us.hm,this.us=e.us.rm,this.es=this.us.es.hs(this,{}),this.nm=()=>e.om("unidentified ui"),this.am=e.lm(),this.um=this.qg.ke(this.uiScale).Fe(Lr(0,0)).q(Lr(100,100)).Ce(r).we(o).setMouseMoveEventHandler(((t,e)=>this.D.emit("mouseMovePanelBackground",this,e))).setMouseEnterEventHandler(((t,e)=>this.D.emit("mouseEnterPanelBackground",this,e))).setMouseLeaveEventHandler(((t,e)=>this.D.emit("mouseLeavePanelBackground",this,e))).setMouseDownEventHandler(((t,e)=>this.D.emit("mouseDownPanelBackground",this,e))).setMouseUpEventHandler(((t,e)=>this.D.emit("mouseUpPanelBackground",this,e))).setMouseClickEventHandler(((t,e)=>this.D.emit("mouseClickPanelBackground",this,e))).setMouseDoubleClickEventHandler(((t,e)=>this.D.emit("mouseDoubleClickPanelBackground",this,e))).setMouseWheelEventHandler(((t,e)=>this.D.emit("mouseWheelPanelBackground",this,e))).setMouseDragStartEventHandler(((t,e,i)=>this.D.emit("mouseDragStartPanelBackground",this,e,i))).setMouseDragEventHandler(((t,e,i,s,n)=>this.D.emit("mouseDragPanelBackground",this,e,i,s,n))).setMouseDragStopEventHandler(((t,e,i,s)=>this.D.emit("mouseDragStopPanelBackground",this,e,i,s))).setTouchStartEventHandler(((t,e)=>this.D.emit("touchStartPanelBackground",this,e))).setTouchMoveEventHandler(((t,e)=>this.D.emit("touchMovePanelBackground",this,e))).setTouchEndEventHandler(((t,e)=>this.D.emit("touchEndPanelBackground",this,e))),a){const t=a.on(this.Jg);this.dm=()=>a.off(t)}else{const t=e.us.Co(this.Jg);this.fm=e.us.ko.bind(e.us,t)}const h=e.us.Fo((t=>{this.Qg=t,this.D.emit("inViewChange",this,t)}));this.Am=e.us.Io.bind(e.us,h),this.Xg=n}getTheme(){return this.qi}getSizePixels(){return this.pixelScale.getInnerIntervalPixels()}setBackgroundFillStyle(t){return this.um.Ce(t),this.qg.Ss(),this}getBackgroundFillStyle(){return this.um.Eh()}setBackgroundStrokeStyle(t){return this.um.we(t),this.qg.Ss(),this}getBackgroundStrokeStyle(){return this.um.ao()}translateCoordinate(t,e,i){return op(t,e,i,this.pixelScale,this.us)}gm(t){return this.Hg.push(t),this.us.Ss(),t}ym(t){return this.$g.push(t),this.us.Ss(),t}addUIElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qd,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.uiScale;e=rp(e,this.pixelScale);const i=this.nm();return this.gm(np(t,i,this.uiScale,e,this.tm(i),this.qi))}addLegendBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:of,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.uiScale;e=rp(e,this.pixelScale);const i=this.ym(np(t,this.am,this.uiScale,e,this.im,this.qi));return i.setDraggingMode(Oo.notDraggable),void 0!==e&&e!==this.uiScale||(void 0===t||"vertical"===t.getAlignment()?i.setOrigin(Yh.RightCenter).setPosition({x:100,y:50}):i.setOrigin(Yh.CenterBottom).setPosition(this.uiScale.mi({x:50,y:0},{x:0,y:3}))),i}getLegendBoxes(){return this.$g}dispose(){return this.$i||(this.$i=!0,this.fm&&this.fm(),this.dm&&this.dm(),lp(this.uiScale),lp(this.pixelScale),this.Am&&this.Am(),this.jg&&this.jg(),this.qg.W(),this.am.W(),this.Hg.slice().forEach((t=>{t.dispose()})),this.$g.slice().forEach((t=>{t.dispose()})),this.us.Ss(),this.Xg&&this.Xg(this),this.D.emit("dispose",this)),this}isDisposed(){return this.$i}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}saveToFile(t,e,i){return sp(this.engine,t,e,i),this}Fr(t){this.Xt=t,this.Jg()}j(){return this.pixelScale.j(),this.uiScale.j(),this}Z(){return this.pixelScale.Z(),this.uiScale.Z(),this}Te(t){if(this.Kg){const t=this.qg.us.oi(),e=t.x,i=t.y;this.uiScale.q(e,i),this.pixelScale.q(e,i);const s=[this.Xt.left,this.Xt.right],n=[this.Xt.bottom,this.Xt.top];this.uiScale.Ei(s),this.uiScale.zi(n);const r=this.uiScale.getInnerIntervalPixels();this.pixelScale.Vi(0,r.x).Ei(s).Oi(0,r.y).zi(n),this.D.emit("resize",this,r.x,r.y,e,i)}this.Kg=!1}pm(){for(let t=0;t<this.Hg.length;t+=1)this.Hg[t].Ps().Te();for(let t=0;t<this.$g.length;t+=1)this.$g[t].Ps().Te();this.Zg&&this.Zg()}Sm(t,e){if(t){const i=t(e);this.onResize(i.Ps.bind(i)),this.jg=i.W.bind(i),this.Zg=i.Ps.bind(i)}}onBackgroundMouseEnter(t){return this.D.on("mouseEnterPanelBackground",t)}offBackgroundMouseEnter(t){return this.D.off(t,"mouseEnterPanelBackground")}onBackgroundMouseMove(t){return this.D.on("mouseMovePanelBackground",t)}offBackgroundMouseMove(t){return this.D.off(t,"mouseMovePanelBackground")}onBackgroundMouseLeave(t){return this.D.on("mouseLeavePanelBackground",t)}offBackgroundMouseLeave(t){return this.D.off(t,"mouseLeavePanelBackground")}onBackgroundMouseDown(t){return this.D.on("mouseDownPanelBackground",t)}offBackgroundMouseDown(t){return this.D.off(t,"mouseDownPanelBackground")}onBackgroundMouseUp(t){return this.D.on("mouseUpPanelBackground",t)}offBackgroundMouseUp(t){return this.D.off(t,"mouseUpPanelBackground")}onBackgroundMouseClick(t){return this.D.on("mouseClickPanelBackground",t)}offBackgroundMouseClick(t){return this.D.off(t,"mouseClickPanelBackground")}onBackgroundMouseDoubleClick(t){return this.D.on("mouseDoubleClickPanelBackground",t)}offBackgroundMouseDoubleClick(t){return this.D.off(t,"mouseDoubleClickPanelBackground")}onBackgroundMouseDragStart(t){return this.D.on("mouseDragStartPanelBackground",t)}offBackgroundMouseDragStart(t){return this.D.off(t,"mouseDragStartPanelBackground")}onBackgroundMouseDrag(t){return this.D.on("mouseDragPanelBackground",t)}offBackgroundMouseDrag(t){return this.D.off(t,"mouseDragPanelBackground")}onBackgroundMouseDragStop(t){return this.D.on("mouseDragStopPanelBackground",t)}offBackgroundMouseDragStop(t){return this.D.off(t,"mouseDragStopPanelBackground")}onBackgroundMouseWheel(t){return this.D.on("mouseWheelPanelBackground",t)}offBackgroundMouseWheel(t){return this.D.off(t,"mouseWheelPanelBackground")}onBackgroundTouchStart(t){return this.D.on("touchStartPanelBackground",t)}offBackgroundMouseTouchStart(t){return this.D.off(t,"touchStartPanelBackground")}onBackgroundTouchMove(t){return this.D.on("touchMovePanelBackground",t)}offBackgroundTouchMove(t){return this.D.off(t,"touchMovePanelBackground")}onBackgroundTouchEnd(t){return this.D.on("touchEndPanelBackground",t)}offBackgroundTouchEnd(t){return this.D.off(t,"touchEndPanelBackground")}onResize(t){return this.D.on("resize",t)}offResize(t){return this.D.off(t,"resize")}getIsInView(){return this.Qg}}const lp=t=>{t.ii&&t.ii()};class hp extends ap{constructor(t,e,i,s,n,r){super(t,e,i,e.vm("uipanel bg",0),s,e.us.qi.uiPanelBackgroundFillStyle,e.us.qi.uiPanelBackgroundStrokeStyle,r),this.Sm(n,this.pixelScale)}setMinimumSize(t){return this.xd=t,this.us.Ss(),this}getMinimumSize(){return this.xd}Te(t){super.Te(t),super.pm()}}const cp=Hr(10,10,10,10);class up extends ap{constructor(t,e,i,s,n,r,o,a,l,h){super(t,e,i,s,n,r,o,h),this.bm={},this.ya=cp,this.th=!0,this.xm=e.Mm("chart internal ui",0),this._m=this.xm.Pr(this.uiScale).Rh("Chart").Fe(Lr(50,100)).Ea(Lr(0,1)).Oh(a).Ce(l).setMouseInteractions(!1),this.wm=this.es.yg([this._m]).ps(this.qi.effectsText)}setAnimationsEnabled(t){return this.th=t,this}getAnimationsEnabled(){return this.th}setTitle(t){return this._m.Rh(t),this.us.Ss(),this}getTitle(){return this._m.Bh()}getTitleSize(){return this._m.Ps().jc()}setTitleFillStyle(t){return this._m.Ce(t),this.Jg(),this}getTitleFillStyle(){return this._m.Eh()}setTitleFont(t){return this._m.Oh(t),this.Jg(),this}getTitleFont(){return this._m.Vh()}setTitleRotation(t){return this._m.Nh(t),this.us.Ss(),this}getTitleRotation(){return this._m.Gh()}setTitleEffect(t){return this.wm.ps(t),this.us.Ss(),this}getTitleEffect(){return this.wm.vs()}setTitleMargin(t){var e,i;return this.bm="object"==typeof t?this.bm?(e=this.bm,{left:void 0!==(i=t).left?i.left:e.left,top:void 0!==i.top?i.top:e.top,right:void 0!==i.right?i.right:e.right,bottom:void 0!==i.bottom?i.bottom:e.bottom}):t:{left:t,top:t,right:t,bottom:t},this.Jg(),this}getTitleMargin(){return this.bm}setPadding(t){return this.ya="object"==typeof t?Wr(this.ya,t):{left:t,top:t,right:t,bottom:t},this.Jg(),this}getPadding(){return this.ya}Cm(t){const e=t.km(),i=null==e?void 0:e.height,s=null==e?void 0:e.width;if(void 0!==i&&void 0!==s)return{x:i/2,y:s/2}}dispose(){return super.dispose(),this.xm.W(),this}}const dp={Tm:(t,e)=>t.Eh()!==ro&&0!==t.Bh().length&&t.getVisible()?t.Ps().jc().y:0,Fm(t,e){t.Fe(Lr(50,100)).Fr({top:void 0!==e.top?e.top:10,right:e.right||0,left:e.left||0,bottom:e.bottom||0})}};var fp;!function(t){t[t.disabled=0]="disabled",t[t.snapToClosest=1]="snapToClosest",t[t.onHover=2]="onHover"}(fp||(fp={}));const pp={Im(t,e,i,s,n,r){let o;const a=t.getAutoCursorMode();if(!i&&a!==fp.disabled){const i=t.us.On(),l=s.find((t=>t.getIsUnderMouse()));a===fp.snapToClosest&&n?(e||void 0!==l)&&(o=i&&n(i)):void 0===l||l.getCursorEnabled&&!l.getCursorEnabled()||(o=i&&r(l,i))}o?t.Pm.pointAt(o).setVisible(!0):t.Pm.setVisible(!1),t.Pm.Ps().Te()},Hc(t,e,i){if(e.x<t.uiScale.x.ei()||e.x>t.uiScale.x.hi()||e.y<t.uiScale.y.ei()||e.y>t.uiScale.y.hi())return;let s,n=Number.MAX_VALUE;for(const r of i)if(r.getCursorEnabled()&&r.getVisible()){const i=r.Hc(e);if(i){const r=Lo(i.location,i.scale,t.engine.scale),o=ul(e,r);Number.isNaN(o)||s&&!(o<n)||(s=i,n=o)}}return s||void 0},Dm(t){t.onSeriesBackgroundMouseEnter((()=>{t.getAutoCursorMode()!==fp.disabled&&t.us.Ss()})),t.onSeriesBackgroundMouseMove((()=>{t.getAutoCursorMode()!==fp.disabled&&t.us.Ss()})),t.onSeriesBackgroundMouseLeave((()=>{t.getAutoCursorMode()!==fp.disabled&&t.us.Ss()})),t.onSeriesBackgroundTouchStart((()=>{t.getAutoCursorMode()!==fp.disabled&&t.us.Ss()})),t.onSeriesBackgroundTouchMove((()=>{t.getAutoCursorMode()!==fp.disabled&&t.us.Ss()})),t.onSeriesBackgroundTouchEnd((()=>{t.getAutoCursorMode()!==fp.disabled&&t.us.Ss()}))},Bm(t,e){e.onMouseEnter(((e,i)=>{t.getAutoCursorMode()!==fp.disabled&&t.us.Ss()})),e.onMouseMove(((e,i)=>{t.getAutoCursorMode()!==fp.disabled&&t.us.Ss()})),e.onMouseLeave((()=>{t.getAutoCursorMode()!==fp.disabled&&t.us.Ss()}))}};class gp{constructor(t,e){this.Lm=t,this.Rm=e}alter(t){this.Em=void 0!==this.Em?this.Em:this.Rm(),this.zm=t,this.Lm(t)}resetValue(){void 0!==this.zm&&(void 0!==this.Em&&this.isAltered()&&this.Lm(this.Em),this.Em=void 0,this.zm=void 0)}getNormalValue(){return void 0!==this.Em?this.Em:this.Rm()}isAltered(){return void 0!==this.zm&&this.Rm()===this.zm}}class mp{constructor(t,e){this.Vm=[],this.Om=t,this.dt=e}update(){return this.Om.getVisible()?!(this.Nm()&&(!this.Gm()||(this.resetTable(),this.Om.Ps(),this.Nm()))&&(this.Wm(),this.Om.Ps(),this.Nm()&&(this.resetTable(),this.Om.Ps(),1))):(this.Gm()&&this.resetTable(),!0)}Gm(){for(let t=0;t<this.Vm.length;t+=1)if(this.Vm[t].isAltered())return!0;return!1}resetTable(){for(let t=0;t<this.Vm.length;t+=1)this.Vm[t].resetValue();return this}Nm(){return((t,e)=>{const i=Lo(t.getPosition(Lr(-1,-1),Vo.PaddedBackground),t.scale,e),s=Lo(t.getPosition(Lr(1,1),Vo.PaddedBackground),t.scale,e);return i.x<e.x.getInnerStart()||s.x>e.x.getInnerEnd()||i.y<e.y.getInnerStart()||s.y>e.y.getInnerEnd()})(this.Om,this.dt)}Um(){return((t,e)=>{const i=Lo(t.getPosition(Lr(-1,-1),Vo.PaddedBackground),t.scale,e),s=Lo(t.getPosition(Lr(1,1),Vo.PaddedBackground),t.scale,e);return i.x<e.x.getInnerStart()||s.x>e.x.getInnerEnd()})(this.Om,this.dt)}Ym(){return((t,e)=>{const i=Lo(t.getPosition(Lr(-1,-1),Vo.PaddedBackground),t.scale,e),s=Lo(t.getPosition(Lr(1,1),Vo.PaddedBackground),t.scale,e);return i.y<e.y.getInnerStart()||s.y>e.y.getInnerEnd()})(this.Om,this.dt)}Hm(t){return this.Vm.push(t),t}}class yp extends mp{constructor(){super(...arguments),this.ma=this.Hm(new gp((t=>this.Om.setOrigin(t)),(()=>this.Om.getOrigin())))}Wm(){const t=this.ma.getNormalValue(),e=Lr(this.Um()?-t.x:t.x,this.Ym()?-t.y:t.y);this.ma.alter(e)}}const vp=(t,e)=>new yp(t,e);class bp{constructor(){this.Zm=[]}addRow(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.Zm.push(e),this}}class xp extends bp{Zu(){const t=this.Zm;return this.Zm=[],t}Qm(){return this.Zm.length=0,this}}class Sp extends Vd{constructor(){super(...arguments),this.Nu=this.qi.cursorResultTableTextFont,this.Dd=0,this.Jm=this.qi.cursorResultTableTextFillStyle}setContent(t){for(let s=0;s<t.length;s+=1){const e=t[s];let i=!1;for(let t=0;t<e.length;t+=1){const s=e[t],n="object"==typeof s&&"text"in s?s.text:"string"==typeof s?s:void 0,r="object"==typeof s&&"icon"in s?s.icon:yd(s)?s:void 0;if((void 0===n||0===n.length)&&!r){i=!0;break}}i||(e.unshift(""),e.push(""))}this.Km();const e=t.length;let i=this.getMembers().length;for(let s=0;s<Math.max(e,i);s+=1){const n=this.getRow(s,!0);if(s>=e)this.getMembers()[s].dispose(),s-=1,i-=1;else{const e=t[s].length;let i=n.getMembers().length;for(let r=0;r<Math.max(e,i);r+=1){const o=t[s][r],a="object"==typeof o&&"font"in o?o.font:void 0,l="object"==typeof o&&"fillStyle"in o?o.fillStyle:void 0,h="object"==typeof o&&"text"in o?o.text:"string"==typeof o?o:void 0,c="object"==typeof o&&"icon"in o?o.icon:yd(o)?o:void 0,u=n.getMembers();if(r>=e)n.getMembers()[r].dispose(),r-=1,i-=1;else if(void 0!==h&&h.length>0||c){for(let s=u.length;s<r;s+=1)n.addGap(void 0,void 0);const t=a?this.Nu.withMutations((t=>{for(const e of Object.keys(a)){const i=a[e];t.set(e,i)}return t})):this.Nu,e=l||this.Jm,i=u[r];if(h){let s;i&&i instanceof Rd?s=i:(i&&i.dispose(),s=n.addElement(Ed,r)),s.setFont(t).setFillStyle(e).setText(h).setTextRotation(this.Dd)}else if(c){let s;i&&i instanceof Pd?s=i:(i&&i.dispose(),s=n.addElement(Fd,r)),s.setFillStyle(e).setShape(c).setSize({y:t.size,x:t.size}),s.setMargin(5)}}else{for(let e=u.length;e<r;e+=1)n.addGap(void 0,void 0);const t=u[r];t&&t instanceof Dd||(t&&t.dispose(),n.addGap(void 0,r))}}}}return this.ks.Ss(),this}setTextFillStyle(t){this.Jm="function"==typeof t?t(this.Jm):t;for(let e=0;e<this.getMemberCount();e+=1){const t=this.getRow(e);for(let e=0;e<t.getMembers().length;e+=1){const i=t.getMembers()[e];i instanceof Rd&&i.setFillStyle(this.Jm)}}return this.ks.Ss(),this}getTextFillStyle(){return this.Jm}setTextFont(t){return Mc(t)?this.Nu=t:this.Nu=t(this.Nu),this.ks.Ss(),this}getTextFont(){return this.Nu}setTextRotation(t){return this.Dd=t,this.ks.Ss(),this}getTextRotation(){return this.Dd}Km(){for(let t=0;t<this.Sd.length;t+=1)for(let e=0;e<this.Sd[t].getMembers().length;e+=1)this.Sd[t].getMembers()[e].dispose()}Ps(){for(let t=0;t<this.Sd.length;t+=1)this.Sd[t].setMinimumSize(void 0);super.Ps();for(let t=0;t<this.Sd.length;t+=1)this.Sd[t].setMinimumSize(this.size.x);return super.Ps(),this}}class Ap{constructor(t,e,i,s,n){this.qm=!0,this.ty=!0,this.Qg=!1,this.ua=Lr(0,0),this.Xi=!0,this.ks=t,this.renderingScale=e,this.scale=i,this.iy=s,this.sy=new Pd(this.ks,this.renderingScale,this.scale,Xo,n).setMouseInteractions(!1).setFillStyle(n.cursorPointMarkerFillStyle).setSize(n.cursorPointMarkerSize).setShape(n.cursorPointMarkerShape),this.Om=new Sp(this.ks,this.renderingScale,this.scale,this.iy,Xo,n).setMouseInteractions(!1).setBackground((t=>t.setFillStyle(n.cursorResultTableFillStyle).setStrokeStyle(n.cursorResultTableStrokeStyle))).setTextFillStyle(n.cursorResultTableTextFillStyle).setTextFont(n.cursorResultTableTextFont),this.ey=vp(this.Om,this.scale)}dispose(){return this.sy.dispose(),this.Om.dispose(),this}pointAt(t){return this.ua=t.scale===this.scale?t.location:Lo(t.location,t.scale,this.scale),this.sy.setPosition(this.ua),this.Om.setPosition(this.ua).setContent(t.resultTableContent),this.ks.Ss(),this}getPosition(){return this.ua}setVisible(t){return this.Xi=t,this.ks.Ss(),this}getVisible(){return this.Xi}setPointMarkerVisible(t){return this.qm=t,this.ks.Ss(),this}getPointMarkerVisible(){return this.qm}setPointMarker(t){return t(this.sy),this.ks.Ss(),this}getPointMarker(){return this.sy}setResultTableVisible(t){return this.ty=t,this.ks.Ss(),this}getResultTableVisible(){return this.ty}setResultTable(t){return t(this.Om),this.ks.Ss(),this}getResultTable(){return this.Om}setAutoFitStrategy(t){return this.ey&&this.ey.resetTable(),this.ey=t?t(this.Om,this.ks.us.dt):void 0,this.ks.Ss(),this}getAutoFitStrategy(){return void 0!==this.ey}Te(){return this.ey&&this.ey.update(),this.Om.setVisible(this.Qg&&this.Xi&&this.ty),this.sy.setVisible(this.Qg&&this.Xi&&this.qm),this.sy.Te(),this.Om.Te(),this}Ps(){return this.sy.Ps(),this.Om.Ps(),this.Qg=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const s=e!==i?Lo(t,e,i):t;return s.x>=i.x.getInnerStart()&&s.x<=i.x.getInnerEnd()&&s.y>=i.y.getInnerStart()&&s.y<=i.y.getInnerEnd()}(this.ua,this.scale),this}}class wp extends Ap{constructor(){super(...arguments),this.hy=!1}pointAt(t){return this.ny(t.fillStyle),super.pointAt(t)}ny(t){t&&this.hy&&this.Om.setTextFillStyle(t)}setResultTableAutoTextStyle(t){return this.hy=t,this.ks.Ss(),this}getResultTableAutoTextStyle(){return this.hy}}class Cp extends Ap{setPosition(t){return this.ua=t,this.sy.setPosition(t),this.Om.setPosition(t),this.ks.Ss(),this}}class Mp{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.oy=[],this.ly=(t,e)=>(this.oy.forEach((i=>i(t,e))),t),this.iy=t,this.oy=e}}class kp extends Mp{constructor(){super(...arguments),this.uy=(t,e,i,s)=>this.ly(new wp(t,e,i,this.iy,s),s),this.addStyler=t=>new kp(this.iy,this.oy.map((t=>t)).concat(t)),this.setResultTableBackground=t=>new kp(t,this.oy.map((t=>t)))}}class Rp extends Mp{constructor(){super(...arguments),this.Ay=(t,e,i,s)=>this.ly(new Cp(t,e,i,this.iy,s),s),this.addStyler=t=>new Rp(this.iy,this.oy.map((t=>t)).concat(t)),this.setResultTableBackground=t=>new Rp(t,this.oy.map((t=>t)))}}const Ep=t=>t.setResultTable((t=>t.setEffect(!0).setOrigin(Lr(-1,-1)).setMargin(5))),Tp=(t,e)=>t.setPointMarker((t=>t.setFillStyle(e.chartMarkerPointMarkerFillStyle).setSize(e.chartMarkerPointMarkerSize).setShape(e.chartMarkerPointMarkerShape))).setResultTable((t=>t.setEffect(!0).setBackground((t=>t)).setOrigin(Lr(-1,-1)).setMargin(10))),Ip=new kp(Td,[Ep]),Pp=new kp(Id,[Ep,t=>t.setPointMarkerVisible(!1).setResultTable((t=>t.setOrigin(Lr(0,-1)).setMargin(0).setBackground((t=>{t instanceof Id&&t.setDirection(Uo.Down).setPointerLength(10).setPointerAngle(60)}))))]),Fp=Ip,Dp=Ip,Lp=Pp,zp=new Rp(Td,[Tp,t=>t.setPointMarkerVisible(!1).setResultTable((t=>t.setOrigin(Yh.LeftBottom)))]),Np=(t,e,i,s,n)=>({location:t,scale:e,resultTableContent:i,owner:s,fillStyle:n});var _p;!function(t){t[t.LabelsInsideSlices=0]="LabelsInsideSlices",t[t.LabelsOnSides=1]="LabelsOnSides"}(_p||(_p={}));const Vp=(t,e)=>t.getName().localeCompare(e.getName(),void 0,{numeric:!0}),Bp=()=>0,Op=t=>"".concat(t.getName(),": ").concat(Math.round(t.getAnimatedValue())),Up=(t,e,i,s)=>t.addRow(i.getName()).addRow(i.getAnimatedValue().toString());class Hp extends hh{constructor(){super(...arguments),this.xs="Slice",this.u=0}}const Gp=(t,e)=>{ga(e),t.setExploded(!t.getExploded())};class Wp extends Hp{}class jp extends Wp{constructor(t,e,i,s,n,r,o,a){super(s,r,o,a),this.gy=!1,this.my=ro,this.yy=ro,this.py=this.u,this.Sy=this.gy?1:0,this.vy=this.getVisible(),this.by=yo((()=>this.Ji.us.Ss())),this.xy=yo((()=>this.Ji.us.Ss())),this.My=()=>{this._y=void 0},this.wy=()=>{this.Cy=void 0},this.index=t,this.Ji=s,this.scale=n,this.Ki=r,this.ky=e.Jc(n).cs(this.getHighlight()),this.ds(this.ky),this.Ue=i.Pr(n).cs(this.getHighlight()),this.ds(this.Ue,{isText:!0}),this.onMouseClick(Gp),this.onTouchEnd(Gp)}setValue(t){return this.Ji.getAnimationsEnabled()?this.vy&&this.Ty(this.py,t):this.py=t,this.u=t,this.Ji.us.Ss(),this}getValue(){return this.u}setExploded(t){if(t&&!1===this.Ji.getMultipleSliceExplosion()){const t=this.Ji.getSlices();for(let e=0;e<t.length;e+=1)t[e]!==this&&t[e].getExploded()&&t[e].setExploded(!1)}return this.Ji.getAnimationsEnabled()?(this.Cy&&this.Cy.finish(),this.Cy=this.xy(300,go.ease)([[this.Sy,t?1:0]],(t=>{let[e]=t;this.Sy=e,this.Ji.us.Ss()})),this.Cy.onEveryAnimationEnd(this.wy),this.gy=!this.gy):!1!==this.Ji.getMultipleSliceExplosion()||t?(this.Sy=this.gy?0:1,this.gy=!this.gy):(this.Sy=0,this.gy=!this.gy),this.Ji.us.Ss(),this}getExploded(){return this.gy}setVisible(t){return this.vy=t,!1===t?this.Ji.getAnimationsEnabled()&&this.py>0?(this._y&&(this._y.finish(!1),this._y=void 0),this.Ty(this.py,0,(()=>super.setVisible(!1)))):(this.py=0,super.setVisible(!1)):this.Ji.getAnimationsEnabled()?(this._y&&(this._y.finish(!1),this._y=void 0),super.setVisible(!0),this.Ty(this.py,this.u)):(this.py=this.u,super.setVisible(!0)),this}Ty(t,e,i){this._y=this.by(300,go.ease)([[t,e]],(t=>{let[e]=t;this.py=e,this.Ji.us.Ss()})),this._y.onEveryAnimationEnd(this.My),i&&this._y.onAnimationEnd(i)}setStyle(t,e,i,s){this.my=t,this.yy=i,this.ky.Ce(this.my).we(e),this.Ue.Ce(this.yy).Oh(s);for(let n=0;n<this.Qi.length;n+=1)this.styleAttachedEntry(this.Qi[n])}getAnimatedValue(){return this.py}getAnimatedExplosion(){return this.Sy}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),this.styleAttachedEntry(t,e,i),this}styleAttachedEntry(t){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ta(t,this.qi,e,{fill:this.my,stroke:this.ky.ao()})}}const Yp=(t,e,i)=>kl(e,Ml(_l(.5*(t.Jl()+t.Ti())*Math.PI/180),i)),Xp=(t,e,i,s,n,r)=>{const o=t.length;let a=90;for(let l=0;l<o;l+=1){const h=t[l],c=a-360*e[l],u=h.getAnimatedExplosion();if(0===u||1===o)h.ky.Fe(i);else{const t=kl(i,Ml(_l(.5*(a+c)*Math.PI/180),r*u));h.ky.Fe(t)}h.ky.eu(a).ze(c).ru(s).nu(s).ou(n),a=c}},qp=t=>{const e=t.getSlices();for(let i=0;i<e.length;i+=1)e[i].setExploded(!1)};class Jp extends up{constructor(t,e,i,s,n,r,o){super(t,e,i,e.vm("pieChart bg",0),s,e.us.qi.pieChartBackgroundFillStyle,e.us.qi.pieChartBackgroundStrokeStyle,e.us.qi.pieChartTitleFont,e.us.qi.pieChartTitleFillStyle,r),this.Fy=[],this.Iy=Vp,this.Yl=0,this.Py=this.qi.pieChartSliceFillStylePalette,this.Dy=this.qi.pieChartSliceStrokeStyle,this.By=!0,this.Ly=this.qi.pieChartSliceLabelFont,this.Ry=this.qi.pieChartSliceLabelFillStyle,this.Ey=0,this.zy=!1,this.Vy=20,this.Oy=!0,this.Ny=!0,this.Gy=fp.onHover,this.Wy=Up,this.Uy=t=>{const e=this.Fy.indexOf(t);e>=0&&(this.Fy.splice(e,1),this.Yy())},this.us.Nn(xf.af),this.Hy=e.$y("pieChart bottom",0),this.Xy=e.$y("pieChart top",1),this._m.Rh("Pie Chart"),this.Sm(n,this.pixelScale),this.onBackgroundMouseDoubleClick(qp);const a=dh(new fh(qp));this.onBackgroundTouchStart(a.onTouchStart),this.onBackgroundTouchMove(a.onTouchMove),this.onBackgroundTouchEnd(a.onTouchEnd),this.jy=e.Zy();const l=Zo(o?o.autoCursorBuilder:void 0,Dp);this.Pm=l.uy(this.jy,this.uiScale,this.uiScale,this.qi),this.setAnimationsEnabled(!0!==(null==o?void 0:o.disableAnimations)&&!1!==(null==o?void 0:o.animationsEnabled))}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}setCursorResultTableFormatter(t){return this.Wy=t,this.us.Ss(),this}addSlice(t,e){const i=new jp(this.Ey,this.Hy,this.Xy,this,this.pixelScale,this.Uy,this.qi,this.us.es);this.Ey+=1,i.setName(t);const s=this.th;return this.th=!1,i.setValue(e),this.th=s,i.setEffect(this.Oy),this.Qy(i),this.Fy.push(i),this.Yy(),i.setHighlightOnHover(this.By),i.onMouseMove((()=>{this.Gy&&this.us.Ss()})),i}addSlices(t){const e=[];for(let i=0;i<t.length;i+=1)e.push(this.addSlice(t[i].name,t[i].value));return e}getSlices(){return this.Fy}setMultipleSliceExplosion(t){return this.zy=t,this}getMultipleSliceExplosion(){return this.zy}setInnerRadius(t){return this.Yl=t,this.us.Ss(),this}getInnerRadius(){return this.Yl}setSliceExplosionOffset(t){return this.Vy=t,this.us.Ss(),this}getSliceExplosionOffset(){return this.Vy}setLUT(t){return this.Nd=t,this.us.Ss(),this}setSliceFillStyle(t){this.Py=t;for(let e=0;e<this.Fy.length;e+=1)this.Qy(this.Fy[e]);return this.us.Ss(),this}getSliceFillStyle(){return this.Py}setSliceStrokeStyle(t){this.Dy="function"==typeof t?t(this.Dy):t;for(let e=0;e<this.Fy.length;e+=1)this.Qy(this.Fy[e]);return this.us.Ss(),this}getSliceStrokeStyle(){return this.Dy}setSliceEffect(t){return this.Oy=t,this.Fy.forEach((e=>e.es.ns.ps(t))),this.us.Ss(),this}getSliceEffect(){return this.Oy}setSliceSorter(t){return this.Iy=t,this.Fy=this.Fy.sort(this.Iy),this.us.Ss(),this}getSliceSorter(){return this.Iy}setLabelFillStyle(t){this.Ry="function"==typeof t?t(this.Ry):t;for(let e=0;e<this.Fy.length;e+=1)this.Qy(this.Fy[e]);return this.us.Ss(),this}getLabelFillStyle(){return this.Ry}setLabelFont(t){this.Ly="function"==typeof t?t(this.Ly):t;for(let e=0;e<this.Fy.length;e+=1)this.Qy(this.Fy[e]);return this.us.Ss(),this}getLabelFont(){return this.Ly}setLabelEffect(t){return this.Ny=t,this.Fy.forEach((e=>e.es.rs.ps(t))),this.us.Ss(),this}getLabelEffect(){return this.Ny}setLabelFormatter(t){return this.Jy=t,this.us.Ss(),this}getLabelFormatter(){return this.Jy}setSliceHighlightOnHover(t){return this.By=t,this.Fy.forEach((e=>e.setHighlightOnHover(t))),this}Te(t){super.Te(t),dp.Fm(this._m,this.bm),super.pm();const e=dp.Tm(this._m,this.bm),i=Lr(this.pixelScale.x.getInnerInterval()-(this.ya.left+this.ya.right),this.pixelScale.y.getInnerInterval()-(this.ya.bottom+this.ya.top+e)),s=Lr(this.ya.left+i.x/2,this.ya.bottom+i.y/2);if(this.Nd){const t=this.Nd;this.Fy.forEach((e=>{this.Qy(e,new ho({color:t.getColors(e.getAnimatedValue())}))}))}for(let l=0;l<this.Fy.length;l+=1){const t=this.Fy[l].getAnimatedValue()>0;this.Fy[l].ky.setVisible(t),this.Fy[l].Ue.setVisible(t)}this.Fy=this.Fy.sort(this.Iy);const n=this.Fy.filter((t=>t.getAnimatedValue()>0));let r=0;for(let l=0;l<n.length;l+=1)r+=n[l].getAnimatedValue();const o=[];for(let l=0;l<n.length;l+=1)o.push((a=n[l].getAnimatedValue())>0?a/r:0);var a;for(let l=0;l<n.length;l+=1){const t=n[l];t.Ue.Rh(this.Jy(t,o[l])).Ps()}pp.Im(this,!1,!1,this.Fy,void 0,((t,e)=>Np(e,this.engine.scale,this.Wy(new xp,this,t,o[n.indexOf(t)]||0).Zu(),t,void 0))),this.Ky(n,o,s,i)}Qy(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Py(t.index,t);t.setStyle(e,this.Dy,this.Ry,this.Ly)}Yy(){this.Fy=this.Fy.sort(this.Iy),this.us.Ss()}Zd(){return this.Fy}dispose(){return super.dispose(),this.Fy.slice().forEach((t=>t.dispose())),this.Pm.dispose(),this.Xy.W(),this.Hy.W(),this.jy.W(),this}}const Kp={UserSeries:{type:"ApplicationType",args:{type:"UserSeries"}},InternalUI:{type:"ApplicationType",args:{type:"InternalUI"}}},Zp=function(){const t=[];for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return i.forEach((e=>{var i;e&&"object"==typeof(i=e)&&i&&"pattern"in i&&t.push({type:"DataPattern",args:e})})),t};class Qp extends Jp{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n,r,o),this.Jy=Op,this.qy=[],this.tp=40,this.ip=5,this.sp=10,this.ep=this.qi.pieChartConnectorStrokeStyle,this.setPadding({bottom:50})}setLabelConnectorStyle(t){this.ep=t;for(let e=0;e<this.qy.length;e+=1)this.qy[e].Re(this.ep);return this.us.Ss(),this}getLabelConnectorStyle(){return this.ep}setLabelSliceOffset(t){return this.tp=t,this.us.Ss(),this}getLabelSliceOffset(){return this.tp}setLabelConnectorGapStart(t){return this.ip=t,this.us.Ss(),this}getLabelConnectorGapStart(){return this.ip}setLabelConnectorEndLength(t){return this.sp=t,this.us.Ss(),this}getLabelConnectorEndLength(){return this.sp}Ky(t,e,i,s){const n=this.Ly.getSize(),r=this.tp,o=this.sp,a=this.ip,l=Math.min(this.Vy,r-a);let h=0;if(1===t.length)h=t[0].Ue.jc().x;else for(let p=0;p<t.length;p+=1)h=Math.max(h,t[p].Ue.jc().x);const c=Math.max(.5*(Math.min(s.x-2*h-2*o,s.y-2*n)-2*r),0);Xp(t,e,i,c,this.Yl,l);let u=90;const d=t.map(((t,s)=>{const n=360*e[s],a=u-n,l=_l(Ll(.5*(u+a))),h=l.x>=0?-1:1,d=kl(kl(i,Ml(l,c+r)),{x:h*-o,y:0});u=a;const f={x:h,y:0};t.Ue.Fe(d).Ea(f),t.Ue.Ps();const p=gl(t.Ue.We());return{position:d,alignment:f,shape:t.Ue,boundaries:p,sliceAngleVec:l,slice:t}})),f=[];for(let p=0;p<d.length;p+=1){const t=d[p],e=f[f.length-1];e&&!1!==al([e.boundaries,t.boundaries])?t.shape.setVisible(!1):(f.push(t),t.shape.setVisible(!0))}for(let p=0;p<this.qy.length;p+=1)this.qy[p].setVisible(!1);f.forEach(((t,e)=>{const s=t.slice.ky,n=Yp(s,i,c+a+l*t.slice.getAnimatedExplosion()),r=Dl(t.position.y,n,i),o=t.position;this.hp([n,r,o])}))}getMinimumSize(){return Lr(500,300)}hp(t){let e;for(let i=0;i<this.qy.length;i+=1)if(!this.qy[i].getVisible()){e=this.qy[i].setVisible(!0);break}void 0===e&&(e=this.Xy.rp(this.pixelScale,void 0,[Kp.InternalUI]).Re(this.ep).setMouseInteractions(!1),this.qy.push(e)),e.Nt().nl(t)}}const $p=t=>{if(vh(t)){const e=t.getThickness(),i=t.getFillStyle();if(co(i))return 1===e?Rc:new Tc({size:e,fillStyle:i,shape:"sphere"})}return Rc};class tg{constructor(t,e,i,s){this.op=[],this.ap=new Map,this.lp=t,this.up=e,this.cp=i,this.dp=s}fp(){this.cp&&this.cp();const t=[];return{add:(e,i)=>{t.push({instanceUniqueProperties:e,instanceSharedProperties:i})},finishPlot:()=>{const e=[];let i=[];t.forEach((t=>{const i=e.find((e=>((t,e)=>{const i=Object.keys(t);for(const s of i)if(t[s]!==e[s])return!1;return!0})(e.sharedProperties,t.instanceSharedProperties)));i?i.instances.push(t.instanceUniqueProperties):e.push({sharedProperties:t.instanceSharedProperties,instances:[t.instanceUniqueProperties]})}));const s=this.op.slice(),n=[];e.forEach((t=>{let e=s.pop();e||(e=this.lp(),this.op.push(e));const r=[],o=e.Ap().slice();t.instances.forEach(((t,e)=>{const i=o.shift();r.push({...t,existingMember:i})}));const a=this.up(e,r,t.sharedProperties);i=Ma(i,a,{canReturnB:!0});for(let i=0;i<t.instances.length;i+=1)n.push({No:t.instances[i].No,collection:e,member:a[i]});o.forEach((t=>{null==e||e.bd(t)}))})),s.forEach((t=>{t.dispose();const e=this.op.indexOf(t);e<0?za(0,(()=>{})):this.op.splice(e,1)})),n.forEach((t=>{const e=this.ap.get(t.No);e&&t.collection.us.qn({entity:e.collection,collectionMember:e.member},{entity:t.collection,collectionMember:t.member})})),this.ap.clear(),n.forEach((t=>{this.ap.set(t.No,t)})),this.dp&&this.dp(this.op,i)}}}gp(){this.op.forEach((t=>{t.dispose()})),this.op.length=0}}class eg{constructor(t){this.mp=[],this.yp=t}fp(){return this.pp(),{add:()=>this.sl(),finishPlot:()=>{this.Sp()}}}sl(){let t=this.mp.find((t=>t.isFree));return t||(t={isFree:!1,shape:this.yp()},this.mp.push(t)),t.isFree=!1,t.shape}pp(){this.mp.forEach((t=>{t.isFree=!0}))}Sp(){this.mp.filter((t=>t.isFree)).forEach((t=>{t.shape.dispose(),this.mp.splice(this.mp.indexOf(t),1)}))}gp(){this.mp.forEach((t=>t.shape.dispose())),this.mp.length=0}}class ig{constructor(t,e,i,s,n,r,o,a,l,h){this.D=new Ir,this.u=0,this.Xi=!0,this.$i=!1,this.Ss=t,this.vp=e,this.bp=i,this.xp=s,this.Mp=n,this._p=r,this.Dd=o,this.Jm=a,this.wp=l,this.Ju=h}setValue(t){return t===this.u||(this.u=t,this.Ss(),this.D.emit("valueChange",this,this.u)),this}getValue(){return this.u}setTickStyle(t){return this.bp="function"==typeof t?t(this.bp):t,this.Ss(),this}getTickStyle(){return this.bp}setTickLength(t){return this.xp=t,this.Ss(),this}getTickLength(){return this.xp}setGridStrokeStyle(t){return this.Mp="function"==typeof t?t(this.Mp):t,this.Ss(),this}getGridStrokeStyle(){return this.Mp}setTextPadding(t){return this._p=t,this.Ss(),this}getTextPadding(){return this._p}setTextRotation(t){return this.Dd=t,this.Ss(),this}getTextRotation(){return this.Dd}setTextFillStyle(t){return this.Jm="function"==typeof t?t(this.Jm):t,this.Ss(),this}getTextFillStyle(){return this.Jm}setTextFont(t){return this.wp="function"==typeof t?t(this.wp):t,this.Ss(),this}getTextFont(){return this.wp}setTextFormatter(t){return this.Ju=t,this.Ss(),this}onValueChange(t){return this.D.on("valueChange",t)}offValueChange(t){return this.D.off(t,"valueChange")}dispose(){return this.$i||(this.$i=!0,this.vp(),this.Ss(),this.D.emit("dispose",this)),this}isDisposed(){return this.$i}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}setVisible(t){const e=this.Xi!==t;return this.Xi=t,e&&(this.D.emit("visibleStateChanged",this,this.Xi),this.Ss()),this}getVisible(){return this.Xi}onVisibleStateChanged(t){return this.D.on("visibleStateChanged",t)}offVisibleStateChanged(t){return this.D.off(t,"visibleStateChanged")}}class sg extends yc{constructor(t,e,i,s,n,r,o,a,l){super(t,e,i,s,a,{numeric:e.Cp({x:t.us.qi.xAxis3DNumericTicks,y:t.us.qi.yAxis3DNumericTicks,z:t.us.qi.zAxis3DNumericTicks}),datetime:e.Cp({x:t.us.qi.xAxis3DDateTimeTicks,y:t.us.qi.yAxis3DDateTimeTicks,z:t.us.qi.zAxis3DDateTimeTicks}),time:e.Cp({x:t.us.qi.xAxis3DTimeTicks,y:t.us.qi.yAxis3DTimeTicks,z:t.us.qi.zAxis3DTimeTicks})},{type:"linear"}),this.Tf=[],this.kp=()=>{},this.Tp=()=>{},this.Fp=()=>{},this.Ip=()=>{},this.chart=t,this.At=n,this.Pp=r,this.Dp=o,this.Bp=this.At.dt;const h=this.wh.Cp({x:this.qi.xAxis3DStrokeStyle,y:this.qi.yAxis3DStrokeStyle,z:this.qi.zAxis3DStrokeStyle});this.Lp=this.At.rp([Kp.InternalUI]).Re(h).Rp($p(h)).setMouseInteractions(!1),this.Lh=this.Pp.Pr(this.Dp).setMouseInteractions(!1).Ce(e.Cp({x:t.us.qi.xAxis3DTitleFillStyle,y:t.us.qi.yAxis3DTitleFillStyle,z:t.us.qi.zAxis3DTitleFillStyle})).Oh(e.Cp({x:t.us.qi.xAxis3DTitleFont,y:t.us.qi.yAxis3DTitleFont,z:t.us.qi.zAxis3DTitleFont})),this.Ep=new eg((()=>this.Pp.Pr(this.Dp))),this.zp=new tg((()=>this.At.Lg().setMouseInteractions(!1)),((t,e,i)=>(t.Nt().Re(i.lineStyle),e.map((e=>{let{positions:i,existingMember:s}=e;return s||t.nl(i)}))))),this.es=l,this.Wh=this.es.yg([this.Lh]).ps(s.effectsText),this.Lp.setMouseEnterEventHandler(this.kp).setMouseLeaveEventHandler(this.Tp).setMouseDragEventHandler(this.Fp).setMouseDragStopEventHandler(this.Ip),i.ig=this}setTickStrategy(t,e){return super.Fh(t,e)}getTickStrategy(){return this.je}addCustomTick(){const t=new ig((()=>this.chart.us.Ss()),(()=>{const e=this.Tf.indexOf(t);e>=0&&this.Tf.splice(e,1)}),this.qi.xAxis3DNumericTicks.majorTickStyle.tickStyle,this.qi.xAxis3DNumericTicks.majorTickStyle.tickLength,this.qi.xAxis3DNumericTicks.majorTickStyle.gridStrokeStyle,this.qi.xAxis3DNumericTicks.majorTickStyle.tickPadding,this.qi.xAxis3DNumericTicks.majorTickStyle.labelRotation,this.qi.xAxis3DNumericTicks.majorTickStyle.labelFillStyle,this.qi.xAxis3DNumericTicks.majorTickStyle.labelFont,(t=>this.formatValue(t)));return this.Tf.push(t),this.chart.us.Ss(),t}setStrokeStyle(t){return this.Lp.Re(t).Rp($p(this.Lp.uu())),this.chart.us.Ss(),this}getStrokeStyle(){return this.Lp.uu()}setMouseInteractions(t){return this}setVisible(t){return super.setVisible(t),this.Lp.setVisible(t),!1===t&&(this.zp.gp(),this.Ep.gp()),this.Pp.Ss(),this}_g(){return this.chart.getSeries()}Vp(t){return Math.abs(this.dt.tt(t)*this.At.Op(1))}Cr(t,e,i){const s=Math.abs(this.dt.tt(e-t)*this.At.Op(1));return{min:t-i*s,max:e+i*s}}ur(t,e){return new ng(e,t,this.Pp,this.Dp,this.At)}cr(t,e){const i=this.Np(e,t.u,t.Sh.lr.tickLength,t.Sh.lr.tickPadding);return t.Ue.Fe(i.labelPosition).Ea(i.labelAlignment),i}Np(t,e,i,s){const{wuSize:n,start:r,end:o,tickDirection3D:a,tickDirection2D:l}=t,h=(e-this.dt.getInnerStart())/(this.dt.getInnerEnd()-this.dt.getInnerStart()),c=Qa.addVec(pl(r,o,h),Qa.multiplyVec(Qa.multiply(a,this.At.Op(.5*this.Lp.uu().getThickness())),n)),u=Qa.addVec(c,Qa.multiplyVec(Qa.multiply(a,this.At.Op(i)),n)),d=this.At.Gp(u)||Lr(0,0);return{labelPosition:kl(Lo(d,this.chart.engine.scale,this.Dp),Ml(l,s)),labelAlignment:{x:-l.x,y:-l.y},posTickEnd3D:u,posTickStart3D:c,tickPositionRelative:h}}Wp(t,e,i){const{wuSize:s,start:n,end:r,tickDirection3D:o}=e,a=(t-this.dt.getInnerStart())/(this.dt.getInnerEnd()-this.dt.getInnerStart()),l=Qa.addVec(pl(n,r,a),Qa.multiplyVec(Qa.multiply(o,this.At.Op(.5*this.Lp.uu().getThickness())),s)),h=Qa.addVec(l,Qa.multiplyVec(Qa.multiply(o,this.At.Op(10)),s)),c=this.At.Gp(l)||Lr(0,0),u=this.At.Gp(h)||Lr(0,0);return this.Pp.Ee(this.Dp).Ve(c).ze(u).Re(new yh({fillStyle:new ho({color:Kr(120*i)}),thickness:1}))}_r(t,e){return rg(t,e,this.dt)}Te(t){if(!this.Xi)return;const e=Math.min(this.Ih,this.Ph),i=Math.max(this.Ih,this.Ph),s=this.Bp,n=_r(s.x.et(),s.y.et(),s.z.et());let r,o;this.Yp()?(r=_r(s.x.getInnerEnd(),s.y.getInnerStart(),s.z.getInnerStart()),o=_r(s.x.getInnerEnd(),s.y.getInnerStart(),s.z.getInnerEnd())):(r=_r(s.x.getInnerStart(),s.y.getInnerStart(),s.z.getInnerStart()),o=this.wh.Hp(_r(s.x.getInnerEnd(),s.y.getInnerEnd(),s.z.getInnerEnd()),r));const a=this.wh.Jd,l=this.At.Gp(r)||Lr(0,0),h=this.At.Gp(o)||Lr(0,0),c=pl(r,o,.5),u=Qa.addVec(c,Qa.multiplyVec(Qa.multiply(a,-1),n)),d=this.At.Gp(c)||Lr(0,0),f=this.At.Gp(u)||Lr(0,0),p=Al(Rl(Lo(d,this.chart.engine.scale,this.Dp),Lo(f,this.chart.engine.scale,this.Dp)));this.Lp.Nt().nl([r,o]);const{gridlinePositionA:g,gridlinePositionB:m,gridlinePositionC:y}=this.wh.$p(t),v=t=>({x:-1===t.x?this.Bp.x.getInnerStart():1===t.x?this.Bp.x.getInnerEnd():0,y:-1===t.y?this.Bp.y.getInnerStart():1===t.y?this.Bp.y.getInnerEnd():0,z:-1===t.z?this.Bp.z.getInnerStart():1===t.z?this.Bp.z.getInnerEnd():0}),b=v(g),x=v(m),S=v(y),A={physicalAxisSize:Cl(Rl(l,h)),wuSize:n,start:r,end:o,tickDirection3D:a,tickDirection2D:p,gridlinePositionA:b,gridlinePositionB:x,gridlinePositionC:S},w=this.qh(A),C=this.zp.fp();for(const[F,D]of this.Ze)for(const[,t]of D){const e=w.get(t);if(!e)continue;const i=this.Xp(A,e);C.add({No:0,positions:[i.tickStroke.start,i.tickStroke.end]},{lineStyle:F.lr.tickStyle}),i.gridStroke&&C.add({No:0,positions:i.gridStroke},{lineStyle:F.lr.gridStrokeStyle})}const M=this.Ep.fp(),k={x:0,y:0};this.Tf.forEach((t=>{if(!t.Xi||t.u<e||t.u>i)return;const s=this.Np(A,t.u,t.xp,t._p),n=this.Xp(A,s),r=M.add().Fe(s.labelPosition).Ea(s.labelAlignment).Ce(t.Jm).Oh(t.wp).Rh(t.Ju(t.u)).Nh(t.Dd).Ps().oi();k.x=Math.max(k.x,r.x),k.y=Math.max(k.y,r.y),C.add({No:0,positions:[n.tickStroke.start,n.tickStroke.end]},{lineStyle:t.bp}),n.gridStroke&&C.add({No:0,positions:n.gridStroke},{lineStyle:t.Mp})})),M.finishPlot(),C.finishPlot();const R=this.gr(((t,e)=>{const i=e.Ue.oi();return t.x=Math.max(t.x,i.x),t.y=Math.max(t.y,i.y),t}),{x:k.x,y:k.y}),E=Math.atan((h.y-l.y)/(h.x-l.x));this.Lh.Ea({x:0,y:0}).Nh(180*-E/Math.PI);const T=Qa.addVec(c,Qa.multiplyVec(Qa.multiply(a,this.At.Op(.5*this.Lp.uu().getThickness()+this.yr(((t,e)=>Math.max(t,e.tickLength)),0))),n)),I=this.At.Gp(T)||Lr(0,0),P=kl(Lo(I,this.chart.engine.scale,this.Dp),kl(kl(El(R,p),Ml(p,this.yr(((t,e)=>Math.max(t,e.labelPadding)),0))),El(Ml(this.Lh.Ps().oi(),.5),p)));this.Lh.Fe(P),this.Lp.jp={overrideFollowing:!1,skipMousePicking:!1}}Xp(t,e){const{gridlinePositionA:i,gridlinePositionB:s,gridlinePositionC:n}=t,r=e.posTickStart3D,o=e.posTickEnd3D,a=e.tickPositionRelative;let l;return qo(a,0)||qo(a,1)||(l=[this.Zp()?{...i,x:r.x}:this.Qp()?{...i,y:r.y}:this.Yp()?{...i,z:r.z}:{x:0,y:0,z:0},this.Zp()?{...s,x:r.x}:this.Qp()?{...s,y:r.y}:this.Yp()?{...s,z:r.z}:{x:0,y:0,z:0},this.Zp()?{...n,x:r.x}:this.Qp()?{...n,y:r.y}:this.Yp()?{...n,z:r.z}:{x:0,y:0,z:0}]),{gridStroke:l,tickStroke:{start:r,end:o}}}Uh(){super.Uh(),this.zp.gp(),this.Ep.gp()}Zp(){return this.wh.Zp()}Qp(){return this.wh.Qp()}Yp(){return this.wh.Yp()}}class ng extends vc{constructor(t,e,i,s,n,r){super(t,e,i,s,r),this.Jp=n}}const rg=(t,e,i)=>Jo(t+.1*(e-t)+Math.abs(i.et())/100*Math.sign(e-t),Math.min(t,e),Math.max(t,e)),og=(t,e,i,s)=>({pr:()=>{const i=t();let s;for(const t of i){if(!t.Kp())continue;const i=e(t);s=void 0===i?s:void 0!==s?Math.min(s,i):i}return s},Sr:()=>{const e=t();let s;for(const t of e){if(!t.Kp())continue;const e=i(t);s=void 0===e?s:void 0!==s?Math.max(s,e):e}return s},br:()=>{const e=t();let i;for(const t of e){if(!t.Kp())continue;const e=s(t);i=void 0===e?i:void 0!==i?Math.max(i,e):e}return i}}),ag=t=>({...og(t,(t=>t.getYMin()),(t=>t.getYMax()),(t=>t.br().y)),Cp:t=>t.y,Hp:(t,e)=>({x:e.x,y:t.y,z:e.z}),Jd:_r(-1,0,0),$p:t=>{const e={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:_r(e.x,0,e.z),gridlinePositionB:_r(e.x,0,-e.z),gridlinePositionC:_r(-e.x,0,-e.z)}},Zp:()=>!1,Qp:()=>!0,Yp:()=>!1}),lg=t=>({...og(t,(t=>t.getZMin()),(t=>t.getZMax()),(t=>t.br().z)),Cp:t=>t.z,Hp:(t,e)=>({x:e.x,y:e.y,z:t.z}),Jd:_r(1,0,0),$p:t=>{const e={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:_r(e.x,-e.y,0),gridlinePositionB:_r(e.x,e.y,0),gridlinePositionC:_r(-e.x,e.y,0)}},Zp:()=>!1,Qp:()=>!1,Yp:()=>!0});class hg extends hh{constructor(t,e,i,s,n){super(t,e,s,n),this.qp=rd,this.tS=!0,this.iS=!0,this.Ji=t,this.At=i,this.ts=new Map,this.onMouseWheel(this.Ji.sS),this.onMouseDrag(this.Ji.eS),this.onTouchStart(this.Ji.hS.onTouchStart),this.onTouchMove(this.Ji.hS.onTouchMove),this.onTouchEnd(this.Ji.hS.onTouchEnd)}setAutoScrollingEnabled(t){return this.tS=t,this.Ji.us.Ss(),this}getAutoScrollingEnabled(){return this.tS}setColorShadingStyle(t){return this.qp=t,this.ts.forEach(((e,i)=>i.rS(t))),this.At.Ss(),this}getColorShadingStyle(){return this.qp}setDepthTestEnabled(t){return this.iS=t,this.ts.forEach(((e,i)=>i.nS(t))),this.At.Ss(),this}getDepthTestEnabled(){return this.iS}oS(){}Te(){}dp(){}getXMax(){const t=this.Na;return t?t.bt():void 0}getXMin(){const t=this.Na;return t?t.vt():void 0}getYMax(){const t=this.Na;return t?t.Mt():void 0}getYMin(){const t=this.Na;return t?t.xt():void 0}getZMax(){const t=this.Na;return t?t.aS():void 0}getZMin(){const t=this.Na;return t?t.lS():void 0}br(){const t=this.Na;return t?_r(t.vl(),t.bl(),t.uS()):_r(0,0,0)}}class cg extends hg{constructor(t,e,i,s,n,r){super(t,e,i,s,r),this.xs="Box Series 3D",this.cS=.25,this.dS=!1,this.Gd=()=>Ia(this.be),this.be=Da(this.qi.boxSeries3DFillStyle,n),this.Na=this.At.AS().nS(this.iS).Ce(this.be).fS(this.cS).cs(this.getHighlight()),this.ds(this.Na)}invalidateData(t){const e=t.length;if(0===e)return this;this.dS&&this.Ji.us.Nn(xf.vf);const i=t[0];if(!i)return this;let s;if("xMin"in i||"yMin"in i||"zMin"in i||"xMax"in i||"yMax"in i||"zMax"in i){s=[];for(let i=0;i<e;i+=1){const e=t[i],n="xMin"in e&&"xMax"in e,r="yMin"in e&&"yMax"in e,o="zMin"in e&&"zMax"in e;s[i]={color:e.color,value:e.value,id:e.id,xCenter:n?(e.xMin+e.xMax)/2:void 0,yCenter:r?(e.yMin+e.yMax)/2:void 0,zCenter:o?(e.zMin+e.zMax)/2:void 0,xSize:n?e.xMax-e.xMin:void 0,ySize:r?e.yMax-e.yMin:void 0,zSize:o?e.zMax-e.zMin:void 0}}}else s=t;return this.Na.gS(s.slice()),this.Ji.us.Ss(),this.dS=!0,this}setFillStyle(t){return this.be="function"==typeof t?t(this.be):t,this.Na.Ce(t),this.Ji.us.Ss(),this}getFillStyle(){return this.be}setRoundedEdges(t){return void 0!==t&&isNaN(t)&&(console.error("'BoxSeries3D.setRoundedEdges | NaN was supplied.'"),t=void 0),this.cS=void 0!==t?Jo(t,0,1):void 0,this.Na.fS(this.cS),this.At.Ss(),this}getRoundedEdges(){return this.cS}Kp(){return this.tS&&this.getVisible()}Ie(t,e){t.cs(e),this.Ji.us.Ss()}Te(){super.Te(),this.Na.Ps(!1)}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{fill:this.be}),this}}class ug extends hg{constructor(t,e,i,s,n){super(t,e,i,s,n),this.dS=!1,this.Gd=()=>Ia(this.lu.getFillStyle())}setStrokeStyle(t){this.lu="function"==typeof t?t(this.lu):t;const e=this.lu;return this.Na.Re(e),this.At.Ss(),this}getStrokeStyle(){return this.lu}add(t){return this.dS&&this.Ji.us.Nn(xf.vf),this.dS=!0,(t=Array.isArray(t)?t:[t])?(this.Na.nl(t.slice()),this.At.Ss(),this):this}clear(){return this.Na.Nt(),this}getPointAmount(){const t=this.Na;return t.ol()+t.al()}Kp(){return this.tS&&this.getPointAmount()>0&&this.getVisible()}Ie(t,e){t.cs(e),this.At.Ss()}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{stroke:this.lu}),this}}class dg extends ug{constructor(t,e,i,s,n,r){super(t,e,i,s,r),this.xs="Line Series 3D",this.lu=Da(s.lineSeries3DStrokeStyle,n),this.mS=Wc.pointStyle3D,this.yS(this.lu),this.Na=this.At.rp([Kp.UserSeries]).nS(this.iS).Re(this.lu).Rp(this.mS).cs(this.getHighlight()),this.ds(this.Na)}setStrokeStyle(t){super.setStrokeStyle(t),this.yS(this.lu);const e=this.mS;return this.Na.Rp(e),this}yS(t){const e=new Dc.Triangulated({shape:"sphere",fillStyle:t.getFillStyle(),size:t.getThickness()});this.mS=e}}class fg extends ug{constructor(t,e,i,s,n,r){super(t,e,i,s,r),this.xs="Point Line Series 3D",this.Gd=()=>Ia(this.lu.getFillStyle())||Ia(this.mS.getFillStyle()),this.mS=Da(s.pointLineSeries3DPointStyle,n),this.lu=Da(s.lineSeries3DStrokeStyle,n),this.pS(),this.Na=this.At.rp([Kp.UserSeries]).nS(this.iS).Re(this.lu).Rp(this.mS).cs(this.getHighlight()),this.ds(this.Na)}setPointStyle(t){return this.mS="function"==typeof t?t(this.mS):t,this.pS(),this.Na.Rp(this.mS),this.At.Ss(),this}getPointStyle(){return this.mS}setStrokeStyle(t){super.setStrokeStyle(t);const e=this.lu,i=Math.abs(e.getThickness()),s=this.mS,n=s.getSize();i>("object"==typeof n?Math.max(n.x,n.y,n.z):n)&&(this.mS=s.setSize(i)),this.pS();const r=this.mS;return this.Na.Rp(r),this.At.Ss(),this}pS(){const t=this.mS,e=t.getSize();this.mS=t.setSize(e)}Ie(t,e){t.cs(e),this.At.Ss()}}class pg extends hg{constructor(t,e,i,s,n,r){super(t,e,i,s,n),this.dS=!1,((null==r?void 0:r.individualPointSizeAxisEnabled)||(null==r?void 0:r.individualPointSizeEnabled))&&this.Ji.us.Nn(xf.bf)}add(t){return this.dS&&this.Ji.us.Nn(xf.vf),this.dS=!0,(t=Array.isArray(t)?t:[t])?(this.Na.nl(t.slice()),this.At.Ss(),this):this}clear(){return this.Na.Nt(),this}getPointAmount(){const t=this.Na;return t.ol()+t.al()}Kp(){return this.tS&&this.getPointAmount()>0&&this.getVisible()}Ie(t,e){t.cs(e),this.At.Ss()}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{point3D:this.SS}),this}}class gg extends pg{constructor(t,e,i,s,n,r){super(t,e,i,s,n,r),this.xs="Point Series 3D",this.Gd=()=>Ia(this.SS.getFillStyle());const o=void 0!==(null==r?void 0:r.automaticColorIndex)?r.automaticColorIndex:this.Ji.getSeries().length;this.SS=Da(s.pointSeries3DPointStyle,o);const a={individualPointColorEnabled:!1,individualPointSizeEnabled:!1,individualLookupValuesEnabled:!1,individualPointSizeAxisEnabled:!1,...r};this.Na=this.At.bS(a).nS(this.iS).vS(this.SS).cs(this.getHighlight()),this.ds(this.Na)}setPointStyle(t){this.SS="function"==typeof t?t(this.SS):t;const e=this.SS;return this.Na.vS(e),this.At.Ss(),this}getPointStyle(){return this.SS}}class mg extends up{constructor(t,e,i,s,n,r,o,a,l,h){super(t,e,i,s,n,r,o,a,l,h),this.xS=[],this.MS=0,this._S=t=>{const e=this.xS.indexOf(t);e>=0&&(this.xS.splice(e,1),this.D.emit("seriesDispose",this,t))},this.wS=()=>{this.MS+=1},this.CS=()=>{this.MS-=1},this.onSeriesBackgroundMouseEnter=t=>this.D.on("mouseEnterSeriesBackground",t),this.onSeriesBackgroundMouseLeave=t=>this.D.on("mouseLeaveSeriesBackground",t),this.onSeriesBackgroundMouseMove=t=>this.D.on("mouseMoveSeriesBackground",t),this.onSeriesBackgroundMouseDown=t=>this.D.on("mouseDownSeriesBackground",t),this.onSeriesBackgroundMouseUp=t=>this.D.on("mouseUpSeriesBackground",t),this.onSeriesBackgroundMouseClick=t=>this.D.on("mouseClickSeriesBackground",t),this.onSeriesBackgroundMouseDoubleClick=t=>this.D.on("mouseDoubleClickSeriesBackground",t),this.onSeriesBackgroundMouseDragStart=t=>this.D.on("mouseDragStartSeriesBackground",t),this.onSeriesBackgroundMouseDrag=t=>this.D.on("mouseDragSeriesBackground",t),this.onSeriesBackgroundMouseDragStop=t=>this.D.on("mouseDragStopSeriesBackground",t),this.onSeriesBackgroundMouseWheel=t=>this.D.on("mouseWheelSeriesBackground",t),this.onSeriesBackgroundTouchStart=t=>this.D.on("touchStartSeriesBackground",t),this.onSeriesBackgroundTouchMove=t=>this.D.on("touchMoveSeriesBackground",t),this.onSeriesBackgroundTouchEnd=t=>this.D.on("touchEndSeriesBackground",t),this.offSeriesBackgroundMouseEnter=t=>this.D.off(t,"mouseEnterSeriesBackground"),this.offSeriesBackgroundMouseLeave=t=>this.D.off(t,"mouseLeaveSeriesBackground"),this.offSeriesBackgroundMouseMove=t=>this.D.off(t,"mouseMoveSeriesBackground"),this.offSeriesBackgroundMouseDown=t=>this.D.off(t,"mouseDownSeriesBackground"),this.offSeriesBackgroundMouseUp=t=>this.D.off(t,"mouseUpSeriesBackground"),this.offSeriesBackgroundMouseClick=t=>this.D.off(t,"mouseClickSeriesBackground"),this.offSeriesBackgroundMouseDoubleClick=t=>this.D.off(t,"mouseDoubleClickSeriesBackground"),this.offSeriesBackgroundMouseDragStart=t=>this.D.off(t,"mouseDragStartSeriesBackground"),this.offSeriesBackgroundMouseDrag=t=>this.D.off(t,"mouseDragSeriesBackground"),this.offSeriesBackgroundMouseDragStop=t=>this.D.off(t,"mouseDragStopSeriesBackground"),this.offSeriesBackgroundMouseWheel=t=>this.D.off(t,"mouseWheelSeriesBackground"),this.offSeriesBackgroundTouchStart=t=>this.D.off(t,"touchStartSeriesBackground"),this.offSeriesBackgroundTouchMove=t=>this.D.off(t,"touchMoveSeriesBackground"),this.offSeriesBackgroundTouchEnd=t=>this.D.off(t,"touchEndSeriesBackground"),this.kS=this.es.yg()}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.xS.forEach((e=>e.setAnimationHighlight(t))),this}TS(t,e){this.kS.fs([e]),t.setMouseMoveEventHandler(((t,e)=>{this.D.emit("mouseMoveSeriesBackground",this,e)})).setMouseEnterEventHandler(((t,e)=>{this.D.emit("mouseEnterSeriesBackground",this,e)})).setMouseLeaveEventHandler(((t,e)=>{this.D.emit("mouseLeaveSeriesBackground",this,e)})).setMouseDownEventHandler(((t,e)=>this.D.emit("mouseDownSeriesBackground",this,e))).setMouseUpEventHandler(((t,e)=>this.D.emit("mouseUpSeriesBackground",this,e))).setMouseClickEventHandler(((t,e)=>this.D.emit("mouseClickSeriesBackground",this,e))).setMouseDoubleClickEventHandler(((t,e)=>this.D.emit("mouseDoubleClickSeriesBackground",this,e))).setMouseWheelEventHandler(((t,e)=>this.D.emit("mouseWheelSeriesBackground",this,e))).setMouseDragStartEventHandler(((t,e,i)=>this.D.emit("mouseDragStartSeriesBackground",this,e,i))).setMouseDragEventHandler(((t,e,i,s,n)=>this.D.emit("mouseDragSeriesBackground",this,e,i,s,n))).setMouseDragStopEventHandler(((t,e,i,s)=>this.D.emit("mouseDragStopSeriesBackground",this,e,i,s))).setTouchStartEventHandler(((t,e)=>{this.D.emit("touchStartSeriesBackground",this,e)})).setTouchMoveEventHandler(((t,e)=>{this.D.emit("touchMoveSeriesBackground",this,e)})).setTouchEndEventHandler(((t,e)=>{this.D.emit("touchEndSeriesBackground",this,e)}))}setSeriesBackgroundFillStyle(t){return this.FS.Ce(t),this.us.Ss(),this}getSeriesBackgroundFillStyle(){return this.FS.Eh()}setSeriesBackgroundStrokeStyle(t){return this.IS.we(t),this.us.Ss(),this}getSeriesBackgroundStrokeStyle(){return this.IS.ao()}setSeriesBackgroundEffect(t){return this.kS.ps(t),this.us.Ss(),this}getSeriesBackgroundEffect(){return this.kS.vs()}PS(t){this.xS.push(t),t.onMouseEnter(this.wS),t.onMouseLeave(this.CS),void 0!==this.DS&&t.setHighlightOnHover(this.DS),this.D.emit("seriesAdded",this,t)}Zd(){return this.xS}BS(){return this.MS}setSeriesHighlightOnHover(t){return this.DS=t,this.xS.forEach((e=>e.setHighlightOnHover(t))),this}dispose(){return this.xS.slice().forEach(Yo),super.dispose()}LS(t){return this.D.on("seriesAdded",t)}RS(t){return this.D.off(t)}ES(t){return this.D.on("seriesDispose",t)}zS(t){return this.D.off(t)}}const yg=Qa.normalize({x:-.5610788649579117,y:-.35242840511865414,z:-1.1349149375849081});class vg{constructor(t,e,i,s){this.VS=!0,this.OS=!0,this.NS=2*-Math.PI/2160,this.GS=2*Math.PI/2160,this.WS=.1,this.US=1*Math.PI/180,this.YS=t,this.HS=e,this.$S=i,this.Gp=s}getDefaultCameraConfiguration(t){const e={direction:yg,location:Qa.multiply(yg,-1)};return this.cameraLocationChanged({boundingBox:t,cameraDirection:e.direction,cameraLocation:e.location})||e}applyCameraInteractions(t,e){let i={direction:t.cameraDirection,location:t.cameraLocation};return e.forEach((t=>{"rotate"===t.type?i=this.XS(i,t):"wheel-zoom"===t.type?i=this.jS(i,t):"rotate+zoom"===t.type?i=this.ZS(i,t):"fixed-rotate"===t.type?i=this.QS(i,t):"move"===t.type&&(i=this.JS(i,t))})),this.VS?i=this.KS(t.boundingBox,i):this.OS&&(i=this.qS(t.boundingBox,i)),i}XS(t,e){const{rotation:i}=e,s=t.location,n=Qa.multiply(Qa.normalize(t.location),-1),{Right:r,Up:o}=this.tv(n);let a=s;const l=this.sv(n),h=i.x*this.NS*l;a=Qa.rotateAroundAxis(a,o,h);const c=(i.y>0?1:-1)*Math.min(Math.abs(i.y)*this.GS,l-this.US);return 0!==c&&(a=Qa.rotateAroundAxis(a,r,c)),{location:a,direction:Qa.multiply(Qa.normalize(a),-1)}}jS(t,e){const{deltaY:i}=e;this.VS&&this.ev(!1);const s=t.location,n=Qa.multiply(Qa.normalize(s),-1),r=i*this.WS,o=Qa.length(s)*-r;return{direction:n,location:Qa.addVec(s,Qa.multiply(n,o))}}ZS(t,e){const{rotation:i,cameraDistance:s}=e;this.VS&&this.ev(!1);let n=this.XS(t,{type:"rotate",rotation:i});const r=n.location,o=Qa.multiply(Qa.normalize(r),-1),a=Qa.multiply(o,-s);return n={direction:Qa.multiply(Qa.normalize(a),-1),location:a},n}QS(t,e){this.VS&&this.ev(!1);const{rotation:i}=e,s=t.location,n=t.direction,{Right:r,Up:o}=this.tv(n),a=i.x*this.NS;let l=Qa.normalize(Qa.rotateAroundAxis(n,o,a));const h=i.y*this.GS;return l=Qa.normalize(Qa.rotateAroundAxis(l,r,h)),{location:s,direction:l}}JS(t,e){this.VS&&this.ev(!1),this.OS=!1;const{amountRight:i,amountForward:s}=e,n=t.location,r=t.direction,{Right:o}=this.tv(r);return{location:Qa.addVec(n,Qa.multiply(r,.01*s),Qa.multiply(o,.01*i)),direction:r}}boundingBoxChanged(t){const e={location:t.cameraLocation,direction:Qa.multiply(Qa.normalize(t.cameraLocation),-1)};return this.VS?this.KS(t.boundingBox,e):this.qS(t.boundingBox,e)}cameraLocationChanged(t){const e={location:t.cameraLocation,direction:Qa.multiply(Qa.normalize(t.cameraLocation),-1)};return this.VS?this.KS(t.boundingBox,e):this.qS(t.boundingBox,e)}viewportChanged(t){const e={location:t.cameraLocation,direction:Qa.multiply(Qa.normalize(t.cameraLocation),-1)};if(this.VS)return this.KS(t.boundingBox,e)}KS(t,e,i){let s=e;i=void 0!==i?i:0,s=this.hv(t,s,100,20,1,i,5);const n=this.sv(s.direction);return s=this.rv(s,this.nv(t,s,100,1),n),s}hv(t,e,i,s,n,r,o){return bg(r,o,(t=>({direction:e.direction,location:Qa.multiply(e.direction,-t)})),(e=>this.ov(t,e)),i,n,"linear",s)}nv(t,e,i,s){const{Right:n,Left:r,Up:o,Down:a}=this.tv(e.direction),l=this.av(t,!1,e);let h=e;const c=s,u=.1;return Math.abs(l.bottom-l.top)>c&&(h=l.bottom<l.top?xg(0,u,(t=>({location:h.location,direction:Qa.normalize(Qa.lerp(h.direction,a,t))})),(e=>this.lv(t,e)),0,c,!0,i):xg(0,u,(t=>({location:h.location,direction:Qa.normalize(Qa.lerp(h.direction,o,t))})),(e=>this.lv(t,e)),0,c,!0,i)),Math.abs(l.left-l.right)>c&&(h=l.left<l.right?xg(0,u,(t=>({location:h.location,direction:Qa.normalize(Qa.lerp(h.direction,r,t))})),(e=>this.uv(t,e)),0,c,!0,i):xg(0,u,(t=>({location:h.location,direction:Qa.normalize(Qa.lerp(h.direction,n,t))})),(e=>this.uv(t,e)),0,c,!0,i)),h}ov(t,e){const i=this.av(t,!0,e);return Math.min(i.left+i.right,i.top+i.bottom)}uv(t,e){const i=this.av(t,!1,e);return Math.abs(i.left-i.right)}lv(t,e){const i=this.av(t,!1,e);return Math.abs(i.top-i.bottom)}av(t,e,i){const s=gl(this.cv(t,e,i).map((t=>Lo(t,this.YS,this.HS))));return{left:s.min.x,right:this.HS.x.getInnerEnd()-s.max.x,top:this.HS.y.getInnerEnd()-s.max.y,bottom:s.min.y}}cv(t,e,i){const s=this.$S,n=_r(s.x.getInnerStart(),s.y.getInnerStart(),s.z.getInnerStart()),r=_r(s.x.getInnerEnd(),s.y.getInnerEnd(),s.z.getInnerEnd()),o=[],a=e?16:4,l=(n.x+r.x)/2,h=(n.z+r.z)/2,c=Math.sqrt(2)*(r.x-l),u=Math.sqrt(2)*(r.z-h);return[n.y,r.y].forEach((t=>{for(let e=0;e<a;e+=1){const i=Math.PI/4+2*Math.PI*e/a,s=l+Math.cos(i)*c,n=h+Math.sin(i)*u;o.push({x:s,y:t,z:n})}})),o.map((t=>this.Gp(t,i))).filter((t=>void 0!==t))}qS(t,e){const i=Qa.length(e.location),s=this.dv(t);return i<s?{direction:e.direction,location:Qa.multiply(e.direction,-s)}:e}dv(t){return.8*Math.sqrt(t.x**2+t.y**2+t.z**2)}tv(t){const e=_r(0,1,0),i=Qa.normalize(Qa.cross(e,Qa.multiply(t,-1)));let s=Qa.cross(i,t);return s.y=Math.abs(s.y),s=Qa.normalize(s),{Right:i,Up:s,Down:Qa.multiply(s,-1),Left:Qa.multiply(i,-1)}}sv(t){const e={x:0,y:1,z:0},i=Qa.angle(t,e),s=Qa.angle(t,Qa.multiply(e,-1));return Math.min(i,s)}rv(t,e,i){return{location:Qa.lerp(t.location,e.location,i),direction:Qa.normalize(Qa.lerp(t.direction,e.direction,i))}}ev(t){return this.VS=t,this}fv(){return this.VS}}const bg=(t,e,i,s,n,r,o,a)=>{let l,h=0,c=(e+t)/2;do{const a=i(c);if(l={value:c,result:a,score:s(a)},Math.abs(l.score-n)<=r)break;const u=l.score>n;u&&"linear"===o||!u&&"reversed"===o?(c=(l.value+t)/2,e=l.value):(c=(l.value+e)/2,t=l.value),h+=1}while(h<a);return l.result},xg=(t,e,i,s,n,r,o,a)=>{let l,h=0,c=t;do{const u=i(c),d=s(u);if(void 0===l||Math.abs(d-n)<Math.abs(l.score-n)){if(l={value:c,result:u,score:s(u)},Math.abs(l.score-n)<=r)break}else if(o)break;h+=1,c+=1/(a-1)*(e-t)}while(h<a);return l.result};class Sg extends hg{constructor(t,e,i,s,n,r){super(t,e,i,n,r),this.xs="Surface Grid Series 3D",this.Av={},this.dS=!1,this.Gd=()=>Ia(this.be),this.qp=sd;const o=void 0!==(null==s?void 0:s.automaticColorIndex)?s.automaticColorIndex:this.Ji.getSeries().length;this.be=Da(this.qi.surfaceGridSeries3DFillStyle,o),this.gv=Da(this.qi.surfaceGridSeries3DWireframeStyle,o);const a={heatmapDataType:"intensity",dataOrder:s.dataOrder||"columns",columns:s.columns,rows:s.rows};this.Un=a,this.Na=this.At.yv(a).Ce(this.be).mv(this.gv).rS(this.qp).cs(this.getHighlight()),this.ds(this.Na),s.start&&this.setStart(s.start),s.end&&this.setEnd(s.end),s.step&&this.setStep(s.step)}pv(){const t=this.Av.start||{x:0,z:0};let e;e=this.Av.end?{x:(this.Av.end.x-t.x)/this.Un.columns,z:(this.Av.end.z-t.z)/this.Un.rows}:this.Av.step?this.Av.step:{x:1,z:1},this.Na.Sv(t,e),this.Ji.us.Ss()}setStart(t){return this.Av.start=t,this.pv(),this}getStart(){return this.Na.vv().start}setStep(t){return this.Av.step=t,this.pv(),this}getStep(){return this.Na.vv().step}setEnd(t){return this.Av.end=t,this.pv(),this}getEnd(){return this.Na.vv().end}setFillStyle(t){return this.be="function"==typeof t?t(this.be):t,this.Na.Ce(this.be),this.At.Ss(),this}getFillStyle(){return this.be}setWireframeStyle(t){return this.gv="function"==typeof t?t(this.gv):t,this.Na.mv(this.gv),this.At.Ss(),this}getWireframeStyle(){return this.Na.bv()}setIntensityInterpolation(t){return t=t||"disabled",this.Na.xv(t),this.At.Ss(),this}getIntensityInterpolation(){return this.Na.Mv()}invalidateIntensityValues(t){if(this.dS&&this.Ji.us.Nn(xf.vf),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;const e={x:t.length,y:t[0].length,columns:"columns"===this.Un.dataOrder?t.length:t[0].length,rows:"rows"===this.Un.dataOrder?t.length:t[0].length},i="columns"===this.Un.dataOrder?this.Un.columns:this.Un.rows,s="columns"===this.Un.dataOrder?this.Un.rows:this.Un.columns;if(e.x>i||e.y>s){if(!0===this.Ji.cA.Hn){const t="SurfaceGridSeries3D.invalidateIntensityValues intensity matrix overflow.\n    Grid ".concat(this.Un.columns,"x").concat(this.Un.rows,", input ").concat(e.columns,"x").concat(e.rows,".\n    Excess data will be automatically clipped. This can result in sub-optimal performance.");Ho.console.warn(t)}const n=[];for(let e=0;e<i;e+=1)n[e]=t[e].slice(0,s);t=n}this.Na._v({type:"intensity",lengthPrimary:t.length,lengthSecondary:t[0].length,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;const e={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.Un.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.Un.dataOrder?t.values.length:t.values[0].length};let i="columns"===this.Un.dataOrder?t.iColumn:t.iRow;const s=i+e.primary-1;let n="columns"===this.Un.dataOrder?t.iRow:t.iColumn;const r=n+e.secondary-1,o=("columns"===this.Un.dataOrder?this.Un.columns:this.Un.rows)-1,a=("columns"===this.Un.dataOrder?this.Un.rows:this.Un.columns)-1;if(i<0||n<0||s>o||r>a){if(!0===this.Ji.cA.Hn){const i="SurfaceGridSeries3D.invalidateIntensityValues intensity matrix overflow.\n    Grid ".concat(this.Un.columns,"x").concat(this.Un.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\n    Out of bounds data will be automatically clipped. This can result in sub-optimal performance.");Ho.console.warn(i)}const l=Math.max(-i,0),h=Math.max(-n,0),c=Math.max(s-o,0),u=Math.max(r-a,0),d=e.primary-(l+c),f=[];if(0===h&&0===u)for(let e=0;e<d;e+=1)f[e]=t.values[l+e];else for(let e=0;e<d;e+=1)f[e]=t.values[l+e].slice(h,0===u?void 0:-u);if(0===f.length||0===f[0].length)return this;t={iColumn:t.iColumn,iRow:t.iRow,values:f},i=Math.max(i,0),n=Math.max(n,0)}this.Na._v({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:i,startSecondary:n,values:t.values})}return this.At.Ss(),this.dS=!0,this}invalidateHeightMap(t){if(this.dS&&this.Ji.us.Nn(xf.vf),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;const e={x:t.length,y:t[0].length,columns:"columns"===this.Un.dataOrder?t.length:t[0].length,rows:"rows"===this.Un.dataOrder?t.length:t[0].length},i="columns"===this.Un.dataOrder?this.Un.columns:this.Un.rows,s="columns"===this.Un.dataOrder?this.Un.rows:this.Un.columns;if(e.x>i||e.y>s){if(!0===this.Ji.cA.Hn){const t="SurfaceGridSeries3D.invalidateHeightMap height matrix overflow.\n    Grid ".concat(this.Un.columns,"x").concat(this.Un.rows,", input ").concat(e.columns,"x").concat(e.rows,".\n    Excess data will be automatically clipped. This can result in sub-optimal performance.");Ho.console.warn(t)}const n=[];for(let e=0;e<i;e+=1)n[e]=t[e].slice(0,s);t=n}this.Na.wv({type:"y",lengthPrimary:t.length,lengthSecondary:t[0].length,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;const e={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.Un.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.Un.dataOrder?t.values.length:t.values[0].length};let i="columns"===this.Un.dataOrder?t.iColumn:t.iRow;const s=i+e.primary-1;let n="columns"===this.Un.dataOrder?t.iRow:t.iColumn;const r=n+e.secondary-1,o=("columns"===this.Un.dataOrder?this.Un.columns:this.Un.rows)-1,a=("columns"===this.Un.dataOrder?this.Un.rows:this.Un.columns)-1;if(i<0||n<0||s>o||r>a){if(!0===this.Ji.cA.Hn){const i="SurfaceGridSeries3D.invalidateHeightMap height matrix overflow.\n    Grid ".concat(this.Un.columns,"x").concat(this.Un.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\n    Out of bounds data will be automatically clipped. This can result in sub-optimal performance.");Ho.console.warn(i)}const l=Math.max(-i,0),h=Math.max(-n,0),c=Math.max(s-o,0),u=Math.max(r-a,0),d=e.primary-(l+c),f=[];if(0===h&&0===u)for(let e=0;e<d;e+=1)f[e]=t.values[l+e];else for(let e=0;e<d;e+=1)f[e]=t.values[l+e].slice(h,0===u?void 0:-u);if(0===f.length||0===f[0].length)return this;t={iColumn:t.iColumn,iRow:t.iRow,values:f},i=Math.max(i,0),n=Math.max(n,0)}this.Na.wv({type:"y",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:i,startSecondary:n,values:t.values})}return this.At.Ss(),this.dS=!0,this}setCullMode(t){return this.Na.Cv("boolean"==typeof t?t?"cull-back":"disabled":t),this}getCullMode(){return this.Na.kv()}oS(){}Te(){}dp(){}Kp(){return this.tS&&this.getVisible()}Ie(t,e){t.cs(e),this.At.Ss()}}class Ag extends hg{constructor(t,e,i,s,n,r){super(t,e,i,n,r),this.xs="Surface Grid Series 3D",this.Av={},this.Gd=()=>Ia(this.be),this.Ji.us.Nn(xf.vf),this.qp=sd;const o=void 0!==(null==s?void 0:s.automaticColorIndex)?s.automaticColorIndex:this.Ji.getSeries().length;this.be=Da(this.qi.surfaceScrollingGridSeries3DFillStyle,o),this.gv=Da(this.qi.surfaceScrollingGridSeries3DWireframeStyle,o);const a={heatmapDataType:"intensity",scrollDimension:s.scrollDimension||"columns",columns:s.columns,rows:s.rows};this.Un=a,this.Na=this.At.Tv(a).Ce(this.be).mv(this.gv).rS(this.qp).cs(this.getHighlight()),this.ds(this.Na),s.start&&this.setStart(s.start),s.step&&this.setStep(s.step)}pv(){const t=this.Av.start||{x:0,z:0};let e;e=this.Av.step?this.Av.step:{x:1,z:1},this.Na.Sv(t,e),this.Ji.us.Ss()}setStart(t){return this.Av.start=t,this.pv(),this}getStart(){return this.Na.vv().start}setStep(t){return this.Av.step=t,this.pv(),this}getStep(){return this.Na.vv().step}setFillStyle(t){return this.be="function"==typeof t?t(this.be):t,this.Na.Ce(this.be),this.At.Ss(),this}getFillStyle(){return this.be}setWireframeStyle(t){return this.gv="function"==typeof t?t(this.gv):t,this.Na.mv(this.gv),this.At.Ss(),this}getWireframeStyle(){return this.Na.bv()}setIntensityInterpolation(t){return t=t||"disabled",this.Na.xv(t),this.At.Ss(),this}getIntensityInterpolation(){return this.Na.Mv()}clear(){return this.Na.Nt(),this.At.Ss(),this}addValues(t){if(!t)return this;let e=t.yValues,i=t.intensityValues;if(!e&&!i)return this;if(e&&0===e.length&&(e=void 0),i&&0===i.length&&(i=void 0),e){const t=e[0].length,i=0+t-1,s="columns"===this.Un.scrollDimension?this.Un.rows:this.Un.columns;if(i>s-1){if(!0===this.Ji.cA.Hn){const e="SurfaceScrollingGridSeries3D.addValues input yValues overflow.\nGrid was created with ".concat(s," ").concat("columns"===this.Un.scrollDimension?"rows":"columns",", input yValues have ").concat(t,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");Ho.console.warn(e)}const i=[];for(let t=0;t<e.length;t+=1)i[t]=e[t].slice(0,s+1);e=i}}if(i){const t=i[0].length,e=0+t-1,s="columns"===this.Un.scrollDimension?this.Un.rows:this.Un.columns;if(e>s-1){if(!0===this.Ji.cA.Hn){const e="SurfaceScrollingGridSeries3D.addValues intensityValues overflow.\nGrid was created with ".concat(s," ").concat("columns"===this.Un.scrollDimension?"rows":"columns",", input intensityValues have ").concat(t,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");Ho.console.warn(e)}const e=[];for(let t=0;t<i.length;t+=1)e[t]=i[t].slice(0,s+1);i=e}}if(e&&i){const t=e.length,s=i.length;if(t!==s){if(!0===this.Ji.cA.Hn){const e="SurfaceScrollingGridSeries3D.addValues input yValues and intensityValues size does not match.\nyValues: ".concat(t,"\nintensityValues: ").concat(s,"\nData will be automatically clipped according to the smaller supplied sample. This can result in sub-optimal performance.");Ho.console.warn(e)}t>s?e=e.slice(0,s):i=i.slice(0,t)}}const s=e?e.length:null==i?void 0:i.length,n=e?e[0].length:null==i?void 0:i[0].length;return this.Na.Fv({startPrimary:0,startSecondary:0,lengthPrimary:s,lengthSecondary:n,heightMapValues:e,intensityValues:i}),this.At.Ss(),this}setCullMode(t){return this.Na.Cv("boolean"==typeof t?t?"cull-back":"disabled":t),this}getCullMode(){return this.Na.kv()}oS(){}Te(){}dp(){}Kp(){return this.tS&&this.getVisible()}Ie(t,e){t.cs(e),this.At.Ss()}}const wg=t=>!!(t&&"object"==typeof t&&"id"in t&&"chart"in t&&t.chart instanceof Rg),Cg=t=>!!(t&&"object"==typeof t&&"x"in t&&"number"==typeof t.x&&"y"in t&&"number"==typeof t.y&&"z"in t&&"number"==typeof t.z),Mg={translation:(t,e,i)=>[1,0,0,0,0,1,0,0,0,0,1,0,t,e,i,1],xRotation(t){const e=Math.cos(t),i=Math.sin(t);return[1,0,0,0,0,e,i,0,0,-i,e,0,0,0,0,1]},yRotation(t){const e=Math.cos(t),i=Math.sin(t);return[e,0,-i,0,0,1,0,0,i,0,e,0,0,0,0,1]},zRotation(t){const e=Math.cos(t),i=Math.sin(t);return[e,i,0,0,-i,e,0,0,0,0,1,0,0,0,0,1]},scaling:(t,e,i)=>[t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1],translate:(t,e,i,s)=>Mg.multiply(t,Mg.translation(e,i,s)),xRotate:(t,e)=>Mg.multiply(t,Mg.xRotation(e)),yRotate:(t,e)=>Mg.multiply(t,Mg.yRotation(e)),zRotate:(t,e)=>Mg.multiply(t,Mg.zRotation(e)),rotateXYZ(t,e){let i=Mg.xRotate(t,e.x);return i=Mg.yRotate(i,e.y),i=Mg.zRotate(i,e.z),i},scale:(t,e,i,s)=>Mg.multiply(t,Mg.scaling(e,i,s)),multiply(t,e){const i=e[0],s=e[1],n=e[2],r=e[3],o=e[4],a=e[5],l=e[6],h=e[7],c=e[8],u=e[9],d=e[10],f=e[11],p=e[12],g=e[13],m=e[14],y=e[15],v=t[0],b=t[1],x=t[2],S=t[3],A=t[4],w=t[5],C=t[6],M=t[7],k=t[8],R=t[9],E=t[10],T=t[11],I=t[12],P=t[13],F=t[14],D=t[15],L=[];return L[0]=i*v+s*A+n*k+r*I,L[1]=i*b+s*w+n*R+r*P,L[2]=i*x+s*C+n*E+r*F,L[3]=i*S+s*M+n*T+r*D,L[4]=o*v+a*A+l*k+h*I,L[5]=o*b+a*w+l*R+h*P,L[6]=o*x+a*C+l*E+h*F,L[7]=o*S+a*M+l*T+h*D,L[8]=c*v+u*A+d*k+f*I,L[9]=c*b+u*w+d*R+f*P,L[10]=c*x+u*C+d*E+f*F,L[11]=c*S+u*M+d*T+f*D,L[12]=p*v+g*A+m*k+y*I,L[13]=p*b+g*w+m*R+y*P,L[14]=p*x+g*C+m*E+y*F,L[15]=p*S+g*M+m*T+y*D,L},inverse(t){const e=[],i=t[0],s=t[1],n=t[2],r=t[3],o=t[4],a=t[5],l=t[6],h=t[7],c=t[8],u=t[9],d=t[10],f=t[11],p=t[12],g=t[13],m=t[14],y=t[15],v=d*y,b=m*f,x=l*y,S=m*h,A=l*f,w=d*h,C=n*y,M=m*r,k=n*f,R=d*r,E=n*h,T=l*r,I=c*g,P=p*u,F=o*g,D=p*a,L=o*u,z=c*a,N=i*g,_=p*s,V=i*u,B=c*s,O=i*a,U=o*s,H=v*a+S*u+A*g-(b*a+x*u+w*g),G=b*s+C*u+R*g-(v*s+M*u+k*g),W=x*s+M*a+E*g-(S*s+C*a+T*g),j=w*s+k*a+T*u-(A*s+R*a+E*u),Y=1/(i*H+o*G+c*W+p*j);return e[0]=Y*H,e[1]=Y*G,e[2]=Y*W,e[3]=Y*j,e[4]=Y*(b*o+x*c+w*p-(v*o+S*c+A*p)),e[5]=Y*(v*i+M*c+k*p-(b*i+C*c+R*p)),e[6]=Y*(S*i+C*o+T*p-(x*i+M*o+E*p)),e[7]=Y*(A*i+R*o+E*c-(w*i+k*o+T*c)),e[8]=Y*(I*h+D*f+L*y-(P*h+F*f+z*y)),e[9]=Y*(P*r+N*f+B*y-(I*r+_*f+V*y)),e[10]=Y*(F*r+_*h+O*y-(D*r+N*h+U*y)),e[11]=Y*(z*r+V*h+U*f-(L*r+B*h+O*f)),e[12]=Y*(F*d+z*m+P*l-(L*m+I*l+D*d)),e[13]=Y*(V*m+I*n+_*d-(N*d+B*m+P*n)),e[14]=Y*(N*l+U*m+D*n-(O*m+F*n+_*l)),e[15]=Y*(O*d+L*n+B*l-(V*l+U*d+z*n)),e},projectionPerspective(t,e,i,s){const n=1/Math.tan(t*Math.PI/180/2),r=1/(i-s);return[n/e,0,0,0,0,n,0,0,0,0,(i+s)*r,-1,0,0,i*s*r*2,0]},projectionOrthographic:(t,e,i,s,n,r)=>[2/(e-t),0,0,-(e+t)/(e-t),0,2/(s-i),0,-(s+i)/(s-i),0,0,-2/(r-n),-(r+n)/(r-n),0,0,0,1]};class kg extends hg{constructor(t,e,i,s,n,r){super(t,e,i,s,r),this.xs="Mesh Model 3D",this.Iv=new Float32Array,this.dt={x:1,y:1,z:1},this.Pv={x:0,y:0,z:0},this.Dv={x:0,y:0,z:0},this.Bv={x:0,y:0,z:0},this.Lv={x:0,y:0,z:0},this.Ya=il,this.Gd=()=>Ia(this.getFillStyle());const o=void 0!==(null==n?void 0:n.automaticColorIndex)?n.automaticColorIndex:this.Ji.getSeries().length;this.Na=this.At.Rv().nS(this.iS).Ce(Da(this.qi.meshModel3DFillStyle||this.qi.pointSeriesFillStyle,o)).cs(this.getHighlight()),this.ds(this.Na)}setModelGeometry(t){const{indices:e,vertices:i,normals:s}=t;let n=tl,r=$a,o=tl,a=$a,l=tl,h=$a;for(let c=0;c<i.length;c+=3){const t=i[c],e=i[c+1],s=i[c+2];n=Math.max(n,t),r=Math.min(r,t),o=Math.max(o,e),a=Math.min(a,e),l=Math.max(l,s),h=Math.min(h,s)}this.Ya={min:{x:r,y:a,z:h},max:{x:n,y:o,z:l}};for(let c=0;c<i.length;c+=3)i[c]-=this.Ya.min.x,i[c+1]-=this.Ya.min.y,i[c+2]-=this.Ya.min.z;return this.Lv={x:this.Ya.max.x-this.Ya.min.x,y:this.Ya.max.y-this.Ya.min.y,z:this.Ya.max.z-this.Ya.min.z},this.Iv=i instanceof Float32Array?i:new Float32Array(i),this.checkedNormals=s&&!Number.isNaN(s[0])?s instanceof Float32Array?s:new Float32Array(s):void 0,this.checkedNormals||this.setColorShadingStyle(sd),this.Na.Ev({vertices:this.Iv,normals:this.checkedNormals,indices:e instanceof Uint16Array?e:new Uint16Array(e),modelSize:this.Lv}),this.Ji.us.Ss(),this}setVertexValues(t){const e=this.Dv,i=this.Pv,s=this.dt,n=this.Lv,r=this.Bv,o=((t,e,i)=>{if("axes"===e.id&&"world"===i.id)return e.chart.At.ft(t);if("world"===e.id&&"axes"===i.id)return e.chart.At.yt(t);if(e.id===i.id)return t;throw new Error("LC JS translatePoint3D misusage | originCoordinateSystem and targetCoordinateSystem arguments must be either Chart3D.coordsWorld or Chart3D.coordsAxis")})(e,this.Ji.axes,this.Ji.world);let a;if(this.zv)a=t(this.zv);else{const e=[],l=Mg.projectionOrthographic(-1,1,-1,1,1,-1);let h=Mg.translate(l,n.x/2,n.y/2,n.z/2);h=Mg.rotateXYZ(h,r),h=Mg.translate(h,-n.x/2,-n.y/2,-n.z/2);const c=(i.x+1)*(n.x/2),u=(i.y+1)*(n.y/2),d=(i.z+1)*(n.z/2);for(let t=0;t<this.Iv.length;t+=3){const i=Mg.multiply(h,[this.Iv[t],this.Iv[t+1],this.Iv[t+2],1]),n={x:o.x+(i[0]-c)*s.x,y:o.y+(i[1]-u)*s.y,z:o.z+(i[2]-d)*s.z};e.push(n)}this.zv=e,a=t(e)}return 0===a.length||(a.length!==this.zv.length&&!0===this.Ji.us.Un.Hn&&Ho.console.warn("LightningChart JS warning - MeshModel3D.setVertexValues returned array length is not equal to vertex locations array length.\nThis is most likely an application error."),this.Na.Vv(a instanceof Float32Array?a:new Float32Array(a)),this.Ji.us.Ss()),this}setScale(t){const e={x:"number"==typeof t?t:(null==t?void 0:t.x)||1,y:"number"==typeof t?t:(null==t?void 0:t.y)||1,z:"number"==typeof t?t:(null==t?void 0:t.z)||1};return this.dt=e,this.zv=void 0,this.Na.Ov(e),this.Ji.us.Ss(),this}getScale(){return this.dt}setModelLocation(t){return this.Dv=t,this.zv=void 0,this.Na.Nv(t),this.Ji.us.Ss(),this}getModelLocation(){return this.Dv}setModelAlignment(t){return this.Pv=t,this.zv=void 0,this.Na.Gv(t),this.Ji.us.Ss(),this}getModelAlignment(){return this.Pv}setModelRotation(t){const e={x:Ll(t.x),y:Ll(t.y),z:Ll(t.z)};return this.Bv=e,this.zv=void 0,this.Na.Wv(this.Bv),this.Ji.us.Ss(),this}getModelRotation(){return this.Bv}setBackfaceCullingMode(t){return this.Na.Uv(t),this.Ji.us.Ss(),this}getBackfaceCullingMode(){return this.Na.Yv()}setFillStyle(t){return this.Na.Ce(t),this.Ji.us.Ss(),this}getFillStyle(){return this.Na.Eh()}setColorShadingStyle(t){return this.checkedNormals||t!==rd?super.setColorShadingStyle(t):(console.warn("Phong shading style is not supported without normals. Switching to Simple shading style."),super.setColorShadingStyle(new od))}Kp(){return!1}Ie(t,e){t.cs(e),this.Ji.us.Ss()}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e),Ta(t,this.qi,i,{fill:this.getFillStyle()}),this}}class Rg extends mg{constructor(t,e,i,s,n,r,o){var a;let l;super(t,e,i,e.vm("chart3D bg",0),s,e.us.qi.chart3DBackgroundFillStyle,e.us.qi.chart3DBackgroundStrokeStyle,e.us.qi.chart3DTitleFont,e.us.qi.chart3DTitleFillStyle,r),this.Hv=1,this.$v=[],this.Xv=2,this.jv=!0,this.Zv=!0,this.Qv=!0,this.Jv=0,this.coordsAxis={id:"axes",chart:this},this.coordsWorld={id:"world",chart:this},this.axes={id:"axes",chart:this},this.world={id:"world",chart:this},this.an=[],this.fn=()=>{const t=this.At.Kv();this.tb.qv(t),this.ib.qv(t);const e=this.sb.viewportChanged(this.eb());e&&this.hb(e),this.us.Ss()},this.eS=(t,e,i,s,n)=>{if(this.Qv){const t=n;this.$v.push({type:"rotate",rotation:t}),this.us.Ss(),ga(e)}},this.sS=(t,e)=>{if(this.Zv){if(this.jv)Math.sign(this.Jv)!==Math.sign(e.deltaY)?this.Jv=La(e):this.Jv+=La(e);else{const t=La(e);this.$v.push({type:"wheel-zoom",deltaY:t})}this.us.Ss(),ga(e)}},this.us.Nn(xf.df),this._m.Rh("Chart3D"),this.rb=i.d3(),this.rb.x.J(-1,1),this.rb.y.J(-1,1),this.rb.z.J(-1,1),this.At=e.nb("chart3D layer3D",0,this.rb),this.tb=e.ob("chart3D series bg",0),this.ib=e.$y("chart3D axis ui",1),this.ab={x:new sg(this,(a=()=>this.xS,{...og(a,(t=>t.getXMin()),(t=>t.getXMax()),(t=>t.br().x)),Cp:t=>t.x,Hp:(t,e)=>({x:t.x,y:e.y,z:e.z}),Jd:_r(0,-1,0),$p:t=>{const e={x:t.x>=0?1:-1,y:t.y>=0?1:-1,z:t.z>=0?1:-1};return{gridlinePositionA:_r(0,e.y,e.z),gridlinePositionB:_r(0,e.y,-e.z),gridlinePositionC:_r(0,-e.y,-e.z)}},Zp:()=>!0,Qp:()=>!1,Yp:()=>!1}),this.rb.x,this.qi,this.At,this.ib,this.pixelScale,!1,this.es),y:new sg(this,ag((()=>this.xS)),this.rb.y,this.qi,this.At,this.ib,this.pixelScale,!1,this.es),z:new sg(this,lg((()=>this.xS)),this.rb.z,this.qi,this.At,this.ib,this.pixelScale,!1,this.es)},this.lb=this.At.rp([Kp.InternalUI]).setMouseInteractions(!1),this.setBoundingBoxStrokeStyle(this.qi.chart3DBoundingBoxStrokeStyle),this.FS=this.tb.ic(this.engine.scale,Eu.Simple).Ce(this.qi.chart3DSeriesBackgroundFillStyle).we(Eo).setMouseInteractions(!0),this.IS=this.tb.ic(this.engine.scale,Eu.Simple).Ce(ro).we(this.qi.chart3DSeriesBackgroundStrokeStyle).setMouseInteractions(!1),super.TS(this.FS,this.IS),this.ub({x:1,y:1,z:1},!0),this.sb=new vg(this.engine.scale,this.pixelScale,this.rb,((t,e)=>(e&&this.hb(e),this.At.Gp(t)))),this.cb=this.sb.getDefaultCameraConfiguration(this.fb(this.Ab)),this.hb(this.cb),this.hS=dh(new gh(((t,e,i)=>{l={locationOne:e,locationTwo:i,cameraLocation:this.At.getCameraLocation()}}),((t,e,i,s,n,r)=>{if(!this.Qv&&!this.Zv)return;const o=(l.locationOne.x-l.locationTwo.x)**2+(l.locationOne.y-l.locationTwo.y)**2,a=(e.x-i.x)**2+(e.y-i.y)**2,h=Qa.length(l.cameraLocation),c=o/a*h,u=Lr((s.x+n.x)/2,(s.y+n.y)/2);this.$v.push({type:"rotate+zoom",rotation:this.Qv?u:{x:0,y:0},cameraDistance:this.Zv?c:h}),this.us.Ss(),ga(r)}),(t=>{})),new ph((t=>{}),((t,e,i,s,n)=>{if(this.Qv){const t=s;this.$v.push({type:"rotate",rotation:t}),this.us.Ss(),ga(n)}}),(t=>{}))),this.onBackgroundTouchStart(this.hS.onTouchStart),this.onBackgroundTouchMove(this.hS.onTouchMove),this.onBackgroundTouchEnd(this.hS.onTouchEnd),this.onSeriesBackgroundTouchStart(this.hS.onTouchStart),this.onSeriesBackgroundTouchMove(this.hS.onTouchMove),this.onSeriesBackgroundTouchEnd(this.hS.onTouchEnd),this.onBackgroundMouseDrag(this.eS),this.onBackgroundMouseWheel(this.sS),this.onBackgroundMouseDown(((t,e)=>{ga(e)})),this.onSeriesBackgroundMouseDrag(this.eS),this.onSeriesBackgroundMouseWheel(this.sS),this.onSeriesBackgroundMouseDown(((t,e)=>{ga(e)})),this.setAnimationsEnabled(!0!==(null==o?void 0:o.disableAnimations)&&!1!==(null==o?void 0:o.animationsEnabled)),this.onResize(this.fn),this.fn(),this.Sm(n,this.pixelScale)}addPointSeries(t){const e=new(t&&t.type||gg)(this,this._S,this.At,this.qi,this.us.es,t);return this.PS(e),e}addLineSeries(t){const e=new dg(this,this._S,this.At,this.qi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addPointLineSeries(t){const e=new fg(this,this._S,this.At,this.qi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addSurfaceGridSeries(t){const e=new Sg(this,this._S,this.At,t,this.qi,this.us.es);return this.PS(e),e}addSurfaceScrollingGridSeries(t){const e=new Ag(this,this._S,this.At,t,this.qi,this.us.es);return this.PS(e),e}addBoxSeries(t){const e=new cg(this,this._S,this.At,this.qi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addMeshModel(t){const e=new kg(this,this._S,this.At,this.qi,t,this.us.es);return this.PS(e),e}translateCoordinate(t,e,i){if(wg(e)||wg(i)||Cg(t)){if(wg(e)&&wg(i)&&Cg(t)){if("axes"===e.id&&"world"===i.id)return this.At.ft(t);if("world"===e.id&&"axes"===i.id)return this.At.yt(t);if(e.id===i.id)return t}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")}return op(t,e,i,this.pixelScale,this.us)}getDefaultAxisX(){return this.ab.x}getDefaultAxisY(){return this.ab.y}getDefaultAxisZ(){return this.ab.z}get axisX(){return this.getDefaultAxisX()}get xAxis(){return this.getDefaultAxisX()}get axisY(){return this.getDefaultAxisY()}get yAxis(){return this.getDefaultAxisY()}get axisZ(){return this.getDefaultAxisZ()}get zAxis(){return this.getDefaultAxisZ()}getDefaultAxes(){return[this.ab.x,this.ab.y,this.ab.z]}setCameraLocation(t){let e={location:t,direction:Qa.normalize(Qa.multiply(t,-1))};const i=this.sb.cameraLocationChanged(this.eb(e));return i&&(e=i),this.hb(e),this.us.Ss(),this}getCameraLocation(){return this.At.getCameraLocation()}getCameraDirection(){return this.At.getCameraDirection()}setCameraAutomaticFittingEnabled(t){this.sb.ev(t);const e=this.sb.cameraLocationChanged(this.eb());return e&&this.hb(e),this}getCameraAutomaticFittingEnabled(){return this.sb.fv()}onCameraChange(t){return this.D.on("cameraChange",t)}offCameraChange(t){return this.D.off(t,"cameraChange")}setBoundingBoxStrokeStyle(t){return this.lb.Re(t).Rp($p(this.lb.uu())),this.At.Ss(),this}getBoundingBoxStrokeStyle(){return this.lb.uu()}setBoundingBox(t){return this.ub(t,!1),this}ub(t,e){this.Ab=t;const i=this.fb(t);if(this.rb.x.q(i.x),this.rb.y.q(i.y),this.rb.z.q(-i.z),!e){const t=this.sb.boundingBoxChanged(this.eb());t&&this.hb(t)}this.us.Ss()}getBoundingBox(){return this.Ab}Te(t){if(dp.Fm(this._m,this.bm),0!==this.Jv){const e=this.Jv*t*.006;this.$v.push({type:"wheel-zoom",deltaY:e}),this.Jv=Math.sign(this.Jv)*Math.max(Math.abs(this.Jv)-.01*t,0),0!==this.Jv&&this.us.Ss(!0)}const e=this.getCameraDirection();if(this.$v.length>0){const t=this.sb.applyCameraInteractions(this.eb(),this.$v);t&&this.hb(t),this.$v.length=0}this.gb&&Qa.equals(this.gb.location,this.cb.location)&&Qa.equals(this.gb.direction,this.cb.direction)||this.D.emit("cameraChange",this,this.getCameraLocation()),this.gb=this.cb,super.Te(t);for(let c=0;c<this.xS.length;c+=1)this.xS[c].oS();for(let c=0;c<this.xS.length;c+=1)this.xS[c].Te();this.ab.x.Mr(),this.ab.y.Mr(),this.ab.z.Mr(),this.ab.x.Te(e),this.ab.y.Te(e),this.ab.z.Te(e),super.pm();const i=this.rb,s=_r(i.x.getInnerStart(),i.y.getInnerStart(),i.z.getInnerStart()),n=_r(i.x.getInnerEnd(),i.y.getInnerEnd(),i.z.getInnerEnd());this.lb.Nt().nl([_r(n.x,s.y,s.z),_r(n.x,n.y,s.z),_r(n.x,n.y,n.z),_r(n.x,s.y,n.z),_r(s.x,s.y,n.z),_r(s.x,n.y,n.z),_r(n.x,n.y,n.z),_r(n.x,n.y,s.z),_r(s.x,n.y,s.z),_r(s.x,n.y,n.z),_r(s.x,s.y,n.z),_r(s.x,s.y,s.z)]);const r=[_r(s.x,s.y,s.z),_r(n.x,s.y,s.z),_r(s.x,n.y,s.z),_r(n.x,n.y,s.z),_r(s.x,s.y,n.z),_r(n.x,s.y,n.z),_r(s.x,n.y,n.z),_r(n.x,n.y,n.z)].map((t=>this.At.Gp(t))),o=this.At.Gp(_r((s.x+n.x)/2,(s.y+n.y)/2,(s.z+n.z)/2)),a=Ca(r,o),l=[];for(let c=0;c<a.length;c+=1){const t=a[c];bl(t,o,a[c>0?c-1:a.length-1],a[c<a.length-1?c+1:0])||l.push(t)}const h=Ca(l,o);this.FS.pl(h),this.IS.pl(h);for(let c=0;c<this.xS.length;c+=1)this.xS[c].dp()}dispose(){return this.an.forEach((t=>{t()})),this.an.length=0,this.rb.W(),this.At.W(),this.ib.W(),this.tb.W(),super.dispose()}j(){return this.rb.x.j(),this.rb.y.j(),this.rb.z.j(),super.j()}Z(){return super.Z()}hb(t){this.At.setCameraLocation(t.location).setCameraDirection(t.direction).setLightLocation(Qa.addVec(t.location,Qa.multiply(t.direction,-this.Xv))),this.cb=t,this.us.Ss()}fb(t){return Qa.divide(t,Qa.length(t)/this.Hv)}eb(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.cb;return{boundingBox:this.fb(this.Ab),cameraLocation:t.location,cameraDirection:t.direction}}setMouseInteractions(t){return this.setMouseInteractionZoom(t).setMouseInteractionRotate(t)}setMouseInteractionZoom(t){return this.Zv=t,this}getMouseInteractionZoom(){return this.Zv}setMouseInteractionRotate(t){return this.Qv=t,this}getMouseInteractionRotate(){return this.Qv}forEachAxis(t){return t(this.ab.x),t(this.ab.y),t(this.ab.z),this}getSeries(){return this.xS}getMinimumSize(){}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.setAnimationZoom(t),this.forEachAxis((e=>e.setAnimationsEnabled(t))),this}setAnimationZoom(t){return this.jv=!!t,this}getAnimationZoom(){return this.jv}}const Eg={Column:Od,Row:Ud};class Tg extends hp{constructor(t,e,i,s,n,r){super(t,e,i,s,n,r),this.mb=new Map,this.yb=this.addUIElement(Eg.Row).setPosition({x:0,y:100}).setOrigin(Yh.LeftTop).setBackground((t=>t.setFillStyle(ro).setStrokeStyle(Eo)))}add(t,e){return(t instanceof up?[t]:t instanceof Db?t.getCells().filter((t=>t.panel instanceof up)).map((t=>t.panel)):[]).forEach((t=>{const i=this.yb.addElement(gf.VerticalLegendBox).setBackground((t=>t.setFillStyle(ro).setStrokeStyle(Eo))).add(t,e).setTitle(t.getTitle());this.mb.set(t,i)})),this.us.Ss(),this}setLegendBoxes(t){return this.mb.forEach(((e,i)=>t(e,i))),this}getMinimumSize(){return super.getMinimumSize()||this.yb.getSize()}}const Ig="World",Pg="USA",Fg="NorthAmerica",Dg="SouthAmerica",Lg="Canada",zg="Europe",Ng="Asia",_g="Africa",Vg="Australia",Bg=(t,e)=>!(!e.name||t.name.toLowerCase()!==e.name.toLowerCase())||"ISO_A3"in t&&"ISO_A3"in e&&t.ISO_A3.toLowerCase()===e.ISO_A3.toLowerCase(),Og=(t,e)=>{let i=e.geometry;return i=Ug(t,e,i),i=Hg(t,e,i),i},Ug=(t,e,i)=>{if(t===Ng){const t=[];for(let e=0;e<i.length;e+=1){t[e]=[];const s=i[e],n=t[e];for(let t=0;t<s.length;t+=1){const e=s[t];e.x<-100?n[t]={x:e.x+360,y:e.y}:n[t]=e}}return t}return i},Hg=(t,e,i)=>{const s=e.name.toLowerCase();let n;if(t===Pg&&("alaska"===s?n={translate:{x:55,y:-25},scale:{x:.16,y:.16}}:"hawaii"===s&&(n={translate:{x:48,y:7},scale:{x:1,y:1}})),n){const{translate:t,scale:r}=n,o=gl(Ko(i)),a=[];for(let e=0;e<i.length;e+=1){a[e]=[];const n=i[e],l=a[e];for(let e=0;e<n.length;e+=1){const i=n[e];let a=i.x;"alaska"===s&&1===Math.sign(a)&&(a=-180-(180-a)),l[e]={x:t.x+(a-o.min.x)*r.x+o.min.x,y:t.y+(i.y-o.min.y)*r.y+o.min.y}}}return e.outlier=!0,e.transform={...n,vertexBoundaries:o},a}return i},Gg={World:{min:{x:-180,y:-90},max:{x:180.0000000000002,y:83.63410065300012}},Europe:{min:{x:-25,y:34},max:{x:40,y:70}},Africa:{min:{x:-17,y:-40},max:{x:52,y:37.37549753800012}},Asia:{min:{x:27,y:-10.922621351999808},max:{x:180.0000000000002,y:81.85871002800009}},NorthAmerica:{min:{x:-179.1435033839999,y:5.515082098000121},max:{x:-50,y:83.11652252800009}},SouthAmerica:{min:{x:-85,y:-55.9185042229998},max:{x:-35,y:15}},USA:{min:{x:-125,y:24},max:{x:-68,y:50}},Canada:{min:{x:-141.0181,y:41.7297},max:{x:-52.6194,y:75}},Australia:{min:{x:111,y:-43.6586},max:{x:155,y:-9.2199}}},Wg={World:.6,Europe:1/1.4,Africa:1.3,Asia:.8,NorthAmerica:.9,SouthAmerica:1.5,USA:3/4,Canada:6/8,Australia:11/12};class jg extends up{constructor(t,e,i,s,n,r,o){super(t,e,i,e.vm("mapChart bg",0),s,e.us.qi.mapChartBackgroundFillStyle,e.us.qi.mapChartBackgroundStrokeStyle,e.us.qi.mapChartTitleFont,e.us.qi.mapChartTitleFillStyle,o),this.pb=[],this.dt=this.sm.d2({scaleXYConstructor:eh}),this.Yi=!0,this.Sb=this.qi.mapChartSeparateRegionFillStyle,this.vb=this.qi.mapChartSeparateRegionStrokeStyle,this.bb=fp.onHover,this.Wy=Yg,this.th=!0,this.xb=0,this.Mb=!0,this._b=new Map,this.onMouseEnter=t=>this.D.on("mouseEnter",t),this.onMouseLeave=t=>this.D.on("mouseLeave",t),this.onMouseClick=t=>this.D.on("mouseClick",t),this.onMouseDoubleClick=t=>this.D.on("mouseDoubleClick",t),this.onMouseDown=t=>this.D.on("mouseDown",t),this.onMouseUp=t=>this.D.on("mouseUp",t),this.onMouseMove=t=>this.D.on("mouseMove",t),this.offMouseEnter=t=>this.D.off(t,"mouseEnter"),this.offMouseLeave=t=>this.D.off(t,"mouseLeave"),this.offMouseClick=t=>this.D.off(t,"mouseClick"),this.offMouseDoubleClick=t=>this.D.off(t,"mouseDoubleClick"),this.offMouseDown=t=>this.D.off(t,"mouseDown"),this.offMouseUp=t=>this.D.off(t,"mouseUp"),this.offMouseMove=t=>this.D.off(t,"mouseMove"),this.offMouseDragStart=t=>this.D.off(t,"mouseDragStart"),this.offMouseDrag=t=>this.D.off(t,"mouseDrag"),this.offMouseDragStop=t=>this.D.off(t,"mouseDragStop"),this.offMouseWheel=t=>this.D.off(t,"mouseWheel"),this.onMapDataReady=t=>{const e=this.D.on("mapDataReady",t);return this.wb&&Ho.setTimeout((()=>t())),e},this.onViewChange=t=>this.D.on("viewChange",t),this.Cb=(t,e,i,s,n)=>{this.dt.x.q(s).si([this.Xt.left+this.ya.left,this.Xt.right+this.ya.right]),this.dt.y.q(n).si([this.Xt.bottom+this.ya.bottom,this.Xt.top+this.ya.top+dp.Tm(this._m,this.bm)]),this.kb&&this.Tb(this.Fb,this.dt,this.kb)},this.wt=(t,e)=>{const i=e;if(!i||!this.wb)return;const{iRegion:s,region:n}=this.Ib(this.wb,i);this.bb!==fp.disabled&&(this.Pb(n,s),ga(t)),this.Mb&&this.us.ls.Ms(n,!0),this.Db=n,this.D.emit("mouseEnter",this,t)},this.Ct=(t,e)=>{const i=e;if(!i||!this.wb)return;const{iRegion:s,region:n}=this.Ib(this.wb,i);this.Bb(n,s),this.Mb&&this.us.ls.Ms(n,!1),this.Db=void 0,this.D.emit("mouseLeave",this,t),t&&ga(t)},this.Pt=(t,e)=>{const i=e;if(!i||!this.wb)return;const{iRegion:s,region:n}=this.Ib(this.wb,i);this.bb!==fp.disabled&&(this.Pb(n,s),ga(t)),this.Db=n,this.D.emit("mouseMove",this,t)},this.kt=(t,e)=>this.D.emit("mouseClick",this,t),this.Tt=(t,e)=>this.D.emit("mouseDoubleClick",this,t),this.Ft=(t,e)=>this.D.emit("mouseDown",this,t),this.It=(t,e)=>this.D.emit("mouseUp",this,t),this.Bt=(t,e,i)=>{this.D.emit("mouseDragStart",this,t,e)},this.Dt=(t,e,i,s,n)=>{this.D.emit("mouseDrag",this,t,e,i,s)},this.Lt=(t,e,i,s)=>{this.D.emit("mouseDragStop",this,t,e,i)},this.Rt=(t,e)=>{this.D.emit("mouseWheel",this,t)},this.Et=(t,e)=>{const i=e;if(!i||!this.wb)return;const{iRegion:s,region:n}=this.Ib(this.wb,i);this.Lb=this.engine.clientLocation2Engine(t.clientX,t.clientY),this.Pb(n,s),this.Mb&&this.us.ls.Ms(n,!0),this.Db=n,this.D.emit("touchStart",this,t),ga(t)},this.zt=(t,e)=>{const i=e;if(!i||!this.wb)return;const{iRegion:s,region:n}=this.Ib(this.wb,i);this.Lb=this.engine.clientLocation2Engine(t.clientX,t.clientY),this.Pb(n,s),this.Db=n,this.D.emit("touchMove",this,t),ga(t)},this.Vt=(t,e)=>{const i=e;if(!i||!this.wb)return;const{iRegion:s,region:n}=this.Ib(this.wb,i);this.Lb=void 0,this.Bb(n,s),this.Mb&&this.us.ls.Ms(n,!1),this.Db=void 0,this.D.emit("touchEnd",this,t),ga(t)},this.us.Nn(xf.Af),this.th=!0!==(null==r?void 0:r.disableAnimations)&&!1!==(null==r?void 0:r.animationsEnabled),this.Rb=e.$y("mapChart plotting",0),this.onResize(this.Cb),this._m.Rh("Map Chart");const a=Zo(r?r.autoCursorBuilder:void 0,zp);this.Eb=a.Ay(e.Zy(),this.dt,this.dt,this.qi).setVisible(!1),this.zb=this.es.yg(),this.Sm(n,this.uiScale),this.Vb=this.Rb.Ob(this.dt).setMouseInteractions(this.Yi).setMouseEnterEventHandler(((t,e,i)=>this.wt(e,i))).setMouseLeaveEventHandler(((t,e,i)=>this.Ct(e,i))).setMouseClickEventHandler(((t,e,i)=>this.kt(e,i))).setMouseDoubleClickEventHandler(((t,e,i)=>this.Tt(e,i))).setMouseDownEventHandler(((t,e,i)=>this.Ft(e,i))).setMouseUpEventHandler(((t,e,i)=>this.It(e,i))).setMouseMoveEventHandler(((t,e,i)=>this.Pt(e,i))).setMouseDragStartEventHandler(((t,e,i,s)=>this.Bt(e,i,s))).setMouseDragEventHandler(((t,e,i,s,n,r)=>this.Dt(e,i,s,n,r))).setMouseDragStopEventHandler(((t,e,i,s,n)=>this.Lt(e,i,s,n))).setMouseWheelEventHandler(((t,e,i)=>this.Rt(e,i))).setTouchStartEventHandler(((t,e,i)=>this.Et(e,i))).setTouchMoveEventHandler(((t,e,i)=>this.zt(e,i))).setTouchEndEventHandler(((t,e,i)=>this.Vt(e,i))).Ce(this.qi.mapChartFillStyle).we(this.qi.mapChartStrokeStyle),this.Nb=this.Rb.Ob(this.dt).setMouseInteractions(this.Yi).Ce(this.qi.mapChartOutlierRegionFillStyle).we(this.qi.mapChartOutlierRegionStrokeStyle);const l=Zo(r&&r.type,Ig);this.Fb=l,this.Gb(l).then((()=>{this.D.emit("mapDataReady")}))}getRegionUnderMouse(){return this.Db}setFillStyle(t){return this.Vb.Ce(t),this.us.Ss(),this}getFillStyle(){return this.Vb.Eh()}setStrokeStyle(t){return this.Vb.we(t),this.us.Ss(),this}getStrokeStyle(){return this.Vb.ao()}setEffect(t){return this.zb.ps(t),this.us.Ss(),this}getEffect(){return this.zb.vs()}setOutlierRegionFillStyle(t){return this.Nb.Ce(t),this.us.Ss(),this}getOutlierRegionFillStyle(){return this.Nb.Eh()}setOutlierRegionStrokeStyle(t){return this.Nb.we(t),this.us.Ss(),this}getOutlierRegionStrokeStyle(){return this.Nb.ao()}setSeparateRegionFillStyle(t){return this.Sb="function"==typeof t?t(this.Sb):t,this.pb.forEach((t=>t.Ce(this.Sb))),this.us.Ss(),this}getSeparateRegionFillStyle(){return this.Sb}setSeparateRegionStrokeStyle(t){return this.vb="function"==typeof t?t(this.vb):t,this.pb.forEach((t=>t.we(this.vb))),this.us.Ss(),this}getSeparateRegionStrokeStyle(){return this.vb}invalidateRegionValues(t){if(!this.wb||!this.Wb)return this.Ub=this.Ub||[],this.Ub.push(t),this;if("function"==typeof t)for(let e=0;e<this.wb.regions.length;e+=1){const i=this.wb.regions[e],s=this.Wb[e],n=t({...i,geometry:void 0},s);if(void 0!==n&&n!==s){this.Wb[e]=n;const t=this._b.get(i);null==t||t.forEach((t=>{t.Yb(n)}))}}else for(const e of t)if(e)for(let t=0;t<this.wb.regions.length;t+=1){const i=this.wb.regions[t],s=this.Wb[t];if(void 0!==e.value&&e.value!==s&&Bg(i,e)){this.Wb[t]=e.value;const s=this._b.get(i);null==s||s.forEach((t=>{t.Yb(e.value)}))}}return this.us.Ss(),this}setAutoCursor(t){return this.Eb&&t(this.Eb),this.us.Ss(),this}getAutoCursor(){return this.Eb}setAutoCursorMode(t){return this.bb=t,this.us.Ss(),this}getAutoCursorMode(){return this.bb}setCursorResultTableFormatter(t){return this.Wy=t,this.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}onMouseDragStart(t){return this.D.on("mouseDragStart",t)}onMouseDrag(t){return this.D.on("mouseDrag",t)}onMouseDragStop(t){return this.D.on("mouseDragStop",t)}onMouseWheel(t){return this.D.on("mouseWheel",t)}onTouchStart(t){return this.D.on("touchStart",t)}onTouchMove(t){return this.D.on("touchMove",t)}onTouchEnd(t){return this.D.on("touchEnd",t)}offTouchStart(t){return this.D.off(t,"touchStart")}offTouchMove(t){return this.D.off(t,"touchMove")}offTouchEnd(t){return this.D.off(t,"touchEnd")}setMouseInteractions(t){return this.Yi=t,this.Vb.setMouseInteractions(t),this}getMouseInteractions(){return this.Yi}setHighlight(t){var e;return t=Oa(t),this.xb=t,null===(e=this.wb)||void 0===e||e.regions.forEach((e=>{this.us.ls.Ms(e,t)})),this.D.emit("highlight",this,t),this}getHighlight(){return this.xb}setAnimationHighlight(t){var e;return null===(e=this.wb)||void 0===e||e.regions.forEach((e=>{this.us.ls._s(e,t)})),this}getAnimationHighlight(){var t;return this.us.ls.ws(null===(t=this.wb)||void 0===t?void 0:t.regions[0])}setHighlightOnHover(t){return this.Mb=t,!1===t&&this.getHighlight()>0&&this.setHighlight(!1),this}getHighlightOnHover(){return this.Mb}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}offMapDataReady(t){return this.D.off(t,"mapDataReady")}offViewChange(t){return this.D.off(t,"viewChange")}async Gb(t){const e=await((t,e)=>{let i;if(t===Ig)i="countries_world.json";else if(t===Fg)i="countries_northAmerica.json";else if(t===Dg)i="countries_southAmerica.json";else if(t===_g)i="countries_africa.json";else if(t===zg)i="countries_europe.json";else if(t===Ng)i="countries_asia.json";else if(t===Pg)i="states_usa.json";else if(t===Lg)i="territoriesProvinces_canada.json";else{if(t!==Vg){const e="LCJS MapChart unidentified `type`: ".concat(t);throw Ho.alert(e),new Error(e)}i="territories_australia.json"}const s="".concat(e,"/maps/").concat(i);return Ho.fetch(s).then((t=>t.json())).catch((t=>{Ya(e,s,"Map Chart",{shouldCrash:!0})}))})(t,this.cA.$s);this.Wb=new Array(e.regions.length).map((t=>{})).fill(void 0);const i=Gg[t];if(!i)throw new Error("Unidentified map type.");for(const n of e.outliers)for(const t of n.geometry)this.Nb.zr().pl(t);if(t===Pg){const t=25.8,e=29.7;this.pb.push(this.Rb.ke(this.dt).setMouseInteractions(!1).Ce(this.Sb).we(this.vb).Fe({x:-126,y:t}).q({x:10,y:e-t}),this.Rb.ke(this.dt).setMouseInteractions(!1).Ce(this.Sb).we(this.vb).Fe({x:-113,y:t}).q({x:7,y:e-t}))}const s=this.us.ls.Er(this.Vb,{animationEnabled:this.th});for(let n=0;n<e.regions.length;n+=1){const i=e.regions[n],r=Og(t,i),o=[];for(const t of r)t.length<3||o.push(this.Vb.zr().pl(t));this._b.set(i,o),s.zr(i,(t=>{o.forEach((e=>e.cs(t)))}))}if(this.zb.fs([this.Vb]),this.kb=i,this.Tb(t,this.dt,i),this.wb=e,this.Ub){for(const t of this.Ub)this.invalidateRegionValues(t);this.Ub=void 0}this.us.Ss()}Tb(t,e,i){const s=Wg[t],n=e.x.getCellSize(),r=e.y.getCellSize()/n,o={min:{x:i.min.x,y:i.min.y},max:{x:i.max.x,y:i.max.y}};if(r<s){const t=(o.max.x-o.min.x)*(s/r-1);o.min.x-=t/2,o.max.x+=t/2}else if(r>s){const t=(o.max.y-o.min.y)*(r/s-1);o.min.y-=t/2,o.max.y+=t/2}e.x.J(o.min.x,o.max.x),e.y.J(o.min.y,o.max.y);const a=this.dt.x.li(),l=this.dt.y.li();this.D.emit("viewChange",{latitudeRange:{start:o.min.y,end:o.max.y},longitudeRange:{start:o.min.x,end:o.max.x},margin:{top:l[1],bottom:l[0],left:a[0],right:a[1]}})}Pb(t,e){this.Hb={region:t,iRegion:e},this.us.Ss()}Bb(t,e){this.Hb&&t===this.Hb.region&&(this.Hb=void 0,this.us.Ss())}Ib(t,e){const i=Array.from(this._b.entries()).findIndex((t=>{let[i,s]=t;return s.includes(e)}));return{iRegion:i,region:null==t?void 0:t.regions[i]}}setAnimationsEnabled(t){return this.th=!t,this}getAnimationsEnabled(){return this.th}getMinimumSize(){}Zd(){return[this]}Te(t){super.Te(t),super.pm(),dp.Fm(this._m,this.bm);const e=Or(this.dt.x.ei(),this.dt.y.ei(),this.dt.x.ri(),this.dt.y.ri());this.Rb.qv(e);const i=this.us.On()||this.Lb;if(this.Hb&&i){const t=this.Wb&&this.Wb[this.Hb.iRegion];let e=Lo(i,this.engine.scale,this.dt);e={x:Jo(e.x,this.dt.x.getInnerStart(),this.dt.x.getInnerEnd()),y:Jo(e.y,this.dt.y.getInnerStart(),this.dt.y.getInnerEnd())};let s=e.x,n=e.y;const r=this.Hb.region.transform;this.Hb.region.outlier&&r&&(s=(s-r.translate.x-r.vertexBoundaries.min.x)/r.scale.x+r.vertexBoundaries.min.x,n=(n-r.translate.y-r.vertexBoundaries.min.y)/r.scale.y+r.vertexBoundaries.min.y),this.Eb.setPosition(e).setVisible(!0).getResultTable().setContent(this.Wy(new xp,this.Hb.region,t,s,n,this).Zu())}else this.Eb.setVisible(!1);return this.Eb.Ps().Te(),this}dispose(){return this.Rb.W(),this.Eb.dispose(),lp(this.dt),super.dispose()}j(){return super.j(),this.dt.j(),this}Z(){return super.Z(),this.dt.Z(),this}Gd(){return Ia(this.getFillStyle())}attach(t){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.setText(this.getTitle()),t.setOn(!0).setLocked(!0),t.onMouseEnter((()=>{this.setHighlight(!0)})),t.onMouseLeave((()=>{this.setHighlight(!1)})),this.onMouseEnter((()=>t.setHighlight(!0))),this.onMouseLeave((()=>t.setHighlight(!1))),this.onTouchStart((()=>t.setHighlight(!0))),this.onTouchEnd((()=>t.setHighlight(!1))),Ta(t,this.qi,e,{fill:this.getFillStyle()}),this}}const Yg=(t,e,i,s,n,r)=>(t.addRow("".concat(e.name)).addRow(Xg(s,n)),void 0!==i&&t.addRow("Region value: ".concat(i.toFixed(1))),t),Xg=(t,e)=>{const i=t>0,s=e>0;return"".concat([Fa(Math.abs(0|t),2),"\xb0 ",Fa(Math.abs(0|(t<0?t=-t:t)%1*60),2),"' "].join("")+(i?"E":"W"),", ").concat([Fa(Math.abs(0|e),2),"\xb0 ",Fa(Math.abs(0|(e<0?e=-e:e)%1*60),2),"' "].join("")+(s?"N":"S"))};class qg extends yc{constructor(t,e,i,s,n,r,o,a,l){super(t,e,e.$b(i),s,n,{numeric:e.Xb({amplitude:s.polarAmplitudeAxisNumericTicks,radial:s.polarAmplitudeAxisNumericTicks}),datetime:e.Xb({amplitude:s.polarAmplitudeAxisDateTimeTicks,radial:s.polarAmplitudeAxisDateTimeTicks}),time:e.Xb({amplitude:s.polarAmplitudeAxisTimeTicks,radial:s.polarAmplitudeAxisTimeTicks})},{type:"linear"}),this.jb=r,this.Zb=o,this.Qb=a,this.es=l,this.Jb=i,this.Kb=e.Xb({amplitude:s.polarAmplitudeAxisStrokeStyle,radial:s.polarRadialAxisStrokeStyle}),this.Lh=a.Pr(i).setMouseInteractions(!1).Oh(e.Xb({amplitude:s.polarAmplitudeAxisTitleFont,radial:s.polarRadialAxisTitleFont})).Ce(e.Xb({amplitude:s.polarAmplitudeAxisTitleFillStyle,radial:s.polarRadialAxisTitleFillStyle})),this.Wh=this.es.yg([this.Lh]).ps(s.effectsText)}setTickStrategy(t,e){return super.Fh(t,e)}setStrokeStyle(t){return this.Kb="function"==typeof t?t(this.Kb):t,this.Zb.Ss(),this}getStrokeStyle(){return this.Kb}ur(t,e){return new Jg(e,t,this.Jb,this.Qb,this.qb(this.jb,this.Jb),this.Qb.Ee(this.Jb).setMouseInteractions(!1))}cr(t,e){const i=this.tx(this.Jb,t);this.ix&&!1===this.ix(t)?t.Ue.setVisible(!1):t.Ue.setVisible(!0).Fe(kl(this.sx(this.Jb,t.u),i.padding)).Ea(i.alignment).Nh(i.rotation).Ia(i.offset.x,i.offset.y),this.hx(this.Jb,t.nx,t.ox,t)}setMouseInteractions(t){return this}Te(){this.qh({physicalAxisSize:0});const t=this.gr(((t,e)=>{const i=e.Sh.lr,s=.5*this.Kb.getThickness()+i.tickLength+i.tickPadding+Math.abs(e.Ue.Ps().jc().y)+i.labelPadding;return Math.max(t,s)}),0);return this.lx(this.Jb,this.Kb,t),this.ux(this.Jb,this.Lh,t),t}}class Jg extends vc{constructor(t,e,i,s,n,r,o){super(t,e,s,i,o),this.nx=n,this.ox=r,n.setMouseInteractions(!1),this.ts.push(n,r)}}class Kg extends qg{constructor(t,e,i,s,n,r,o,a,l){super(t,Zg((()=>this._g())),e,i,s,n,r,o,a),this.Lp=this.Zb.Ee(this.Jb).setMouseInteractions(!1),this.Ax=l,this.setScrollStrategy(sc.expansion),this.setTickStrategy(rc),this.setTitle("Amplitude")}_g(){return this.Ax()}_r(t,e){return vf(t,e,this.Jb.y)}Cr(t,e,i){const s=2*(e-t),n=this.Jb.x.Li(s);return{min:t-i*n,max:e+i*n}}sx(t,e){return{x:t.gx()?e-t.mx().start:t.mx().start-e,y:0}}qb(t,e){return t.Jc(e)}hx(t,e,i,s){const n=s.Sh.lr,r=t.gx()?s.u-t.mx().start:t.mx().start-s.u;qo(s.u,t.mx().start)||qo(s.u,t.mx().end)?e.setVisible(!1):e.setVisible(!0).eu(0).ze(360).au(void 0).ou(0).hu(r).au(60).Ce(ro).we(n.gridStrokeStyle);const o=.5*this.Kb.getThickness();i.Ve({x:r,y:-o*t.Wi().y}).ze({x:r,y:-(o+n.tickLength)*t.Wi().y}).Re(n.tickStyle)}tx(t,e){const i=e.Sh.lr;return{alignment:{x:0,y:1},padding:{x:0,y:t.Wi().y*-(.5*this.Kb.getThickness()+i.tickLength+i.tickPadding)},rotation:0,offset:{x:0,y:0}}}lx(t,e,i){const s=t.gx()?t.mx().end-t.mx().start:t.mx().start-t.mx().end;this.Lp.Ve({x:0,y:0}).ze({x:s,y:0}).Re(e)}ux(t,e,i){const s=t.gx()?(t.mx().start+t.mx().end)/2-t.mx().start:t.mx().start-(t.mx().start+t.mx().end)/2;e.Ea({x:0,y:1}).Fe({x:s,y:-i*t.Wi().y})}}const Zg=t=>({...og(t,(t=>t.getAmplitudeMin()),(t=>t.getAmplitudeMax()),(t=>{})),$b:t=>({getInnerStart:()=>t.mx().start,getInnerEnd:()=>t.mx().end,J:(e,i)=>t.yx(e,i),nt:(e,i,s,n,r)=>t.y.nt(e,i,s,n,r)}),Xb:t=>t.amplitude});class Qg extends qg{constructor(t,e,i,s,n,r,o,a){super(t,tm,e,i,s,n,r,o,a),this.Sx=90,this.vx=12,this.bx=$g,this.Lp=this.Zb.Jc(this.Jb).setMouseInteractions(!1),this.ix=t=>{let e=180*(t.u-this.Jb.xx())/Math.PI%360;for(;e<0;)e+=360;for(;e>360;)e-=360;if(e>=0&&e<=20||e>=340&&e<=360)return!1},this.Je=void 0,this.setTickStyle(i.polarRadialAxisTickStyle),this.setTitle("Degrees"),this.setNorth(this.Sx)}setTickStyle(t){return this.Mx="function"==typeof t?t(this.Mx):t,this._x(),this.Zb.Ss(),this}getTickStyle(){return this.Mx}setTickFormattingFunction(t){return this.bx=t,this._x(),this.Zb.Ss(),this}getTickFormattingFunction(){return this.bx}setClockwise(t){this.Jb.wx(t);const e=this.Sx*Math.PI/180;return t?this.Jb.Cx(e+Math.PI/2):this.Jb.Cx(e-Math.PI/2),this.Zb.Ss(),this}getClockwise(){return!this.Jb.kx()}setNorth(t){for(;t<0;)t+=360;t%=360,this.Sx=t;const e=t*Math.PI/180;return this.getClockwise()?this.Jb.Cx(e+Math.PI/2):this.Jb.Cx(e-Math.PI/2),this.Zb.Ss(),this}getNorth(){return 180*this.Jb.xx()/Math.PI}setDivision(t){return this.vx=t,this._x(),this.Zb.Ss(),this}getDivision(){return this.vx}_g(){return[]}_r(t,e){return e}Cr(t,e,i){return{min:t,max:e}}sx(t,e){const i=t.kx()?1:-1,s=t.xx(),n=t.gx()?t.mx().end-t.mx().start:t.mx().start-t.mx().end;return{x:Math.cos((e-s)*i)*n,y:Math.sin((e-s)*i)*n}}qb(t,e){return t.Ee(e)}hx(t,e,i,s){const n=this.Mx,r=t.kx()?1:-1,o=t.xx(),a=(s.u-o)*r,l=Math.cos(a),h=Math.sin(a),c=t.gx()?t.mx().end-t.mx().start:t.mx().start-t.mx().end,u={x:l*c,y:h*c};e.Ve({x:0,y:0}).ze(u);const d={x:u.x+l*n.tickLength*t.Wi().x,y:u.y+h*n.tickLength*t.Wi().y};i.Ve(u).ze(d),e.Re(n.gridStrokeStyle),i.Re(n.tickStyle)}tx(t,e){const i=this.Mx,s=t.kx()?1:-1,n=t.xx();let r,o=(e.u-n)*s;for(;o<0;)o+=2*Math.PI;for(;o>=2*Math.PI;)o-=2*Math.PI;r=o>0&&o<=Math.PI?-o+Math.PI/2:-o-Math.PI/2;const a=i.tickLength+i.tickPadding,l=Math.cos(o)*a*t.Wi().x,h=Math.sin(o)*a*t.Wi().y;return{alignment:{x:0,y:0},padding:{x:l,y:h},rotation:180*r/Math.PI,offset:{x:l,y:h}}}lx(t,e,i){const s=t.gx()?t.mx().end-t.mx().start:t.mx().start-t.mx().end;this.Lp.eu(0).ze(360).ou(0).hu(s+.5*e.getThickness()*t.Wi().x).au(360).Ce(ro).we(e)}ux(t,e,i){const s=t.xx(),n=this.tx(t,{u:0+s}),r=t.gx()?t.mx().end-t.mx().start:t.mx().start-t.mx().end;e.Ea(n.alignment).Nh(n.rotation).Ia(n.offset.x,n.offset.y).Fe(kl({x:r,y:0},n.padding))}_x(){this.$h({He:[],$e:[{Ue:"Radial ticks",Rg:0,lr:this.Mx,nr:this.bx,Br:(t,e,i,s)=>{const n=[],r=2*Math.PI/this.vx;for(let o=0;o<2*Math.PI;o+=r)n.push(o);return n},bh:{dr:()=>{},xh:()=>!1},Lr:void 0}],Ge:$g,Xh:void 0,jh:void 0})}}const $g=(t,e,i)=>(180*t/Math.PI).toFixed(0),tm={pr:()=>{},Sr:()=>{},br:()=>{},$b:t=>({getInnerStart:()=>0,getInnerEnd:()=>2*Math.PI,J:(t,e)=>{},nt:(e,i,s,n,r)=>t.x.nt(e,i,s,n,r)}),Xb:t=>t.radial},em=t=>!!(t&&"object"==typeof t&&"axisAmplitude"in t&&"axisRadial"in t);class im extends hh{constructor(t,e,i,s,n,r){super(e,i,n,r),this.xs="Sector",this.Tx=0,this.Fx=1*Math.PI/2,this.Ix=void 0,this.Px=void 0,this.ks=t,this.Jb=s,this.ky=this.ks.Jc(this.Jb).cs(this.getHighlight()),this.ds(this.ky),this.be=n.polarSectorFillStyle,this.xe=n.polarSectorStrokeStyle,this.setMouseInteractions(!1)}setAngleStart(t){return this.Tx=Jo(t,0,360),this.ks.Ss(),this}getAngleStart(){return this.Tx}setAngleEnd(t){return this.Fx=Jo(t,0,360),this.ks.Ss(),this}getAngleEnd(){return this.Fx}setAmplitudeStart(t){return this.Ix=t,this.ks.Ss(),this}getAmplitudeStart(){return this.Ix}setAmplitudeEnd(t){return this.Px=t,this.ks.Ss(),this}getAmplitudeEnd(){return this.Px}setFillStyle(t){return this.be="function"==typeof t?t(this.be):t,this.ks.Ss(),this}getFillStyle(){return this.be}setStrokeStyle(t){return this.xe="function"==typeof t?t(this.xe):t,this.ks.Ss(),this}getStrokeStyle(){return this.xe}Te(){const t=this.Jb.mx(),e=180*this.Jb.xx()/Math.PI,i=void 0!==this.Ix?Jo(this.Ix,t.start,t.end):t.start,s=void 0!==this.Px?Jo(this.Px,t.start,t.end):t.end,n=this.Jb.gx()?i-t.start:t.start-i,r=this.Jb.gx()?s-t.start:t.start-s,o=Math.min(n,r),a=Math.max(n,r),l=this.Jb.kx()?1:-1,h=Math.abs(this.Fx-this.Tx);this.ky.eu((this.Tx-e)*l).ze((this.Fx-e)*l).ou(100*o/a).hu(a).Ce(this.be).we(this.xe).au(Math.ceil(h/2))}Ie(t,e){t.cs(e),this.ks.Ss()}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{fill:this.be,stroke:this.xe}),this}}class sm extends hh{constructor(){super(...arguments),this.tS=!0,this.Dx=!0}setAutoScrollingEnabled(t){return this.tS=t,this.Ji.us.Ss(),this}getAutoScrollingEnabled(){return this.tS}oS(){}Te(){}dp(){}setCursorEnabled(t){return this.Dx=t,this}getCursorEnabled(){return this.Dx}}class nm extends sm{constructor(t,e,i,s,n,r){super(e,i,n,r),this.ks=t,this.Ji=e,this.scale=s}getAmplitudeMin(){return this.Bx?this.Bx.min:void 0}getAmplitudeMax(){return this.Bx?this.Bx.max:void 0}}const rm=(t,e,i,s,n)=>{const r=e.getIcon();return r?t.addRow(r,e.getName()):t.addRow(e.getName()),t.addRow("Angle:","",Math.round(i).toString()).addRow("Amplitude","",n(s))},om=(t,e)=>{const i=[],s=e.mx().start,n=e.mx().end,r=e.gx(),o=e.kx()?1:-1,a=e.xx(),l=Math.abs(n-s),h=Math.min(s,n)+.001*l,c=Math.max(s,n)-.001*l;for(const u of t){const t=Jo(u.amplitude,h,c),e=u.angle*Math.PI/180-a,n=Math.cos(e*o)*(r?t-s:s-t),l=Math.sin(e*o)*(r?t-s:s-t),d=u.color;i.push({x:n,y:l,color:d})}return i},am=t=>{const e={min:$a,max:tl};for(const i of t)e.min=Math.min(e.min,i.amplitude),e.max=Math.max(e.max,i.amplitude);return e},lm=t=>t.slice().map((t=>t.angle>=0&&t.angle<=360?t:{...t,angle:t.angle%360})),hm=(t,e)=>{let i=Nl(t);for(e.kx()||(i*=-1),i+=180*e.xx()/Math.PI;i<0;)i+=360;i%=360;const s=Cl(t),n=e.mx(),r=Math.abs(n.end-n.start);return{angle:i,amplitude:td(n.start,n.end,s/r)}};class cm extends nm{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n,r),this.xs="Heatmap Series",this.Lx=!0,this.dS=!1,this.Wy=um,this.Gd=()=>Ia(this.be);const a=this.Ji.getSeries().length;this.be=Da(this.qi.polarHeatmapSeriesFillStyle||this.qi.heatmapGridSeriesFillStyle,a);const l=o.amplitudeStart||0,h=o.amplitudeEnd?(o.amplitudeEnd-l)/(o.annuli-1):o.amplitudeStep||1,c={sectors:o.sectors,annuli:o.annuli,amplitudeStart:l,amplitudeStep:h,heatmapDataType:"intensity",dataOrder:o.dataOrder||"annuli"};this.Un=c,this.Rx=t.Ex(s,[],c).Ce(this.be).cs(this.getHighlight()),this.ds(this.Rx);const u=Math.min(c.amplitudeStart,c.amplitudeStart+(c.annuli-1)*c.amplitudeStep),d=Math.max(c.amplitudeStart,c.amplitudeStart+(c.annuli-1)*c.amplitudeStep);this.Bx={min:u,max:d},this.setHighlightOnHover(!1)}invalidateIntensityValues(t){if(this.dS&&this.Ji.us.Nn(xf.vf),Array.isArray(t)){if(0===t.length||0===t[0].length)return this;const e={x:t.length,y:t[0].length,sectors:"annuli"===this.Un.dataOrder?t[0].length:t.length,annuli:"annuli"===this.Un.dataOrder?t.length:t[0].length},i="annuli"===this.Un.dataOrder?this.Un.annuli:this.Un.sectors,s="annuli"===this.Un.dataOrder?this.Un.sectors:this.Un.annuli;if(e.x>i||e.y>s){if(!0===this.Ji.cA.Hn){const t="PolarHeatmapSeries.invalidateIntensityValues intensity matrix overflow.\nHeatmap ".concat(i,"x").concat(s,", input ").concat(e.x,"x").concat(e.y,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");Ho.console.warn(t)}const n=[];for(let e=0;e<i;e+=1)n[e]=t[e].slice(0,s);if(0===(t=n).length||0===t[0].length)return this}this.Rx._v({type:"intensity",lengthPrimary:e.x,lengthSecondary:e.y,startPrimary:0,startSecondary:0,values:t})}else if("iSector"in t&&"iAnnulus"in t&&"values"in t){if(0===t.values.length||0===t.values[0].length)return this;const e={primary:t.values.length,secondary:t.values[0].length,sectors:"annuli"===this.Un.dataOrder?t.values[0].length:t.values.length,annuli:"annuli"===this.Un.dataOrder?t.values.length:t.values[0].length},i="annuli"===this.Un.dataOrder?t.iAnnulus:t.iSector,s=i+e.primary-1,n="annuli"===this.Un.dataOrder?t.iSector:t.iAnnulus,r=n+e.secondary-1,o="annuli"===this.Un.dataOrder?this.Un.annuli-1:this.Un.sectors-1,a="annuli"===this.Un.dataOrder?this.Un.sectors-1:this.Un.annuli-1;if(i<0||n<0){if(!0===this.Ji.cA.Hn){const e="PolarHeatmapSeries.invalidateIntensityValues invalidation start below 0 not permitted.\niSector: ".concat(t.iSector,", iAnnuli: ").concat(t.iAnnulus,".\nNo intensity values will be invalidated.");Ho.console.warn(e)}return this}if(s>o||r>a){if(!0===this.Ji.cA.Hn){const t="PolarHeatmapSeries.invalidateIntensityValues intensity matrix overflow.\nMax indexes ".concat(o,"x").concat(a,", input ").concat(e.primary,"x").concat(e.secondary," starting at [").concat(i,",").concat(n,"].\nOut of bounds data will be automatically clipped. This can result in sub-optimal performance.");Ho.console.warn(t)}const l=Math.max(s-o,0),h=e.primary-l,c=Math.max(r-a,0),u=[];for(let e=0;e<h;e+=1)u[e]=t.values[e].slice(0,c>0?-c:void 0);if(0===(t={iSector:t.iSector,iAnnulus:t.iAnnulus,values:u}).values.length||0===t.values[0].length)return this}this.Rx._v({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:i,startSecondary:n,values:t.values})}return this.ks.Ss(),this.dS=!0,this}setFillStyle(t){return this.be="function"==typeof t?t(this.be):t,this.Rx.Ce(this.be),this.ks.Ss(),this}getFillStyle(){return this.be}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}clear(){return this.Rx.Nt(),this.ks.Ss(),this}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}setCursorEnabled(t){return super.setCursorEnabled(t)}setIntensityInterpolation(t){return t=t||"disabled",this.Rx.xv(t),this.ks.Ss(),this}getIntensityInterpolation(){return this.Rx.Mv()}Kp(){return this.tS&&this.getVisible()}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){const i=Lo(t,this.Ji.engine.scale,this.scale),s=hm(i,this.scale),n=this.Lx?this.Rx.zx(s):this.Rx.Hc(s);if(n)return Np(om([n],this.scale)[0],this.scale,this.Wy(new xp,this,{angleDeg:n.angle,amplitude:n.amplitude,intensity:n.cellValue,iAnnulus:n.iAnnulus,iSector:n.iSector},this.Ji.getAmplitudeAxis().formatValue).Zu(),this,this.be)}solveNearestFromScreen(t){return this.Hc(mf(t,this.Ji.us),!1)}Te(){}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e),Ta(t,this.qi,i,{fill:this.be}),this}}const um=(t,e,i,s)=>{const n=e.getIcon();return n?t.addRow(n,e.getName()):t.addRow(e.getName()),t.addRow("Angle:","",Math.round(i.angleDeg).toString()).addRow("Amplitude","",s(i.amplitude)).addRow("Intensity","",i.intensity.toFixed(1))};class dm extends nm{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n,o),this.xs="Line Series",this.Vx=[],this.Ox=!1,this.Nx=!1,this.Wy=rm,this.lu=Da(this.qi.polarLineSeriesStrokeStyle,r),this.Gx=t.rp(s,void 0,[Kp.UserSeries]).Re(this.lu).cs(this.getHighlight()).Ka(eu.Nearest),this.ds(this.Gx)}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}setData(t){return 0!==this.Vx.length&&this.Ji.us.Nn(xf.vf),this.Vx=lm(t),this.Ox=!0,this.Bx=am(this.Vx),this.ks.Ss(),this}setStrokeStyle(t){this.lu="function"==typeof t?t(this.lu):t;const e=this.lu;return this.Gx.Re(e),this.ks.Ss(),this}getStrokeStyle(){return this.lu}setConnectDataAutomaticallyEnabled(t){return this.Nx=t,this.ks.Ss(),this}getConnectDataAutomaticallyEnabled(){return this.Nx}Kp(){return this.tS&&this.Vx.length>0&&this.getVisible()}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){return this.Wx(t,this.Gx)}solveNearestFromScreen(t){return this.Wx(mf(t,this.Ji.us),this.Gx)}Wx(t,e){const i=e.Ux(t);if(!i)return;const{angle:s,amplitude:n}=hm(i,this.scale);return Np(i,this.scale,this.Wy(new xp,this,s,n,this.Ji.getAmplitudeAxis().formatValue).Zu(),this,this.lu.getFillStyle())}Te(){if(this.Ox||this.scale.Yx()){const t=om(this.Vx,this.scale),e=gl(t);this.Nx?(t.push({...t[0]}),this.Gx.zl(!0)):this.Gx.zl(!1),this.Gx.Nt().nl(t).Yo(e),this.Ox=!1,this.Gx.Ps()}}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{stroke:this.lu}),this}}class fm extends nm{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n,o),this.xs="Point Line Series",this.Vx=[],this.Ox=!1,this.Nx=!1,this.Hx=3,this.Aa=0,this.$x=Kc.Circle,this.Wy=rm,this.be=Da(this.qi.polarPointLineSeriesFillStyle,r),this.lu=Da(this.qi.polarPointLineSeriesStrokeStyle,r),this.Gx=t.rp(s,void 0,[Kp.UserSeries]).Re(this.lu).cs(this.getHighlight()).Ka(eu.Nearest),this.ds(this.Gx),this.Xx=t.bS(s).Ce(this.be).il(this.$x).q(this.Hx).cs(this.getHighlight()).Ka(eu.Nearest),this.ds(this.Xx)}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}setData(t){return 0!==this.Vx.length&&this.Ji.us.Nn(xf.vf),this.Vx=lm(t),this.Ox=!0,this.Bx=am(this.Vx),this.ks.Ss(),this}setStrokeStyle(t){this.lu="function"==typeof t?t(this.lu):t;const e=this.lu;return this.Gx.Re(e),this.ks.Ss(),this}getStrokeStyle(){return this.lu}setPointFillStyle(t){this.be="function"==typeof t?t(this.be):t;const e=this.be;return this.Xx.Ce(e),this.ks.Ss(),this}getPointFillStyle(){return this.be}setPointSize(t){return this.Hx=t,this.Xx.q(t),this.ks.Ss(),this}getPointSize(){return this.Hx}setPointShape(t){return this.$x=t,this.Xx.il(this.$x),this}getPointShape(){return this.$x}setPointRotation(t){return this.Aa=t,this.Xx.Nh(t),this.ks.Ss(),this}getPointRotation(){return this.Aa}setConnectDataAutomaticallyEnabled(t){return this.Nx=t,this.ks.Ss(),this}getConnectDataAutomaticallyEnabled(){return this.Nx}Kp(){return this.tS&&this.Vx.length>0&&this.getVisible()}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){return this.Wx(t,this.Gx)}solveNearestFromScreen(t){return this.Wx(mf(t,this.Ji.us),this.Gx)}Wx(t,e){const i=e instanceof Au?e.Hc(t):e.Ux(t);if(!i)return;const{angle:s,amplitude:n}=hm(i,this.scale);return Np(i,this.scale,this.Wy(new xp,this,s,n,this.Ji.getAmplitudeAxis().formatValue).Zu(),this,"color"in i&&fo(this.be)?new ho({color:i.color}):this.be)}Te(){if(this.Ox||this.scale.Yx()){const t=om(this.Vx,this.scale),e=gl(t);this.Nx?(t.push({...t[0]}),this.Gx.zl(!0)):this.Gx.zl(!1),this.Gx.Nt().nl(t).Yo(e),this.Xx.Nt().nl(t).Yo(e),this.Ox=!1,this.Gx.Ps(),this.Xx.Ps()}}Cs(){return this.bs||this.$x}}class pm extends Lu{constructor(t,e,i,s,n,r,o,a,l){super(),this.No=Ka(),this.D=new Ir,this.$i=!1,this.jx=s,this.Zx=n,this.Qx=r,this.Jx=o,this.Kx=a,this.ks=t,this.scale=e,this.qx=i,this.qi=l}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}dispose(){return this.qx&&this.qx(this),this.ks.us.Ss(),this.D.emit("dispose",this),this.$i=!0,this}setVisible(t){return super.setVisible(t),this.Qx(),this.ks.us.Ss(),this}isDisposed(){return this.$i}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}setMouseInteractions(t){return this.Jx(this,t),this}getMouseInteractions(){return this.Kx(this)}}class gm extends pm{constructor(t,e,i,s,n,r,o,a,l,h,c,u,d,f,p,g,m){super(t,e,i,s,n,r,o,a,m),this.tM=1,this.iM=1,this.ks=t,this.scale=e,this.dimensionStrategy=l,this.start=h,this.end=c,this.lowerExtreme=u,this.lowerQuartile=d,this.median=f,this.upperQuartile=p,this.upperExtreme=g,this.boundaries=Br(this.dimensionStrategy.toPoint(h,u),this.dimensionStrategy.toPoint(c,g)),this.sM=this.qi.boxSeriesBodyFillStyle,this.eM=this.qi.boxSeriesBodyStrokeStyle,this.lu=this.qi.boxSeriesStrokeStyle,this.hM=this.qi.boxSeriesMedianStrokeStyle,this.Ps()}getBoundaries(){return this.boundaries}setBodyWidth(t){return this.tM=t,this.Ps(),this}getBodyWidth(){return this.tM}setBodyFillStyle(t){return this.sM="function"==typeof t?t(this.sM):t,this.Zx(),this}getBodyFillStyle(){return this.sM}setBodyStrokeStyle(t){return this.eM="function"==typeof t?t(this.eM):t,this.Zx(),this}getBodyStrokeStyle(){return this.eM}setTailWidth(t){return this.iM=t,this.Ps(),this}getTailWidth(){return this.iM}setStrokeStyle(t){return this.lu="function"==typeof t?t(this.lu):t,this.Zx(),this}getStrokeStyle(){return this.lu}setMedianStrokeStyle(t){return this.hM="function"==typeof t?t(this.hM):t,this.Zx(),this}getMedianStrokeStyle(){return this.hM}Ps(){this.jx()}getDominantStyle(){return this.getBodyFillStyle()}}const mm=(t,e,i)=>{const s=e.dt,n=i.dt;let r=(t.x-s.getInnerStart())/(s.getInnerEnd()-s.getInnerStart()),o=(t.y-n.getInnerStart())/(n.getInnerEnd()-n.getInnerStart());return 1===i.eg&&(r=1-r),1===e.eg&&(o=1-o),Lr(o,r)};class ym extends Cp{constructor(t,e,i,s,n,r,o,a){super(t,e,sh(i.dt,s.dt),n,a),this.rM=!1,this.nM=!1,this.oM=!0,this.aM=!0,this.lM=!1,this.uM=!1,this.setGridStrokeYStyle=t=>(this.cM.setGridStrokeStyle(t),this),this.getGridStrokeYStyle=()=>this.cM.getGridStrokeStyle(),this.axisX=i,this.axisY=s,this.dM=r,this.fM=o,this.AM=this.axisX.Yg(!1,this.dM).setMouseInteractions(!1).setAllocatesAxisSpace(!1),this.cM=this.axisY.Yg(!1,this.fM).setMouseInteractions(!1).setAllocatesAxisSpace(!1)}dispose(){return super.dispose(),this.AM.dispose(),this.cM.dispose(),this}pointAt(t){return super.pointAt(t),this.setPosition(Lo(t.location,t.scale,this.scale)),this}setPosition(t){super.setPosition(t),this.AM.setValue(t.x),this.cM.setValue(t.y);const e=mm(Lr(this.AM.getValue(),this.cM.getValue()),this.axisX,this.axisY);return this.AM.setGridStrokeLength(this.lM?e.x:1),this.cM.setGridStrokeLength(this.uM?e.y:1),this}Te(){this.AM.setVisible(this.Xi&&this.Qg).setMarkerVisible(this.Xi&&this.Qg&&this.rM),this.cM.setVisible(this.Xi&&this.Qg).setMarkerVisible(this.Xi&&this.Qg&&this.nM);const t=mm(Lr(this.AM.getValue(),this.cM.getValue()),this.axisX,this.axisY);return this.AM.setGridStrokeLength(this.lM?t.x:1),this.cM.setGridStrokeLength(this.uM?t.y:1),super.Te()}setGridStrokeXCut(t){return this.lM=t,this.ks.Ss(),this}getGridStrokeXCut(){return this.lM}setGridStrokeYCut(t){return this.uM=t,this.ks.Ss(),this}getGridStrokeYCut(){return this.uM}setGridStrokeXStyle(t){return this.AM.setGridStrokeStyle(t),this}getGridStrokeXStyle(){return this.AM.getGridStrokeStyle()}setTickMarkerXVisible(t){return this.rM=t,this.ks.Ss(),this}getTickMarkerXVisible(){return this.rM}setTickMarkerYVisible(t){return this.nM=t,this.ks.Ss(),this}getTickMarkerYVisible(){return this.nM}setTickMarkerX(t){return this.AM.setMarker(t),this}setTickMarkerY(t){return this.cM.setMarker(t),this}getTickMarkerX(){return this.AM.getMarker()}getTickMarkerY(){return this.cM.getMarker()}}class vm extends wp{constructor(t,e,i,s,n,r,o){super(t,e,i,s,o),this.lM=!1,this.uM=!1,this.gM=!1,this.mM=!1,this.yM=new Map,this.pM=new Map,this.rM=!0,this.nM=!0,this.iy=s,this.dM=n,this.fM=r,this.SM=o.cursorGridStrokeStyleX,this.vM=o.cursorGridStrokeStyleY}dispose(){return super.dispose(),this.yM.forEach((t=>t.dispose())),this.pM.forEach((t=>t.dispose())),this.bM=void 0,this.xM=void 0,this}Te(){return this.bM&&this.bM.setVisible(this.Xi&&this.Qg).setMarkerVisible(this.Xi&&this.Qg&&this.rM),this.xM&&this.xM.setVisible(this.Xi&&this.Qg).setMarkerVisible(this.Xi&&this.Qg&&this.nM),super.Te()}pointAt(t){const{location:e}=t,i=t.owner instanceof Pm&&t.owner;if(!i)return this;const{axisX:s}=i,{axisY:n}=i,r=this.Ah(s,!0),o=this.Ah(n,!1);r!==this.bM&&this.bM&&this.bM.setVisible(!1),o!==this.xM&&this.xM&&this.xM.setVisible(!1),r.setValue(e.x),o.setValue(e.y);const a=mm(Lr(e.x,e.y),s,n);return r.setGridStrokeLength(this.lM?a.x:1),o.setGridStrokeLength(this.uM?a.y:1),this.bM=r,this.xM=o,super.pointAt(t)}ny(t){if(super.ny(t),t){const e=e=>e.setTextFillStyle(t);this.bM&&this.gM&&this.bM.setMarker(e),this.xM&&this.mM&&this.xM.setMarker(e)}}Ah(t,e){let i=(e?this.yM:this.pM).get(t);return i||(e?(i=t.Yg(!1,this.dM),this.yM.set(t,i)):(i=t.Yg(!1,this.fM),this.pM.set(t,i)),this.ar(i,e),i.setMouseInteractions(!1).setAllocatesAxisSpace(!1)),i}ar(t,e){const i=e?this.SM:this.vM;return t.setGridStrokeStyle(i),t.setMouseInteractions(!1),(e?this.rM:this.nM)?t.setMarkerVisible(!0):t.setMarkerVisible(!1),t}setGridStrokeXCut(t){return this.lM=t,this.ks.Ss(),this}getGridStrokeXCut(){return this.lM}setGridStrokeYCut(t){return this.uM=t,this.ks.Ss(),this}getGridStrokeYCut(){return this.uM}setGridStrokeXStyle(t){return this.SM=t instanceof Function?t(this.getGridStrokeXStyle()):t,this.yM.forEach((t=>t.setGridStrokeStyle(this.SM))),this}getGridStrokeXStyle(){return this.SM}setGridStrokeYStyle(t){return this.vM=t instanceof Function?t(this.getGridStrokeYStyle()):t,this.pM.forEach((t=>t.setGridStrokeStyle(this.vM))),this}getGridStrokeYStyle(){return this.vM}setTickMarkerXVisible(t){return this.rM=t,this.ks.Ss(),this}getTickMarkerXVisible(){return this.rM}setTickMarkerYVisible(t){return this.nM=t,this.ks.Ss(),this}getTickMarkerYVisible(){return this.nM}setTickMarkerX(t){return this.yM.forEach((e=>e.setMarker(t))),this.dM=this.dM.addStyler(t),this.ks.Ss(),this}setTickMarkerY(t){return this.pM.forEach((e=>e.setMarker(t))),this.fM=this.fM.addStyler(t),this.ks.Ss(),this}setTickMarkerXAutoTextStyle(t){return this.gM=t,this.ks.Ss(),this}getTickMarkerXAutoTextStyle(){return this.gM}setTickMarkerYAutoTextStyle(t){return this.mM=t,this.ks.Ss(),this}getTickMarkerYAutoTextStyle(){return this.mM}}class bm extends Mp{constructor(t,e,i,s){super(t,s),this.iy=t,this.dM=e,this.fM=i,this.oy=s}}class xm extends bm{constructor(){super(...arguments),this.uy=(t,e,i,s)=>this.ly(new vm(t,e,i,this.iy,this.dM,this.fM,s),s),this.addStyler=t=>new xm(this.iy,this.dM,this.fM,this.oy.map((t=>t)).concat(t)),this.setResultTableBackground=t=>new xm(t,this.dM,this.fM,this.oy.map((t=>t)))}}class Sm extends bm{constructor(){super(...arguments),this.Ay=(t,e,i,s,n)=>this.ly(new ym(t,e,i,s,this.iy,this.dM,this.fM,n),n),this.addStyler=t=>new Sm(this.iy,this.dM,this.fM,this.oy.map((t=>t)).concat(t)),this.setResultTableBackground=t=>new Sm(t,this.dM,this.fM,this.oy.map((t=>t)))}}const Am=new xm(Td,pf.PointableTextBox,pf.PointableTextBox,[(t,e)=>{Ep(t),t.setTickMarkerX((t=>{t.setEffect(!0).setTextFont(e.cursorTickMarkerXTextFont).setTextFillStyle(e.cursorTickMarkerXTextFillStyle),Ou(t)&&t.setBackground((t=>t.setFillStyle(e.cursorTickMarkerXBackgroundFillStyle).setStrokeStyle(e.cursorTickMarkerXBackgroundStrokeStyle)))})),t.setTickMarkerY((t=>{t.setEffect(!0).setTextFont(e.cursorTickMarkerYTextFont).setTextFillStyle(e.cursorTickMarkerYTextFillStyle),Ou(t)&&t.setBackground((t=>t.setFillStyle(e.cursorTickMarkerYBackgroundFillStyle).setStrokeStyle(e.cursorTickMarkerYBackgroundStrokeStyle)))}))}]),wm=new Sm(Td,pf.PointableTextBox,pf.PointableTextBox,[(t,e)=>{Tp(t,e),t.setTickMarkerX((t=>{t.setEffect(!0).setTextFont(e.cursorTickMarkerXTextFont).setTextFillStyle(e.cursorTickMarkerXTextFillStyle),Ou(t)&&t.setBackground((t=>t.setFillStyle(e.cursorTickMarkerXBackgroundFillStyle).setStrokeStyle(e.cursorTickMarkerXBackgroundStrokeStyle)))})),t.setTickMarkerY((t=>{t.setEffect(!0).setTextFont(e.cursorTickMarkerYTextFont).setTextFillStyle(e.cursorTickMarkerYTextFillStyle),Ou(t)&&t.setBackground((t=>t.setFillStyle(e.cursorTickMarkerYBackgroundFillStyle).setStrokeStyle(e.cursorTickMarkerYBackgroundStrokeStyle)))}))}]),Cm=new Sm(Td,pf.PointableTextBox,pf.PointableTextBox,[(t,e)=>{((t,e)=>{t.setPointMarker((t=>t.setFillStyle(e.seriesMarkerPointMarkerFillStyle).setSize(e.seriesMarkerPointMarkerSize).setShape(e.seriesMarkerPointMarkerShape))).setResultTable((t=>t.setEffect(!0).setBackground((t=>t)).setOrigin(Lr(-1,-1)).setMargin(10)))})(t,e),t.setTickMarkerX((t=>{t.setEffect(!0).setTextFont(e.cursorTickMarkerXTextFont).setTextFillStyle(e.cursorTickMarkerXTextFillStyle),Ou(t)&&t.setBackground((t=>t.setFillStyle(e.cursorTickMarkerXBackgroundFillStyle).setStrokeStyle(e.cursorTickMarkerXBackgroundStrokeStyle)))})),t.setTickMarkerY((t=>{t.setEffect(!0).setTextFont(e.cursorTickMarkerYTextFont).setTextFillStyle(e.cursorTickMarkerYTextFillStyle),Ou(t)&&t.setBackground((t=>t.setFillStyle(e.cursorTickMarkerYBackgroundFillStyle).setStrokeStyle(e.cursorTickMarkerYBackgroundStrokeStyle)))}))}]),Mm=(t,e,i)=>{switch(t){case Bo.always:return!0;case Bo.never:return!1;case Bo.whenDragged:return i;case Bo.whenHovered:return e&&!i;case Bo.whenHoveredOrDragged:return i||e;case Bo.whenNotDragged:return!i;default:return!1}},km=(t,e)=>Math.min(Math.max(t,e.getInnerStart()),e.getInnerEnd());class Rm{constructor(t,e,i,s,n,r){this.MM=Bo.always,this._M=Bo.always,this.Bo=!0,this.$i=!1,this.wM=!1,this.CM=!1,this.ua=Lr(0,0),this.Mu=Oo.draggable,this._u=void 0,this.D=new Ir,this.Xi=!0,this.kM=(t,e,i)=>{this.wM=!0,this.ks.Ss();const s=this.Mu===Oo.notDraggable?this.Mu:i||this.Mu;this._u=this.ks.us.Wr(s===Oo.notDraggable?jh.Restricted:s===Oo.draggable?jh.Move:s===Oo.onlyHorizontal?jh.Horizontal:jh.Vertical)},this.TM=()=>{this.wM=!1,this.ks.Ss(),this.ks.us.Ur(this._u)},this.FM=(t,e)=>{this.CM=!0,ga(e),this.ks.Ss()},this.IM=(t,e)=>{if(this.Mu!==Oo.notDraggable){const i=e||this.Mu,s=Lo(this.ks.us.Pe(t.x,t.y),this.ks.us.dt,this.scale),n=Lr(i!==Oo.onlyVertical?km(s.x,this.scale.x):this.ua.x,i!==Oo.onlyHorizontal?km(s.y,this.scale.y):this.ua.y);return this.setPosition(n),!0}return!1},this.PM=(t,e)=>{this.CM=!1,ga(e),this.ks.Ss()},this.onDispose=t=>this.D.on("dispose",t),this.offDispose=t=>this.D.off(t,"dispose"),this.ks=t,this.renderingScale=e,this.scale=i,this.Eb=s,this.DM=n,this.qi=r;const o=s.getPointMarker().setMouseInteractions(!0);o.onMouseEnter(((t,e)=>this.kM(t,e))),o.onMouseLeave(this.TM),o.onMouseDragStart(this.FM),o.onMouseDrag(((t,e)=>this.IM(Lr(e.clientX,e.clientY))&&ga(e))),o.onMouseDragStop(this.PM),o.onTouchStart(this.FM),o.onTouchMove(((t,e)=>this.IM(Lr(e.clientX,e.clientY))&&ga(e))),o.onTouchEnd(this.PM),s.getResultTable().setMouseInteractions(!0),this.setPosition(this.ua)}setPosition(t){return this.ua=t,this.Eb.setPosition(t),this.D.emit("positionChange",this,this.ua),this}getPosition(){return this.ua}onPositionChange(t){return this.D.on("positionChange",t)}offPositionChange(t){return this.D.off(t,"positionChange")}setPointMarkerVisibility(t){return this.MM=t,this.ks.Ss(),this}getPointMarkerVisibility(){return this.MM}setResultTableVisibility(t){return this._M=t,this.ks.Ss(),this}getResultTableVisibility(){return this._M}setMouseInteractions(t){return this.Bo=t,this.Eb.getPointMarker().setMouseInteractions(t),this.Eb.getResultTable().setMouseInteractions(t),this}getMouseInteractions(){return this.Bo}setAutoFitStrategy(t){return this.Eb.setAutoFitStrategy(t),this}getAutoFitStrategy(){return this.Eb.getAutoFitStrategy()}isAttached(){return!0}Te(){const t=this.isAttached();return Mm(this.MM,this.wM,this.CM)?this.Eb.setPointMarkerVisible(!0):this.Eb.setPointMarkerVisible(!1),t&&Mm(this._M,this.wM,this.CM)?this.Eb.setResultTableVisible(!0):this.Eb.setResultTableVisible(!1),this.Eb.Te(),this}Ps(){return this.Eb.Ps(),this}pointAt(t){return this.Eb.pointAt(t),this}dispose(){return this.$i||(this.$i=!0,this.DM(this),this.Eb.dispose(),this.D.emit("dispose")),this}isDisposed(){return this.$i}setVisible(t){const e=this.Xi!==t;return this.Xi=t,this.Eb.setVisible(t),e&&this.D.emit("visibleStateChanged",this,this.Xi),this}getVisible(){return this.Xi}onVisibleStateChanged(t){return this.D.on("visibleStateChanged",t)}offVisibleStateChanged(t){return this.D.off(t,"visibleStateChanged")}setPointMarker(t){return this.Eb.setPointMarker(t),this}getPointMarker(){return this.Eb.getPointMarker()}setResultTable(t){return this.Eb.setResultTable(t),this}getResultTable(){return this.Eb.getResultTable()}setDraggingMode(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oo.notDraggable;return this.Mu=t,this.ks.Ss(),this}getDraggingMode(){return this.Mu}}class Em extends Rm{constructor(t,e,i,s,n,r,o){super(t,e,sh(i.dt,s.dt),n.Ay(t,e,i,s,o),r,o),this.BM=Bo.always,this.LM=Bo.always,this.RM=Bo.always,this.EM=Bo.always,this.gridStrokeStyleX=this.Eb.getGridStrokeXStyle(),this.gridStrokeStyleY=this.Eb.getGridStrokeYStyle(),this.ks=t,this.axisX=i,this.axisY=s,this.DM=r;const a=this.Eb.getTickMarkerX().setMouseInteractions(!0);a.onMouseEnter(((t,e)=>this.kM(t,e,Oo.onlyHorizontal))),a.onMouseLeave(this.TM),a.onMouseDragStart(this.FM),a.onMouseDrag(((t,e)=>this.IM(Lr(e.clientX,e.clientY),Oo.onlyHorizontal)&&ga(e))),a.onMouseDragStop(this.PM),a.onTouchStart(this.FM),a.onTouchMove(((t,e)=>this.IM(Lr(e.clientX,e.clientY),Oo.onlyHorizontal)&&ga(e)));const l=this.Eb.getTickMarkerY().setMouseInteractions(!0);l.onMouseEnter(((t,e)=>this.kM(t,e,Oo.onlyVertical))),l.onMouseLeave(this.TM),l.onMouseDragStart(this.FM),l.onMouseDrag(((t,e)=>this.IM(Lr(e.clientX,e.clientY),Oo.onlyVertical)&&ga(e))),l.onMouseDragStop(this.PM),l.onTouchStart(this.FM),l.onTouchMove(((t,e)=>this.IM(Lr(e.clientX,e.clientY),Oo.onlyVertical)&&ga(e)))}Te(){const t=this.isAttached();return this.Xi&&t&&Mm(this.RM,this.wM,this.CM)?this.Eb.setTickMarkerXVisible(!0):this.Eb.setTickMarkerXVisible(!1),this.Xi&&t&&Mm(this.EM,this.wM,this.CM)?this.Eb.setTickMarkerYVisible(!0):this.Eb.setTickMarkerYVisible(!1),this.Eb.setGridStrokeXStyle(this.Xi&&t&&Mm(this.BM,this.wM,this.CM)?this.gridStrokeStyleX:Eo),this.Eb.setGridStrokeYStyle(this.Xi&&t&&Mm(this.LM,this.wM,this.CM)?this.gridStrokeStyleY:Eo),super.Te()}setGridStrokeXVisibility(t){return this.BM=t,this.ks.Ss(),this}getGridStrokeXVisibility(){return this.BM}setGridStrokeYVisibility(t){return this.LM=t,this.ks.Ss(),this}getGridStrokeYVisibility(){return this.LM}setTickMarkerXVisibility(t){return this.RM=t,this.ks.Ss(),this}getTickMarkerXVisibility(){return this.RM}setTickMarkerYVisibility(t){return this.EM=t,this.ks.Ss(),this}getTickMarkerYVisibility(){return this.EM}setGridStrokeXCut(t){return this.Eb.setGridStrokeXCut(t),this}getGridStrokeXCut(){return this.Eb.getGridStrokeXCut()}setGridStrokeYCut(t){return this.Eb.setGridStrokeYCut(t),this}getGridStrokeYCut(){return this.Eb.getGridStrokeYCut()}setGridStrokeXStyle(t){return this.gridStrokeStyleX="function"==typeof t?t(this.gridStrokeStyleX):t,this}getGridStrokeXStyle(){return this.Eb.getGridStrokeXStyle()}setGridStrokeYStyle(t){return this.gridStrokeStyleY="function"==typeof t?t(this.gridStrokeStyleY):t,this}getGridStrokeYStyle(){return this.Eb.getGridStrokeYStyle()}setTickMarkerX(t){return this.Eb.setTickMarkerX(t),this}getTickMarkerX(){return this.Eb.getTickMarkerX()}setTickMarkerY(t){return this.Eb.setTickMarkerY(t),this}getTickMarkerY(){return this.Eb.getTickMarkerY()}setMouseInteractions(t){return super.setMouseInteractions(t),this.Eb.getTickMarkerX().setMouseInteractions(t),this.Eb.getTickMarkerY().setMouseInteractions(t),this}}class Tm extends Em{}class Im extends Tm{constructor(t,e,i,s,n,r){super(t,e,i.axisX,i.axisY,s,n,r),this.zM=!1,this.ks=t,this.owningSeries=i}setPosition(t){return super.setPosition(t),this.zM=!1,this.ks.Ss(),this}Ps(){if(!this.zM){const t=this.owningSeries.solveNearestFromScreen(Lo(this.ua,this.scale,this.ks.us.dt));t?(this.ua=Lo(t.location,this.owningSeries.scale,this.scale),this.Eb.pointAt(t),this.zM=!0):this.Eb.setPosition(this.ua)}return super.Ps()}isAttached(){return this.zM}}class Pm extends sm{constructor(t,e,i,s,n,r,o,a,l,h){var c;super(t,e,l,h),c=this,this.VM=[],this.addMarker=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cm;const e=new Im(c.OM(),c.Ji.uiScale,c,t,c.removeMarker,c.qi);return c.VM.push(e),e},this.removeMarker=t=>{const e=this.VM.indexOf(t);-1!==e&&this.VM.splice(e,1)},this.ts=new Map,this.chart=t,this.ks=i,this.axisX=s,this.axisY=n,this.axisXAttachHandler=r,this.axisYAttachHandler=o,this.OM=a,this.scale=sh(s.dt,n.dt),this.NM=t.GM,t.GM+=1,this.WM(this.scale),this.attacheAxis(),this.onMouseEnter(this.chart.UM),this.onMouseLeave(this.chart.YM),this.onMouseWheel(this.chart.sS),this.onMouseDragStart(this.chart.HM),this.onMouseDrag(this.chart.eS),this.onMouseDragStop(this.chart.$M),this.onTouchStart(this.chart.hS.onTouchStart),this.onTouchMove(this.chart.hS.onTouchMove),this.onTouchEnd(this.chart.hS.onTouchEnd)}get xAxis(){return this.axisX}get yAxis(){return this.axisY}attacheAxis(){this.XM=this.axisXAttachHandler(this),this.jM=this.axisYAttachHandler(this)}Te(){super.Te();for(let t=0;t<this.VM.length;t+=1)this.VM[t].Ps().Te()}ds(t,e){super.ds(t,e),t.Jo(this.NM)}setDrawOrder(t){return this.NM=t.seriesDrawOrderIndex,this.ts.forEach(((t,e)=>{e.Jo(this.NM)})),this.Ji.us.Ss(),this}dispose(){return super.dispose(),this.VM.slice().forEach((t=>t.dispose())),this.XM(this),this.jM(this),this}ZM(){for(let t=0;t<this.VM.length;t+=1)this.VM[t].setPosition(this.VM[t].getPosition());this.ks.Ss()}getBoundaries(){return Br(Lr(this.getXMin()||0,this.getYMin()||0),Lr(this.getXMax()||0,this.getYMax()||0))}setCursorEnabled(t){return super.setCursorEnabled(t)}}const Fm=(t,e,i,s)=>{const n=t.length;let r=0;if(void 0!==e){const n=i-e;if(n>0){const e=t.slice(r,n);r+=n,s(e,!0)}}for(;r<n;){const e=t.slice(r,r+i);r+=i,s(e,!1)}},Dm=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t=>t;const i=[];let s;for(let n=0;n<t.length;n+=1){s=t[n];const r=e(s.tl()),o=s.qa(),a=o?e(o):[];let l=!1,h=!1;"El"in s&&(l=s.El(),h=s.Vl()),i.push.apply(i,r.slice(l?1:0,r.length-(h&&0===a.length?1:0))),i.push.apply(i,a.slice(l&&0===r.length?1:0,a.length-(h?1:0)))}return i},Lm=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;const s=void 0!==i?i:0,n=new Array(t.length);for(let r=0;r<t.length;r+=1)n[r]={x:s+e*r,y:t[r]};return n},zm=(t,e,i,s)=>{const n=e.getIcon();return n?t.addRow(n,e.getName()):t.addRow(e.getName()),t.addRow("X","",e.axisX.formatValue(i)).addRow("Y","",e.axisY.formatValue(s))};class Nm extends Pm{constructor(t,e,i,s,n,r,o,a,l,h,c){super(t,e,i,s,n,r,o,a,h,c),this.QM=[],this.yu=[],this.JM=0,this.ji=!1,this.Hi=lh.onHover,this.Wy=zm,this.Ji.us.Nn(xf.mf),this.KM=l}setDataCleaning(t){const e=t&&t.minDataPointCount;return this.JM=void 0!==e&&e>0?e:0,this.ks.Ss(),this}add(t){if(0!==this.QM.length&&this.Ji.us.Nn(xf.vf),Array.isArray(t)?this.qM(t):this.qM([t]),this.yu.length>0){const t=this.yu[this.yu.length-1];this.t_={x:t.x,y:t.y}}return this}addArrayX(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;return i||(i=this.t_?this.t_.y+e:0),this.add(function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2?arguments[2]:void 0;const s=void 0!==i?i:0,n=new Array(t.length);for(let r=0;r<t.length;r+=1)n[r]={x:t[r],y:s+e*r};return n}(t,e,i)),this}addArrayY(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i||(i=this.t_?this.t_.x+e:0),this.add(Lm(t,e,i)),this}addArraysXY(t,e){if(t.length!==e.length)throw new Error("arrayX and arrayY lengths are not equal");return this.add(((t,e)=>{const i=new Array(t.length);for(let s=0;s<t.length;s+=1)i[s]={x:t[s],y:e[s]};return i})(t,e)),this}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}getPointAmount(){return this.QM.reduce(((t,e)=>t+e.ol()+e.al()),this.yu.length)}clear(){this.i_=void 0;for(let t=0;t<this.QM.length;t+=1)this.QM[t].Nt();return this.yu.length=0,this.t_=void 0,this.ks.Ss(),this.D.emit("dataClear",this),this}getLastPoint(){return this.t_}Kp(){return this.tS&&this.getPointAmount()>0&&this.getVisible()}getXMax(){return this.KM.getXMax(this.QM,this.i_)||0}getXMin(){return this.KM.getXMin(this.QM,this.i_)||0}getYMax(){return this.KM.getYMax(this.QM,this.i_)||0}getYMin(){return this.KM.getYMin(this.QM,this.i_)||0}br(){const t=Lr(0,0);for(const e of this.QM)t.x=Math.max(t.x,e.vl()),t.y=Math.max(t.y,e.bl());return t}s_(t,e,i,s){this.KM.s_(t,e,i,s,this.scale,(t=>{}))}oS(){super.oS();const t=this.QM.length;this.e_&&this.s_(this.QM,this.getPointAmount(),this.e_,this.JM),t!==this.QM.length&&this.ZM()}Te(){super.Te();const t=this.getBoundaries();this.yu.length>0&&(this.h_(this.yu),this.yu=[]);for(const e of this.QM)e.Yo(t);return super.Te()}dp(){super.dp(),this.i_=void 0,this.yu.length=0}qM(t){0!==t.length&&(this.i_?this.i_=yl(this.i_,gl(t)):this.i_=gl(t),this.D.emit("dataAdd",this,t,this.i_),this.yu=Ma(this.yu,t,{canReturnB:!1}),this.ks.Ss())}r_(){return Dm(this.QM)}n_(t){return this.D.on("dataAdd",t)}o_(t){return this.D.off(t)}a_(t){return this.D.on("dataClear",t)}l_(t){return this.D.off(t)}}const _m=(t,e,i,s)=>{let n,r,o=Number.MAX_VALUE;for(let a=0;a<e.length;a+=1){const l=e[a],h=i(l,t);if(h){const e=s(t,h);(void 0===n||e<o)&&(n=h,r=l,o=e)}}return n&&r?[n,r]:void 0};class Vm extends Pm{constructor(){super(...arguments),this.u_=[],this.c_=void 0,this.d_=!1,this.qx=t=>{const e=this.u_.findIndex((e=>e===t));e>=0&&this.u_.splice(e,1),this.d_=!0,this.c_=void 0,this.ks.Ss()},this.jx=()=>{this.c_=void 0,this.d_=!0,this.Ji.us.Ss()},this.Zx=()=>{this.d_=!0,this.Ji.us.Ss()},this.Qx=()=>{this.c_=void 0,this.d_=!0,this.chart.us.Ss()},this.Jx=(t,e)=>{this.setMouseInteractions(e)},this.f_=t=>this.getMouseInteractions()}Te(){super.Te(),this.d_&&(this.A_(this.u_),this.d_=!1)}clear(){return this.u_.slice().forEach(Yo),this.u_.length=0,this.d_=!0,this.c_=void 0,this.ks.Ss(),this}g_(t,e){void 0!==e?this.u_.splice(e,0,t):this.u_.push(t),this.d_=!0,this.m_&&this.m_(t),t.onMouseEnter(((t,e)=>this.wt(t,e))),t.onMouseLeave(((t,e)=>this.Ct(t,e))),t.onMouseClick(((t,e)=>this.kt(t,e))),t.onMouseDoubleClick(((t,e)=>this.Tt(t,e))),t.onMouseDown(((t,e)=>this.Ft(t,e))),t.onMouseUp(((t,e)=>this.It(t,e))),t.onMouseMove(((t,e)=>this.Pt(t,e))),t.onMouseDragStart(((t,e,i)=>this.Bt(t,e,i))),t.onMouseDrag(((t,e,i,s,n)=>this.Dt(t,e,i,s,n))),t.onMouseDragStop(((t,e,i,s)=>this.Lt(t,e,i,s))),t.onMouseWheel(((t,e)=>this.Rt(t,e))),t.onTouchStart(((t,e)=>this.Et(t,e))),t.onTouchMove(((t,e)=>this.zt(t,e))),t.onTouchEnd(((t,e)=>this.Vt(t,e))),this.ks.Ss()}Kp(){return this.tS&&this.u_.length>0&&this.getVisible()}setDefaultStyle(t){this.m_=t,this.u_.forEach(t),t(this.y_);for(let e=0;e<this.Qi.length;e+=1)this.p_(this.Qi[e]);return this.d_=!0,this.Ji.us.Ss(),this}Hc(t,e){const i=_m(t,e?this.u_.filter((t=>t.getVisible()&&t.getIsUnderMouse())):this.u_.filter((t=>t.getVisible())),this.S_,ul);if(void 0!==i)return{location:Lo(i[0],this.ks.us.dt,this.scale),scale:this.scale,resultTableContent:this.Wy(new xp,this,i[1]).Zu(),owner:this,fillStyle:i[1].getDominantStyle(),figure:i[1]}}solveNearestFromScreen(t){return this.Hc(mf(t,this.Ji.us),!1)}getXMax(){return this.c_||(this.c_=this.v_()),this.c_.max.x}getXMin(){return this.c_||(this.c_=this.v_()),this.c_.min.x}getYMax(){return this.c_||(this.c_=this.v_()),this.c_.max.y}getYMin(){return this.c_||(this.c_=this.v_()),this.c_.min.y}br(){return Lr(0,0)}v_(){const t=Br(zr($a,$a),zr(tl,tl));for(let e=0;e<this.u_.length;e+=1)if(this.u_[e].getVisible()){const i=this.u_[e].getBoundaries();t.min.x=Math.min(t.min.x,i.min.x),t.min.y=Math.min(t.min.y,i.min.y),t.max.x=Math.max(t.max.x,i.max.x),t.max.y=Math.max(t.max.y,i.max.y)}return t}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e),this.p_(t,e,i),this}p_(t){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ta(t,this.qi,e,{fill:this.u_.length>0?this.u_[0].getDominantStyle():this.y_.getDominantStyle()})}}const Bm=(t,e,i)=>t.addRow(e.getName()).addRow("Lower extreme","",i.lowerExtreme.toFixed(2)).addRow("Lower quartile","",i.lowerQuartile.toFixed(2)).addRow("Median","",i.median.toFixed(2)).addRow("Upper quartile","",i.upperQuartile.toFixed(2)).addRow("Upper extreme","",i.upperExtreme.toFixed(2));class Om extends Vm{constructor(t,e,i,s,n,r,o,a,l,h,c,u){super(t,e,i,s,n,r,o,a,h,c),this.xs="Box Series",this.Wy=Bm,this.b_=qa(),this.S_=t=>Lo(this.Ts.toPoint((t.start+t.end)/2,t.median),this.scale,this.ks.us.dt),this.Ji.us.Nn(xf.pf),this.Ts=l,this.y_=new gm(this.ks,this.scale,this.qx,Xo,Xo,Xo,Xo,(t=>!1),this.Ts,0,0,0,0,0,0,0,this.qi).dispose(),this.x_=new tg((()=>{const t=this.ks.Lg(this.scale);return this.ds(t,{setEventHandlers:!1}),t}),((t,e,i)=>(t.Re(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.zr();return i.Eg(e.start,e.end),i}))))),this.M_=new tg((()=>{const t=this.b_._t(this.ks.Ob(this.scale));return this.ds(t,{setEventHandlers:!1}),t}),((t,e,i)=>(t.Ce(i.fillStyle).we(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.zr();return i.pl(e.vertices),this.b_.Ot(i,e.figure),i})))),(()=>{this.b_.Nt()}),((t,e)=>{this.gs(e)}))}WM(t){if(!(t instanceof eh||t instanceof ih))throw new Error("BoxSeries only supports Linear Axes")}A_(t){const e=this.M_.fp(),i=this.x_.fp();t.forEach((t=>{if(!t.getVisible())return;const s=this.Ts.toPoint((t.start+t.end-t.tM*(t.end-t.start))/2,t.lowerQuartile),n=this.Ts.toPoint((t.end-t.start)*t.tM,t.upperQuartile-t.lowerQuartile),r=this.Ts.toPoint((t.start+t.end)/2,t.lowerQuartile),o=this.Ts.toPoint((t.start+t.end)/2,t.lowerExtreme),a=this.Ts.toPoint((t.start+t.end)/2,t.upperQuartile),l=this.Ts.toPoint((t.start+t.end)/2,t.upperExtreme),h=this.Ts.toPoint((t.start+t.end-t.iM*(t.end-t.start))/2,t.lowerExtreme),c=this.Ts.toPoint((t.start+t.end+t.iM*(t.end-t.start))/2,t.lowerExtreme),u=this.Ts.toPoint((t.start+t.end-t.iM*(t.end-t.start))/2,t.upperExtreme),d=this.Ts.toPoint((t.start+t.end+t.iM*(t.end-t.start))/2,t.upperExtreme),f=this.Ts.toPoint((t.start+t.end-t.tM*(t.end-t.start))/2,t.median),p=this.Ts.toPoint((t.start+t.end+t.tM*(t.end-t.start))/2,t.median);e.add({No:t.No,vertices:[{x:s.x,y:s.y},{x:s.x,y:s.y+n.y},{x:s.x+n.x,y:s.y+n.y},{x:s.x+n.x,y:s.y}],figure:t},{fillStyle:t.sM,strokeStyle:t.eM}),i.add({No:0,start:r,end:o,figure:t},{strokeStyle:t.lu}),i.add({No:0,start:a,end:l,figure:t},{strokeStyle:t.lu}),i.add({No:0,start:h,end:c,figure:t},{strokeStyle:t.lu}),i.add({No:0,start:u,end:d,figure:t},{strokeStyle:t.lu}),i.add({No:0,start:f,end:p,figure:t},{strokeStyle:t.hM})})),e.finishPlot(),i.finishPlot()}add(t){const e=new gm(this.ks,this.scale,this.qx,this.jx,this.Zx,this.Qx,this.Jx,this.f_,this.Ts,t.start,t.end,t.lowerExtreme,t.lowerQuartile,t.median,t.upperQuartile,t.upperExtreme,this.qi);return this.g_(e),this.d_=!0,this.Ji.us.Ss(),e}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}}class Um extends pm{constructor(t,e,i,s,n,r,o,a,l,h){super(t,e,i,s,n,r,o,a,l),this.dimensions={x:0,y:0,radiusX:0,radiusY:0},this.Ya=Br(Lr(0,0),Lr(0,0)),this.ks=t,this.scale=e,this.be=Da(l.ellipseSeriesFillStyle,h),this.xe=Da(l.ellipseSeriesStrokeStyle,h)}getBoundaries(){return this.Ya}setDimensions(t){return this.dimensions=t,this.Ya=Br(Lr(t.x-t.radiusX,t.y-t.radiusY),Lr(t.x+t.radiusX,t.y+t.radiusY)),this.jx(),this.ks.Ss(),this}getDimensions(){return this.dimensions}setFillStyle(t){return this.be="function"==typeof t?t(this.be):t,this.Zx(),this}getFillStyle(){return this.be}setStrokeStyle(t){return this.xe="function"==typeof t?t(this.xe):t,this.Zx(),this}getStrokeStyle(){return this.xe}getDominantStyle(){return this.be}}class Hm extends Vm{constructor(t,e,i,s,n,r,o,a,l,h,c){super(t,e,i,s,n,r,o,a,l,h),this.xs="Ellipse Series",this.Wy=(t,e,i)=>t.addRow(e.xs).addRow("X","",e.axisX.formatValue(i.getDimensions().x)).addRow("Y","",e.axisY.formatValue(i.getDimensions().y)).addRow("Radius X","",e.axisX.formatValue(i.getDimensions().radiusX)).addRow("Radius Y","",e.axisY.formatValue(i.getDimensions().radiusY)),this.b_=qa(),this.S_=t=>{const e=t.getDimensions(),i=Lr(e.x,e.y);return Lo(i,this.scale,this.ks.us.dt)},this.Ji.us.Nn(xf.pf),this.__=c,this.y_=new Um(this.ks,this.scale,Xo,Xo,Xo,Xo,Xo,(t=>!1),this.qi,this.__).dispose(),this.M_=new tg((()=>{const t=this.b_._t(this.ks.Ob(this.scale));return this.ds(t,{setEventHandlers:!1}),t}),((t,e,i)=>(t.Ce(i.fillStyle).we(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.zr();return i.pl(e.vertices),this.b_.Ot(i,e.figure),i})))),(()=>{this.b_.Nt()}),((t,e)=>{this.gs(e)}))}WM(t){if(!(t instanceof eh||t instanceof ih))throw new Error("EllipseSeries only supports Linear Axes")}A_(t){const e=this.M_.fp();t.forEach((t=>{if(!t.getVisible())return;const i=t.getDimensions(),s=[],n=void 0!==i.drawSteps?i.drawSteps:72;for(let e=0;e<=n;e+=1){const t=e/n*2*Math.PI,r=i.x+i.radiusX*Math.cos(t),o=i.y+i.radiusY*Math.sin(t);s.push({x:r,y:o})}const r=t.getFillStyle(),o=t.getStrokeStyle();e.add({No:t.No,vertices:s,figure:t},{fillStyle:r,strokeStyle:o})})),e.finishPlot()}add(t){const e=new Um(this.ks,this.scale,this.qx,this.jx,this.Zx,this.Qx,this.Jx,this.f_,this.qi,this.__).setDimensions(t);return this.g_(e),this.d_=!0,this.Ji.us.Ss(),e}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}}class Gm extends pm{constructor(t,e,i,s,n,r,o,a,l,h){super(t,e,i,s,n,r,o,a,l),this.w_=[],this.Ya=el,this.ks=t,this.scale=e,this.be=Da(l.polygonSeriesFillStyle,h),this.xe=Da(l.polygonSeriesStrokeStyle,h)}getBoundaries(){return this.Ya}setDimensions(t){return this.w_=t,this.Ya=gl(this.w_),this.jx(),this.ks.Ss(),this}getDimensions(){return this.w_}setFillStyle(t){return this.be="function"==typeof t?t(this.be):t,this.Zx(),this}getFillStyle(){return this.be}setStrokeStyle(t){return this.xe="function"==typeof t?t(this.xe):t,this.Zx(),this}getStrokeStyle(){return this.xe}getDominantStyle(){return this.be}}class Wm extends Vm{constructor(t,e,i,s,n,r,o,a,l,h,c){super(t,e,i,s,n,r,o,a,l,h),this.xs="Polygon Series",this.Wy=(t,e,i)=>t.addRow(e.getName()),this.b_=qa(),this.S_=t=>{const e=t.getBoundaries(),i=Lr((e.min.x+e.max.x)/2,(e.min.y+e.max.y)/2);return Lo(i,this.scale,this.ks.us.dt)},this.Ji.us.Nn(xf.pf),this.__=c,this.y_=new Gm(this.ks,this.scale,Xo,Xo,Xo,Xo,Xo,(t=>!1),this.qi,this.__).dispose(),this.M_=new tg((()=>{const t=this.b_._t(this.ks.Ob(this.scale));return this.ds(t,{setEventHandlers:!1}),t}),((t,e,i)=>(t.Ce(i.fillStyle).we(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.zr();return i.pl(e.vertices),this.b_.Ot(i,e.figure),i})))),(()=>{this.b_.Nt()}),((t,e)=>{this.gs(e)}))}WM(t){}A_(t){const e=this.M_.fp();t.forEach((t=>{if(!t.getVisible())return;const i=t.getDimensions(),s=t.getFillStyle(),n=t.getStrokeStyle();e.add({No:t.No,vertices:i,figure:t},{fillStyle:s,strokeStyle:n})})),e.finishPlot()}add(t){const e=new Gm(this.ks,this.scale,this.qx,this.jx,this.Zx,this.Qx,this.Jx,this.f_,this.qi,this.__).setDimensions(t);return this.g_(e),this.d_=!0,this.Ji.us.Ss(),e}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}}class jm extends pm{constructor(t,e,i,s,n,r,o,a,l,h){super(t,e,i,s,n,r,o,a,l),this.C_={x:0,y:0,width:0,height:0},this.k_={x1:0,y1:0,x2:0,y2:0},this.Ya=Br(Lr(0,0),Lr(0,0)),this.be=Da(l.rectangleSeriesFillStyle,h),this.ks=t,this.scale=e,this.xe=Da(l.rectangleSeriesStrokeStyle,h)}getBoundaries(){return this.Ya}setDimensions(t){return"x"in t?(this.C_=t,this.k_={x1:t.x,y1:t.y,x2:t.x+t.width,y2:t.y+t.height}):(this.k_=t,this.C_={x:t.x1,y:t.y1,width:t.x2-t.x1,height:t.y2-t.y1}),this.Ya=gl([this.C_,Lr(this.C_.x+this.C_.width,this.C_.y+this.C_.height)]),this.jx(),this.ks.Ss(),this}getDimensionsPositionAndSize(){return this.C_}getDimensionsTwoPoints(){return this.k_}setFillStyle(t){return this.be="function"==typeof t?t(this.be):t,this.Zx(),this}getFillStyle(){return this.be}setStrokeStyle(t){return this.xe="function"==typeof t?t(this.xe):t,this.Zx(),this}getStrokeStyle(){return this.xe}getDominantStyle(){return this.be}}class Ym extends Vm{constructor(t,e,i,s,n,r,o,a,l,h,c){super(t,e,i,s,n,r,o,a,l,h),this.xs="Rectangle Series",this.Wy=(t,e,i)=>{const s=i.getDimensionsPositionAndSize();return t.addRow(e.xs).addRow("X","",e.axisX.formatValue(s.x)).addRow("Y","",e.axisX.formatValue(s.y)).addRow("Width","",e.axisX.formatValue(s.width)).addRow("Height","",e.axisX.formatValue(s.height))},this.b_=qa(),this.S_=t=>{const e=t.getDimensionsPositionAndSize(),i=Lr(e.x+e.width/2,e.y+e.height/2);return Lo(i,this.scale,this.ks.us.dt)},this.Ji.us.Nn(xf.pf),this.__=c,this.y_=new jm(this.ks,this.scale,Xo,Xo,Xo,Xo,Xo,(t=>!1),this.qi,this.__).dispose(),this.M_=new tg((()=>{const t=this.b_._t(this.ks.Ob(this.scale));return this.ds(t,{setEventHandlers:!1}),t}),((t,e,i)=>(t.Ce(i.fillStyle).we(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.zr();return i.pl(e.vertices),this.b_.Ot(i,e.figure),i})))),(()=>{this.b_.Nt()}),((t,e)=>{this.gs(e)}))}WM(t){}A_(t){const e=this.M_.fp();t.forEach((t=>{if(!t.getVisible())return;const i=t.getDimensionsTwoPoints(),s=[{x:i.x1,y:i.y1},{x:i.x1,y:i.y2},{x:i.x2,y:i.y2},{x:i.x2,y:i.y1}],n=t.getFillStyle(),r=t.getStrokeStyle();e.add({No:t.No,vertices:s,figure:t},{fillStyle:n,strokeStyle:r})})),e.finishPlot()}add(t){const e=new jm(this.ks,this.scale,this.qx,this.jx,this.Zx,this.Qx,this.Jx,this.f_,this.qi,this.__).setDimensions(t);return this.g_(e),this.d_=!0,this.Ji.us.Ss(),e}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}}class Xm extends pm{constructor(t,e,i,s,n,r,o,a,l,h){super(t,e,i,s,n,r,o,a,l),this.dimensions={startX:0,startY:0,endX:0,endY:0},this.Ya=Br(Lr(0,0),Lr(0,0)),this.qi=l,this.ks=t,this.scale=e,this.xe=Da(l.segmentSeriesStrokeStyle,h)}getBoundaries(){return this.Ya}setDimensions(t){return this.dimensions=t,this.Ya=Br(Lr(Math.min(t.startX,t.endX),Math.min(t.startY,t.endY)),Lr(Math.max(t.startX,t.endX),Math.max(t.startY,t.endY))),this.jx(),this.ks.Ss(),this}getDimensions(){return this.dimensions}setStrokeStyle(t){return this.xe="function"==typeof t?t(this.xe):t,this.Zx(),this}getStrokeStyle(){return this.xe}getDominantStyle(){const t=this.xe;return t!==Eo?t.getFillStyle():ro}}class qm extends Vm{constructor(t,e,i,s,n,r,o,a,l,h,c){super(t,e,i,s,n,r,o,a,l,h),this.xs="Segment Series",this.Wy=(t,e,i)=>t.addRow(e.xs).addRow("Start",e.axisX.formatValue(i.getDimensions().startX),",",e.axisY.formatValue(i.getDimensions().startY)).addRow("End",e.axisX.formatValue(i.getDimensions().endX),",",e.axisY.formatValue(i.getDimensions().endY)),this.T_=qa(),this.S_=t=>{const e=t.getDimensions(),i=Lr((e.startX+e.endX)/2,(e.startY+e.endY)/2);return Lo(i,this.scale,this.ks.us.dt)},this.Ji.us.Nn(xf.pf),this.__=c,this.y_=new Xm(this.ks,this.scale,Xo,Xo,Xo,Xo,Xo,(t=>!1),this.qi,this.__).dispose(),this.x_=new tg((()=>{const t=this.T_._t(this.ks.Lg(this.scale));return this.ds(t,{setEventHandlers:!1}),t}),((t,e,i)=>(t.Re(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.zr();return i.Eg(e.start,e.end),this.T_.Ot(i,e.figure),i})))),(()=>{this.T_.Nt()}),((t,e)=>{this.gs(e)}))}WM(t){}A_(t){const e=this.x_.fp();t.forEach((t=>{if(!t.getVisible())return;const i=t.getDimensions(),s={x:i.startX,y:i.startY},n={x:i.endX,y:i.endY},r=t.getStrokeStyle();e.add({No:t.No,start:s,end:n,figure:t},{strokeStyle:r})})),e.finishPlot()}add(t){const e=new Xm(this.ks,this.scale,this.qx,this.jx,this.Zx,this.Qx,this.Jx,this.f_,this.qi,this.__).setDimensions(t);return this.g_(e),this.d_=!0,this.Ji.us.Ss(),e}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}}const Jm=(t,e,i)=>{const s=e.getIcon();return s?t.addRow(s,e.getName()):t.addRow(e.getName()),t.addRow("X:","",e.axisX.formatValue(i.x)).addRow("Y:","",e.axisY.formatValue(i.y)).addRow("Intensity:","",i.intensity.toFixed(1))};class Km extends Pm{constructor(t,e,i,s,n,r,o,a,l,h,c,u){super(t,e,i,s,n,r,o,a,h,c),this.xs="Heatmap Grid Series",this.Wy=Jm,this.Lx=!1,this.Av={},this.Ji.us.Nn(xf.yf),this.F_=l,this.qi=h;const d=u;this.be=Da(h.heatmapGridSeriesFillStyle,d),this.gv=Da(this.qi.heatmapGridSeriesWireframeStyle,d);const f={heatmapDataType:"intensity",dataOrder:l.dataOrder||"columns",columns:l.columns,rows:l.rows};this.Un=f,this.I_=this.ks.P_(this.scale,[],f).Ce(this.be).mv(this.gv).cs(this.getHighlight()),this.ds(this.I_),l.start&&this.setStart(l.start),l.end&&this.setEnd(l.end),l.step&&this.setStep(l.step),this.setHighlightOnHover(!1)}pv(){const t=this.Av.start||{x:0,y:0};let e;e=this.Av.end?{x:(this.Av.end.x-t.x)/this.Un.columns,y:(this.Av.end.y-t.y)/this.Un.rows}:this.Av.step?this.Av.step:{x:1,y:1},this.I_.Sv(t,e),this.Ji.us.Ss()}setStart(t){return this.Av.start=t,this.pv(),this}getStart(){return this.I_.vv().start}setStep(t){return this.Av.step=t,this.pv(),this}getStep(){return this.I_.vv().step}setEnd(t){return this.Av.end=t,this.pv(),this}getEnd(){return this.I_.vv().end}clear(){return this.I_.Nt(),this.ks.Ss(),this.D.emit("dataClear",this),this}setWireframeStyle(t){return this.gv="function"==typeof t?t(this.gv):t,this.I_.mv(this.gv),this.ks.Ss(),this.D.emit("styleChange",this),this}getWireframeStyle(){return this.gv}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}setCursorEnabled(t){return super.setCursorEnabled(t)}setIntensityInterpolation(t){return t=t||"disabled",this.I_.xv(t),this.ks.Ss(),this.D.emit("styleChange",this),this}getIntensityInterpolation(){return this.I_.Mv()}Kp(){return this.tS&&this.getVisible()}Gd(){return Ia(this.be)}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{fill:this.be}),this}D_(t){this.I_.D_().forEach((e=>{t.I_._v(e)}))}l_(t){return this.D.off(t)}a_(t){return this.D.on("dataClear",t)}B_(t){return this.D.on("styleChange",t)}L_(t){return this.D.off(t)}Hc(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Lx;const s=Lo(t,this.ks.us.dt,this.scale),n=e?this.I_.getIsUnderMouse()?this.I_:void 0:this.I_;if(!n)return;const r=i?n.zx(s):n.Hc(s);if(r){const t={x:r.x,y:r.y,column:r.column,row:r.column,intensity:r.cellValue};return{location:t,scale:this.scale,resultTableContent:this.Wy(new xp,this,t).Zu(),owner:this}}}solveNearestFromScreen(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Lx;return this.Hc(mf(t,this.Ji.us),!1,e)}getXMax(){const t=this.I_;return t?t.bt():void 0}getXMin(){const t=this.I_;return t?t.vt():void 0}getYMax(){const t=this.I_;return t?t.Mt():void 0}getYMin(){const t=this.I_;return t?t.xt():void 0}br(){const t=Lr(0,0);return t.x=Math.max(t.x,this.I_.vl()),t.y=Math.max(t.y,this.I_.bl()),t}WM(t){if(!(t instanceof eh))throw new Error("HeatmapGridSeries can only be attached to a pair of Linear Axes.");if(t instanceof eh&&t._i())throw new Error("HeatmapGridSeries can not be attached to a high precision Axis.")}Ie(t,e){t.cs(e),this.ks.Ss()}Te(){return super.Te(),this.I_.Yo(this.getBoundaries()),this}}class Zm extends Km{constructor(t,e,i,s,n,r,o,a,l,h,c,u){super(t,e,i,s,n,r,o,a,l,h,c,u),this.dS=!1,this.Wy=Jm}invalidateIntensityValues(t){if(this.dS&&this.Ji.us.Nn(xf.vf),Array.isArray(t)){if(0===t.length)return this;const e={x:t.length,y:t[0].length,columns:"columns"===this.Un.dataOrder?t.length:t[0].length,rows:"rows"===this.Un.dataOrder?t.length:t[0].length},i="columns"===this.Un.dataOrder?this.Un.columns:this.Un.rows,s="columns"===this.Un.dataOrder?this.Un.rows:this.Un.columns;if(e.x>i||e.y>s){if(!0===this.chart.cA.Hn){const t="HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.\nGrid ".concat(this.Un.columns,"x").concat(this.Un.rows,", input ").concat(e.columns,"x").concat(e.rows,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");Ho.console.warn(t)}const n=[];for(let e=0;e<i;e+=1)n[e]=t[e].slice(0,s);t=n}this.I_._v({type:"intensity",lengthPrimary:e.x,lengthSecondary:e.y,startPrimary:0,startSecondary:0,values:t})}else if("iColumn"in t&&"iRow"in t&&"values"in t){if(0===t.values.length)return this;const e={primary:t.values.length,secondary:t.values[0].length,columns:"columns"===this.Un.dataOrder?t.values.length:t.values[0].length,rows:"rows"===this.Un.dataOrder?t.values.length:t.values[0].length},i="columns"===this.Un.dataOrder?t.iColumn:t.iRow,s=i+e.primary-1,n="columns"===this.Un.dataOrder?t.iRow:t.iColumn,r=n+e.secondary-1,o=("columns"===this.Un.dataOrder?this.Un.columns:this.Un.rows)-1,a=("columns"===this.Un.dataOrder?this.Un.rows:this.Un.columns)-1;if(i<0||n<0){if(!0===this.chart.cA.Hn){const e="HeatmapGridSeries.invalidateIntensityValues invalidation start below 0 not permitted.\niColumn: ".concat(t.iColumn,", iRow: ").concat(t.iRow,".\nNo intensity values will be invalidated.");Ho.console.warn(e)}return this}if(s>o||r>a){if(!0===this.chart.cA.Hn){const i="HeatmapGridSeries.invalidateIntensityValues intensity matrix overflow.\nGrid ".concat(this.Un.columns,"x").concat(this.Un.rows,", input ").concat(e.columns,"x").concat(e.rows," starting at [").concat(t.iColumn,",").concat(t.iRow,"].\nOut of bounds data will be automatically clipped. This can result in sub-optimal performance.");Ho.console.warn(i)}const i=Math.max(s-o,0),n=e.primary-i,l=Math.max(r-a,0),h=[];for(let e=0;e<n;e+=1)h[e]=t.values[e].slice(0,l>0?-l:void 0);t={iColumn:t.iColumn,iRow:t.iRow,values:h}}this.I_._v({type:"intensity",lengthPrimary:t.values.length,lengthSecondary:t.values[0].length,startPrimary:i,startSecondary:n,values:t.values})}return this.D.emit("invalidateIntensity",this,t),this.ks.Ss(),this.dS=!0,this}setFillStyle(t){return this.be="function"==typeof t?t(this.be):t,this.I_.Ce(this.be),this.D.emit("styleChange",this),this.ks.Ss(),this}getFillStyle(){return this.be}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}R_(t){return this.D.on("invalidateIntensity",t)}E_(t){return this.D.off(t)}}class Qm extends Pm{constructor(t,e,i,s,n,r,o,a,l,h,c,u){super(t,e,i,s,n,r,o,a,h,c),this.xs="Scrolling Heatmap Grid Series",this.Wy=Jm,this.Lx=!1,this.Av={},this.Ji.us.Nn(xf.yf),this.Ji.us.Nn(xf.vf);const d=u;this.be=Da(h.heatmapScrollingGridSeriesFillStyle,d),this.gv=Da(this.qi.heatmapScrollingGridSeriesWireframeStyle,d);const f={scrollDimension:"columns",heatmapDataType:"intensity",...l};this.Un=f,this.z_=this.ks.V_(this.scale,[],f).Ce(this.be).mv(this.gv).cs(this.getHighlight()),this.ds(this.z_),l.start&&this.setStart(l.start),l.step&&this.setStep(l.step),this.setHighlightOnHover(!1)}pv(){const t=this.Av.start||{x:0,y:0};let e;e=this.Av.step?this.Av.step:{x:1,y:1},this.z_.Sv(t,e),this.Ji.us.Ss()}setStart(t){return this.Av.start=t,this.pv(),this}getStart(){return this.z_.vv().start}setStep(t){return this.Av.step=t,this.pv(),this}getStep(){return this.z_.vv().step}clear(){return this.z_.Nt(),this.ks.Ss(),this}setWireframeStyle(t){return this.gv="function"==typeof t?t(this.gv):t,this.z_.mv(this.gv),this.ks.Ss(),this}getWireframeStyle(){return this.gv}setPixelInterpolationMode(t){return t=t||"disabled",this.z_.xv(t),this.ks.Ss(),this}getPixelInterpolationMode(){return this.z_.Mv()}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}setCursorEnabled(t){return super.setCursorEnabled(t)}setDataCleaning(t){return this.z_.Su(t),this.ks.Ss(),this}Kp(){return this.tS&&this.getVisible()}Gd(){return Ia(this.be)}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{fill:this.be}),this}Ce(t){return this.be="function"==typeof t?t(this.be):t,this.z_.Ce(this.be),this.ks.Ss(),this}Hc(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Lx;const s=Lo(t,this.ks.us.dt,this.scale),n=e?this.z_.getIsUnderMouse()?this.z_:void 0:this.z_;if(!n)return;const r=i?n.zx(s):n.Hc(s);return r?Np(r,this.scale,this.Wy(new xp,this,{x:r.x,y:r.y,column:r.column,row:r.column,intensity:r.cellValue}).Zu(),this):void 0}solveNearestFromScreen(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Lx;return this.Hc(mf(t,this.Ji.us),!1,e)}WM(t){if(!(t instanceof eh))throw new Error("HeatmapScrollingGridSeries can only be attached to a pair of Linear Axes.");if(t instanceof eh&&t._i())throw new Error("HeatmapScrollingGridSeries can not be attached to a high precision Axis.")}getXMax(){return this.z_.bt()||0}getXMin(){return this.z_.vt()||0}getYMax(){return this.z_.Mt()||0}getYMin(){return this.z_.xt()||0}br(){const t=Lr(0,0);return t.x=Math.max(t.x,this.z_.vl()),t.y=Math.max(t.y,this.z_.bl()),t}Ie(t,e){t.cs(e),this.ks.Ss()}}class $m extends Qm{constructor(t,e,i,s,n,r,o,a,l,h,c,u){super(t,e,i,s,n,r,o,a,l,h,c,u),this.Wy=Jm}addIntensityValues(t){if(0===t.length||0===t[0].length)return this;const e=t.length,i=t[0].length,s=("columns"===this.Un.scrollDimension?t.length:t[0].length,"rows"===this.Un.scrollDimension?t.length:t[0].length,0+i-1),n=this.Un.resolution-1;if(s>n){if(!0===this.chart.cA.Hn){const t="HeatmapScrollingGridSeries.addIntensityValues intensity matrix overflow.\nGrid resolution: ".concat(this.Un.resolution,", input ").concat(e,"x").concat(i,".\nExcess data will be automatically clipped. This can result in sub-optimal performance.");Ho.console.warn(t)}const s=[];for(let i=0;i<e;i+=1)s[i]=t[i].slice(0,n+1);t=s}return this.z_.Fv(t),this.ks.Ss(),this}invalidateIntensityValues(t){return this.z_._v(t.iSample,t.values),this.ks.Ss(),this}getSampleCount(){return this.z_.O_()}setFillStyle(t){return this.Ce(t),this}getFillStyle(){return this.be}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}}class ty extends Pm{constructor(){super(...arguments),this.QM=[],this.yu=[],this.N_=[],this.G_=[],this.e_=1e3,this.JM=0,this.Hi=lh.onHover,this._l={type:"disabled",packager:(t,e,i)=>t.slice()},this.Lx=!0,this.W_=[],this.U_=[],this.Y_=!1,this.Gd=()=>Ia(this.H_)||Ia(this.X_),this.j_=t=>{const e=t.length;if(this.QM.length>0){const i=this.QM.length-1,s=this.QM[i];if(e>0){const[e,i]=s.tl(),[n,r]=s.qa();if((n?e.length+n.length:e.length)>=this.e_){const o=n&&n.length>0?n[n.length-1]:e[e.length-1],a=r&&r.length>0?r[r.length-1]:i[e.length-1],l=(o.x+t[0].position)/2,h=Fl(l,o,Lr(t[0].position,t[0].high)).y,c=Fl(l,a,Lr(t[0].position,t[0].low)).y,u=Nr(l,h,c);s.nl(u,Br(Lr(l,c),Lr(l,h))).zl(!0),this.Z_([u].concat(t)).Rl(!0)}else s.nl(t)}}else e>0&&this.Z_(t)},this.Q_=t=>{const e=this.W_,i=t.length;if(this.W_.length>0){if(i>0){const i=e[e.length-1],s=i.tl(),n=i.qa();if(s.length+n.length>=this.e_){const r=n.length>0?n[n.length-1]:s[s.length-1],o=(r.x+t[0].x)/2,a=Fl(o,r,Lr(t[0].x,t[0].y)).y,l=Lr(o,a);i.nl(l,Br(Lr(o,a),Lr(o,a))).zl(!0),e.push(this.J_([l].concat(t),this.i_).Rl(!0))}else i.nl(t)}}else i>0&&e.push(this.J_(t))},this.K_=t=>{const e=this.U_,i=t.length;if(this.U_.length>0){if(i>0){const i=e[e.length-1],s=i.tl(),n=i.qa();if(s.length+n.length>=this.e_){const r=n.length>0?n[n.length-1]:s[s.length-1],o=(r.x+t[0].x)/2,a=Fl(o,r,Lr(t[0].x,t[0].y)).y,l=Lr(o,a);i.nl(l,Br(Lr(o,a),Lr(o,a))).zl(!0),e.push(this.q_([l].concat(t)).Rl(!0))}else i.nl(t)}}else i>0&&e.push(this.q_(t))},this.tw=(t,e)=>{const i=t.Ux(e);if(i)return[Lo(i[0],this.scale,this.ks.us.dt),Lo(i[1],this.scale,this.ks.us.dt)]},this.iw=(t,e)=>{const i=t.sw(e);if(i)return[Lo(i[0],this.scale,this.ks.us.dt),Lo(i[1],this.scale,this.ks.us.dt)]}}setDataCleaning(t){const e=t&&t.minDataPointCount;return this.JM=void 0!==e&&e>0?e:0,this.ks.Ss(),this}clear(){for(let t=0;t<this.QM.length;t+=1)this.QM[t].dispose();for(let t=0;t<this.W_.length;t+=1)this.W_[t].dispose();for(let t=0;t<this.U_.length;t+=1)this.U_[t].dispose();return this.yu.length=0,this.N_.length=0,this.G_.length=0,this.i_=void 0,this.QM.length=0,this.W_.length=0,this.U_.length=0,this.ks.Ss(),this.D.emit("dataClear",this),this}getPointAmount(){return this.QM.reduce(((t,e)=>t+e.ol()+e.al()),this.yu.length)}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}setCursorEnabled(t){return super.setCursorEnabled(t)}getCursorResultTableFormatter(){return this.Wy}getXMax(){return oa(this.QM,$o,Math.max,sa,this.i_)||0}getXMin(){return oa(this.QM,Qo,Math.min,ia,this.i_)||0}getYMax(){return oa(this.QM,ea,Math.max,ra,this.i_)||0}getYMin(){return oa(this.QM,ta,Math.min,na,this.i_)||0}br(){const t=Lr(0,0);for(const e of this.QM)t.x=Math.max(t.x,e.vl()),t.y=Math.max(t.y,e.bl());return t}Kp(){return this.tS&&this.getPointAmount()>0&&this.getVisible()}WM(t){}qM(t,e,i){this.yu=Ma(this.yu,t,{canReturnB:!1}),this.N_=Ma(this.N_,e,{canReturnB:!1}),this.G_=Ma(this.G_,i,{canReturnB:!1}),this.ks.Ss()}ew(t,e,i,s){this.hw(e,i,s),this.qM(Array.isArray(t)?t:[t],e,i)}hw(t,e,i){const s=yl(gl(t),gl(e));this.i_?this.i_=yl(this.i_,s):this.i_=s,i&&(this.i_=yl(this.i_,i))}rw(){const t=this.QM.length,e=Math.min(this.scale.x.getInnerStart(),this.scale.x.getInnerEnd());let i=0;if(t>1)for(let s=0;s<t-1;s+=1)this.scale.x.mi(this.QM[s].bt(),this.QM[s].vl())<e&&(i+=1);return i}s_(t,e,i,s){if(i>0){const n=Math.ceil(i/e),r=t.length-n;if(r>0&&s>0){const e=r-s>0?s:r;if(e>0){for(let i=0;i<e;i+=1)t[i].dispose();t.splice(0,e)}}}}nw(t){const e=this.QM.length>0?this.QM[this.QM.length-1]:void 0,i=e?e.tl()[0].length+(e.qa()[0]?e.qa()[0].length:0):void 0;Fm(t,i,this.e_,this.j_)}ow(t){const e=this.W_.length>0?this.W_[this.W_.length-1].tl().length+this.W_[this.W_.length-1].qa().length:void 0;Fm(t,e,this.e_,this.Q_)}aw(t,e){const i=this.W_.length>0?this.W_[this.W_.length-1].tl().length+this.W_[this.W_.length-1].qa().length:void 0;Fm(t,i,this.e_,this.Q_),Fm(e,i,this.e_,this.K_)}Z_(t,e){const i=this.ks.lw(this.scale).nl(t,e).Ce(this.H_).Bl(this.X_).Pl(this._l).cs(this.getHighlight());return this.QM.push(i),this.ds(i),i}uw(t,e,i){const s=this.ks.rp(this.scale,void 0,[Kp.UserSeries]).nl(t,i).setMouseInteractions(!1).Re(e).cs(this.getHighlight());return this.ds(s),s}J_(t,e){return this.uw(t,this.cw,e)}q_(t,e){return this.uw(t,this.dw,e)}fw(t){this.H_="function"==typeof t?t(this.H_):t;const e=this.H_;for(let i=0;i<this.QM.length;i+=1)this.QM[i].Ce(e);this.ks.Ss()}Aw(t){this.X_="function"==typeof t?t(this.X_):t;const e=this.X_;for(let i=0;i<this.QM.length;i+=1)this.QM[i].Bl(e);this.ks.Ss()}gw(){return this.H_}Ll(){return this.X_}mw(t){this.cw="function"==typeof t?t(this.cw):t;const e=this.cw;for(let i=0;i<this.W_.length;i+=1)this.W_[i].Re(e);this.ks.Ss()}yw(t){this.dw="function"==typeof t?t(this.dw):t;const e=this.dw;for(let i=0;i<this.U_.length;i+=1)this.U_[i].Re(e);this.ks.Ss()}pw(){return this.cw}Sw(){return this.dw}Ie(t,e){t.cs(e),this.bw(e),this.ks.Ss()}bw(t){for(let e=0;e<this.W_.length;e+=1)this.W_[e].cs(t);for(let e=0;e<this.U_.length;e+=1)this.U_[e].cs(t)}oS(){if(super.oS(),this.Y_=!1,this.JM>0){const t=this.QM.length,e=this.rw();this.s_(this.QM,this.e_,this.JM,e);const i=this.QM.length;this.W_.length>0&&this.s_(this.W_,this.e_,this.JM,e),this.U_.length>0&&this.s_(this.U_,this.e_,this.JM,e),t!==i&&this.ZM(),this.Y_=!0}}Te(){if(super.Te(),this.yu.length>0&&(this.nw(this.yu),this.xw(this.N_,this.G_),this.Y_=!0),this.Y_){const t=this.getBoundaries();for(const e of this.QM)e.Yo(t);for(const e of this.W_)e.Yo(t);for(const e of this.U_)e.Yo(t)}}dp(){this.i_=void 0,this.yu.length=0,this.N_.length=0,this.G_.length=0}Hc(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Lx;const s=((t,e,i)=>{let s,n,r=Number.MAX_VALUE;for(let o=0;o<e.length;o+=1){const a=e[o],l=i(a,t);if(l){const e=ul(t,l[0]),i=ul(t,l[1]);(void 0===s||e<r||i<r)&&(s=l,n=a,e<r?r=e:i<r&&(r=i))}}return s&&n?[s,n]:void 0})(t,e?this.QM.filter((t=>t.getIsUnderMouse())):this.QM,i?this.iw:this.tw);if(void 0!==s&&void 0!==s[0]){const t=Lo(s[0][0],this.ks.us.dt,this.scale),e=Lo(s[0][1],this.ks.us.dt,this.scale);return Np(t,this.scale,this.Wy(new xp,this,t.x,t.y,e.y).Zu(),this,s[1].Eh())}}solveNearestFromScreen(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Lx;return this.Hc(mf(t,this.Ji.us),!1,e)}}const ey=(t,e,i,s,n)=>{const r=e.getIcon();return r?t.addRow(r,e.getName()):t.addRow(e.getName()),t.addRow("Position","",e.axisX.formatValue(i)).addRow("Value","",e.axisY.formatValue(s)).addRow("Base","",e.axisY.formatValue(n))};class iy extends ty{constructor(t,e,i,s,n,r,o,a){let l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;super(t,e,i,s,n,r,o,a,arguments.length>9?arguments[9]:void 0,arguments.length>10?arguments[10]:void 0),this.xs="Area Series",this.Wy=ey,this.Ji.us.Nn(xf.mf),this.Mw=l}add(t){0!==this.QM.length&&this.Ji.us.Nn(xf.vf);const e=Array.isArray(t)?t:[t];if(e.length>0){const t=this._w(e),[i,s]=this.ww(t);this.ew(t,i,s,Br(Lr($a,this.Mw),Lr(tl,this.Mw)));const n=this.yu[this.yu.length-1];this.t_=n?{position:n.position,high:n.high,low:n.low}:void 0,this.D.emit("dataAdd",this,e,this.i_)}return this}addArrayY(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return i||(i=this.t_?this.t_.position+e:0),this.add(Lm(t,e,i)),this}n_(t){return this.D.on("dataAdd",t)}o_(t){return this.D.off(t)}a_(t){return this.D.on("dataClear",t)}l_(t){return this.D.off(t)}}class sy extends iy{constructor(){super(...arguments),this.dw=Eo}xw(t){return this.ow(t)}ww(t){const e=t.length,i=Array(e);for(let s=0;s<e;s+=1){const e=t[s];i[s]=Lr(e.position,e.high)}return[i,[]]}setStrokeStyle(t){return this.mw(t),this}getStrokeStyle(){return this.pw()}}const ny={Positive:class extends sy{constructor(t,e,i,s,n,r,o,a,l,h,c,u){super(t,e,i,s,n,r,o,a,l,h,c);const d=u;this.H_=Da(this.qi.areaSeriesPositiveFillStyle,d),this.X_=ro,this.cw=Da(this.qi.areaSeriesPositiveStrokeStyle,d)}_w(t){return this.Pw(t)}Pw(t){const e=[];return 1===t.length?this.Tw(t[0],e):this.Fw(t,e),e}Tw(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=this.Mw;return e[i]=t.y<s?Nr(t.x,s,s):Nr(t.x,t.y,s),i+1}Fw(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=0;const n=t.length-1,r=this.Mw;for(;s<n;){const n=t[s],o=t[s+=1];if(n.y>=r){const t=Nr(n.x,n.y,r);if(0!==i&&aa(e[i-1],t)||(e[i]=t,i+=1),o.y<r){const t=Bl(Lr(tl,r),Lr($a,r),n,o);t&&(e[i]=Nr(t.x,t.y,r),i+=1),e[i]=Nr(o.x,r,r),i+=1}else e[i]=Nr(o.x,o.y,r),i+=1}else{const t=Nr(n.x,r,r);if(0!==i&&aa(e[i-1],t)||(e[i]=t,i+=1),o.y>=r){const t=Bl(Lr(tl,r),Lr($a,r),n,o);t&&(e[i]=Nr(t.x,t.y,r),i+=1),e[i]=Nr(o.x,o.y,r),i+=1}else e[i]=Nr(o.x,r,r),i+=1}}return i}r_(){return Dm(this.QM,(t=>t[0]||[]))}setFillStyle(t){return this.fw(t),this}getFillStyle(){return this.gw()}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ta(t,this.qi,i,{fill:this.H_,stroke:this.cw}),super.attach(t,e,i)}},Negative:class extends sy{constructor(t,e,i,s,n,r,o,a,l,h,c){super(t,e,i,s,n,r,o,a,l,h,c);const u=t.getSeries().length;this.H_=ro,this.X_=Da(this.qi.areaSeriesNegativeFillStyle,u),this.cw=Da(this.qi.areaSeriesNegativeStrokeStyle,u)}_w(t){return this.Iw(t)}Iw(t){const e=[];return 1===t.length?this.Tw(t[0],e):this.Fw(t,e),e}Tw(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=this.Mw;return e[i]=t.y>s?Nr(t.x,s,s):Nr(t.x,t.y,s),i+1}Fw(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=0;const n=t.length-1,r=this.Mw;for(;s<n;){const n=t[s],o=t[s+=1];if(n.y<=r){const t=Nr(n.x,n.y,r);if(0!==i&&aa(e[i-1],t)||(e[i]=t,i+=1),o.y>r){const t=Bl(Lr(tl,r),Lr($a,r),n,o);t&&(e[i]=Nr(t.x,t.y,r),i+=1),e[i]=Nr(o.x,r,r),i+=1}else e[i]=Nr(o.x,o.y,r),i+=1}else{const t=Nr(n.x,r,r);if(0!==i&&aa(e[i-1],t)||(e[i]=t,i+=1),o.y<=r){const t=Bl(Lr(tl,r),Lr($a,r),n,o);t&&(e[i]=Nr(t.x,t.y,r),i+=1),e[i]=Nr(o.x,o.y,r),i+=1}else e[i]=Nr(o.x,r,r),i+=1}}return i}r_(){return Dm(this.QM,(t=>t[1]))}setFillStyle(t){return this.Aw(t),this}getFillStyle(){return this.Ll()}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ta(t,this.qi,i,{fill:this.X_,stroke:this.cw}),super.attach(t,e,i)}},Bipolar:class extends iy{constructor(t,e,i,s,n,r,o,a,l,h,c){super(t,e,i,s,n,r,o,a,l,h,c);const u=t.getSeries().length;this.H_=Da(this.qi.areaSeriesBipolarHighFillStyle,u),this.cw=Da(this.qi.areaSeriesBipolarHighStrokeStyle,u),this.X_=Da(this.qi.areaSeriesBipolarLowFillStyle,u),this.dw=Da(this.qi.areaSeriesBipolarLowStrokeStyle,u)}_w(t){return this.Cw(t)}xw(t,e){return this.aw(t,e)}Cw(t){let e=0;const i=[],s=t.length,n=this.Mw;return s>0&&(this.kw&&(this.kw.y<=n&&n<=t[0].y||this.kw.y>=n&&n>=t[0].y)&&(i[e]=Nr(.5*(this.kw.x+t[0].x),n,n),e+=1),this.kw=t[s-1],1===s?this.Tw(t[0],i,e):this.Fw(t,i)),i}Tw(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e[i]=Nr(t.x,t.y,this.Mw),i+1}Fw(t,e){let i=0,s=0;const n=t.length-1,r=this.Mw;for(;s<n;){const n=t[s],o=t[s+=1],a=Nr(n.x,n.y,r);if(0!==i&&aa(e[i-1],a)||(e[i]=a,i+=1),n.y<=r&&r<=o.y||n.y>=r&&r>=o.y){const t=n.y,s=o.y,a=r,l=t===s?o.x:td(n.x,o.x,(a-t)/(s-t));e[i]=Nr(l,r,r),i+=1}e[i]=Nr(o.x,o.y,r),i+=1}return i}ww(t){const e=t.length,i=Array(e),s=Array(e),n=this.Mw;for(let r=0;r<e;r+=1){const e=t[r];e.high>n?(i[r]=Lr(e.position,e.high),s[r]=Lr(e.position,n)):e.high<n?(i[r]=Lr(e.position,n),s[r]=Lr(e.position,e.high)):(i[r]=Lr(e.position,e.high),s[r]=Lr(e.position,e.high))}return[i,s]}r_(){return Dm(this.QM,(t=>t[0]))}setPositiveFillStyle(t){return this.fw(t),this}setNegativeFillStyle(t){return this.Aw(t),this}setPositiveStrokeStyle(t){return this.mw(t),this}setNegativeStrokeStyle(t){return this.yw(t),this}getPositiveFillStyle(){return this.gw()}getNegativeFillStyle(){return this.Ll()}getPositiveStrokeStyle(){return this.pw()}getNegativeStrokeStyle(){return this.Sw()}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ta(t,this.qi,i,{fill:this.H_,fill2:this.X_,behavior:{colorStep:!0}}),super.attach(t,e,i)}}},ry=(t,e,i,s,n)=>t.addRow(e.getName()).addRow("Position","",e.axisX.formatValue(i)).addRow("High","",e.axisY.formatValue(s)).addRow("Low","",e.axisY.formatValue(n));class oy extends ty{constructor(t,e,i,s,n,r,o,a,l,h,c){super(t,e,i,s,n,r,o,a,l,h),this.xs="Area Range Series",this.Wy=ry,this.Ji.us.Nn(xf.mf);const u=c;this.H_=Da(this.qi.areaRangeSeriesFillStyle,u),this.cw=Da(this.qi.areaRangeSeriesStrokeStyle,u),this.X_=Da(this.qi.areaRangeSeriesFillStyleInverted,u),this.dw=Da(this.qi.areaRangeSeriesStrokeStyleInverted,u)}add(t){const e=Array.isArray(t)?t:[t],[i,s]=Vr(e);this.ew(t,i,s);const n=this.yu[this.yu.length-1];return this.t_=n?{position:n.position,high:n.high,low:n.low}:void 0,this.D.emit("dataAdd",this,e,this.i_),this}addArraysHighLow(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(t.length!==e.length)throw new Error("arrayHigh and arrayLow lengths are not equal");{let n=s;n||(n=this.t_?this.t_.position+i:0),this.add(function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=arguments.length>3?arguments[3]:void 0;const n=void 0!==s?s:0,r=new Array(t.length);for(let o=0;o<t.length;o+=1)r[o]={position:n+i*o,high:t[o],low:e[o]};return r}(t,e,i,n))}return this}xw(t,e){this.aw(t,e)}setHighFillStyle(t){return this.fw(t),this}setLowFillStyle(t){return this.Aw(t),this}setHighStrokeStyle(t){return this.mw(t),this}setLowStrokeStyle(t){return this.yw(t),this}getHighFillStyle(){return this.gw()}getLowFillStyle(){return this.Ll()}getHighStrokeStyle(){return this.pw()}getLowStrokeStyle(){return this.Sw()}r_(){return Dm(this.QM,(t=>{const e=t[0],i=t[1];if(!e||!i)return[];const s=[],n=e.length;for(let r=0;r<n;r+=1)s[r]={position:e[r].x,high:e[r].y,low:i[r].y};return s}))}n_(t){return this.D.on("dataAdd",t)}o_(t){return this.D.off(t)}a_(t){return this.D.on("dataClear",t)}l_(t){return this.D.off(t)}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ta(t,this.qi,i,{fill:this.H_,fill2:this.X_,behavior:{colorStep:!0}}),super.attach(t,e,i)}}var ay;!function(t){t[t.before=0]="before",t[t.middle=.5]="middle",t[t.after=1]="after"}(ay||(ay={}));const ly=(t,e)=>{const i=[],s=t.length,n=e;if(s>0){let e=0,r=t[0];i[e]=r,e+=1;for(let o=1;o<s;o+=1){const s=t[o];if(n<=0)i[e]=Lr(r.x,s.y),e+=1;else{const t=r.x*(1-n)+s.x*n;i[e]=Lr(t,r.y),e+=1,i[e]=Lr(t,s.y),e+=1}i[e]=s,e+=1,r=s}}return i},hy=(t,e)=>{const i=t*t,s=i*t,n=1-t,r=n*n,o=r*n;return Lr(o*e[0].x+3*t*r*e[1].x+3*i*n*e[2].x+s*e[3].x,o*e[0].y+3*t*r*e[1].y+3*i*n*e[2].y+s*e[3].y)},cy=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;if(2===t.length)return[t[0],t[1]];const i=(t=>{const e=1e-5,i=t.length-1,s=Array(i);if(i>1){let n=Lr(0,0),r=Lr(0,0),o=Lr(0,0),a=Al(Rl(t[1],t[0]));const l=3;let h=0,c=0;for(let u=0;u<i;u+=1){const d=Array(4);if(d[0]=t[u],d[1]=t[u],d[3]=t[u+1],d[2]=t[u+1],o=a,n=r,u+1<i?(a=t[u+2]===t[u+1]?Lr(0,0):Al(Rl(t[u+2],t[u+1])),r=Al(kl(o,a))):r=Lr(0,0),t[u+1].y===t[u].y)h=0,c=0;else{const i=t[u+1].x-t[u].x;h=Math.abs(n.x)>e?Math.abs(i/(l*n.x)):1,c=Math.abs(r.x)>e?Math.abs(i/(l*r.x)):1}d[1]=kl(Ml(n,h),d[1]),d[2]=Rl(d[2],Ml(r,c)),s[u]=d}}return s.length>0?s:[]})(t),s=i.length,n=Array(s*e);let r=0;for(let o=0;o<s;o+=1)for(let t=0;t<=e;t+=1)n[r]=hy(t/e,i[o]),r+=1;return n};class uy extends Nm{constructor(t,e,i,s,n,r,o,a,l,h,c,u,d,f,p){super(t,e,i,s,n,r,o,a,l,c,u),this.QM=[],this.xs="Point Line series",this.e_=1e5,this.Hx=5,this.Aa=0,this.Ga=!1,this.Wa=!1,this.Ua=!1,this.Lx=!0,this.Dw="nearest-x",this.Bw=1,this.Lw=[],this.Rw=t=>{if(this.QM.length>0){const e=this.QM[this.QM.length-1];if(t.length>0){const i=e.tl(),s=e.qa(),n=i.length+s.length-+e.El();if(n>=this.e_){const r=s.length>0?s[s.length-1]:i[e.El()?n:n-1],o=Lr((r.x+t[0].x)/2,(r.y+t[0].y)/2);e.nl(o,Br(Lr(o.x,o.y),Lr(o.x,o.y))).zl(!0),this.Ew([o].concat(t)).Rl(!0)}else e.nl(t,this.i_)}}else t.length>0&&this.Ew(t)},this.zw=t=>{if(this.Lw.length>0){const e=this.Lw[this.Lw.length-1];t.length>0&&((e.tl().length+e.qa().length)*this.Bw>=this.e_?this.Vw(t):e.nl(t))}else t.length>0&&this.Vw(t)},this.Ow=(t,e)=>{const i=t.Hc(e);if(i)return Lo(i,this.scale,this.ks.us.dt)},this.Nw=(t,e)=>{const i=t.sw(e);if(i)return Lo(i,this.scale,this.ks.us.dt)},this.Un=p,this.$x=h,this.Gw=d,this.Ww=Da(c.pointLineSeriesFillStyle,f),this.lu=Da(this.qi.pointLineSeriesStrokeStyle,f)}add(t){return super.add(t),this}r_(){return Dm(this.Lw)}setStrokeStyle(t){this.lu="function"==typeof t?t(this.lu):t;const e=this.lu;for(let i=0;i<this.QM.length;i+=1)this.QM[i].Re(e);return this.ks.Ss(),this}getStrokeStyle(){return this.lu}setPointFillStyle(t){this.Ww="function"==typeof t?t(this.Ww):t;const e=this.Ww;for(let i=0;i<this.Lw.length;i+=1)this.Lw[i].Ce(e);return this.ks.Ss(),this}getPointFillStyle(){return this.Ww}setPointSize(t){this.Hx=t;for(let e=0;e<this.Lw.length;e+=1)this.Lw[e].q(t);return this.ks.Ss(),this}getPointSize(){return this.Hx}getPointShape(){return this.$x}setPointRotation(t){this.Aa=t;for(let e=0;e<this.Lw.length;e+=1)this.Lw[e].Nh(t);return this.ks.Ss(),this}getPointRotation(){return this.Aa}setIndividualPointSizeEnabled(t){this.Ga=t,t&&this.Ji.us.Nn(xf.bf);for(let e=0;e<this.Lw.length;e+=1)this.Lw[e].el(t);return this.ks.Ss(),this}getIndividualPointSizeEnabled(){return this.Ga}setIndividualPointRotationEnabled(t){this.Wa=t;for(let e=0;e<this.Lw.length;e+=1)this.Lw[e].hl(t);return this.ks.Ss(),this}getIndividualPointRotationEnabled(){return this.Wa}setIndividualPointValueEnabled(t){this.Ua=t;for(let e=0;e<this.Lw.length;e+=1)this.Lw[e].rl(t);return this.ks.Ss(),this}getIndividualPointValueEnabled(){return this.Ua}setVisible(t){return super.setVisible(t),this.Lw.forEach((e=>e.setVisible(t))),this}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}setCursorSolveBasis(t){return this.Dw=t,this.QM.forEach((e=>e.Ka(iu(t)))),this.Lw.forEach((e=>e.Ka(iu(t)))),this.ks.Ss(),this}getCursorSolveBasis(){return this.Dw}Gd(){return Ia(this.Ww)||Ia(this.lu.getFillStyle())}Cs(){return this.bs||this.$x}WM(t){}Ie(t,e){t.cs(e),this.ks.Ss()}h_(t){const e=this.QM.length>0?this.QM[this.QM.length-1].tl().length+this.QM[this.QM.length-1].qa().length-+this.QM[this.QM.length-1].El():void 0;Fm(t,e,this.e_,this.Rw),Fm(t,e,this.e_,this.zw)}Vw(t,e){const i=this.ks.bS(this.scale).nl(t,e).setMouseInteractions(this.Yi).Ce(this.Ww).il(this.$x).q(this.Hx).Nh(this.Aa).el(this.Ga).hl(this.Wa).rl(this.Ua).Ka(iu(this.Dw)).cs(this.getHighlight());return this.ds(i),this.Lw.push(i),i}Ew(t,e){const i=this.ks.rp(this.scale,void 0,[Kp.UserSeries,...this.Gw]).nl(t,e).setMouseInteractions(this.Yi).Re(this.lu).Ka(iu(this.Dw)).cs(this.getHighlight());return this.ds(i),this.QM.push(i),i}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ta(t,this.qi,i,{stroke:this.lu,fill:this.Ww}),super.attach(t,e,i)}getPointAmount(){return this.Lw.reduce(((t,e)=>t+e.ol()+e.al()),this.yu.length)}clear(){super.clear();for(let t=0;t<this.QM.length;t+=1)this.QM[t].dispose();this.QM.length=0;for(let t=0;t<this.Lw.length;t+=1)this.Lw[t].dispose();return this.Lw.length=0,this}s_(t,e,i,s){super.s_(t,e,i,s),this.KM.s_(this.Lw,e,i,s,this.scale,(t=>{}))}Hc(t,e){const i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Lx)?_m(t,e?this.QM.filter((t=>t.getIsUnderMouse())):this.QM,this.Nw,"nearest-x"===this.Dw?(t,e)=>Math.abs(t.x-e.x):"nearest-y"===this.Dw?(t,e)=>Math.abs(t.y-e.y):(t,e)=>(t.x-e.x)**2+(t.y-e.y)**2):_m(t,e?this.Lw.filter((t=>t.getIsUnderMouse())):this.Lw,this.Ow,"nearest-x"===this.Dw?(t,e)=>Math.abs(t.x-e.x):"nearest-y"===this.Dw?(t,e)=>Math.abs(t.y-e.y):(t,e)=>(t.x-e.x)**2+(t.y-e.y)**2);if(void 0!==i){const t=Lo(i[0],this.ks.us.dt,this.scale),e=i[1]instanceof Fu?i[1].uu():i[1].Eh(),s=i[1]instanceof Au?i[1].Eh():void 0,n=i[1]instanceof Fu?i[1].uu().getFillStyle():void 0,r=fo(e)?i[0].color?new ho({color:i[0].color}):new ho({color:e.getFallbackColor()}):void 0;return Np(t,this.scale,this.Wy(new xp,this,t.x,t.y,t).Zu(),this,n||r||s)}}solveNearestFromScreen(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Lx;return this.Hc(mf(t,this.Ji.us),!1,e)}}const dy=(t,e)=>t.qa().length>=e?t.qa().slice(-e):Array.prototype.concat(t.tl(),t.qa()).slice(-e),fy=(t,e,i)=>{const s=Array.prototype.concat(t.tl(),t.qa()).slice(0,-i-1).concat(e.slice(i+1,2*i+2));t.Nt().nl(s).Ps()};class py extends uy{constructor(t,e,i,s,n,r,o,a,l,h,c,u,d,f,p){super(t,e,i,s,n,r,o,a,l,h,c,u,d,f,p),this.xs="Spline Series",this.Bw=32,this.e_=8e3,this.Uw=t=>{if(0===t.length)return;const e=this.Lw.length;if(e>0){const i=e>1,s=this.Lw[e-1];if(i){const i=Array.prototype.concat(s.tl(),s.qa()),n=i.length;if(32*n>=this.e_){const i=dy(s,3),n=Array.prototype.concat(i,t),r=cy(n,32);fy(this.QM[e-1],r,32),this.Ew(r.slice(66))}else if(n<5){const s=this.Lw[e-2],n=dy(s,3),r=Array.prototype.concat(n,i,t),o=cy(r,32),a=this.QM[e-1],l=o.slice(66);a.Nt().nl(l).Ps()}else{const i=this.QM[e-1],n=Array.prototype.concat(i.tl(),i.qa()),r=dy(s,4),o=Array.prototype.concat(r,t),a=cy(o,32),l=n.slice(0,-66).concat(a.slice(33));i.Nt().nl(l).Ps()}}else{const i=Array.prototype.concat(s.tl(),s.qa()),n=i.length,r=this.QM[e-1];if(32*n>=this.e_){const e=dy(s,3),i=Array.prototype.concat(e,t),n=cy(i,32);fy(this.QM[0],n,32),this.Ew(n.slice(66))}else if(n+t.length>1){const e=Array.prototype.concat(i,t),s=cy(e,32);r.Nt().nl(s).Ps()}else r.nl(t)}}else{const e=t.length>0?cy(t,32):t,i=gl(e);this.Ew(e,i)}this.zw(t)}}setCursorInterpolationEnabled(t){return super.setCursorInterpolationEnabled(t)}h_(t){const e=this.Lw.length,i=this.Lw.length>0?this.Lw[e-1].tl().length+this.Lw[e-1].qa().length:void 0;Fm(t,i,Math.ceil(this.e_/this.Bw),this.Uw)}solveNearestFromScreen(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Lx;if(e)return super.solveNearestFromScreen(mf(t,this.Ji.us),e);const i=_m(mf(t,this.Ji.us),this.Lw,this.Ow,"nearest-x"===this.Dw?(t,e)=>Math.abs(t.x-e.x):"nearest-y"===this.Dw?(t,e)=>Math.abs(t.y-e.y):(t,e)=>(t.x-e.x)**2+(t.y-e.y)**2);if(void 0!==i){const t=Lo(i[0],this.ks.us.dt,this.scale);return Np(t,this.scale,this.Wy(new xp,this,t.x,t.y,t).Zu(),this,i[1].Eh())}}}class gy{constructor(){this.Gi="FreeformPattern",this._l={type:"disabled",packager:(t,e,i)=>t.slice()}}s_(t,e,i,s,n,r){if(s>0){const n=Math.trunc((e-s)/i);if(n>0&&t.length>1){const e=t.splice(0,n);for(let t=0;t<e.length;t+=1)r(e[t]),e[t].dispose()}}}Yw(t,e){const i=t.x-e.x,s=t.y-e.y;return Math.sqrt(i*i+s*s)}getXMax(){let t=arguments.length>1?arguments[1]:void 0;return oa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],$o,Math.max,sa,t)}getXMin(){let t=arguments.length>1?arguments[1]:void 0;return oa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],Qo,Math.min,ia,t)}getYMax(){let t=arguments.length>1?arguments[1]:void 0;return oa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],ea,Math.max,ra,t)}getYMin(){let t=arguments.length>1?arguments[1]:void 0;return oa(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],ta,Math.min,na,t)}}const my=t=>{switch(t){case"normal":default:return 1;case"high":return.25}},yy=vr({_l:{type:"disabled",packager:(t,e,i)=>t.slice()}});class vy extends yy{s_(t,e,i,s,n,r){if(s>0){const e=Math.ceil(s/i),o=t.length-e;if(o>0){const e=this.rw(t,n);if(e>0){const i=o-e>0?e:o;if(i>0){for(let e=0;e<i;e+=1)r(t[e]),t[e].dispose();t.splice(0,i)}}}}}}const by=(t,e)=>{const i=e.xt();return t?Math.min(i,t):i},xy=(t,e)=>{const i=e.Mt();return t?Math.max(i,t):i};class Sy extends vy{Yw(t,e){return Math.abs(t.x-e.x)}getYMax(){let t=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(xy,t?t.max.y:void 0)}getYMin(){let t=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(by,t?t.min.y:void 0)}}const Ay=(t,e)=>{const i=e.vt();return t?Math.min(i,t):i},wy=(t,e)=>{const i=e.bt();return t?Math.max(i,t):i};class Cy extends vy{Yw(t,e){return Math.abs(t.y-e.y)}getXMax(){let t=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(wy,t?t.max.x:void 0)}getXMin(){let t=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(Ay,t?t.min.x:void 0)}}const My={horizontalProgressive:new class extends Sy{constructor(){super({_l:Yc()}),this.Gi="HorizontalProgressivePattern"}rw(t,e){const i=t.length,s=Math.min(e.x.getInnerStart(),e.x.getInnerEnd());let n=0;if(i>1)for(let r=0;r<i-1;r+=1)e.x.mi(t[r].bt(),t[r].vl())<s&&(n+=1);return n}getXMax(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return void 0!==e?e?e.max.x:void 0:t.length>0?t[t.length-1].bt():void 0}getXMin(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.length>0&&t[0].ol()>0?t[0].vt():e?e.min.x:void 0}setPrecision(t){return this.set("_columnPackaging",Yc(my(t)))}},horizontalRegressive:new class extends Sy{constructor(){super({_l:Xc()}),this.Gi="HorizontalRegressivePattern"}rw(t,e){const i=t.length,s=Math.max(e.x.getInnerStart(),e.x.getInnerEnd());let n=0;if(i>1)for(let r=0;r<i-1;r+=1)s<e.x.mi(t[r].vt(),-t[r].vl())&&(n+=1);return n}getXMax(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.length>0&&t[0].ol()>0?t[0].bt():e?e.max.x:void 0}getXMin(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return void 0!==e?e?e.min.x:void 0:t.length>0?t[t.length-1].vt():void 0}setPrecision(t){return this.set("_columnPackaging",Xc(my(t)))}},verticalProgressive:new class extends Cy{constructor(){super({_l:qc()}),this.Gi="VerticalProgressivePattern"}rw(t,e){const i=t.length,s=Math.min(e.y.getInnerStart(),e.y.getInnerEnd());let n=0;if(i>1)for(let r=0;r<i-1;r+=1)e.y.mi(t[r].Mt(),t[r].bl())<s&&(n+=1);return n}getYMax(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return void 0!==e?e?e.max.y:void 0:t.length>0?t[t.length-1].Mt():void 0}getYMin(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.length>0&&t[0].ol()>0?t[0].xt():e?e.min.y:void 0}setPrecision(t){return this.set("_columnPackaging",qc(my(t)))}},verticalRegressive:new class extends Cy{constructor(){super({_l:Jc()}),this.Gi="VerticalRegressivePattern"}rw(t,e){const i=t.length,s=Math.max(e.y.getInnerStart(),e.y.getInnerEnd());let n=0;if(i>1)for(let r=0;r<i-1;r+=1)s<e.y.mi(t[r].xt(),-t[r].bl())&&(n+=1);return n}getYMax(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return t.length>0&&t[0].ol()>0?t[0].Mt():e?e.max.y:void 0}getYMin(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return void 0!==e?e?e.min.y:void 0:t.length>0?t[t.length-1].xt():void 0}setPrecision(t){return this.set("_columnPackaging",Jc(my(t)))}},freeform:new gy};class ky extends uy{constructor(t,e,i,s,n,r,o,a,l,h,c,u,d,f,p){super(t,e,i,s,n,r,o,a,My.horizontalProgressive,l,c,u,d,f,p),this.xs="Step Series",this.Rw=t=>{const e=this.QM.length>0?this.QM[this.QM.length-1].tl().length+this.QM[this.QM.length-1].qa().length:void 0;Fm(t,e,this.e_,this.Hw)},this.Hw=t=>{const e=t.length;if(this.QM.length>0){const i=this.QM[this.QM.length-1];if(e>0){const e=i.tl(),s=i.qa(),n=s.length>0?s[s.length-1]:e[e.length-1],r=ly([n].concat(t),this.$w);r.shift();const o=Lr((n.x+r[0].x)/2,(n.y+r[0].y)/2),a=Array.prototype.concat(o,r);(s.length>0?e.length+s.length:e.length)>=this.e_?(i.nl(o,Br(Lr(o.x,o.y),Lr(o.x,o.y))).zl(!0),this.Ew(a).Rl(!0),this.Vw(t)):i.nl(a)}}else e>0&&this.Ew(ly(t,this.$w));this.zw(t)},this.$w=h,void 0===this.Gw.find((t=>"DataPattern"===t.type))&&this.Gw.push({type:"DataPattern",args:{pattern:"ProgressiveX"}})}}class Ry extends Pm{constructor(t,e,i,s,n,r,o,a,l,h){super(t,e,i,s,n,r,o,a,l,h),this.xs="OHLC Series",this.Xw=t=>t[4]>=t[1],this.c_=Br(zr($a,$a),zr(tl,tl)),this.jw=[],this.Zw=!1,this.Qw=-1,this.Jw=[],this.Kw=!0,this.qw=!1,this.tC=4,this.Wy=(t,e,i)=>(t.addRow(e.getName()).addRow("Time","",e.axisX.formatValue(i.position)).addRow("Open","",i.open.toFixed(3)).addRow("High","",i.high.toFixed(3)).addRow("Low","",i.low.toFixed(3)).addRow("Close","",i.close.toFixed(3)),t),this.iC=[1e-7,1e-6,1e-5,1e-4,.001,.01,.1,1,5,10,30,60,300,600,1800,3600,7200,14400,28800,36e3,43200,50400,57600,64800,72e3,86400,172800,259200,345600,432e3,604800,1209600,2592e3,7776e3,10368e3,15552e3,31536e3,15768e4,31536e4,63072e4,7884e5,15768e5,31536e5,3942e6,47304e5,63072e5,7884e6,15768e6,31536e6,3942e7,47304e6,63072e6,7884e7,15768e7,31536e7,63072e7,7884e8,15768e8,31536e8,47304e8,63072e8],this.Ji.us.Nn(xf.rf)}r_(){return this.Jw}n_(t){return this.D.on("dataAdd",t)}o_(t){return this.D.off(t)}a_(t){return this.D.on("dataClear",t)}l_(t){return this.D.off(t)}Kp(){return this.tS&&this.Jw.length>0&&this.getVisible()}sC(t){if(!(this.Jw.length<1))return[this.Jw[t][0],this.Jw[t][1],this.Jw[t][2],this.Jw[t][3],this.Jw[t][4]]}Hc(t){if(0===this.Jw.length)return;const e=Lo(t,this.ks.us.dt,this.scale).x,i=void 0!==this.getPackDataState();let s,n,r,o,a;if(i){const t=this.eC;if(!t)return;const i=Xa(e,t.length-1,(e=>t[e][0])),l=void 0!==i&&t[i];if(!l)return;o=l[3],r=l[2],n=l[1],a=l[4],s=l[0]}else{const t=Xa(e,this.Jw.length-1,(t=>this.Jw[t][0])),i=void 0!==t&&this.Jw[t];if(!i)return;s=i[0],n=i[1],r=i[2],o=i[3],a=i[4]}const l={position:s,open:n,high:r,low:o,close:a,isPacked:i};return{location:Lr(l.position,l.close),scale:this.scale,resultTableContent:this.Wy(new xp,this,l).Zu(),owner:this,isPacked:i,position:s,open:n,high:r,low:o,close:a}}WM(t){if(!(t.x instanceof Ql))throw new Error("OHLCSeries must be attached to a Linear X Axis.");this.hC=t.x}br(){return Lr(5,5)}Y_(t){const e=t.length-1;if(e<0)return this;for(let i=0;i<=e;i+=1)t[i][3]<this.c_.min.y&&(this.c_.min.y=t[i][3]),this.c_.max.y<t[i][2]&&(this.c_.max.y=t[i][2]);return this.c_.min.x=Math.min(this.c_.min.x,t[0][0]),this.c_.max.x=Math.max(this.c_.max.x,t[e][0]),this}getXMax(){return this.c_.max.x}getXMin(){return this.c_.min.x}getYMax(){return this.c_.max.y}getYMin(){return this.c_.min.y}add(t){this.Jw.length>0&&this.Ji.us.Nn(xf.vf);const e=Array.isArray(t[0])?t:[t[0]];if(e.length>0){this.Zw=!0;const t=this.Jw.length,i=this.jw.length,s=e.length;this.Jw.length=t+s,this.jw.length=i+s;for(let n=0;n<s;n+=1)this.Jw[t+n]=e[n],this.jw[i+n]=this.Jw[t+n];this.Y_(e),this.D.emit("dataAdd",this,e,void 0),this.ks.Ss()}return this}setPackData(t){return t!==this.Kw&&(this.qw=!0,this.Kw=t,this.Ji.us.Ss()),this}getPackData(){return this.Kw}getPackDataState(){const t=this.Qw;if(!(t<0||void 0===this.eC||this.eC.length===this.Jw.length))return{figureAxisInterval:t}}setFigureWidth(t){return this.rC=t,this.Ji.us.Ss(),this}getFigureWidth(){return this.rC}setFigureMinimumGap(t){return this.tC=t,this.Ji.us.Ss(),this}getFigureMinimumGap(){return this.tC}solveNearestFromScreen(t){return this.Hc(mf(t,this.Ji.us))}clear(){return this.Jw=[],this.jw=[],this.eC=void 0,this.nC(),this.c_.min.x=$a,this.c_.min.y=$a,this.c_.max.x=tl,this.c_.max.y=tl,this.D.emit("dataClear",this),this}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}oC(t){return this.hC.getPixelSize()*t/1e3}aC(){const t=this.iC.length-1,e=this.oC(this.rC+this.tC);let i=Xa(e,t,(t=>this.iC[t]));return void 0===i?i=e<this.iC[0]?0:this.iC[t]<e?t:this.iC.length/2:this.iC[i]<e&&(i+=1),this.iC.length<=i&&(i=t),1e3*this.iC[i]}Te(){if(super.Te(),!this.Kw){this.eC=void 0;let t=null;if(this.qw?(this.qw=!1,t=this.Jw,this.nC()):t=this.jw,t.length>=1){for(let e=0;e<t.length;e+=1){const i=t[e],s=i[0];this.Xw(i)?this.lC(s,i):this.uC(s,i)}this.jw.length=0,this.Zw=!1,this.Qw=-1}}}dp(){super.dp();const t=this.aC();if(this.Kw&&this.Jw.length>=1&&(t!==this.Qw||this.Zw||this.qw)){this.qw=!1,this.Qw=t,this.Zw=!1,this.nC(),this.eC=[];const e=this.Jw.length;let i=this.Jw[0][0]-this.Jw[0][0]%(t/2)+t,s=0;for(;s<e;){let n=this.sC(s);if(void 0===n)break;let r=n[3],o=n[2];const a=s;for(s+=1;s<e&&this.Jw[s][0]<i;)n=this.Jw[s],this.Jw[s][3]<r&&(r=this.Jw[s][3]),o<this.Jw[s][2]&&(o=this.Jw[s][2]),s+=1;const l=s-1;let h=n[0];a<l&&(h=this.Jw[l][0],n=[h,this.Jw[a][1],o,r,this.Jw[l][4]]),n[1]<n[4]?this.lC(h,n):this.uC(h,n),this.eC.push(n),i+=t}}}}const Ey={Candlesticks:class extends Ry{constructor(t,e,i,s,n,r,o,a,l,h){super(t,e,i,s,n,r,o,a,l,h),this.cC=1175494351e-14,this.rC=this.qi.ohlcCandleThicknessPixels||5,this.dC=this.qi.ohlcCandleTailStrokeStylePositive,this.fC=this.qi.ohlcCandleTailStrokeStyleNegative,this.AC=this.qi.ohlcCandleBodyFillStylePositive,this.gC=this.qi.ohlcCandleBodyFillStyleNegative,this.mC=i.Lg(this.scale).Re(new yh({thickness:this.rC,fillStyle:this.AC})),this.mC.mu=!0,this.mC.gu={x:0,y:1},this.yC=i.Lg(this.scale).Re(new yh({thickness:this.rC,fillStyle:this.gC})),this.yC.mu=!0,this.yC.gu={x:0,y:-1},this.pC=i.Lg(this.scale).Re(this.dC),this.pC.mu=!0,this.SC=i.Lg(this.scale).Re(this.fC),this.SC.mu=!0,this.ds(this.mC),this.ds(this.yC),this.ds(this.pC),this.ds(this.SC)}setBodyThickness(t){return this.rC=t,this.mC.Re(new yh({thickness:this.rC,fillStyle:this.AC})),this.yC.Re(new yh({thickness:this.rC,fillStyle:this.gC})),this.Ji.us.Ss(),this}getBodyThickness(){return this.rC}setBodyFillStylePositive(t){return this.AC="function"==typeof t?t(this.AC):t,this.mC.Re(new yh({thickness:this.rC,fillStyle:this.AC})),this.Ji.us.Ss(),this}getBodyFillStylePositive(){return this.AC}setBodyFillStyleNegative(t){return this.gC="function"==typeof t?t(this.gC):t,this.yC.Re(new yh({thickness:this.rC,fillStyle:this.gC})),this.Ji.us.Ss(),this}getBodyFillStyleNegative(){return this.gC}setTailStrokeStylePositive(t){return this.dC="function"==typeof t?t(this.dC):t,this.pC.Re(this.dC),this.Ji.us.Ss(),this}getTailStrokeStylePositive(){return this.dC}setTailStrokeStyleNegative(t){return this.fC="function"==typeof t?t(this.fC):t,this.SC.Re(this.fC),this.Ji.us.Ss(),this}getTailStrokeStyleNegative(){return this.fC}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{fill:this.AC,fill2:this.gC,behavior:{colorStep:!0}}),this}nC(){return this.pC.Nt(),this.SC.Nt(),this.mC.Nt(),this.yC.Nt(),this}lC(t,e){return Math.abs(e[1]-e[4])<this.cC?this.mC.zr().Eg({x:t,y:e[1]-this.cC},{x:t,y:e[1]+this.cC}):this.mC.zr().Eg({x:t,y:e[1]},{x:t,y:e[4]}),e[4]<e[2]&&this.pC.zr().Eg({x:t,y:e[4]},{x:t,y:e[2]}),e[3]<e[1]&&this.pC.zr().Eg({x:t,y:e[3]},{x:t,y:e[1]}),this}uC(t,e){return Math.abs(e[1]-e[4])<this.cC?this.yC.zr().Eg({x:t,y:e[1]-this.cC},{x:t,y:e[1]+this.cC}):this.yC.zr().Eg({x:t,y:e[1]},{x:t,y:e[4]}),e[3]<e[4]&&this.SC.zr().Eg({x:t,y:e[3]},{x:t,y:e[4]}),e[1]<e[2]&&this.SC.zr().Eg({x:t,y:e[1]},{x:t,y:e[2]}),this}},Bars:class extends Ry{constructor(t,e,i,s,n,r,o,a,l,h){super(t,e,i,s,n,r,o,a,l,h),this.rC=this.qi.ohlcBarThicknessPixels||10,this.vC=this.qi.ohlcBarStrokeStylePositive,this.bC=this.qi.ohlcBarStrokeStyleNegative,this.xC=i.Lg(this.scale).Re(this.vC),this.xC.mu=!0,this.ds(this.xC),this.MC=i.Lg(this.scale).Re(this.vC),this.MC.mu=!0,this.MC.gu={x:-this.rC/2,y:0},this.ds(this.MC),this._C=i.Lg(this.scale).Re(this.vC),this._C.mu=!0,this._C.gu={x:this.rC/2,y:0},this.ds(this._C),this.wC=i.Lg(this.scale).Re(this.bC),this.wC.mu=!0,this.ds(this.wC),this.CC=i.Lg(this.scale).Re(this.bC),this.CC.mu=!0,this.CC.gu={x:-this.rC/2,y:0},this.ds(this.CC),this.kC=i.Lg(this.scale).Re(this.bC),this.kC.mu=!0,this.kC.gu={x:this.rC/2,y:0},this.ds(this.kC)}setStrokeStylePositive(t){return this.vC="function"==typeof t?t(this.vC):t,this.xC.Re(this.vC),this.MC.Re(this.vC),this._C.Re(this.vC),this.Ji.us.Ss(),this}getStrokeStylePositive(){return this.vC}setStrokeStyleNegative(t){return this.bC="function"==typeof t?t(this.bC):t,this.wC.Re(this.bC),this.CC.Re(this.bC),this.kC.Re(this.bC),this.Ji.us.Ss(),this}getStrokeStyleNegative(){return this.bC}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{fill:this.vC.getFillStyle(),fill2:this.bC.getFillStyle(),behavior:{colorStep:!0}}),this}setFigureWidth(t){return super.setFigureWidth(t),this.MC.gu={x:-t/2,y:0},this.CC.gu={x:-t/2,y:0},this._C.gu={x:t/2,y:0},this.kC.gu={x:t/2,y:0},this}nC(){return this.wC.Nt(),this.xC.Nt(),this.CC.Nt(),this.MC.Nt(),this.kC.Nt(),this._C.Nt(),this}lC(t,e){return this.xC.zr().Eg({x:t,y:e[3]},{x:t,y:e[2]}),this.MC.zr().Eg({x:t,y:e[1]},{x:t,y:e[1]}),this._C.zr().Eg({x:t,y:e[4]},{x:t,y:e[4]}),this}uC(t,e){return this.wC.zr().Eg({x:t,y:e[3]},{x:t,y:e[2]}),this.CC.zr().Eg({x:t,y:e[1]},{x:t,y:e[1]}),this.kC.zr().Eg({x:t,y:e[4]},{x:t,y:e[4]}),this}}},Ty=t=>({defaultDragMouseStyle:jh.Horizontal,getTitleTextRotation:()=>0,...og(t,(t=>t.getXMin()),(t=>t.getXMax()),(t=>t.br().x))}),Iy=t=>({defaultDragMouseStyle:jh.Vertical,getTitleTextRotation:t=>90*t,...og(t,(t=>t.getYMin()),(t=>t.getYMax()),(t=>t.br().y))});class Py extends Nm{constructor(t,e,i,s,n,r,o,a,l,h,c,u,d,f){super(t,e,i,s,n,r,o,a,l,h,c),this.QM=[],this.xs="Line Series",this.Lx=!0,this.e_=void 0,this.Dw="nearest-x",this.pu=void 0,this.Gd=()=>Ia(this.lu.getFillStyle()),this.TC=(t,e)=>{const i=t.Ux(e);if(i)return Lo(i,this.scale,this.ks.us.dt)},this.Nw=(t,e)=>{const i=t.sw(e);if(i)return Lo(i,this.scale,this.ks.us.dt)},this.Gw=u,this.Un=f,this.lu=Da(this.qi.lineSeriesStrokeStyle,d),this.FC={individualLookupValuesEnabled:void 0!==(null==f?void 0:f.individualLookupValuesEnabled)&&f.individualLookupValuesEnabled}}add(t){return super.add(t),this}setMouseInteractions(t){return super.setMouseInteractions(t)}setStrokeStyle(t){this.lu="function"==typeof t?t(this.lu):t;const e=this.lu;for(let i=0;i<this.QM.length;i+=1)this.QM[i].Re(e);return this.ks.Ss(),this}getStrokeStyle(){return this.lu}setDataCleaning(t){return this.pu=t,this.QM.forEach((t=>t.Su(this.pu))),this.ks.Ss(),this}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}setCursorSolveBasis(t){return this.Dw=t,this.QM.forEach((e=>e.Ka(iu(t)))),this.ks.Ss(),this}getCursorSolveBasis(){return this.Dw}WM(t){}h_(t){let e=this.QM[0];e||(e=this.Ew(),this.QM.push(e),this.ds(e)),e.nl(t,this.i_)}Ew(){return this.ks.rp(this.scale,this.FC,[Kp.UserSeries,...this.Gw]).Re(this.lu).Su(this.pu).Ka(iu(this.Dw)).cs(this.getHighlight())}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ta(t,this.qi,i,{stroke:this.lu}),super.attach(t,e,i)}Ie(t,e){t.cs(e),this.ks.Ss()}s_(t,e,i,s){}Hc(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Lx;const s=_m(t,e?this.QM.filter((t=>t.getIsUnderMouse())):this.QM,i?this.Nw:this.TC,"nearest-x"===this.Dw?(t,e)=>Math.abs(t.x-e.x):"nearest-y"===this.Dw?(t,e)=>Math.abs(t.y-e.y):(t,e)=>(t.x-e.x)**2+(t.y-e.y)**2);if(void 0!==s){const t=Lo(s[0],this.ks.us.dt,this.scale),e=s[1].uu();return Np(t,this.scale,this.Wy(new xp,this,t.x,t.y,t).Zu(),this,e.getFillStyle())}}solveNearestFromScreen(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.Lx;return this.Hc(mf(t,this.Ji.us),!1,e)}}class Fy extends Nm{constructor(t,e,i,s,n,r,o,a,l,h,c,u,d){super(t,e,i,s,n,r,o,a,new gy,h,c),this.QM=[],this.xs="Point series",this.Hx=5,this.Aa=0,this.Ga=!1,this.Wa=!1,this.Ua=!1,this.e_=void 0,this.Ow=(t,e)=>{const i=t.Hc(e);if(i)return Lo(i,this.scale,this.ks.us.dt)},this.Un=d,this.$x=l,this.be=Da(h.pointSeriesFillStyle,u)}add(t){return super.add(t),this}Gd(){return Ia(this.be)}Cs(){return this.bs||this.$x}WM(t){}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ta(t,this.qi,i,{fill:this.be}),super.attach(t,e)}Ie(t,e){t.cs(e),this.ks.Ss()}setPointFillStyle(t){this.be="function"==typeof t?t(this.be):t;const e=this.be;for(let i=0;i<this.QM.length;i+=1)this.QM[i].Ce(e);return this.ks.Ss(),this}getPointFillStyle(){return this.be}setPointSize(t){this.Hx=t;for(let e=0;e<this.QM.length;e+=1)this.QM[e].q(t);return this.ks.Ss(),this}getPointSize(){return this.Hx}getPointShape(){return this.$x}setPointRotation(t){this.Aa=t;for(let e=0;e<this.QM.length;e+=1)this.QM[e].Nh(t);return this.ks.Ss(),this}getPointRotation(){return this.Aa}setIndividualPointSizeEnabled(t){this.Ga=t,t&&this.Ji.us.Nn(xf.bf);for(let e=0;e<this.QM.length;e+=1)this.QM[e].el(t);return this.ks.Ss(),this}getIndividualPointSizeEnabled(){return this.Ga}setIndividualPointRotationEnabled(t){this.Wa=t;for(let e=0;e<this.QM.length;e+=1)this.QM[e].hl(t);return this.ks.Ss(),this}getIndividualPointRotationEnabled(){return this.Wa}setIndividualPointValueEnabled(t){this.Ua=t;for(let e=0;e<this.QM.length;e+=1)this.QM[e].rl(t);return this.ks.Ss(),this}getIndividualPointValueEnabled(){return this.Ua}h_(t){let e=this.QM[0];e||(e=this.Ew()),e.nl(t,this.i_)}Ew(){const t=this.ks.bS(this.scale).il(this.$x).q(this.Hx).Nh(this.Aa).el(this.Ga).hl(this.Wa).rl(this.Ua).Ce(this.be).cs(this.getHighlight());return this.QM.push(t),this.ds(t),t}Hc(t,e){const i=_m(t,e?this.QM.filter((t=>t.getIsUnderMouse())):this.QM,this.Ow,ul);if(void 0!==i){const t=Lo(i[0],this.ks.us.dt,this.scale),e=i[1].Eh(),s=fo(e)?i[0].color?new ho({color:i[0].color}):new ho({color:e.getFallbackColor()}):e;return Np(t,this.scale,this.Wy(new xp,this,t.x,t.y,t).Zu(),this,s)}}solveNearestFromScreen(t){return this.Hc(mf(t,this.Ji.us),!1)}setCursorResultTableFormatter(t){return super.setCursorResultTableFormatter(t)}}class Dy{constructor(t,e,i,s){this.IC=!1,this.D=new Ir,this.chart=i,this.PC=s,this.$s=t.$s,this.qs=s||Qh,this.DC=Ho.document.createElement("div"),this.DC.style.position="absolute",this.DC.style.pointerEvents="none",Ho.document.body.append(this.DC);const n=()=>{const t=i.engine.container.getBoundingClientRect();this.DC.style.left="".concat(t.left,"px"),this.DC.style.top="".concat(t.top,"px"),this.DC.style.width="".concat(t.width,"px"),this.DC.style.height="".concat(t.height,"px")};n(),i.onResize(n),this.BC(this.DC),this.LC(),this.RC(),this.EC(),this.zC(e),this.chart.VC().push(this)}BC(t){this.OC=Ho.document.createElement("div"),this.OC.style.pointerEvents="all",t.append(this.OC),this.NC=Ho.document.createElement("div"),this.GC=new Wh(this.$s,this.qs,this.chart,this.NC),this.WC=Ho.document.createElement("table"),this.WC.style.borderSpacing="0",this.OC.appendChild(this.GC.oe()),this.OC.appendChild(this.NC),this.NC.appendChild(this.WC)}RC(){let t=0,e=0,i=0,s=0,n=!1;this.IC=!1,this.OC.onmousedown=r=>{r=r||Ho.event,i=r.clientX,s=r.clientY,n=!0,Ho.document.onmouseup=t=>{this.IC?this.OC.addEventListener("click",ga,!0):this.OC.removeEventListener("click",ga,!0),n=!1,this.IC=!1,Ho.document.onmouseup=null,Ho.document.onmousemove=null},Ho.document.onmousemove=r=>{r=r||Ho.event,n&&(t=i-r.clientX,e=s-r.clientY,i=r.clientX,s=r.clientY,this.IC=!0,this.OC.style.top=this.OC.offsetTop-e+"px",this.OC.style.left=this.OC.offsetLeft-t+"px",this.OC.style.removeProperty("right"),this.OC.style.removeProperty("bottom"))}}}EC(){let t=0,e=0,i=0,s=0,n=!1;this.OC.ontouchstart=r=>{r=r||Ho.event,i=r.touches[0].clientX,s=r.touches[0].clientY,n=!0,this.OC.ontouchend=()=>{n=!1,Ho.document.ontouchend=null,Ho.document.ontouchmove=null},this.OC.ontouchmove=r=>{n&&(ga(r),r=r||Ho.event,t=i-r.touches[0].clientX,e=s-r.touches[0].clientY,i=r.touches[0].clientX,s=r.touches[0].clientY,this.OC.style.top=this.OC.offsetTop-e+"px",this.OC.style.left=this.OC.offsetLeft-t+"px",this.OC.style.removeProperty("right"),this.OC.style.removeProperty("bottom"))}}}LC(){this.OC.style.setProperty("top","10px"),this.OC.style.setProperty("left","10px"),this.OC.style.position="absolute",this.OC.style.display="flex",this.OC.style.alignItems="flex-start",this.NC.style.setProperty("display","none")}removePositionProperty(){this.OC.style.removeProperty("top"),this.OC.style.removeProperty("left"),this.OC.style.removeProperty("bottom"),this.OC.style.removeProperty("right")}setPositionProperty(t){switch(this.removePositionProperty(),t){case tc.BottomLeft:this.OC.style.setProperty("bottom","10px"),this.OC.style.setProperty("left","10px");break;case tc.TopLeft:this.OC.style.setProperty("top","10px"),this.OC.style.setProperty("left","10px");break;case tc.BottomRight:this.OC.style.setProperty("bottom","10px"),this.OC.style.setProperty("right","10px");break;case tc.TopRight:default:this.OC.style.setProperty("top","10px"),this.OC.style.setProperty("right","10px")}}zC(t){for(let e=0;e<t.length;e+=1){const i=this.WC.insertRow();for(let s=0;s<t[e].length;s+=1){const n=i.insertCell(),r=t[e][s];"object"!=typeof r?this.UC(r,n):this.addCustomButton(r,n)}}}UC(t,e){switch(t){case xh.ZoomIn:this.YC(new zh(this.$s,this.chart,this.qs),e);break;case xh.ZoomInX:this.YC(new Nh(this.$s,this.chart,this.qs),e);break;case xh.ZoomInY:this.YC(new _h(this.$s,this.chart,this.qs),e);break;case xh.ZoomOut:this.YC(new Vh(this.$s,this.chart,this.qs),e);break;case xh.ZoomOutX:this.YC(new Bh(this.$s,this.chart,this.qs),e);break;case xh.ZoomOutY:this.YC(new Oh(this.$s,this.chart,this.qs),e);break;case xh.ZoomToFit:this.YC(new Hh(this.$s,this.chart,this.qs),e);break;case xh.ToggleAnimations:this.YC(new Uh(this.$s,this.chart,this.qs),e);break;default:console.error('No predefined button like "'.concat(xh[t],'" exists.'))}}YC(t,e){e.rowSpan=t.Xs.rows,e.colSpan=t.Xs.columns,t.ne(e)}addCustomButton(t,e){const i=new Gh(this.$s,t,this.chart);return this.YC(i,e),this}dispose(){this.DC.remove(),this.D.emit("dispose",this)}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}}class Ly extends Pm{constructor(t,e,i,s,n,r,o,a,l,h,c,u){var d;super(t,e,i,s,n,r,o,a,l,h),this.xs="Point Line Area Series",this.Wy=zy,this.Lx=!1,this.HC=0,this.Un=u,this.Na=this.ks.dd(this.scale).Re(Da(this.qi.lineSeriesStrokeStyle,c)).ld(Da(this.qi.pointSeriesFillStyle,c)).ud(Da(this.qi.areaSeriesPositiveFillStyle,c)).$C(void 0).pd(7),this.Na.XC=!1!==(null===(d=this.Un)||void 0===d?void 0:d.allowDataGrouping),this.ds(this.Na)}setDataSet(t){var e;return t===(null===(e=this.od)||void 0===e?void 0:e.Wt)||(t.yc&&this.Ji.us.Nn(xf.xf),t.vc&&this.Ji.us.Nn(xf.bf),this.od=Za(t,this.od,(()=>[t.$c((()=>{this.HC+=1,this.HC>1&&this.Ji.us.Nn(xf.vf),this.Ji.us.Ss()})),t.Xc((()=>this.Ji.us.Ss()))])),this.Na.ad(t),this.chart.us.Ss()),this}getDataSet(){return this.jC()}setStrokeStyle(t){return this.Na.Re(t),this.ks.Ss(),this}getStrokeStyle(){return this.Na.uu()}setAreaFillStyle(t){return this.Na.ud(t),this.ks.Ss(),this}getAreaFillStyle(){return this.Na.ZC()}setPointFillStyle(t){return this.Na.ld(t),this.ks.Ss(),this}getPointFillStyle(){return this.Na.yd()}setPointSize(t){return this.Na.pd(t),this.ks.Ss(),this}getPointSize(){return this.Na.QC()}setPointShape(t){return this.Na.fd(t),this.ks.Ss(),this}getPointShape(){return this.Na.Ad()}setPointRotation(t){return this.Na.gd(t),this.ks.Ss(),this}getPointRotation(){return this.Na.md()}setPointAlignment(t){return this.Na.JC(t),this.Ji.us.Ss(),this}getPointAlignment(){return this.Na.KC()}setCurvePreprocessing(t){return this.Na.$C(t),this.ks.Ss(),this}getCurvePreprocessing(){return this.Na.qC()}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}setCursorInterpolationEnabled(t){return this.Lx=t,this.ks.us.Ss(),this}getCursorInterpolationEnabled(){return this.Lx}add(t){return this.jC().add(t),this.ks.Ss(),this}addArraysXY(t,e){return this.jC().addArraysXY(t,e),this.ks.Ss(),this}appendJSON(t,e){return this.jC().appendJSON(t,e),this.ks.Ss(),this}appendSample(t){return this.jC().appendSample(t),this.ks.Ss(),this}appendSamples(t){return this.jC().appendSamples(t),this.ks.Ss(),this}fill(t){return this.jC().fill(t),this.ks.Ss(),this}setSamples(t){return this.jC().setSamples(t),this.ks.Ss(),this}alterSamples(t,e){return this.jC().alterSamples(t,e),this.ks.Ss(),this}alterSamplesByID(t,e){return this.jC().alterSamplesByID(t,e),this.ks.Ss(),this}getSampleCount(){return this.jC().getSampleCount()}getNextSampleIndex(){return this.jC().getNextSampleIndex()}clear(){return this.jC().clear(),this.ks.Ss(),this}setMaxSampleCount(t){return this.jC().setMaxSampleCount(t),this.ks.Ss(),this}getMaxSampleCount(){return this.jC().getMaxSampleCount()}readBack(t){return this.jC().readBack(t)}onMaxSampleCountExceeded(t){return this.jC().onMaxSampleCountExceeded(t)}offMaxSampleCountExceeded(t){return this.jC().offMaxSampleCountExceeded(t)}tk(){return this.jC()}Gd(){return Ia(this.getPointFillStyle())||Ia(this.getStrokeStyle().getFillStyle())||Ia(this.getAreaFillStyle())}Kp(){var t;const e=null===(t=this.od)||void 0===t?void 0:t.Wt;return this.getAutoScrollingEnabled()&&void 0!==e&&e.uc>0}WM(t){}getXMax(){return this.Na.bt()}getXMin(){return this.Na.vt()}getYMax(){return this.Na.Mt()}getYMin(){return this.Na.xt()}br(){return{x:this.Na.vl(),y:this.Na.bl()}}jC(){if(!this.od){const t=new xd(this.Un);t.yc&&this.Ji.us.Nn(xf.xf),t.vc&&this.Ji.us.Nn(xf.bf),this.od=Za(t,this.od,(()=>[t.$c((()=>{this.HC+=1,this.HC>1&&this.Ji.us.Nn(xf.vf),this.Ji.us.Ss()})),t.Xc((()=>{this.Ji.us.Ss()}))])),this.Na.ad(t)}return this.od.Wt}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super.attach(t,e,i);const s=this.getPointFillStyle(),n=this.getAreaFillStyle();return Ta(t,this.qi,i,{stroke:this.getStrokeStyle(),fill:s!==ro?s:n}),super.attach(t,e)}Cs(){return this.bs||this.getPointShape()}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.Lx;void 0!==this.getCurvePreprocessing()&&(i=!1);const s=this.tk(),n=Lo(t,this.Ji.us.dt,this.scale),r=!e||this.Na.getIsUnderMouse()?s.Hc(n,i,this.scale,this.Ji.pixelScale):void 0;if(void 0!==r){const t=[this.getStrokeStyle().getFillStyle(),this.getPointFillStyle(),this.getAreaFillStyle()];return Np(r,this.scale,this.Wy(new xp,this,r).Zu(),this,t.filter((t=>!oo(t)))[0])}}solveNearestFromScreen(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.Hc(mf(t,this.Ji.us),!1,e)}}const zy=(t,e,i)=>{const s=e.getIcon();return s?t.addRow(s,e.getName()):t.addRow(e.getName()),t.addRow("X","",e.axisX.formatValue(i.x)).addRow("Y","",e.axisY.formatValue(i.y)),void 0!==i.lookupValue&&t.addRow("Value","",i.lookupValue.toFixed(1)),t},Ny=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(t,i)=>e.forEach((e=>e.forEach((e=>{e.axis.dt.q(t),e.axis.rg.q(i)}))))},_y=Lr(10,10);var Vy;!function(t){t[t.Top=0]="Top",t[t.Bottom=1]="Bottom",t[t.Left=2]="Left",t[t.Right=3]="Right"}(Vy||(Vy={}));const By=new Set([Vy.Top,Vy.Bottom,Vy.Left,Vy.Right]),Oy=t=>t.setStopped(!0),Uy=t=>t.getChartInteractionFitByDrag()?t.fit(!0):void 0,Hy=(t,e)=>{const i="linear-highPrecision"===t.kh.type||"linear-highPrecision"===e.kh.type,s="logarithmic"===t.kh.type||"logarithmic"===e.kh.type;if(i&&s){const i="Invalid Axis combination | 'logarithmic' can't be combined with 'linear-highPrecision' (x: ".concat(t.kh.type,", y: ").concat(e.kh.type,")");throw new Error(i)}};var Gy,Wy,jy;!function(t){t[t.seriesBackground=0]="seriesBackground",t[t.gridLine0=1]="gridLine0",t[t.gridLine1=2]="gridLine1",t[t.gridLine2=3]="gridLine2",t[t.highlightersBelow=4]="highlightersBelow"}(Gy||(Gy={})),function(t){t[t.plotting=0]="plotting",t[t.highlightersAbove=1]="highlightersAbove",t[t.fg=2]="fg"}(Wy||(Wy={}));class Yy extends mg{constructor(t,e,i,s,n,r,o){super(t,e,i,e.vm("chartXY bg",0),s,e.us.qi.chartXYBackgroundFillStyle,e.us.qi.chartXYBackgroundStrokeStyle,e.us.qi.chartXYTitleFont,e.us.qi.chartXYTitleFillStyle,o),this.ik=this.sm.d2({scaleXYConstructor:eh}),this.Vg=[],this.Og=[],this.Gg=[],this.Ng=[],this.sk=new Map,this.ek=!0,this.hk=!0,this.rk=!0,this.Rf=2,this.nk=!0,this.ak=!0,this.lk=[],this.uk=this.xm.ke(this.ik).Ce(ro).we(Eo).setMouseInteractions(!1),this.ck=this.xm.Ee(this.ik).Re(Eo).setMouseInteractions(!1),this.dk=this.xm.Ee(this.ik).Re(Eo).setMouseInteractions(!1),this.fk=this.qi.chartXYZoomingRectangleFillStyle,this.Ak=this.qi.chartXYZoomingRectangleStrokeStyle,this.gk=this.qi.chartXYFittingRectangleFillStyle,this.mk=this.qi.chartXYFittingRectangleStrokeStyle,this.yk=jh.Default,this.pk=jh.Move,this.Sk=jh.ZoomIn,this.vk=jh.Default,this.bk=void 0,this.xk=Xy,this.GM=0,this.Gy=fp.snapToClosest,this.Mk=Ny(this.Og,this.Vg),this._k=Ny(this.Gg,this.Ng),this.wk=(t,e,i,s,n)=>{this.Mk(s,n),this._k(n,s),this.ik.q(s,n),this.us.Ss()},this.Ck=(t,e)=>{this.sk.set(t,e)},this.qA=t=>{const e=this.Og.findIndex((e=>e.axis===t)),i=this.Vg.findIndex((e=>e.axis===t)),s=this.Gg.findIndex((e=>e.axis===t)),n=this.Ng.findIndex((e=>e.axis===t));e>=0&&this.Og.splice(e,1),i>=0&&this.Vg.splice(i,1),s>=0&&this.Gg.splice(s,1),n>=0&&this.Ng.splice(n,1),this.sk.delete(t),this.us.Ss()},this.addAreaSeries=t=>{const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);const s=t&&t.baseline?t.baseline:0,n=new(t&&t.type?t.type:ny.Positive)(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,s,this.qi,this.us.es,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length);return this.PS(n),n},this.addAreaRangeSeries=t=>{const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);const s=new oy(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length);return this.PS(s),s},this.Tk=!1,this.Fk=!1,this.UM=()=>{(this.ek||this.hk)&&(this.bk=this.engine.setMouseStyle(this.yk))},this.YM=()=>{this.Tk=!1,this.engine.restoreMouseStyle(this.bk)},this.HM=(t,e,i)=>{var s,n;const r=Zo(null===(s=this.cA.Yn)||void 0===s?void 0:s.chartXYRectangleZoomFitMouseButton,0),o=Zo(null===(n=this.cA.Yn)||void 0===n?void 0:n.chartXYPanMouseButton,2);this.engine.restoreMouseStyle(this.bk);const a=this.xm.us.Pe(e.clientX,e.clientY);i===r&&(this.ek||this.hk)?(this.Ik(t,a),ga(e)):i===o&&this.nk&&(this.bk=this.engine.setMouseStyle(this.pk),this.Fk=!0,ga(e))},this.eS=(t,e,i,s,n)=>{var r,o;const a=Lr(e.clientX,e.clientY),l=Zo(null===(r=this.cA.Yn)||void 0===r?void 0:r.chartXYRectangleZoomFitMouseButton,0),h=Zo(null===(o=this.cA.Yn)||void 0===o?void 0:o.chartXYPanMouseButton,2);i===l&&(this.ek||this.hk)?(this.Pk(t,s,a),ga(e)):i===h&&this.nk&&(this.Dk(Ml(n,-1)),ga(e)),this.us.Ss()},this.$M=(t,e,i,s)=>{var n,r;const o=Zo(null===(n=this.cA.Yn)||void 0===n?void 0:n.chartXYRectangleZoomFitMouseButton,0),a=Zo(null===(r=this.cA.Yn)||void 0===r?void 0:r.chartXYPanMouseButton,2);if(i===o&&(this.ek||this.hk)){const i=Lr(e.clientX,e.clientY);this.Bk(t,s,i),ga(e)}else i===a&&this.nk&&ga(e);this.engine.restoreMouseStyle(this.bk),this.FS.getIsUnderMouse()&&(this.bk=this.engine.setMouseStyle(this.yk)),this.Tk=!1,this.Fk=!1},this.sS=(t,e)=>{if(this.rk){const t=this.xm.us.Pe(e.clientX,e.clientY);this.Lk(t,Lr(La(e),La(e))),ga(e)}},this.Rk=(t,e,i,s)=>{},this.Ek=(t,e,i,s,n,r)=>{if(this.nk){const t=Lr(-(s.x+n.x)/2,-(s.y+n.y)/2);this.Dk(t),ga(r),this.Fk=!0}if(this.rk){const t=this.engine.clientLocation2Engine(e.x,e.y),o=this.engine.clientLocation2Engine(i.x,i.y),a=Rl(Lr(Math.abs(t.x-s.x-(o.x-n.x)),Math.abs(t.y-s.y-(o.y-n.y))),Lr(Math.abs(t.x-o.x),Math.abs(t.y-o.y)));this.forEachAxisX((t=>{t.getChartInteractionZoomByWheel()&&t.St(t.dt.mi(t.getInterval().start,-a.x),t.dt.mi(t.getInterval().end,a.x),!1,!0,"interactionZoom")})),this.forEachAxisY((t=>{t.getChartInteractionZoomByWheel()&&t.St(t.dt.mi(t.getInterval().start,-a.y),t.dt.mi(t.getInterval().end,a.y),!1,!0,"interactionZoom")})),ga(r),this.Tk=!0}},this.zk=(t,e,i,s)=>{this.Fk=!1,this.Tk=!1},this.Vk=(t,e,i)=>{(this.hk||this.ek)&&(this.Ik(t,e),ga(i))},this.Ok=(t,e,i,s,n)=>{(this.hk||this.ek)&&(this.Pk(t,e,i),ga(n))},this.Nk=(t,e,i,s)=>{(this.hk||this.ek)&&(this.Bk(t,e,i),ga(s))},this.us.Nn(xf.gf),this.setPadding({right:24}),this.Gk=e.ob("chartXY series bg",Gy.seriesBackground),this.Wk=[Gy.gridLine0,Gy.gridLine1,Gy.gridLine2].map((t=>e.Uk("chartXY gridline #".concat(t),t))),this.JA=e.Uk("chartXY highlighters below",Gy.highlightersBelow),this.Rb=e.$y("chartXY plotting",Wy.plotting),this.KA=e.$y("chartXY highlighters above",Wy.highlightersAbove),this.bA=e.$y("chartXY fg",Wy.fg),this.ik.x.J(0,this.uiScale.x.getCellSize()-(this.Xt.left+this.Xt.right+this.ya.left+this.ya.right)),this.ik.y.J(0,this.uiScale.y.getCellSize()-(this.Xt.bottom+this.Xt.top+this.ya.bottom+this.ya.top)),this.ik.q(this.uiScale.oi().x,this.uiScale.oi().y),this.FS=this.Gk.ke(this.ik).Ce(this.qi.chartXYSeriesBackgroundFillStyle).we(Eo),this.IS=this.bA.ke(this.ik).Ce(ro).we(this.qi.chartXYSeriesBackgroundStrokeStyle).setMouseInteractions(!1),super.TS(this.FS,this.IS),this.setSeriesBackgroundEffect(!1),this.jy=e.Zy();const a=Zo(r?r.autoCursorBuilder:void 0,Am);this.Pm=a.uy(this.jy,this.ik,this.ik,this.qi),pp.Dm(this),this.LS(((t,e)=>{pp.Bm(this,e)})),this.addAxisX(r&&r.defaultAxisX),this.addAxisY(r&&r.defaultAxisY),this.onResize(this.wk),this._m.Rh("ChartXY"),this.hS=dh(new ph(this.Vk,this.Ok,this.Nk,1),new gh(this.Rk,this.Ek,this.zk)),this.onSeriesBackgroundMouseEnter(this.UM),this.onSeriesBackgroundMouseLeave(this.YM),this.onSeriesBackgroundMouseWheel(this.sS),this.onSeriesBackgroundMouseDragStart(this.HM),this.onSeriesBackgroundMouseDrag(this.eS),this.onSeriesBackgroundMouseDragStop(this.$M),this.onSeriesBackgroundTouchStart(this.hS.onTouchStart),this.onSeriesBackgroundTouchMove(this.hS.onTouchMove),this.onSeriesBackgroundTouchEnd(this.hS.onTouchEnd),this.setAnimationsEnabled(!0!==(null==r?void 0:r.disableAnimations)&&!1!==(null==r?void 0:r.animationsEnabled)),this.Sm(n,this.ik)}get coordsAxis(){return{x:this.getDefaultAxisX(),y:this.getDefaultAxisY()}}getSeries(){return this.xS}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}solveNearest(t){const e=t||this.us.On();if(e)return pp.Hc(this,mf(e,this.us),this.xS)}getMinimumSize(){const t={x:0,y:0};t.x+=this.Xt.left+this.Xt.right+this.ya.left+this.ya.right,t.y+=this.Xt.top+this.Xt.bottom+this.ya.top+this.ya.bottom;const e=this._m.Ps().jc(),i=Wr(qy(this.xk||Xy),this.bm);return t.x+=e.x+i.left+i.right,t.y+=e.y+i.top+i.bottom,this.Yk&&(t.x+=this.Yk.left,t.x+=this.Yk.right,t.y+=this.Yk.top,t.y+=this.Yk.bottom),t.x+=_y.x,t.y+=_y.y,t}addChartMarkerXY(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wm,e=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;const s=this.nm(),n=new Tm(s,this.uiScale,e||this.getDefaultAxisX(),i||this.getDefaultAxisY(),t,this.tm(s),this.qi);return this.gm(n),n}addAxisX(t){var e,i;const{opposite:s,type:n}=yf(t);let r;r="linear"===n.type?this.sm.d1({dimension:"x",scale1DConstructor:Ql}):"linear-highPrecision"===n.type?this.sm.d1({dimension:"x",scale1DConstructor:Ql}).Mi():this.sm.d1({dimension:"x",scale1DConstructor:Gl}).Ai(n.base),r.q(this.ik.x.oi());const o=s?this.Vg:this.Og,a=new Af(this.Wk,this.bA,this.xm,this.JA,this.KA,this.us.es,r,this.ik.y,(l=()=>a._g(),{...wf,...Ty(l)}),this,s?100:0,this.qA,this.Ck,this.qi,this.th,n);var l;let h,c;return void 0===(null==t?void 0:t.iParallel)&&void 0===(null==t?void 0:t.iStack)?(h=o.reduce(((t,e)=>Math.max(t,e.iParallel+1)),0),c=0):(h=null!==(e=t.iParallel)&&void 0!==e?e:0,c=null!==(i=t.iStack)&&void 0!==i?i:0),o.push({axis:a,iStack:c,iParallel:h}),this.us.Ss(),a}addAxisY(t){var e,i;const{opposite:s,type:n}=yf(t);let r;r="linear"===n.type?this.sm.d1({dimension:"y",scale1DConstructor:Ql}):"linear-highPrecision"===n.type?this.sm.d1({dimension:"y",scale1DConstructor:Ql}).Mi():this.sm.d1({dimension:"y",scale1DConstructor:Gl}).Ai(n.base),r.q(this.ik.y.oi());const o=s?this.Ng:this.Gg,a=new Af(this.Wk,this.bA,this.xm,this.JA,this.KA,this.us.es,r,this.ik.x,(l=()=>a._g(),{...Cf,...Iy(l)}),this,s?100:0,this.qA,this.Ck,this.qi,this.th,n);var l;let h,c;return void 0===(null==t?void 0:t.iParallel)&&void 0===(null==t?void 0:t.iStack)?(h=o.reduce(((t,e)=>Math.max(t,e.iParallel+1)),0),c=0):(h=null!==(e=t.iParallel)&&void 0!==e?e:0,c=null!==(i=t.iStack)&&void 0!==i?i:0),o.push({axis:a,iParallel:h,iStack:c}),this.us.Ss(),a}swapAxes(t,e){const i=[this.Og,this.Gg,this.Ng,this.Vg],s=i.find((e=>void 0!==e.find((e=>e.axis===t)))),n=i.find((t=>void 0!==t.find((t=>t.axis===e))));if(!s||!n)return this;if(s!==n)throw new Error("LightningChart JS ChartXY.swapAxes does not support swapping Axes that are on different sides.");const r=s.find((e=>e.axis===t)),o=s.find((t=>t.axis===e));if(!r||!o)return this;const a=r.iParallel,l=r.iStack;return r.iParallel=o.iParallel,r.iStack=o.iStack,o.iParallel=a,o.iStack=l,this.us.Ss(),this}dispose(){return this.Pm.dispose(),this.Gk.W(),this.Rb.W(),this.bA.W(),this.Wk.forEach((t=>t.W())),this.KA.W(),this.JA.W(),this.jy.W(),this.VC().forEach((t=>t.dispose())),lp(this.ik),this.Og.slice().forEach((t=>t.axis.dispose())),this.Gg.slice().forEach((t=>t.axis.dispose())),this.Ng.slice().forEach((t=>t.axis.dispose())),this.Vg.slice().forEach((t=>t.axis.dispose())),this.xS.slice().forEach((t=>{t.dispose()})),super.dispose()}getDefaultAxisX(){var t;return null===(t=[...this.Og,...this.Vg].find((t=>t.axis.getVisible())))||void 0===t?void 0:t.axis}get axisX(){return this.getDefaultAxisX()}get xAxis(){return this.getDefaultAxisX()}getDefaultAxisY(){var t;return null===(t=[...this.Gg,...this.Ng].find((t=>t.axis.getVisible())))||void 0===t?void 0:t.axis}get axisY(){return this.getDefaultAxisY()}get yAxis(){return this.getDefaultAxisY()}getDefaultAxes(){return[this.getDefaultAxisX(),this.getDefaultAxisY()]}getAxes(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=e&&e.length>0?new Set(e):By;return Ko(Array.from(s).map((t=>{switch(t){default:case Vy.Top:return this.Vg.map((t=>t.axis));case Vy.Bottom:return this.Og.map((t=>t.axis));case Vy.Left:return this.Gg.map((t=>t.axis));case Vy.Right:return this.Ng.map((t=>t.axis))}})))}Hk(t){let e;return this.forEachAxisX((i=>{e=t===i?"x":e})),this.forEachAxisY((i=>{e=t===i?"y":e})),e}forEachAxisX(t){this.Og.forEach(((e,i,s)=>t(e.axis,i,s.map((t=>t.axis))))),this.Vg.forEach(((e,i,s)=>t(e.axis,i,s.map((t=>t.axis)))))}forEachAxisY(t){this.Gg.forEach(((e,i,s)=>t(e.axis,i,s.map((t=>t.axis))))),this.Ng.forEach(((e,i,s)=>t(e.axis,i,s.map((t=>t.axis)))))}setTitlePosition(t){return this.xk=t,this.us.Ss(),this}getTitlePosition(){return this.xk}$k(t,e,i,s){const n=this.xk||Xy;let r,o=Wr(qy(n),this.bm);this.getTitleFillStyle()===ro||0===this.getTitle().length?(r={x:0,y:0},o={left:0,top:0,right:0,bottom:0}):r=this._m.Ps().jc();const a=Math.abs(s)+this.ya.bottom+this.Xt.bottom,l=Math.abs(i)+this.ya.top+this.Xt.top,h={left:Math.abs(t)+this.ya.left+this.Xt.left,right:Math.abs(e)+this.ya.right+this.Xt.right,top:l,bottom:a},c=this.uiScale.Wi(),{horizontalAlignment:u,verticalAlignment:d,position:f,marginsWithTitle:p}=Jy(n,c,h,r,o,this.ya);return this._m.Fe(f).Da(u).La(d),p}Te(t){super.Te(t);for(const v of this.xS)v.oS();for(const v of this.xS)v.Te();const e=this.Gg.map((t=>t.axis.Mr().Ps())),i=this.Og.map((t=>t.axis.Mr().Ps())),s=this.Vg.map((t=>t.axis.Mr().Ps())),n=this.Ng.map((t=>t.axis.Mr().Ps()));let r=!1;this.forEachAxis((t=>{(t.kr()||t.Tr())&&(r=!0)}));const o=this.Tk||this.Fk||!this.ak&&r;pp.Im(this,this.FS.getIsUnderMouse(),o,this.xS,(t=>pp.Hc(this,t,this.xS)),((t,e)=>t.Hc(e,!0)));const a=Ky(this.Gg,e),l=Ky(this.Og,i),h=Ky(this.Vg,s),c=Ky(this.Ng,n),u=this.$k(a.thicknessTotal,c.thicknessTotal,h.thicknessTotal,l.thicknessTotal),d=this.ik.x.getCellSize()-(u.left+u.right),f=this.ik.y.getCellSize()-(u.bottom+u.top),p=[u.left,u.right],g=[u.bottom,u.top];this.ik.x.J(0,d),this.ik.y.J(0,f),this.ik.x.si(p),this.ik.y.si(g);const m=(t,e,i,s)=>{let n=0;t.groups.forEach((t=>{let r=0;const o=t.stacks.reduce(((t,e)=>Math.max(t,e.kg)),0),a=t.stacks.reduce(((t,e)=>t+(e.axis.getVisible()?e.axis.iA+e.axis.sA:0)),0),l=t.stacks.reduce(((t,e)=>t+(e.axis.getVisible()&&"pixels"in e.axis.zd?e.axis.zd.pixels:0)),0),h=e-a-l;t.stacks.forEach((s=>{const a=s.axis,l=a.getVisible(),c=Math.max(e-r,0),u=Math.min(l?"pixels"in a.zd?a.zd.pixels:a.zd.relative/t.sumRelativeSize*h:0,c),d=l?i[0]+r+a.iA:0,f=l?i[1]+(e-r)-u-a.iA:0;a.dt.si([d,f]),a.Te({kg:o,Tg:s.Tg,Pg:u,Xk:r,zg:o+s.Tg,Bg:n}),l&&(r+=u+a.iA+a.sA)})),n+=s*t.thicknessMax}))};m(a,f,g,-1),m(c,f,g,1),m(l,d,p,-1),m(h,d,p,1),this.Yk={left:a.thicknessTotal,top:h.thicknessTotal,right:c.thicknessTotal,bottom:l.thicknessTotal},this.FS.Fe(Lr(0,0)).q(Lr(d,f)),this.IS.Fe(Lr(0,0)).q(Lr(d,f));const y=Or(this.ik.x.ei(),this.ik.y.ei(),this.ik.x.ri(),this.ik.y.ri());this.Rb.qv(y),this.JA.qv(y),this.KA.qv(y),this.Zg&&this.Zg(),this.Og.forEach((t=>t.axis.Wg())),this.Vg.forEach((t=>t.axis.Wg())),this.Gg.forEach((t=>t.axis.Wg())),this.Ng.forEach((t=>t.axis.Wg())),super.pm();for(const v of this.xS)v.dp()}j(){for(let t=0;t<this.Og.length;t+=1)this.Og[t].axis.j();for(let t=0;t<this.Vg.length;t+=1)this.Vg[t].axis.j();for(let t=0;t<this.Gg.length;t+=1)this.Gg[t].axis.j();for(let t=0;t<this.Ng.length;t+=1)this.Ng[t].axis.j();return super.j()}kk(t){if(this.sk.has(t))return this.sk.get(t);throw new Error("No attach handler for axis Make sure that passed axes definitely belong to this chart and that they haven't been disposed of.")}addLineSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);let s=My.freeform;t&&t.dataPattern&&(s="ProgressiveX"===t.dataPattern.pattern?My.horizontalProgressive:"ProgressiveY"===t.dataPattern.pattern?My.verticalProgressive:"RegressiveX"===t.dataPattern.pattern?My.horizontalRegressive:"RegressiveY"===t.dataPattern.pattern?My.verticalRegressive:My.freeform);const n=new Py(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,s,this.qi,this.us.es,Zp(t&&t.dataPattern),void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,t);return this.PS(n),n}addPointLineAreaSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);const s=new Ly(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,t);return this.PS(s),s}addPointSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);const s=t&&t.pointShape&&Object.values(Kc).includes(t.pointShape)?"string"==typeof t.pointShape?Kc[t.pointShape]:t.pointShape:Kc.Square,n=new Fy(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,s,this.qi,this.us.es,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,t);return this.PS(n),n}addPointLineSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);const s=t&&t.pointShape&&Object.values(Kc).includes(t.pointShape)?"string"==typeof t.pointShape?Kc[t.pointShape]:t.pointShape:Kc.Square;let n=My.freeform;t&&t.dataPattern&&(n="ProgressiveX"===t.dataPattern.pattern?My.horizontalProgressive:"ProgressiveY"===t.dataPattern.pattern?My.verticalProgressive:"RegressiveX"===t.dataPattern.pattern?My.horizontalRegressive:"RegressiveY"===t.dataPattern.pattern?My.verticalRegressive:My.freeform);const r=new uy(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,n,s,this.qi,this.us.es,Zp(t&&t.dataPattern),void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,t);return this.PS(r),r}addStepSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);const s=t&&t.pointShape?t.pointShape:Kc.Square,n=t&&t.mode?t.mode:ay.before,r=new ky(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,s,n,this.qi,this.us.es,Zp(t&&t.dataPattern),void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,t);return this.PS(r),r}addSplineSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);const s=t&&t.pointShape?t.pointShape:Kc.Square;let n=My.freeform;t&&t.dataPattern&&(n="ProgressiveX"===t.dataPattern.pattern?My.horizontalProgressive:"RegressiveX"===t.dataPattern.pattern?My.horizontalRegressive:My.freeform);const r=new py(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,n,s,this.qi,this.us.es,Zp(t&&t.dataPattern),void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,t);return this.PS(r),r}addRectangleSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);const s=new Ym(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length);return this.PS(s),s}addPolygonSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY(),s=new Wm(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length);return this.PS(s),s}addSegmentSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);const s=new qm(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length);return this.PS(s),s}addEllipseSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);const s=new Hm(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length);return this.PS(s),s}addBoxSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);const s=t&&t.dimensionStrategy?t.dimensionStrategy:wf,n=new Om(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,s,this.qi,this.us.es,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length);return this.PS(n),n}addHeatmapGridSeries(t){const e=t.xAxis?t.xAxis:this.getDefaultAxisX(),i=t.yAxis?t.yAxis:this.getDefaultAxisY();let s;if(void 0!==t.heatmapDataType&&"intensity"!==t.heatmapDataType)throw new Error("Unsupported Heatmap Grid heatmapDataType: '".concat(t.heatmapDataType,"'"));return s=new Zm(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,t,this.qi,this.us.es,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length),this.PS(s),s}addHeatmapScrollingGridSeries(t){const e=t.xAxis?t.xAxis:this.getDefaultAxisX(),i=t.yAxis?t.yAxis:this.getDefaultAxisY();let s;if(void 0!==t.heatmapDataType&&"intensity"!==t.heatmapDataType)throw new Error("Unsupported Heatmap Grid heatmapDataType: '".concat(t.heatmapDataType,"'"));return s=new $m(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,t,this.qi,this.us.es,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length),this.PS(s),s}addOHLCSeries(t){const e=(null==t?void 0:t.axisX)||(null==t?void 0:t.xAxis)||this.getDefaultAxisX(),i=(null==t?void 0:t.axisY)||(null==t?void 0:t.yAxis)||this.getDefaultAxisY();Hy(e,i);const s=new(t&&t.type?t.type:Ey.Candlesticks)(this,this._S,this.Rb,e,i,this.kk(e),this.kk(i),this.nm,this.qi,this.us.es);return this.PS(s),s}addOnScreenMenu(t,e){return new Dy(this.cA,t,this,e)}setMouseBackgroundStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jh.Default;return this.yk=t,this}setMouseZoomStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jh.ZoomIn;return this.Sk=t,this}setMouseFitStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jh.Default;return this.vk=t,this}setMousePanStyle(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jh.Move;return this.pk=t,this}setMouseInteractions(t){return this.setMouseInteractionRectangleZoom(t).setMouseInteractionRectangleFit(t).setMouseInteractionWheelZoom(t).setMouseInteractionPan(t)}setMouseInteractionRectangleZoom(t){return this.ek=t,this}getMouseInteractionRectangleZoom(){return this.ek}setMouseInteractionRectangleFit(t){return this.hk=t,this}getMouseInteractionRectangleFit(){return this.hk}setMouseInteractionPan(t){return this.nk=t,this}getMouseInteractionPan(){return this.nk}setMouseInteractionWheelZoom(t){return this.rk=t,this}getMouseInteractionWheelZoom(){return this.rk}setZoomingRectangleFillStyle(t){return this.fk="function"==typeof t?t(this.fk):t,this.us.Ss(),this}getZoomingRectangleFillStyle(){return this.fk}setZoomingRectangleStrokeStyle(t){return this.Ak="function"==typeof t?t(this.Ak):t,this.us.Ss(),this}getZoomingRectangleStrokeStyle(){return this.Ak}setFittingRectangleFillStyle(t){return this.gk="function"==typeof t?t(this.gk):t,this.us.Ss(),this}getFittingRectangleFillStyle(){return this.gk}setFittingRectangleStrokeStyle(t){return this.mk="function"==typeof t?t(this.mk):t,this.us.Ss(),this}getFittingRectangleStrokeStyle(){return this.mk}addLegendBox(t,e){const i=super.addLegendBox(t,e);if(void 0===e||e===this.uiScale)if(void 0===t||"vertical"===t.getAlignment())i.setOrigin(Yh.RightCenter).setPosition({x:this.uiScale.x.ut(this.uiScale.x.hi()-this.ya.right),y:Do(this.ik.y.ut(this.ik.y.ei()+this.ik.y.ri()/2),this.ik.y,this.uiScale.y)});else{const t=this.xk||Xy,e=Jy(t,this.uiScale.Wi(),this.ya,this.getTitleFillStyle()===ro||0===this.getTitle().length?{x:0,y:0}:this._m.Ps().jc(),Wr(qy(t),this.bm),this.ya).marginsWithTitle.top;i.setOrigin(Yh.RightTop).setPosition(Lo({x:this.pixelScale.x.getInnerEnd()-this.ya.right,y:this.pixelScale.y.getInnerEnd()-e},this.pixelScale,this.uiScale))}return i}Ik(t,e){this.forEachAxis(Oy);const i=Lo(this.engine.clientLocation2Engine(e.x,e.y),this.xm.us.dt,this.ik);this.uk.Fe(i).q(Lr(0,0))}Pk(t,e,i){const s=Lo(this.engine.clientLocation2Engine(e.x,e.y),this.xm.us.dt,this.ik),n=Lo(this.engine.clientLocation2Engine(i.x,i.y),this.xm.us.dt,this.ik),r=cl(n.x,this.ik.x.getInnerStart(),this.ik.x.getInnerEnd())&&cl(n.y,this.ik.y.getInnerStart(),this.ik.y.getInnerEnd()),o=Lr(Math.min(s.x,n.x),Math.min(s.y,n.y)),a=Lr(Math.max(s.x,n.x),Math.max(s.y,n.y));this.uk.Fe(o).q(Rl(a,o));const l=Math.min(a.x-o.x,a.y-o.y)>=10;r&&l&&a.x===s.x&&this.hk?(this.Tk=!0,this.uk.Ce(this.gk).we(this.mk),this.ck.Re(this.mk).Ve(s).ze(n),this.dk.Re(this.mk).Ve(Lr(s.x,n.y)).ze(Lr(n.x,s.y)),this.bk=this.engine.setMouseStyle(this.vk,this.bk)):r&&l&&(this.ek||this.hk)?(this.Tk=!0,this.uk.Ce(this.fk).we(this.Ak),this.ck.Re(Eo),this.dk.Re(Eo),this.bk=this.engine.setMouseStyle(this.Sk,this.bk)):(this.Tk=!1,this.uk.we(Eo).Ce(ro),this.ck.Re(Eo),this.dk.Re(Eo),this.engine.restoreMouseStyle(this.bk)),this.us.Ss()}Bk(t,e,i){if(this.Tk){const t=Lo(this.engine.clientLocation2Engine(i.x,i.y),this.xm.us.dt,this.ik),s=cl(t.x,this.ik.x.getInnerStart(),this.ik.x.getInnerEnd())&&cl(t.y,this.ik.y.getInnerStart(),this.ik.y.getInnerEnd()),n=i.x>=e.x||!this.hk?"zoom":"fit",r=this.uk.Fa(),o=kl(r,this.uk.oi()),a=Math.min(this.uk.oi().x,this.uk.oi().y)>=10;s&&a&&"zoom"===n&&this.ek?(this.forEachAxisX((t=>{if(t.getChartInteractionZoomByDrag()){const e=Lo(r,this.ik,t.ng).x,i=Lo(o,this.ik,t.ng).x;t.St(e,i,!0,!0,"interactionSetInterval")}})),this.forEachAxisY((t=>{if(t.getChartInteractionZoomByDrag()){const e=Lo(r,this.ik,t.ng).y,i=Lo(o,this.ik,t.ng).y;t.St(e,i,!0,!0,"interactionSetInterval")}}))):s&&a&&"fit"===n&&this.hk&&this.forEachAxis(Uy)}this.uk.we(Eo).Ce(ro),this.ck.Re(Eo),this.dk.Re(Eo),this.us.Ss()}pan(t){this.forEachAxisX((e=>{e.setStopped(!0).pan(t.x)})),this.forEachAxisY((e=>{e.setStopped(!0).pan(t.y)}))}Dk(t){this.forEachAxisX((e=>{e.getChartInteractionPanByDrag()&&e.setStopped(!0).pan(t.x)})),this.forEachAxisY((e=>{e.getChartInteractionPanByDrag()&&e.setStopped(!0).pan(t.y)}))}zoom(t,e){this.forEachAxis(Oy),this.forEachAxisX((i=>{i.zoom(i.dt.ut(t.x),e.x)})),this.forEachAxisY((i=>{i.zoom(i.dt.ut(t.y),e.y)}))}Lk(t,e){this.forEachAxisX((i=>{i.getChartInteractionZoomByWheel()&&(Oy(i),i.zoom(i.dt.ut(t.x),e.x))})),this.forEachAxisY((i=>{i.getChartInteractionZoomByWheel()&&(Oy(i),i.zoom(i.dt.ut(t.y),e.y))}))}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.forEachAxis((e=>e.setAnimationsEnabled(t))),this}Zd(){const t=[];return this.forEachAxis((e=>e.vg((e=>t.push(e))))),super.Zd().concat(t)}VC(){return this.lk}me(){return this.Cm(this.Rb)}setAutoCursorEnabledDuringAxisAnimation(t){return this.ak=t,this}getAutoCursorEnabledDuringAxisAnimation(){return this.ak}forEachAxis(t){return this.forEachAxisX(t),this.forEachAxisY(t),this}translateCoordinate(t,e,i){if(i){const s=t,n=e,r=Mf(n)?n:oh(n)?this.pixelScale:void 0;if(r&&nh(i)){const t=Lo(s,r,this.engine.scale);return this.us.Do({engineX:t.x,engineY:t.y})}if(r&&oh(i))return Lo(s,r,this.pixelScale);if(r&&Mf(i))return Lo(s,r,i)}else{const i=t;if(oh(e)){const t=this.us.Po(i);return Lo({x:t.engineX,y:t.engineY},this.engine.scale,this.pixelScale)}if(Mf(e)){const t=e,s=this.us.Po(i);return Lo({x:s.engineX,y:s.engineY},this.engine.scale,t)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")}}!function(t){t.CenterTop="center-top",t.RightTop="right-top",t.LeftTop="left-top",t.CenterBottom="center-bottom",t.RightBottom="right-bottom",t.LeftBottom="left-bottom",t.SeriesCenterTop="series-center-top",t.SeriesRightTop="series-right-top",t.SeriesLeftTop="series-left-top",t.SeriesCenterBottom="series-center-bottom",t.SeriesRightBottom="series-right-bottom",t.SeriesLeftBottom="series-left-bottom"}(jy||(jy={}));const Xy=jy.CenterTop,qy=t=>{switch(t){case"center-top":case"series-center-bottom":return{left:0,right:0,top:0,bottom:5};case"left-top":return{left:20,right:0,top:0,bottom:5};case"right-top":return{left:0,right:20,top:0,bottom:5};case"center-bottom":return{left:0,right:0,top:0,bottom:0};case"left-bottom":return{left:20,right:0,top:0,bottom:0};case"right-bottom":return{left:0,right:20,top:0,bottom:0};case"series-center-top":return{left:0,right:0,top:5,bottom:0};case"series-left-top":return{left:5,right:0,top:5,bottom:0};case"series-right-top":return{left:0,right:5,top:5,bottom:0};case"series-left-bottom":return{left:5,right:0,top:0,bottom:5};case"series-right-bottom":return{left:0,right:5,top:0,bottom:5}}return Ha(0,"Unexpected ChartXY title position selection ".concat(t))},Jy=(t,e,i,s,n,r)=>{s.x,n.left,n.right;const o=s.y+n.bottom+n.top,a=(n.left-n.right)*e.x,l=(n.bottom-n.top)*e.y;switch(t){case"center-top":return{horizontalAlignment:0,verticalAlignment:1,position:{x:50+a,y:100-(r.top+n.top)*e.y},marginsWithTitle:{...i,top:i.top+o}};case"left-top":return{horizontalAlignment:-1,verticalAlignment:1,position:{x:a,y:100-(r.top-n.top)*e.y},marginsWithTitle:{...i,top:i.top+o}};case"right-top":return{horizontalAlignment:1,verticalAlignment:1,position:{x:100+a,y:100-(r.top-n.top)*e.y},marginsWithTitle:{...i,top:i.top+o}};case"center-bottom":return{horizontalAlignment:0,verticalAlignment:-1,position:{x:50+a,y:(r.bottom+n.bottom)*e.y},marginsWithTitle:{...i,bottom:i.bottom+o}};case"left-bottom":return{horizontalAlignment:-1,verticalAlignment:-1,position:{x:a,y:(r.bottom+n.bottom)*e.y},marginsWithTitle:{...i,bottom:i.bottom+o}};case"right-bottom":return{horizontalAlignment:1,verticalAlignment:-1,position:{x:100+a,y:(r.bottom+n.bottom)*e.y},marginsWithTitle:{...i,bottom:i.bottom+o}};case"series-center-top":return{horizontalAlignment:0,verticalAlignment:1,position:{x:50+a,y:100-i.top*e.y+l},marginsWithTitle:i};case"series-left-top":return{horizontalAlignment:-1,verticalAlignment:1,position:{x:i.left*e.x+a,y:100-i.top*e.y+l},marginsWithTitle:i};case"series-right-top":return{horizontalAlignment:1,verticalAlignment:1,position:{x:100-i.right*e.x+a,y:100-i.top*e.y+l},marginsWithTitle:i};case"series-center-bottom":return{horizontalAlignment:0,verticalAlignment:-1,position:{x:50,y:i.bottom*e.y+l},marginsWithTitle:i};case"series-left-bottom":return{horizontalAlignment:-1,verticalAlignment:-1,position:{x:i.left*e.x+a,y:i.bottom*e.y+l},marginsWithTitle:i};case"series-right-bottom":return{horizontalAlignment:1,verticalAlignment:-1,position:{x:100-i.right*e.x+a,y:i.bottom*e.y+l},marginsWithTitle:i}}return Ha(0,"Unexpected ChartXY title position selection ".concat(t))},Ky=(t,e)=>{const i=[];t.forEach(((t,s)=>{const n=e[s],r=i.find((e=>e.iParallel===t.iParallel));r?(r.stacks.push({...t,...n}),r.stacks.sort(((t,e)=>t.iStack-e.iStack))):i.push({iParallel:t.iParallel,stacks:[{...t,...n}]})}));const s=i.map((t=>{const e=t.stacks.reduce(((t,e)=>Math.max(t,e.kg)),0),i=t.stacks.reduce(((t,e)=>Math.max(t,e.Tg)),0),s=t.stacks.reduce(((t,e)=>Math.max(t,e.Vd)),0),n=t.stacks.reduce(((t,e)=>t+(e.axis.getVisible()&&"relative"in e.axis.zd?e.axis.zd.relative:0)),0);return{...t,ticksSizeMax:e,titleSizeMax:i,sumRelativeSize:n,thicknessMax:s}}));return s.sort(((t,e)=>t.iParallel-e.iParallel)),{groups:s,thicknessTotal:s.reduce(((t,e)=>t+e.thicknessMax),0)}};class Zy{constructor(t,e,i,s,n,r,o){this.coordsRelative="relative",this.coordsClient="client",this.D=new Ir,this.jk=[],this.Zk=new Map,this.xS=new Map,this.Qk=(t,e,i)=>{0!==this.xS.size&&void 0!==[...this.xS.values()].find((t=>{let{series:e}=t;return!0===e.getVisible()}))||this.Jk.St(e,i,!1,!1,"zoomBandChart"),this.Kk.us.Ss()},e.us.Nn(xf.ff),this.cA=t,this.qk=(null==r?void 0:r.orientation)||"x",this.tT=void 0!==(null==r?void 0:r.useSharedValueAxis)&&r.useSharedValueAxis,this.iT=s,this.Wu="x"===this.qk?wf:Cf;const a={...r,defaultAxisX:this.Wu.getWidth({x:null==r?void 0:r.defaultAxis,y:void 0}),defaultAxisY:this.Wu.getHeight({x:null==r?void 0:r.defaultAxis,y:void 0})};this.Kk=new Yy(t,e,i,Xo,n,a,o).setTitle("Zoom Band Chart").setMouseInteractions(!1).setAutoCursorMode(fp.disabled),this.engine=this.Kk.engine;const l=this.Kk.getDefaultAxisX().setMouseInteractions(!1),h=this.Kk.getDefaultAxisY().setMouseInteractions(!1);this.Jk=this.Wu.getWidth({x:l,y:h}).setScrollStrategy(sc.fitting).setAnimationScroll(!1).setStrokeStyle(Eo).setTickStrategy(nc),(null==r?void 0:r.useSharedValueAxis)?this.sT=this.Wu.getHeight({x:l,y:h}):this.Wu.getHeight({x:l,y:h}).dispose();const c=this.getTheme().zoomBandChartDefocusOverlayFillStyle||new ho({color:this.getTheme().isDark?qr(0,0,0,180):qr(255,255,255,180)});this.eT=[this.Kk.bA.ke(this.Jk.ng).Ce(c).we(Eo),this.Kk.bA.ke(this.Jk.ng).Ce(c).we(Eo)];const u=this.Kk.bA.Lg(this.Jk.ng).Re(this.getTheme().zoomBandChartSplitterStrokeStyle||this.getTheme().chartXYSeriesBackgroundStrokeStyle);this.hT={collection:u,members:new Array(5).fill(0).map((t=>u.zr()))};const d=this.getTheme(),f="function"==typeof d.zoomBandChartKnobFillStyle?d.zoomBandChartKnobFillStyle(this.cA.$s):d.zoomBandChartKnobFillStyle||ro;this.rT=[this.Kk.bA.ke(this.Kk.pixelScale).Ce(f).we(Eo),this.Kk.bA.ke(this.Kk.pixelScale).Ce(f).we(Eo)],this.nT=this.getTheme().zoomBandChartKnobSize||{x:0,y:0},this.oT()}add(t){var e,i,s,n,r;const o=this.jk.map((t=>t.axis)),a="x"===this.qk?t.axisX:t.axisY;if(!o.includes(a)){const t=a.onIntervalChange(this.Qk);this.jk.push({axis:a,deattach:()=>{a.offIntervalChange(t)}}),this.Jk.$h(a.Hh()),this.aT&&this.aT.remove(),this.aT=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];if(0===e.length)return{remove:Xo};let s=!1;const n=e.map((t=>t.onIntervalChange(((i,n,r)=>((t,i,n)=>{s||(s=!0,e.filter((e=>e!==t)).forEach((e=>e.St(i,n,!1,t.getStopped(),"synchronizedAxis"))),s=!1)})(t,n,r)))));let r=!1;const o=e.map((t=>t.onStoppedStateChanged(((i,s)=>((t,i)=>{r||(r=!0,e.filter((e=>e!==t)).forEach((t=>t.setStopped(i))),r=!1)})(t,s)))));return{remove:()=>{e.forEach(((t,e)=>{t.offIntervalChange(n[e]),t.offStoppedStateChanged(o[e])}))}}}(...this.jk.map((t=>t.axis)))}const l=this.Wu.getHeight({x:t.axisX,y:t.axisY});let h;if(this.tT)h=this.sT;else{const t=this.Zk.get(l);t?h=t:(h=this.Wu.getHeight({x:this.Kk.addAxisX.bind(this.Kk),y:this.Kk.addAxisY.bind(this.Kk)})(),this.lT(h)),this.Zk.set(l,h)}const c=this.Wu.getWidth({x:this.Jk,y:h}),u=this.Wu.getHeight({x:this.Jk,y:h});let d;const f=[],p=(t,e)=>{const i=t=>{if(0!==t.length)if("x"in t[0]){const i=t;e.add(i)}else{const i=t,s=[];for(let t=0;t<i.length;t+=1){const e=i[t];s.push({x:e[0],y:e[4]})}e.add(s)}},s=t.r_();i(s);const n=t.n_(((t,e)=>i(e)));f.push((()=>t.o_(n)));const r=t.a_((()=>e.clear()));f.push((()=>{t.l_(r)}))};if(t instanceof Ly)d=this.Kk.addPointLineAreaSeries({...t.Un,xAxis:c,yAxis:u}).setStrokeStyle(t.getStrokeStyle()).setAreaFillStyle(t.getAreaFillStyle()).setPointFillStyle(t.getPointFillStyle()).setCurvePreprocessing(t.getCurvePreprocessing()),d.setDataSet(t.tk());else if(t instanceof Py||t instanceof Ry){const i=this.Kk.addLineSeries({xAxis:c,yAxis:u,dataPattern:t instanceof Py?null===(e=t.Un)||void 0===e?void 0:e.dataPattern:void 0});if(t instanceof Py)i.setStrokeStyle(t.getStrokeStyle());else{const e=Qy(t);e&&i.setStrokeStyle(e)}p(t,i),d=i}else if(t instanceof sy){const e=this.Kk.addAreaSeries({xAxis:c,yAxis:u,baseline:t.Mw}).setFillStyle(t.getFillStyle()).setStrokeStyle(t.getStrokeStyle());p(t,e),d=e}else if(t instanceof Fy){const e=this.Kk.addPointSeries({xAxis:c,yAxis:u,pointShape:null===(i=t.Un)||void 0===i?void 0:i.pointShape}).setPointFillStyle(t.getPointFillStyle()).setPointSize(t.getPointSize()).setPointRotation(t.getPointRotation());p(t,e),d=e}else if(t instanceof ky){const e=this.Kk.addStepSeries({xAxis:c,yAxis:u,pointShape:null===(s=t.Un)||void 0===s?void 0:s.pointShape,mode:t.$w}).setStrokeStyle(t.getStrokeStyle()).setPointFillStyle(t.getPointFillStyle()).setPointSize(t.getPointSize()).setPointRotation(t.getPointRotation());p(t,e),d=e}else if(t instanceof py){const e=this.Kk.addSplineSeries({xAxis:c,yAxis:u,pointShape:null===(n=t.Un)||void 0===n?void 0:n.pointShape}).setStrokeStyle(t.getStrokeStyle()).setPointFillStyle(t.getPointFillStyle()).setPointSize(t.getPointSize()).setPointRotation(t.getPointRotation());p(t,e),d=e}else if(t instanceof uy){const e=this.Kk.addSplineSeries({xAxis:c,yAxis:u,pointShape:null===(r=t.Un)||void 0===r?void 0:r.pointShape}).setStrokeStyle(t.getStrokeStyle()).setPointFillStyle(t.getPointFillStyle()).setPointSize(t.getPointSize()).setPointRotation(t.getPointRotation());p(t,e),d=e}else if(t instanceof oy){const e=this.Kk.addAreaRangeSeries({xAxis:c,yAxis:u}).setLowFillStyle(t.getLowFillStyle()).setHighFillStyle(t.getHighFillStyle()).setLowStrokeStyle(t.getLowStrokeStyle()).setHighStrokeStyle(t.getHighStrokeStyle()).add(t.r_()),i=t.n_(((t,i)=>e.add(i)));f.push((()=>t.o_(i))),d=e;const s=t.a_((()=>e.clear()));f.push((()=>{t.l_(s)}))}else{if(!(t instanceof Km))throw new Error("LightningChart JS Zoom Band Chart unsupported series type");{const e=this.Kk.addHeatmapGridSeries({xAxis:c,yAxis:u,...t.F_}),i=()=>{e.setWireframeStyle(t.getWireframeStyle()).setIntensityInterpolation(t.getIntensityInterpolation()).setFillStyle(t.getFillStyle())};i(),d=e,t.D_(d);const s=t.R_(((t,i)=>e.invalidateIntensityValues(i))),n=t.B_(i);f.push((()=>{t.E_(s),t.L_(n)}));const r=t.a_((()=>e.clear()));f.push((()=>{t.l_(r)}))}}d.setMouseInteractions(!1);const g=t.onVisibleStateChanged(((t,e)=>{d.setVisible(e)}));f.push((()=>{t.offVisibleStateChanged(g)}));const m=t.onHighlight(((t,e)=>d.setHighlight(e)));f.push((()=>{t.offHighlight(m)}));const y=t.onDispose((()=>{this.disposeSeries(t)}));return f.push((()=>{t.offDispose(y)})),this.xS.set(t,{series:d,clearReferences:()=>f.forEach((t=>t()))}),d}disposeSeries(t){const e=this.xS.get(t);if(e){const{clearReferences:i}=e;i(),this.xS.delete(t),e.series.dispose();const s=this.Wu.getHeight({x:t.axisX,y:t.axisY}),n=this.Zk.get(s);n&&0===n._g().length&&(this.Zk.delete(s),n.dispose())}const i="x"===this.qk?t.axisX:t.axisY;if(!Array.from(this.xS.keys()).find((t=>i===("x"===this.qk?t.axisX:t.axisY)))){const t=this.jk.findIndex((t=>t.axis===i));this.jk[t].deattach(),this.jk.splice(t,1)}return this}setDefocusOverlayFillStyle(t){return this.eT.forEach((e=>e.Ce(t))),this.Kk.us.Ss(),this}getDefocusOverlayFillStyle(){return this.eT[0].Eh()}setSplitterStrokeStyle(t){return this.hT.collection.Re(t),this.Kk.us.Ss(),this}getSplitterStrokeStyle(){return this.hT.collection.uu()}setKnobFillStyle(t){return this.rT.forEach((e=>e.Ce(t))),this.Kk.us.Ss(),this}getKnobFillStyle(){return this.rT[0].Eh()}setKnobStrokeStyle(t){return this.rT.forEach((e=>e.we(t))),this.Kk.us.Ss(),this}getKnobStrokeStyle(){return this.rT[0].ao()}setKnobSize(t){return this.nT=t,this.Kk.us.Ss(),this}getKnobSize(){return this.nT}getDefaultAxisX(){return this.Kk.getDefaultAxisX()}getDefaultAxisY(){return this.Kk.getDefaultAxisY()}get axisX(){return this.getDefaultAxisX()}get xAxis(){return this.getDefaultAxisX()}get axisY(){return this.getDefaultAxisY()}get yAxis(){return this.getDefaultAxisY()}lT(t){t.setTickStrategy(nc).setMouseInteractions(!1).setNibStyle(Eo).setStrokeStyle(Eo)}oT(){let t;const e=(t,e,i)=>{var s,n;const r="x"===this.qk?null===(s=Array.from(this.xS.keys())[0])||void 0===s?void 0:s.axisX:null===(n=Array.from(this.xS.keys())[0])||void 0===n?void 0:n.axisY;if(!r)return;const o=r.getInterval(),a=this.Jk.getInterval();Math.abs(this.Jk.dt.ct(t)-this.Jk.dt.ct(e))<10||Math.sign(e-t)!==Math.sign(o.end-o.start)||Math.min(t,e)<Math.min(a.start,a.end)||Math.max(t,e)>Math.max(a.start,a.end)&&Math.max(o.start,o.end)<Math.max(t,e)||r.St(t,e,i,!0,"zoomBandChart")};this.rT.forEach(((i,s)=>{i.setMouseEnterEventHandler((()=>{t=this.engine.setMouseStyle(this.Wu.getWidth({x:jh.Horizontal,y:jh.Vertical}),t)})),i.setMouseLeaveEventHandler((()=>{this.engine.restoreMouseStyle(t)}));const n=t=>{var i,n;const r="x"===this.qk?null===(i=Array.from(this.xS.keys())[0])||void 0===i?void 0:i.axisX:null===(n=Array.from(this.xS.keys())[0])||void 0===n?void 0:n.axisY;if(!r)return;const o=this.Wu.getWidth(this.Kk.translateCoordinate(t,this.Kk.coordsAxis)),a=r.getInterval(),l=0===s?o:a.start,h=1===s?o:a.end;e(l,h,!1),ga(t)};i.setMouseDragEventHandler(((t,e,i,s,r)=>n(e)));const r=dh(new ph(void 0,((t,e,i,s,r)=>n(r))));i.setTouchStartEventHandler(r.onTouchStart),i.setTouchMoveEventHandler(r.onTouchMove),i.setTouchEndEventHandler(r.onTouchEnd)})),this.Kk.onSeriesBackgroundMouseEnter((()=>{t=this.engine.setMouseStyle(jh.Move,t)})),this.Kk.onSeriesBackgroundMouseLeave((()=>{this.engine.restoreMouseStyle(t)}));const i=(t,i)=>{var s,n;const r="x"===this.qk?null===(s=Array.from(this.xS.keys())[0])||void 0===s?void 0:s.axisX:null===(n=Array.from(this.xS.keys())[0])||void 0===n?void 0:n.axisY;if(!r)return;const o=r.getInterval(),a=this.Jk.dt.mi(o.start,this.Wu.getWidth(t)),l=this.Jk.dt.mi(o.end,this.Wu.getWidth(t));e(a,l,!1),ga(i)};this.Kk.onSeriesBackgroundMouseDrag(((t,e,s,n,r)=>i(r,e)));const s=dh(new ph(void 0,((t,e,s,n,r)=>i(n,r))));this.Kk.onSeriesBackgroundMouseWheel(((t,i)=>{var s,n;const r="x"===this.qk?null===(s=Array.from(this.xS.keys())[0])||void 0===s?void 0:s.axisX:null===(n=Array.from(this.xS.keys())[0])||void 0===n?void 0:n.axisY;if(!r)return;const o=r.getInterval(),a=this.Jk.getInterval(),l=this.Wu.getWidth(this.Kk.translateCoordinate(i,this.Kk.coordsAxis)),h=this.Jk.dt.ct(o.start),c=this.Jk.dt.ct(o.end),u=this.Jk.dt.ct(l),d=Jo((u-h)/(c-h),0,1),f=.2*Math.abs(c-h)*r.Rf,p=d*f*-Math.sign(i.deltaY),g=(1-d)*f*Math.sign(i.deltaY),m=Jo(this.Jk.dt.mi(o.start,p),a.start,a.end),y=Jo(this.Jk.dt.mi(o.end,g),a.start,a.end);e(m,y,!1),ga(i)})),this.Kk.onSeriesBackgroundTouchStart(s.onTouchStart),this.Kk.onSeriesBackgroundTouchMove(s.onTouchMove),this.Kk.onSeriesBackgroundTouchEnd(s.onTouchEnd),this.eT.forEach(((i,s)=>{i.setMouseEnterEventHandler((()=>{t=this.engine.setMouseStyle(jh.Point,t)})),i.setMouseLeaveEventHandler((()=>{this.engine.restoreMouseStyle(t)}));const n=t=>{var i,s;const n="x"===this.qk?null===(i=Array.from(this.xS.keys())[0])||void 0===i?void 0:i.axisX:null===(s=Array.from(this.xS.keys())[0])||void 0===s?void 0:s.axisY;if(!n)return;const r=this.Wu.getWidth(this.Kk.translateCoordinate(t,this.Kk.coordsAxis)),o=n.getInterval(),a=this.Jk.getInterval(),l=Jo(r-(o.end-o.start)/2,Math.min(a.start,a.end),Math.max(a.start,a.end)-Math.abs(o.end-o.start)),h=l+(o.end-o.start);e(l,h,!0),ga(t)};i.setMouseClickEventHandler(((t,e)=>n(e)));const r=dh(new class{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300;this.Ds=!1,this.Bs=[],this.Ls=300,this.Rs=t,this.Ls=e}Is(t,e){const i=Ho.performance.now();let s=!1;for(let n=0;n<this.Bs.length;n+=1)i-this.Bs[n].time>=this.Ls?(this.Bs.splice(n,1),n-=1):this.Bs[n].state&&(s=!0);return this.Ds?0===e.interactions.length&&(this.Bs.push({state:!1,time:i}),this.Ds=!1):1===e.interactions.length&&"pointerdown"===e.type&&(this.Bs.push({state:!0,time:i}),s=!0,this.Ds=!0),s}Ps(t,e,i){if(i&&!this.Ds){const i=this.Bs.reduce(((t,e)=>(e.state?t.on+=1:t.off+=1,t)),{on:0,off:0});i.on>=1&&i.off>=1&&(this.Rs(t,e),this.Bs.length=0)}}}(((t,e)=>n(e))));i.setTouchStartEventHandler(r.onTouchStart),i.setTouchMoveEventHandler(r.onTouchMove),i.setTouchEndEventHandler(r.onTouchEnd)}))}getSizePixels(){return this.Kk.getSizePixels()}onResize(t){return this.Kk.onResize(((e,i,s,n,r)=>t(this,i,s,n,r)))}offResize(t){return this.Kk.offResize(t)}Fr(t){this.Kk.Fr(t)}getMinimumSize(){return this.Kk.getMinimumSize()}j(){return this.Kk.j()}Z(){return this.Kk.Z()}Te(t){var e,i,s,n;const r=Va(Array.from(this.xS.keys()).map((t=>t.chart))),o="x"===this.qk?null===(e=Array.from(this.xS.keys())[0])||void 0===e?void 0:e.axisX:null===(i=Array.from(this.xS.keys())[0])||void 0===i?void 0:i.axisY;if("x"===this.qk){const t=r.reduce(((t,e)=>{let i=0;return e.forEachAxisY((t=>{i+=0===t.sg?t.Ug():0})),Math.max(t,i)}),0),e=r.reduce(((t,e)=>{let i=0;return e.forEachAxisY((t=>{i+=100===t.sg?t.Ug():0})),Math.max(t,i)}),0),i=r.reduce(((t,e)=>Math.max(t,e.getPadding().left)),0),n=r.reduce(((t,e)=>Math.max(t,e.getPadding().right)),0);null===(s=this.getDefaultAxisY())||void 0===s||s.setThickness(t),this.Kk.setPadding({left:i+(0===r.length?10:0),right:n+e+(0===r.length?10:0)})}else{const t=r.reduce(((t,e)=>{let i=0;return e.forEachAxisX((t=>{i+=0===t.sg?t.Ug():0})),Math.max(t,i)}),0),e=r.reduce(((t,e)=>{let i=0;return e.forEachAxisX((t=>{i+=100===t.sg?t.Ug():0})),Math.max(t,i)}),0),i=r.reduce(((t,e)=>Math.max(t,e.getPadding().bottom)),0),s=r.reduce(((t,e)=>Math.max(t,e.getPadding().top)),0);null===(n=this.getDefaultAxisX())||void 0===n||n.setThickness(t),this.Kk.setPadding({bottom:i+(0===r.length?10:0),top:s+e+(0===r.length?10:0)})}this.Kk.Te(t);const a=this.Jk.getInterval().start,l=this.Jk.getInterval().end,h=Jo(o?o.getInterval().start:a,a,l),c=Jo(o?o.getInterval().end:l,a,l),u=this.Wu.getHeight(this.Kk.ik.getInnerIntervalPixels());this.eT[0].Fe(this.Wu.toPoint(a,0)).q(this.Wu.toPoint(h-a,u)),this.eT[1].Fe(this.Wu.toPoint(c,0)).q(this.Wu.toPoint(l-c,u)),this.hT.members[0].Eg(this.Wu.toPoint(a,u),this.Wu.toPoint(h,u)),this.hT.members[1].Eg(this.Wu.toPoint(h,u),this.Wu.toPoint(h,0)),this.hT.members[2].Eg(this.Wu.toPoint(h,0),this.Wu.toPoint(c,0)),this.hT.members[3].Eg(this.Wu.toPoint(c,0),this.Wu.toPoint(c,u)),this.hT.members[4].Eg(this.Wu.toPoint(c,u),this.Wu.toPoint(l,u));const d=Lo(this.Wu.toPoint(h,u/2),this.Jk.ng,this.Kk.pixelScale),f=Lo(this.Wu.toPoint(c,u/2),this.Jk.ng,this.Kk.pixelScale),p=this.nT;this.rT[0].Fe({x:d.x-p.x/2,y:d.y-p.y/2}).q({x:p.x,y:p.y}).Nh(this.Wu.getWidth({x:0,y:90})),this.rT[1].Fe({x:f.x-p.x/2,y:f.y-p.y/2}).q({x:p.x,y:p.y}).Nh(this.Wu.getWidth({x:0,y:90}))}setSeriesBackgroundFillStyle(t){return this.Kk.setSeriesBackgroundFillStyle(t),this.Kk.us.Ss(),this}getSeriesBackgroundFillStyle(){return this.Kk.getSeriesBackgroundFillStyle()}setSeriesBackgroundStrokeStyle(t){return this.Kk.setSeriesBackgroundStrokeStyle(t),this.Kk.us.Ss(),this}getSeriesBackgroundStrokeStyle(){return this.Kk.getSeriesBackgroundStrokeStyle()}setSeriesBackgroundEffect(t){return this.Kk.setSeriesBackgroundEffect(t),this.Kk.us.Ss(),this}getSeriesBackgroundEffect(){return this.Kk.getSeriesBackgroundEffect()}getTheme(){return this.Kk.getTheme()}setTitle(t){return this.Kk.setTitle(t),this}getTitle(){return this.Kk.getTitle()}setTitleFillStyle(t){return this.Kk.setTitleFillStyle(t),this}getTitleFillStyle(){return this.Kk.getTitleFillStyle()}setTitleFont(t){return this.Kk.setTitleFont(t),this}getTitleFont(){return this.Kk.getTitleFont()}setTitleMargin(t){return this.Kk.setTitleMargin(t),this}getTitleMargin(){return this.Kk.getTitleMargin()}setPadding(t){return this.Kk.setPadding(t),this}getPadding(){return this.Kk.getPadding()}setBackgroundFillStyle(t){return this.Kk.setBackgroundFillStyle(t),this}getBackgroundFillStyle(){return this.Kk.getBackgroundFillStyle()}setBackgroundStrokeStyle(t){return this.Kk.setBackgroundStrokeStyle(t),this}getBackgroundStrokeStyle(){return this.Kk.getBackgroundStrokeStyle()}translateCoordinate(t,e,i){return op(t,e,i,this.Kk.pixelScale,this.Kk.us)}addUIElement(t,e){return this.Kk.addUIElement(t,e)}addLegendBox(t,e){return this.Kk.addLegendBox(t,e)}getLegendBoxes(){return this.Kk.getLegendBoxes()}saveToFile(t,e,i){return this.Kk.saveToFile(t,e,i),this}dispose(){return this.Kk.dispose(),this.Zk.clear(),this.xS.clear(),this.iT(this),this}isDisposed(){return this.Kk.isDisposed()}onDispose(t){return this.Kk.onDispose((()=>t(this)))}offDispose(t){return this.Kk.offDispose(t)}}const Qy=t=>{if("getStrokeStyle"in t)return t.getStrokeStyle();const e=(t=>t instanceof Py||t instanceof sy?t.getStrokeStyle().getFillStyle():t instanceof Fy||t instanceof uy?t.getPointFillStyle():void 0)(t);return e?new yh({thickness:2,fillStyle:e}):void 0};class $y extends nm{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n,o),this.xs="Point Series",this.Vx=[],this.Ox=!1,this.Hx=3,this.Aa=0,this.Wy=rm,this.be=Da(this.qi.polarPointSeriesFillStyle,r),this.od=new xd({dataPattern:null}),this.Na=t.dd(s).Re(Eo).ud(ro).ld(this.be).fd(Kc.Circle).pd(this.Hx).cs(this.getHighlight()).ad(this.od),this.ds(this.Na)}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}setData(t){return 0!==this.Vx.length&&this.Ji.us.Nn(xf.vf),this.Vx=lm(t),this.Ox=!0,this.Bx=am(this.Vx),this.ks.Ss(),this}setPointAlignment(t){return this.Na.JC(t),this.Ji.us.Ss(),this}getPointAlignment(){return this.Na.KC()}setPointFillStyle(t){this.be="function"==typeof t?t(this.be):t;const e=this.be;return this.Na.ld(e),this.ks.Ss(),this}getPointFillStyle(){return this.be}setPointSize(t){return this.Hx=t,this.Na.pd(t),this.ks.Ss(),this}getPointSize(){return this.Hx}setPointShape(t){return this.Na.fd(t),this.Ji.us.Ss(),this}getPointShape(){return this.Na.Ad()}setPointRotation(t){return this.Aa=t,this.Na.gd(t),this.ks.Ss(),this}getPointRotation(){return this.Aa}Kp(){return this.tS&&this.Vx.length>0&&this.getVisible()}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){const i=Lo(t,this.Ji.us.dt,this.scale),s=this.od.Hc(i,!1,this.scale,this.Ji.pixelScale);if(!s)return;const{angle:n,amplitude:r}=hm(s,this.scale);return Np(s,this.scale,this.Wy(new xp,this,n,r,this.Ji.getAmplitudeAxis().formatValue).Zu(),this,"color"in s&&void 0!==s.color&&fo(this.be)?new ho({color:Zr(s.color)}):this.be)}solveNearestFromScreen(t){return this.Hc(mf(t,this.Ji.us),!1)}Te(){if(this.Ox||this.scale.Yx()){const t=om(this.Vx,this.scale),e=gl(t);this.od.clear().add(t),this.Na.Yo(e),this.Ox=!1,this.Na.Ps()}}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{fill:this.be}),this}Cs(){return this.bs||this.getPointShape()}}class tv{constructor(t,e,i,s){this.D=new Ir,this.uT=!1,this.Ji=t,this.cT=e,this.xS=i,this.Na=s}setGeometry(t){return this.dT=t,this.uT=!0,this.Ji.us.Ss(),this}getGeometry(){return this.dT}setMouseInteractions(t){return this.Na.setMouseInteractions(t),this}dispose(){return this.Na.dispose(),this.cT(this),this.D.emit("dispose",this),this}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}setVisible(t){const e=this.Na.getVisible()!==t;return this.Na.setVisible(t),e&&this.D.emit("visibleStateChanged",this,t),this.Ji.us.Ss(),this}getVisible(){return this.Na.getVisible()}onVisibleStateChanged(t){return this.D.on("visibleStateChanged",t)}offVisibleStateChanged(t){return this.D.off(t,"visibleStateChanged")}}class ev extends nm{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n,o),this.xs="Polygon Series",this.fT=[],this.AT=[],this.Wy=rm,this.gT=t=>{const e=this.AT.indexOf(t);e>=0&&this.AT.splice(e,1);const i=this.fT.findIndex((e=>e===t.Na));i>=0&&this.fT.splice(i,1),this.ks.Ss()},this.be=Da(this.qi.polarPolygonSeriesFillStyle,r),this.xe=Da(this.qi.polarPolygonSeriesStrokeStyle,r)}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}addPolygon(){const t=new tv(this.Ji,this.gT,this,this.mT());return this.AT.push(t),t}setFillStyle(t){this.be="function"==typeof t?t(this.be):t;const e=this.be;for(const i of this.fT)i.Ce(e);return this.ks.Ss(),this}getFillStyle(){return this.be}setStrokeStyle(t){this.xe="function"==typeof t?t(this.xe):t;const e=this.xe;for(const i of this.fT)i.we(e);return this.ks.Ss(),this}getStrokeStyle(){return this.xe}Kp(){return this.tS&&void 0!==this.AT.find((t=>void 0!==t.yT))&&this.getVisible()}Te(){this.AT.forEach((t=>{(t.uT||this.scale.Yx())&&t.pT&&(t.Na.pl(om(t.pT,this.scale)),t.uT=!1,t.Na.Ps())}))}oS(){super.oS();const t=Br($a,tl);this.AT.forEach((e=>{if(!e.dT)return;const i=!e.uT&&e.pT?e.pT:lm(e.dT);e.pT=i;const s=!e.uT&&e.yT?e.yT:am(i);e.yT=s,t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max)})),this.Bx=t}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){const i=_m(t,this.fT,((t,e)=>{const i=t.Hc(e);if(i)return Lo(i,this.scale,t.us.dt)}),ul);if(!i)return;const s=Lo(i[0],i[1].us.dt,this.scale),n=this.ST(i[1]);if(!n)return;const{angle:r,amplitude:o}=hm(s,this.scale);return{location:s,scale:this.scale,resultTableContent:this.Wy(new xp,this,r,o,this.Ji.getAmplitudeAxis().formatValue).Zu(),owner:this,fillStyle:this.be,polarPolygon:n}}solveNearestFromScreen(t){return this.Hc(mf(t,this.Ji.us),!1)}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{fill:this.be,stroke:this.xe}),this}mT(){const t=this.ks.ic(this.scale,Eu.Simple).Ce(this.be).we(this.xe).cs(this.getHighlight());return this.fT.push(t),this.ds(t),t}ST(t){return this.AT.find((e=>e.Na===t))}}class iv extends nm{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n,o),this.xs="Area Series",this.Vx=[],this.Ox=!1,this.Nx=!1,this.vT=!1,this.Wy=rm,this.be=Da(this.qi.polarAreaSeriesFillStyle,r),this.xe=Da(this.qi.polarAreaSeriesStrokeStyle,r)}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}setData(t){0!==this.Vx.length&&this.Ji.us.Nn(xf.vf);const e=(t=>{const e=[];let i,s,n=!1;for(let r=0;r<t.length;r+=1){const o=t[r];let a=!0;if(i){a=!1;const t=o.angle-i.angle;if(qo(t,0))a=!0;else{const e=Math.sign(t);void 0===s?(s=e,a=!0):s===e&&(a=!0)}}a?e.push(o):n=!0,i=o}return{progressivePoints:e,userDataModified:n}})(t);return e.userDataModified&&!1===this.vT&&(console.warn("".concat(this.xs," setData data format is faulty. Consecutive 'angle' values should progress in the same direction! Invalid data points have been removed.")),this.vT=!0),this.Vx=e.progressivePoints,this.Ox=!0,this.Bx=am(this.Vx),this.ks.Ss(),this}setFillStyle(t){return this.be="function"==typeof t?t(this.be):t,this.ks.Ss(),this}getFillStyle(){return this.be}setStrokeStyle(t){return this.xe="function"==typeof t?t(this.xe):t,this.ks.Ss(),this}getStrokeStyle(){return this.xe}setConnectDataAutomaticallyEnabled(t){return this.Nx=t,this.ks.Ss(),this}getConnectDataAutomaticallyEnabled(){return this.Nx}Kp(){return this.tS&&this.Vx.length>0&&this.getVisible()}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{fill:this.be,stroke:this.xe}),this}}class sv extends iv{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n,r,o),this.bT=this.ks.ic(this.scale,Eu.Simple).cs(this.getHighlight()),this.ds(this.bT)}Te(){if(this.Ox||this.scale.Yx()){const t=this.Vx,e=!0===this.Nx?om(t.concat((t=>{if(0===t.length)return t;const e=t[0],i=t[t.length-1];if(qo(e.angle,i.angle))return t;const s=1*Math.sign(i.angle-e.angle);let n=0;const r=[];for(let o=i.angle+s;!qo(o%360,e.angle%360);o+=s)if(r.push({angle:o,amplitude:0}),n+=1,n>360)return[];for(let o=0;o<r.length;o+=1)r[o].amplitude=td(i.amplitude,e.amplitude,(o+1)/(r.length+1));return r})(t)),this.scale):[...om(t,this.scale),{x:0,y:0}];this.bT.pl(e).Ce(this.be).we(this.xe),this.Ox=!1,this.bT.Ps()}}Ie(t,e){t.cs(e),this.ks.Ss()}Hc(t,e){const i=this.bT.Hc(t);if(!i)return;const{angle:s,amplitude:n}=hm(i,this.scale);return Np(i,this.scale,this.Wy(new xp,this,s,n,this.Ji.getAmplitudeAxis().formatValue).Zu(),this,this.be)}solveNearestFromScreen(t){return this.Hc(mf(t,this.Ji.us),!1)}}class nv extends th{constructor(){super(...arguments),this.Gi="RadialScale",this.xT={start:0,end:1},this.MT=!1,this._T=0,this.X=Lr(0,0),this.wT=[0,0],this.CT=[0,0],this.i=!0,this.vi=!0,this.kT=!0,this.TT=!0,this.FT={x:0,y:0},this.di={x:{displacement:0,scaling:0,highPrecisionOffset:0},y:{displacement:0,scaling:0,highPrecisionOffset:0}}}yx(t,e){return t===this.xT.start&&e===this.xT.end||(this.xT={start:t,end:e},this.kT=!0,this.IT()),this}mx(){return this.xT}gx(){return this.xT.end>=this.xT.start}wx(t){this.MT=t,this.TT=!0}kx(){return!1===this.MT}Cx(t){this._T=t,this.TT=!0}xx(){return this._T}yi(){return this.vi}_i(){return!1}ot(t,e,i,s){return this.x=new Ql(t.x,e.x,i.x,s?s.x:void 0),this.y=new Ql(t.y,e.y,i.y,s?s.y:void 0),this}pi(){return this.di}Yx(){return this.kT}PT(){return this.TT}Wi(){return this.FT}j(){return this.i=!1,this.vi=!1,this.kT=!1,this.TT=!1,this}Z(){return this.i=!0,this.vi=!0,this.kT=!0,this.TT=!0,this}q(t,e){return"object"==typeof t?(this.X.x=t.x,this.X.y=t.y):(this.X.x=t,this.X.y=e),this.IT(),this}Ei(t){return this.wT=t,this.IT(),this}zi(t){return this.CT=t,this.IT(),this}ni(){return Lr(this.wT[0]+this.wT[1],this.CT[0]+this.CT[1])}oi(){return this.X}IT(){const t=this.xT,e=Lr(this.x.ai(this.X.x),this.y.ai(this.X.y)),i=this.wT[0]+this.wT[1],s=this.CT[0]+this.CT[1],n=Math.max(e.x-i,0),r=Math.max(e.y-s,0),o=.5*(n>r?r:n),a=[this.wT[0]+Math.max((n-2*o)/2,0),this.wT[1]+Math.max((n-2*o)/2,0)],l=[this.CT[0]+Math.max((r-2*o)/2,0),this.CT[1]+Math.max((r-2*o)/2,0)],h=Math.abs(t.end-t.start);this.x.q(this.X.x).si(a).J(-h,h),this.y.q(this.X.y).si(l).J(-h,h),this.FT={x:this.x.getPixelSize(),y:this.y.getPixelSize()},this.di={x:this.x.pi(),y:this.y.pi()},this.Z()}mi(t,e){const i=this.Wi();return{x:t.x+e.x*i.x,y:t.y+e.y*i.y}}Ui(t,e,i,s){const n=this.Wi(),r=wl(t,e);return r.x*=s,r.y*=s,{x:t.x+i*n.x*r.x,y:t.y+i*n.y*r.y}}}class rv extends mg{constructor(t,e,i,s,n,r,o){super(t,e,i,e.vm("polarChart bg",0),s,e.us.qi.polarChartBackgroundFillStyle,e.us.qi.polarChartBackgroundStrokeStyle,e.us.qi.polarChartTitleFont,e.us.qi.polarChartTitleFillStyle,o),this.coordsClient="client",this.Jf=[],this.Bo=!0,this.Gy=fp.onHover,this.DT=(t,e,i,s,n)=>{this.Jb.q(s,n)},this.tA=ba(this.Jf),this.BT=t=>{this.Jf.push(t)},this.LT=()=>this.xS,this.us.Nn(xf.cf),this.Gk=e.ob("polarChart series bg",0),this.RT=e.$y("polarChart axis gridlines",0),this.ET=e.$y("polarChart series",1),this.zT=e.$y("polarChart axis lines",2),this.VT=e.$y("polarChart axis ticks",3),this.Jb=i.d2({scaleXYConstructor:nv}),this.onResize(this.DT),this._m.Rh("Polar Chart"),this.FS=this.Gk.Jc(this.Jb).Ce(this.qi.polarChartSeriesBackgroundFillStyle).we(Eo).eu(0).ze(360).ou(0),this.IS=this.Gk.Jc(this.Jb).Ce(ro).we(this.qi.polarChartSeriesBackgroundStrokeStyle).eu(0).ze(360).ou(0),super.TS(this.FS,this.IS),this.Sm(n,this.pixelScale),this.OT=new Kg(this,this.Jb,this.qi,!0!==(null==r?void 0:r.disableAnimations)&&!1!==(null==r?void 0:r.animationsEnabled),this.RT,this.zT,this.VT,this.es,this.LT),this.NT=new Qg(this,this.Jb,this.qi,!0!==(null==r?void 0:r.disableAnimations)&&!1!==(null==r?void 0:r.animationsEnabled),this.RT,this.zT,this.VT,this.es),this.coordsAxis={axisAmplitude:this.OT,axisRadial:this.NT},this.jy=e.Zy();const a=Zo(r?r.autoCursorBuilder:void 0,Lp);this.Pm=a.uy(this.jy,this.uiScale,this.uiScale,this.qi),pp.Dm(this),this.LS(((t,e)=>{pp.Bm(this,e)})),this.setAnimationsEnabled(!0!==(null==r?void 0:r.disableAnimations)&&!1!==(null==r?void 0:r.animationsEnabled))}getSeries(){return this.xS}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}solveNearest(t){const e=t||this.us.On();if(e)return pp.Hc(this,mf(e,this.us),this.xS)}translateCoordinate(t,e,i){if(i){const e=t,s=this.pixelScale,n=i;if(nh(n)){const t=Lo(e,s,this.engine.scale);return this.us.Do({engineX:t.x,engineY:t.y})}if(oh(n))return e;if(em(n)){const t=Lo(e,s,this.Jb);return hm(t,this.Jb)}}else{const i=t,s=e;if(rh(i)){if(em(s)){const t=this.us.Po(i),e=Lo({x:t.engineX,y:t.engineY},this.engine.scale,this.Jb);return hm(e,this.Jb)}if(nh(s))return i;if(oh(s)){const t=this.us.Po(i);return Lo({x:t.engineX,y:t.engineY},this.us.dt,this.pixelScale)}}else if((t=>!!(t&&"object"==typeof t&&"angle"in t&&"number"==typeof t.angle&&"amplitude"in t&&"number"==typeof t.amplitude))(i)){if(em(s))return i;const t=om([i],this.Jb)[0];if(nh(s)){const e=Lo(t,this.Jb,this.engine.scale),i={engineX:e.x,engineY:e.y};return this.us.Do(i)}if(oh(s))return Lo(t,this.Jb,this.pixelScale)}}throw new Error("translateCoordinate unexpected error. Input or target coordinate system not recognized.")}addLineSeries(t){const e=new dm(this.ET,this,this._S,this.Jb,this.qi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addPointSeries(t){const e=new $y(this.ET,this,this._S,this.Jb,this.qi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addPointLineSeries(t){const e=new fm(this.ET,this,this._S,this.Jb,this.qi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addAreaSeries(t){const e=new sv(this.ET,this,this._S,this.Jb,this.qi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addPolygonSeries(t){const e=new ev(this.ET,this,this._S,this.Jb,this.qi,void 0!==(null==t?void 0:t.automaticColorIndex)?t.automaticColorIndex:this.xS.length,this.us.es);return this.PS(e),e}addHeatmapSeries(t){const e=new cm(this.ET,this,this._S,this.Jb,this.qi,this.us.es,t);return this.PS(e),e}addSector(){const t=new im(this.ET,this,this.tA,this.Jb,this.qi,this.us.es);return this.BT(t),t}getAmplitudeAxis(){return this.OT}get amplitudeAxis(){return this.OT}get axisAmplitude(){return this.OT}getRadialAxis(){return this.NT}get radialAxis(){return this.radialAxis}get axisRadial(){return this.radialAxis}Te(t){var e,i;super.Te(t),dp.Fm(this._m,this.bm);for(const o of this.xS)o.oS();this.OT.Mr(),this.NT.Mr();for(const o of this.xS)o.Te();for(let o=1;o<=2;o+=1){const t=this.OT.Te(),e=this.NT.Te(),i=dp.Tm(this._m,this.bm),s=[this.ya.left+e,this.ya.right+e],n=[this.ya.bottom+e,this.ya.top+e+i];this.Jb.Ei(s).zi(n);const r=4;if(!(!this.GT||Math.abs(this.GT.amplitude-t)>=r||Math.abs(this.GT.radial-e)>=r)||1!==o){this.GT={amplitude:t,radial:e};break}}const s=this.Jb.mx().start,n=this.Jb.mx().end,r=this.Jb.gx()?((null===(e=this.GT)||void 0===e?void 0:e.radial)||0)*this.Jb.x.getPixelSize()+n-s:((null===(i=this.GT)||void 0===i?void 0:i.radial)||0)*this.Jb.x.getPixelSize()+s-n;this.FS.hu(r).au(360),this.IS.hu(r).au(360);for(const o of this.Jf)o.Te();pp.Im(this,this.FS.getIsUnderMouse(),!1,this.xS,(t=>pp.Hc(this,t,this.xS)),((t,e)=>t.Hc(e,!0)));for(const o of this.xS)o.dp();return super.pm(),this.WT(),this}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.OT.setAnimationsEnabled(t),this.NT.setAnimationsEnabled(t),this}setMouseInteractions(t){return this.Bo=t,this}getMouseInteractions(){return this.Bo}getMinimumSize(){return Lr(ov,ov)}WT(){}forEachAxis(t){return t(this.OT),t(this.NT),this}dispose(){return this.Jf.slice().forEach((t=>t.dispose())),this.Pm.dispose(),this.Gk.W(),this.RT.W(),this.ET.W(),this.zT.W(),this.VT.W(),this.jy.W(),super.dispose()}Zd(){return[...this.xS,...this.Jf]}}const ov=300;class av extends Hp{}class lv extends av{constructor(t,e,i,s,n,r,o,a){super(s,r,o,a),this.xs="Slice",this.u=0,this.gy=!1,this.UT=ro,this.yy=ro,this.py=this.u,this.by=yo((()=>this.Ji.us.Ss())),this.My=()=>{this._y=void 0},this.index=t,this.Ji=s,this.scale=n,this.Ki=r,this.bT=e.ic(n,Eu.Simple).cs(this.getHighlight()),this.ds(this.bT),this.Ue=i.Pr(n).cs(this.getHighlight()),this.ds(this.Ue,{isText:!0})}setValue(t){return this.Ji.getAnimationsEnabled()?this.getVisible()&&this.Ty(this.py,t):this.py=t,this.u=t,this.Ji.us.Ss(),this}getValue(){return this.u}setVisible(t){return!1===t?this.Ji.getAnimationsEnabled()&&this.py>0?(this._y&&(this._y.finish(!1),this._y=void 0),this.Ty(this.py,0,(()=>super.setVisible(!1)))):(this.py=0,super.setVisible(!1)):this.Ji.getAnimationsEnabled()?(this._y&&(this._y.finish(!1),this._y=void 0),super.setVisible(!0),this.Ty(this.py,this.u)):(this.py=this.u,super.setVisible(!0)),this}Ty(t,e,i){this._y=this.by(300,go.ease)([[t,e]],(t=>{let[e]=t;this.py=e,this.Ji.us.Ss()})),this._y.onEveryAnimationEnd(this.My),i&&this._y.onAnimationEnd(i)}setStyle(t,e,i,s){this.UT=t,this.yy=i,this.bT.Ce(this.UT).we(e),this.Ue.Ce(this.yy).Oh(s);for(let n=0;n<this.Qi.length;n+=1)this.styleAttachedEntry(this.Qi[n])}getAnimatedValue(){return this.py}Ie(t,e){return t.cs(e),this.Ji.us.Ss(),this}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),this.styleAttachedEntry(t,e,i),this}styleAttachedEntry(t){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ta(t,this.qi,e,{fill:this.UT,stroke:this.bT.ao()})}}var hv;!function(t){t[t.VariableHeight=0]="VariableHeight",t[t.VariableWidth=1]="VariableWidth"}(hv||(hv={}));const cv=(t,e)=>{let i=100;return t<=0?t=0:(i=t>=100?100:t,t=e*(i/100)),t},uv=function(t,e,i,s,n){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:hv.VariableHeight,a=arguments.length>7?arguments[7]:void 0;e=cv(e,s.x),i=cv(i,s.x);const l=t.length;let h=0,c=0;h=t.reduce(((t,e)=>t+e.getAnimatedValue()),0);let u={x:a-e/2,y:s.y+n.bottom},d={x:a+e/2,y:s.y+n.bottom},f={x:0,y:n.bottom},p={x:0,y:n.bottom},g=0,m=0;if(r)for(let v=0;v<t.length;v+=1){const e=10;m+=t[v].getAnimatedValue();const i=o===hv.VariableWidth?(s.y-r*l)/l:s.y+n.bottom-m/h*s.y;if(o===hv.VariableWidth){r=i-r<e?Math.max(20,i-e):r;break}0!==g&&g-i-r<e&&(r=Math.max(0,g-i-e)),g=i}const y=(e-i)/2/s.y;for(let v=0;v<l;v+=1){const g=t[v];c+=g.getAnimatedValue();const m=o===hv.VariableWidth?(s.y-r*l)/l:s.y+n.bottom-c/h*s.y;let b=0;v>0&&(u={x:f.x+y*r,y:f.y-r},d={x:p.x-y*r,y:p.y-r}),b=(e+c/h*(i-e))/2,f={x:a-b,y:parseInt("".concat(o===hv.VariableWidth?u.y-m:m),10)},p={x:a+b,y:parseInt("".concat(o===hv.VariableWidth?d.y-m:m),10)},d.x>=u.x&&p.x>f.x&&g.bT.pl([f,u,d,p])}};class dv extends up{constructor(t,e,i,s,n,r,o){super(t,e,i,e.vm("funnelChart bg",0),s,e.us.qi.funnelChartBackgroundFillStyle,e.us.qi.funnelChartBackgroundStrokeStyle,e.us.qi.funnelChartTitleFont,e.us.qi.funnelChartTitleFillStyle,r),this.Fy=[],this.Iy=Bp,this.By=!0,this.Ey=0,this.YT=80,this.HT=20,this.$T=0,this.XT=hv.VariableHeight,this.Oy=!0,this.Gy=fp.onHover,this.Wy=Up,this.Uy=t=>{const e=this.Fy.indexOf(t);e>=0&&(this.Fy.splice(e,1),this.Yy())},this.us.Nn(xf.af),this.Ny=this.qi.effectsText,this.Hy=e.$y("funnelChart bottom",0),this.Xy=e.$y("funnelChart top",1),this._m.Rh("Funnel Chart"),this.Py=this.qi.funnelChartSliceFillStylePalette,this.Dy=this.qi.funnelChartSliceStrokeStyle,this.Ly=this.qi.funnelChartSliceLabelFont,this.Ry=this.qi.funnelChartSliceLabelFillStyle,this.jy=e.Zy();const a=Zo(o?o.autoCursorBuilder:void 0,Dp);this.Pm=a.uy(this.jy,this.uiScale,this.uiScale,this.qi),this.setAnimationsEnabled(!0!==(null==o?void 0:o.disableAnimations)&&!1!==(null==o?void 0:o.animationsEnabled)),this.Sm(n,this.pixelScale)}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}setCursorResultTableFormatter(t){return this.Wy=t,this.us.Ss(),this}addSlice(t,e){const i=new lv(this.Ey,this.Hy,this.Xy,this,this.pixelScale,this.Uy,this.qi,this.us.es);return this.Ey+=1,i.setName(t),i.setValue(e),i.es.rs.ps(this.Ny),i.es.ns.ps(this.Oy),this.Fy.push(i),this.us.Ss(),i.setHighlightOnHover(this.By),i.onMouseMove((()=>{this.Gy&&this.us.Ss()})),i}addSlices(t){const e=[];for(let i=0;i<t.length;i+=1)e.push(this.addSlice(t[i].name,t[i].value));return e}getSlices(){return this.Fy}setHeadWidth(t){return this.YT=t,this.us.Ss(),this}getHeadWidth(){return this.YT}setNeckWidth(t){return this.HT=t,this.us.Ss(),this}getNeckWidth(){return this.HT}setSliceGap(t){return this.$T=Math.min(Math.max(t,0),20),this.us.Ss(),this}setSliceMode(t){return this.XT=t,this.us.Ss(),this}getFunnelSliceMode(){return this.XT}setLUT(t){return this.Nd=t,this.us.Ss(),this}setSliceFillStyle(t){return this.Py=t,this.us.Ss(),this}getSliceFillStyle(){return this.Py}setSliceStrokeStyle(t){return this.Dy="function"==typeof t?t(this.Dy):t,this.us.Ss(),this}getSliceStrokeStyle(){return this.Dy}setSliceEffect(t){return this.Oy=t,this.Fy.forEach((e=>e.es.ns.ps(t))),this.us.Ss(),this}getSliceEffect(){return this.Oy}setSliceSorter(t){return this.Iy=t,this.Fy=this.Fy.sort(this.Iy),this.us.Ss(),this}getSliceSorter(){return this.Iy}setLabelFillStyle(t){return this.Ry="function"==typeof t?t(this.Ry):t,this.us.Ss(),this}getLabelFillStyle(){return this.Ry}setLabelFont(t){return this.Ly="function"==typeof t?t(this.Ly):t,this.us.Ss(),this}getLabelFont(){return this.Ly}setLabelEffect(t){return this.Ny=t,this.Fy.forEach((e=>e.es.rs.ps(t))),this.us.Ss(),this}getLabelEffect(){return this.Ny}setLabelFormatter(t){return this.Jy=t,this.us.Ss(),this}getLabelFormatter(){return this.Jy}setSliceHighlightOnHover(t){return this.By=t,this.Fy.forEach((e=>e.setHighlightOnHover(t))),this}Te(t){super.Te(t),dp.Fm(this._m,this.bm),super.pm();const e=dp.Tm(this._m,this.bm),i=Lr(this.pixelScale.x.getInnerInterval()-(this.ya.left+this.ya.right),this.pixelScale.y.getInnerInterval()-(this.ya.bottom+this.ya.top+e)),s=Lr(this.ya.left+i.x/2,this.ya.bottom+i.y/2);this.Fy=this.Fy.sort(this.Iy);for(let l=0,{length:h}=this.Fy;l<h;l+=1)this.Qy(this.Fy[l],l);const n=this.Fy.filter((t=>t.getAnimatedValue()>0));let r=0;for(let l=0;l<n.length;l+=1)r+=n[l].getAnimatedValue();const o=[];for(let l=0;l<n.length;l+=1)o.push((a=n[l].getAnimatedValue())>0?a/r:0);var a;for(let l=0;l<n.length;l+=1){const t=n[l];t.Ue.Rh(this.Jy(t,o[l])).Ps()}o.push(r),pp.Im(this,!1,!1,this.Fy,void 0,((t,e)=>Np(e,this.engine.scale,this.Wy(new xp,this,t,o[n.indexOf(t)]||0).Zu(),t,void 0))),this.Ky(n,o,s,i)}Qy(t,e){t.setStyle(this.Nd?new ho({color:this.Nd.getColors(t.getAnimatedValue())}):this.Py(e,t),this.Dy,this.Ry,this.Ly)}Yy(){this.Fy=this.Fy.sort(this.Iy),this.us.Ss()}Zd(){return this.Fy}dispose(){return this.Fy.slice().forEach((t=>t.dispose())),this.Pm.dispose(),this.Hy.W(),this.Xy.W(),this.jy.W(),super.dispose()}}const fv=(t,e,i)=>{const s=t.Sl();if(s.length>0){let t;const n=(s[1].y-s[0].y)/2+s[0].y;return t=e===gv.Left?(s[0].x-s[1].x)/2+s[1].x-i:(s[2].x-(4===s.length?s[3].x:s[1].x))/2+(4===s.length?s[3].x:s[1].x)+i,{x:t,y:n}}};class pv extends dv{constructor(){super(...arguments),this.Jy=Op,this.jT=10,this.ZT=gv.Left,this.QT=_p.LabelsOnSides,this.qy=[],this.ep=this.qi.funnelChartConnectorStrokeStyle}setLabelConnectorStyle(t){this.ep=t;for(let e=0;e<this.qy.length;e+=1)this.qy[e].Re(this.ep);return this.us.Ss(),this}getLabelConnectorStyle(){return this.ep}setLabelConnectorGap(t){return this.jT=t,this.us.Ss(),this}getLabelConnectorGap(){return this.jT}setLabelSide(t){return this.ZT=t,this.us.Ss(),this}getLabelSide(){return this.ZT}Ky(t,e,i,s){const n=this.jT;let r=0;for(let c=0;c<t.length;c+=1)r=Math.max(r,t[c].Ue.oi().x);const o=s.x+this.ya.left+this.ya.right,a=this.ZT===gv.Right?(this.ya.left+(o-(this.ya.right+r)))/2:(this.ya.left+r+(o-this.ya.right))/2,l=s.x-r,h=Lr(l,s.y);uv(t,this.YT,this.HT,h,this.ya,this.$T,this.XT,a),this.JT(t,this.ZT===gv.Left?-1:1,-1,i,s);for(let c=0;c<this.qy.length;c+=1)this.qy[c].setVisible(!1);for(let c=0;c<t.length;c+=1)t[c].getVisible()&&this.hp(this.KT(t[c],-1,i,n))}getMinimumSize(){return Lr(500,300)}JT(t,e,i,s,n){if(0===t.length)return;const r=s.x+e*n.x*.5,o=1===i?Math.max:Math.min;let a;for(let l=0;l<t.length;l+=1){const s=t[l];if(0===s.bT.Sl().length)s.Ue.setVisible(!1);else{let t;s.Ue.setVisible(!0),a&&(t=a.Ue.Fa().y+i*(a.Ue.oi().y+10));const n=(fv(s.bT,this.ZT,0)||Lr(0,0)).y,l=void 0===t?n:o(n,t);s.Ue.Fe(Lr(r,l)).Da(e).La(0),a=s}}}KT(t,e,i,s){const n=t.bT,r=t.Ue,o=fv(n,this.ZT,s);if(o){const t={x:Fl(this.ZT===gv.Left?r.Fa().x-e*(s+r.oi().x):r.Fa().x+e*(s+r.oi().x),o,i).x,y:Dl(r.Fa().y,o,i).y};return[o,t,Lr(this.ZT===gv.Left?r.Fa().x-e*(s+r.oi().x):r.Fa().x+e*(s+r.oi().x),t.y)]}}hp(t){if(t){let e;for(let t=0;t<this.qy.length;t+=1)if(!this.qy[t].getVisible()){e=this.qy[t].setVisible(!0);break}void 0===e&&(e=this.Xy.rp(this.pixelScale,void 0,[Kp.InternalUI]).Re(this.ep),this.qy.push(e)),e.Nt().nl(t)}}}var gv,mv;!function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"}(gv||(gv={}));class yv extends up{constructor(t,e,i,s,n,r,o){super(t,e,i,e.vm("gaugeChart bg",0),s,e.us.qi.gaugeChartBackgroundFillStyle,e.us.qi.gaugeChartBackgroundStrokeStyle,e.us.qi.gaugeChartTitleFont,e.us.qi.gaugeChartTitleFillStyle,r),this.Fy=[],this.Uy=t=>{const e=this.Fy.indexOf(t);e>=0&&this.Fy.splice(e,1)},this.us.Nn(xf.lf),this.ks=e.$y("gaugeChart layer",0),this.Xy=e.$y("gaugeChart top layer",1),this._m.Rh("Gauge Chart"),this.Sm(n,this.pixelScale);const a=dh();this.onBackgroundTouchStart(a.onTouchStart),this.onBackgroundTouchMove(a.onTouchMove),this.onBackgroundTouchEnd(a.onTouchEnd),this.setAnimationsEnabled(void 0===o||o)}dispose(){return this.ks.W(),this.Xy.W(),this.Fy.slice().forEach((t=>t.dispose())),super.dispose()}}class vv extends yv{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n,r,o),this.Xl=90,this.jl=-270,this.qT={min:this.Xl,max:this.jl},this.tF=yo((()=>this.ks.Ss())),this.iF=()=>{this.sF=void 0},this.eF=e.$y("radialGaugeChart bg arc",2),this.hF=this.ks.Jc(this.pixelScale).Ce(this.qi.gaugeChartEmptyGaugeFillStyle).we(this.qi.gaugeChartEmptyGaugeStrokeStyle)}setAngleInterval(t,e){t===e?e-=360:Math.abs(e-t)>360&&(e-=(e-t)%360);const i=this.Xl,s=this.jl,n=this.qT;return this.getAnimationsEnabled()?this.rF(n,{min:t,max:e}):(n.min=t,n.max=e,this.Xl=t,this.jl=e),this.D.emit("angleIntervalChange",this,{min:i,max:s},{min:t,max:e}),this.us.Ss(),this}getAngleInterval(){return{min:this.Xl,max:this.jl}}setGaugeFillStyle(t){return this.hF.Ce(t),this.us.Ss(),this}setGaugeStrokeStyle(t){return this.hF.we(t),this.us.Ss(),this}rF(t,e,i){this.sF=this.tF(1e3,go.ease)([[t.min,e.min],[t.max,e.max]],(t=>{let[e,i]=t;this.qT={min:e,max:i},this.Xl=e,this.jl=i,this.ks.Ss()})),this.sF.onEveryAnimationEnd(this.iF),i&&this.sF.onAnimationEnd(i)}onAngleIntervalChange(t){return this.D.on("angleIntervalChange",t)}offAngleIntervalChange(t){return this.D.off(t,"angleIntervalChange")}dispose(){return super.dispose(),this.eF.W(),this}}class bv extends Hp{nF(t){return this.D.on("valueChange",t)}oF(t){return this.D.on("valueIntervalChange",t)}offValueChange(t){return this.D.off(t,"valueChange")}offIntervalChange(t){return this.D.off(t,"valueIntervalChange")}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),this.styleAttachedEntry(t,e,i),this}styleAttachedEntry(t){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ta(t,this.qi,e,{fill:this.aF})}}class xv extends bv{onValueChange(t){return this.nF(t)}onIntervalChange(t){return this.oF(t)}}class Sv extends xv{constructor(t,e,i,s,n,r,o){super(i,n,r,o),this.Xl=0,this.jl=0,this.lF=0,this.uF=0,this.cF=0,this.dF=100,this.fF=!0,this.py=this.u,this.vy=this.getVisible(),this.by=Ga(),this.AF=t=>{this.py=t,this.Ji.us.Ss()},this.gF=t,this.Dr=e,this.Ji=i,this.scale=s,this.aF=this.qi.gaugeChartGaugeFillStyle,this.ky=t.Jc(s).Ce(this.aF).we(Eo).cs(this.getHighlight()),this.ds(this.ky),this.mF=e.Pr(s).cs(this.getHighlight()),this.ds(this.mF,{isText:!0}),this.yF=e.Pr(s).cs(this.getHighlight()),this.ds(this.yF,{isText:!0}),this.Ue=e.Pr(s).cs(this.getHighlight()),this.ds(this.Ue,{isText:!0}),this.mF.Ce(r.gaugeChartIntervalLabelsFillStyle).Oh(r.gaugeChartIntervalLabelsFont),this.yF.Ce(r.gaugeChartIntervalLabelsFillStyle).Oh(r.gaugeChartIntervalLabelsFont),this.Ue.Ce(r.gaugeChartValueLabelFillStyle).Oh(r.gaugeChartValueLabelFont),this.setName("Gauge Slice")}Te(){const t=this.Ji.getDataLabelFormatter(),e=this.Xl/90<this.jl/90?1:-1;let i=this.Ji.getAnimationsEnabled()?this.py:this.u;const[s,n]=this.cF<this.dF?[this.cF,this.dF]:[this.dF,this.cF];i<s?i=s:i>n&&(i=n);const r=this.jl-e*this.uF,o=this.Xl+e*this.lF,a=this.dF-this.cF,l=(0!==a?(r-o)/a:1/0)*(i-this.cF);this.ky.eu(o).ze(o+l);const h="function"==typeof t?t(i,{getInnerStart:()=>s,getInnerEnd:()=>n}):t.format(i);this.Ue.Rh(h)}pF(){const t=this.Ji.getIntervalLabelFormatter(),e="function"==typeof t?t(this.cF,{getInnerStart:()=>this.cF,getInnerEnd:()=>this.dF}):t.format(this.cF);return this.mF.Rh(e).Ps(),this.mF.oi()}SF(){const t=this.Ji.getIntervalLabelFormatter(),e="function"==typeof t?t(this.dF,{getInnerStart:()=>this.cF,getInnerEnd:()=>this.dF}):t.format(this.dF);return this.yF.Rh(e).Ps(),this.yF.oi()}setName(t){return super.setName(t),this.Ji.us.Ss(),this}setValue(t){const e=this.u;return this.Ji.getAnimationsEnabled()?this.vy&&this.by(e,t,this.AF):this.py=t,this.u=t,this.D.emit("valueChange",this,e,t),this.Ji.us.Ss(),this}getValue(){return this.u}setVisible(t){return this.vy=t,!1===t?this.Ji.getAnimationsEnabled()&&this.py>0?this.by(this.py,0,this.AF,{onCompleted:()=>super.setVisible(!1)}):(this.py=0,super.setVisible(!1)):this.Ji.getAnimationsEnabled()?(super.setVisible(!0),this.by(this.py,this.u,this.AF)):(this.py=this.u,super.setVisible(!0)),this}setInterval(t,e){const i=this.cF,s=this.dF;return this.D.emit("valueIntervalChange",this,{min:i,max:s},{min:t,max:e}),this.cF=t,this.dF=e,this.Ji.us.Ss(),this}setIntervalLabelsFont(t){return this.mF.Oh(t),this.yF.Oh(t),this.Ji.us.Ss(),this}getIntervalLabelsFont(){return this.mF.Vh()}setIntervalLabelsFillStyle(t){return this.mF.Ce(t),this.yF.Ce(t),this.Ji.us.Ss(),this}getIntervalLabelsFillStyle(){return this.mF.Eh()}setIntervalLabelsVisible(t){return t?(this.mF.setVisible(!0),this.yF.setVisible(!0)):(this.mF.setVisible(!1),this.yF.setVisible(!1)),this.fF=t,this}getIntervalLabelsVisible(){return this.fF}setAngleInterval(t,e){return this.Xl=t,this.jl=e,this.Ji.us.Ss(),this}setMinAngle(t){return this.Xl=t,this.Ji.us.Ss(),this}setMaxAngle(t){return this.jl=t,this.Ji.us.Ss(),this}setMarginInDegrees(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.lF,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.uF;return t!==this.lF&&(this.lF=t),e!==this.uF&&(this.uF=e),this.Ji.us.Ss(),this}setFillStyle(t){this.aF="function"==typeof t?t(this.aF):t;const e=this.aF;this.ky.Ce(e);for(let i=0;i<this.Qi.length;i+=1)this.styleAttachedEntry(this.Qi[i]);return this.Ji.us.Ss(),this}vF(t){return this.Ue.Ce(t),this.Dr.Ss(),this}bF(){return this.Ue.Eh()}getAnimatedValue(){return this.py}}function Av(t,e,i,s,n){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.floor(Math.sqrt(s>n?25*s:25*n));const o=Array(r+2),a=Math.PI;let l=0,h=0;const c=e*a/180,u=(i*a/180-c)/r;for(o[l]=Lr(t.x,t.y),l+=1;l<=r+1;)o[l]=Lr(t.x+s*Math.cos(c+h*u),t.y+n*Math.sin(c+h*u)),l+=1,h+=1;return[o,r]}class wv extends vv{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n,r,o),this.Vd=20,this.xF=new Intl.NumberFormat,this.MF=new Intl.NumberFormat,this._F=!1,this.wF=5;const a=new Sv(this.ks,this.Xy,this,this.pixelScale,this.Uy,this.qi,this.us.es);this.CF=a,this.Fy.push(a),this.setPadding(10)}Te(t){super.Te(t),dp.Fm(this._m,this.bm),super.pm();const e=dp.Tm(this._m,this.bm),i=gl([this.CF.pF(),this.CF.SF()]),s=Lr(this.pixelScale.x.getInnerInterval()-(this.ya.left+this.ya.right+2*i.max.x),this.pixelScale.y.getInnerInterval()-(this.ya.bottom+this.ya.top+1*i.max.y+e)),n=Math.max(.5*Math.min(s.x,s.y),0),r=Lr(this.ya.left+i.max.x+.5*s.x,this.ya.bottom+i.max.y+.5*s.y),o=this._F?this.kF(r,n):r,a=this.hF.xe.getThickness(),l=n-.5*a,h=n-this.Vd;let c=h/n*100;c=c>100||c<0?99:c;const u=100*(1-(this.Vd-a)/n);this.TF(o,h)&&(this.hF.hu(n).ou(c),this.CF.ky.hu(l).ou(u));const d=.5*(f=n,(p=this.jl-this.Xl)/(2*Math.PI*f*(p/360))*a);var f,p;this.hF.eu(this.Xl).ze(this.jl).Fe(o),this.CF.ky.Fe(o),this.CF.Ue.Fe(o),this.Nd&&this.CF.setFillStyle(new ho({color:this.Nd.getColors(this.CF.getAnimatedValue())})),this.CF.setMinAngle(this.Xl).setMaxAngle(this.jl).setMarginInDegrees(d,d).Te();const g=this.hF.Zl();if(this.CF.getIntervalLabelsVisible()){this.FF(this.Xl,this.jl,o,g+this.wF);const t=this.CF.mF.Ps().We(),e=this.CF.yF.Ps().We();rl(t,e)&&this.IF(t,e,o,g+this.wF)}}TF(t,e){const i=Ml(this.CF.Ue.Ps().oi(),.5),s=t.x+e,n=t.x-e,r=t.y+e,o=t.y-e;return!(t.x+i.x>s||t.x-i.x<n||t.y+i.y>r||t.y-i.y<o)}IF(t,e,i,s){const n=ol(t,e),[r,o]=[Vl(Ll(this.Xl)),Vl(Ll(this.jl))],[a,l]=r!==o||1!==r&&3!==r?[Rl(n.min,i),Rl(n.max,i)]:[Rl(Lr(n.min.x,n.max.y),i),Rl(Lr(n.max.x,n.min.y),i)],h=a.x*l.x+a.y*l.y,c=Cl(a)*Cl(l),u=.7*zl(Math.acos(h/c)),[d,f]=this.PF();this.FF(this.Xl-d*u,this.jl-f*u,i,s)}PF(){const t=this.jl-this.Xl,e=Math.sign(t);let i=Math.sign(this.Xl),s=Math.sign(this.jl);return i===s&&(e>=0?i=-s:s=-i),[i,s]}kF(t,e){const[i]=Av(t,this.Xl,this.jl,e,e),s=gl(i),n=.5*(s.max.x-s.min.x),r=.5*(s.max.y-s.min.y);return kl(Rl(t,Lr(s.min.x+n,s.min.y+r)),t)}FF(t,e,i,s){const n=Ll(t),r=Ll(e);this.CF.mF.Fe(xl(Lr(i.x+s,i.y),i,-n)),this.CF.yF.Fe(xl(Lr(i.x+s,i.y),i,-r)),this.CF.mF.Ea(Lr(-Math.cos(n),-Math.sin(n))),this.CF.yF.Ea(Lr(-Math.cos(r),-Math.sin(r)))}getDefaultSlice(){return this.CF}setAutoScaling(t){return this._F=t,this.us.Ss(),this}getAutoScaling(){return this._F}setDataLabelFormatter(t){return this.MF=t,this.us.Ss(),this}getDataLabelFormatter(){return this.MF}setIntervalLabelFormatter(t){return this.xF=t,this.us.Ss(),this}getIntervalLabelFormatter(){return this.xF}setIntervalLabelPadding(t){return this.wF=t,this.us.Ss(),this}getIntervalLabelPadding(){return this.wF}setThickness(t){return this.Vd=t,this}setLUT(t){return this.Nd=t,this.us.Ss(),this}setDataLabelFont(t){return this.CF.Ue.Oh(t),this.us.Ss(),this}getDataLabelFont(){return this.CF.Ue.Vh()}getMinimumSize(){return Lr(500,300)}setDataLabelFillStyle(t){return this.CF.vF(t),this.us.Ss(),this}getDataLabelFillStyle(){return this.CF.bF()}Zd(){return this.Fy}dispose(){return this.CF.dispose(),super.dispose()}}class Cv extends Hp{}class Mv extends Cv{constructor(t,e,i,s,n,r,o,a){super(s,r,o,a),this.xs="Slice",this.u=0,this.gy=!1,this.UT=ro,this.yy=ro,this.py=this.u,this.by=yo((()=>this.Ji.us.Ss())),this.My=()=>{this._y=void 0},this.index=t,this.Ji=s,this.scale=n,this.Ki=r,this.bT=e.ic(n,Eu.Simple).cs(this.getHighlight()),this.ds(this.bT),this.Ue=i.Pr(n).cs(this.getHighlight()),this.ds(this.Ue,{isText:!0})}setValue(t){return this.Ji.getAnimationsEnabled()?this.getVisible()&&this.Ty(this.py,t):this.py=t,this.u=t,this.Ji.us.Ss(),this}getValue(){return this.u}setVisible(t){return!1===t?this.Ji.getAnimationsEnabled()&&this.py>0?(this._y&&(this._y.finish(!1),this._y=void 0),this.Ty(this.py,0,(()=>super.setVisible(!1)))):(this.py=0,super.setVisible(!1)):this.Ji.getAnimationsEnabled()?(this._y&&(this._y.finish(!1),this._y=void 0),super.setVisible(!0),this.Ty(this.py,this.u)):(this.py=this.u,super.setVisible(!0)),this}Ty(t,e,i){this._y=this.by(300,go.ease)([[t,e]],(t=>{let[e]=t;this.py=e,this.Ji.us.Ss()})),this._y.onEveryAnimationEnd(this.My),i&&this._y.onAnimationEnd(i)}setStyle(t,e,i,s){this.UT=t,this.yy=i,this.bT.Ce(this.UT).we(e),this.Ue.Ce(this.yy).Oh(s);for(let n=0;n<this.Qi.length;n+=1)this.styleAttachedEntry(this.Qi[n])}getAnimatedValue(){return this.py}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),this.styleAttachedEntry(t,e,i),this}styleAttachedEntry(t){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ta(t,this.qi,e,{fill:this.UT,stroke:this.bT.ao()})}}!function(t){t[t.VariableHeight=0]="VariableHeight",t[t.VariableWidth=1]="VariableWidth"}(mv||(mv={}));const kv=(t,e)=>{let i=100;return t<=0?t=0:(i=t>=100?100:t,t=e*(i/100)),t},Rv=function(t,e,i,s,n){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:mv.VariableHeight,a=arguments.length>7?arguments[7]:void 0;e=kv(e,s.x),i=kv(i,s.x);const l=t.length;let h=0,c=0;h=t.reduce(((t,e)=>t+e.getAnimatedValue()),0);let u={x:a-e/2,y:s.y+n.bottom},d={x:a+e/2,y:s.y+n.bottom},f={x:0,y:n.bottom},p={x:0,y:n.bottom},g=0,m=0;if(r)for(let v=0;v<t.length;v+=1){const e=10;m+=t[v].getAnimatedValue();const i=o===mv.VariableWidth?(s.y-r*l)/l:s.y+n.bottom-m/h*s.y;if(o===mv.VariableWidth){r=i-r<e?Math.max(20,i-e):r;break}0!==g&&g-i-r<e&&(r=Math.max(0,g-i-e)),g=i}const y=(e-i)/2/s.y;for(let v=0;v<l;v+=1){const g=t[v];c+=g.getAnimatedValue();const m=o===mv.VariableWidth?(s.y-r*l)/l:s.y+n.bottom-c/h*s.y;let b=0;v>0&&(u={x:f.x+y*r,y:f.y-r},d={x:p.x-y*r,y:p.y-r}),b=(e+c/h*(i-e))/2,f={x:a-b,y:parseInt("".concat(o===mv.VariableWidth?u.y-m:m),10)},p={x:a+b,y:parseInt("".concat(o===mv.VariableWidth?d.y-m:m),10)},d.x>=u.x&&p.x>=f.x&&g.bT.pl([f,u,d,p])}};class Ev extends up{constructor(t,e,i,s,n,r,o){super(t,e,i,e.vm("pyramidChart bg",0),s,e.us.qi.pyramidChartBackgroundFillStyle,e.us.qi.pyramidChartBackgroundStrokeStyle,e.us.qi.pyramidChartTitleFont,e.us.qi.pyramidChartTitleFillStyle,r),this.Fy=[],this.Iy=Bp,this.Py=this.qi.pyramidChartSliceFillStylePalette,this.Dy=this.qi.pyramidChartSliceStrokeStyle,this.By=!0,this.Ly=this.qi.pyramidChartSliceLabelFont,this.Ry=this.qi.pyramidChartSliceLabelFillStyle,this.Ey=0,this.YT=0,this.HT=80,this.$T=0,this.XT=mv.VariableHeight,this.Oy=!0,this.Gy=fp.onHover,this.Wy=Up,this.Uy=t=>{const e=this.Fy.indexOf(t);e>=0&&(this.Fy.splice(e,1),this.Yy())},this.us.Nn(xf.af),this.Ny=this.qi.effectsText,this.Hy=e.$y("pyramidChart bottom",0),this.Xy=e.$y("pyramidChart top",1),this._m.Rh("Pyramid Chart"),this.jy=e.Zy();const a=Zo(o?o.autoCursorBuilder:void 0,Dp);this.Pm=a.uy(this.jy,this.uiScale,this.uiScale,this.qi),this.Sm(n,this.pixelScale),this.setAnimationsEnabled(!0!==(null==o?void 0:o.disableAnimations)&&!1!==(null==o?void 0:o.animationsEnabled))}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}setCursorResultTableFormatter(t){return this.Wy=t,this.us.Ss(),this}addSlice(t,e){const i=new Mv(this.Ey,this.Hy,this.Xy,this,this.pixelScale,this.Uy,this.qi,this.us.es);return this.Ey+=1,i.setName(t),i.setValue(e),i.es.rs.ps(this.Ny),i.es.ns.ps(this.Oy),this.Fy.push(i),this.us.Ss(),i.onMouseMove((()=>{this.Gy&&this.us.Ss()})),i}addSlices(t){const e=[];for(let i=0;i<t.length;i+=1)e.push(this.addSlice(t[i].name,t[i].value));return e}getSlices(){return this.Fy}setNeckWidth(t){return this.HT=t,this.us.Ss(),this}getNeckWidth(){return this.HT}setSliceGap(t){return this.$T=Math.min(Math.max(t,0),20),this.us.Ss(),this}setSliceMode(t){return this.XT=t,this.us.Ss(),this}getPyramidSliceMode(){return this.XT}setLUT(t){return this.Nd=t,this.us.Ss(),this}setSliceFillStyle(t){return this.Py=t,this.us.Ss(),this}getSliceFillStyle(){return this.Py}setSliceStrokeStyle(t){return this.Dy="function"==typeof t?t(this.Dy):t,this.us.Ss(),this}getSliceStrokeStyle(){return this.Dy}setSliceEffect(t){return this.Oy=t,this.Fy.forEach((e=>e.es.ns.ps(t))),this.us.Ss(),this}getSliceEffect(){return this.Oy}setSliceSorter(t){return this.Iy=t,this.Fy=this.Fy.sort(this.Iy),this.us.Ss(),this}getSliceSorter(){return this.Iy}setLabelFillStyle(t){return this.Ry="function"==typeof t?t(this.Ry):t,this.us.Ss(),this}getLabelFillStyle(){return this.Ry}setLabelFont(t){return this.Ly="function"==typeof t?t(this.Ly):t,this.us.Ss(),this}getLabelFont(){return this.Ly}setLabelEffect(t){return this.Ny=t,this.Fy.forEach((e=>e.es.rs.ps(t))),this.us.Ss(),this}getLabelEffect(){return this.Ny}setLabelFormatter(t){return this.Jy=t,this.us.Ss(),this}getLabelFormatter(){return this.Jy}setSliceHighlightOnHover(t){return this.By=t,this.Fy.forEach((e=>e.setHighlightOnHover(t))),this}Te(t){super.Te(t),dp.Fm(this._m,this.bm),super.pm();const e=dp.Tm(this._m,this.bm),i=Lr(this.pixelScale.x.getInnerInterval()-(this.ya.left+this.ya.right),this.pixelScale.y.getInnerInterval()-(this.ya.bottom+this.ya.top+e)),s=Lr(this.ya.left+i.x/2,this.ya.bottom+i.y/2);this.Fy=this.Fy.sort(this.Iy);for(let l=0,{length:h}=this.Fy;l<h;l+=1)this.Qy(this.Fy[l],l);const n=this.Fy.filter((t=>t.getAnimatedValue()>0));let r=0;for(let l=0;l<n.length;l+=1)r+=n[l].getAnimatedValue();const o=[];for(let l=0;l<n.length;l+=1)o.push((a=n[l].getAnimatedValue())>0?a/r:0);var a;for(let l=0;l<n.length;l+=1){const t=n[l];t.Ue.Rh(this.Jy(t,o[l])).Ps()}o.push(r),pp.Im(this,!1,!1,this.Fy,void 0,((t,e)=>Np(e,this.engine.scale,this.Wy(new xp,this,t,o[n.indexOf(t)]||0).Zu(),t,void 0))),this.Ky(n,o,s,i)}Qy(t,e){t.setStyle(this.Nd?new ho({color:this.Nd.getColors(t.getAnimatedValue())}):this.Py(e,t),this.Dy,this.Ry,this.Ly)}Yy(){this.Fy=this.Fy.sort(this.Iy),this.us.Ss()}Zd(){return this.Fy}dispose(){return this.Fy.slice().forEach((t=>t.dispose())),this.Pm.dispose(),this.Hy.W(),this.Xy.W(),this.jy.W(),super.dispose()}}const Tv=(t,e,i)=>{const s=t.Sl();if(s.length>0){let t;const n=(s[1].y-s[0].y)/2+s[0].y;return t=e===Pv.Left?(s[0].x-s[1].x)/2+s[1].x-i:(s[2].x-(4===s.length?s[3].x:s[1].x))/2+(4===s.length?s[3].x:s[1].x)+i,{x:t,y:n}}};class Iv extends Ev{constructor(){super(...arguments),this.Jy=Op,this.jT=10,this.ZT=Pv.Left,this.QT=_p.LabelsOnSides,this.qy=[],this.ep=this.qi.pyramidChartConnectorStrokeStyle}setLabelConnectorStyle(t){this.ep=t;for(let e=0;e<this.qy.length;e+=1)this.qy[e].Re(this.ep);return this.us.Ss(),this}getLabelConnectorStyle(){return this.ep}setLabelConnectorGap(t){return this.jT=t,this.us.Ss(),this}getLabelConnectorGap(){return this.jT}setLabelSide(t){return this.ZT=t,this.us.Ss(),this}getLabelSide(){return this.ZT}Ky(t,e,i,s){const n=this.jT;let r=0;for(let c=0;c<t.length;c+=1)r=Math.max(r,t[c].Ue.oi().x);const o=s.x+this.ya.left+this.ya.right,a=this.ZT===Pv.Right?(this.ya.left+(o-(this.ya.right+r)))/2:(this.ya.left+r+(o-this.ya.right))/2,l=s.x-r,h=Lr(l,s.y);Rv(t,this.YT,this.HT,h,this.ya,this.$T,this.XT,a),this.JT(t,this.ZT===Pv.Left?-1:1,-1,i,s);for(let c=0;c<this.qy.length;c+=1)this.qy[c].setVisible(!1);for(let c=0;c<t.length;c+=1)if(t[c].getVisible()){const e=this.KT(t[c],-1,i,n);e&&this.hp(e)}}getMinimumSize(){return Lr(500,300)}JT(t,e,i,s,n){if(0===t.length)return;const r=s.x+e*n.x*.5,o=1===i?Math.max:Math.min;let a;for(let l=0;l<t.length;l+=1){const s=t[l];let n;0===s.bT.Sl().length?s.Ue.setVisible(!1):s.Ue.setVisible(!0),a&&(n=a.Ue.Fa().y+i*(a.Ue.oi().y+10));const h=Tv(s.bT,this.ZT,0);if(h){const t=h.y,i=void 0===n?t:o(t,n);s.Ue.Fe(Lr(r,i)).Da(e).La(0)}a=s}}KT(t,e,i,s){const n=t.bT,r=t.Ue,o=Tv(n,this.ZT,s);if(o){const t={x:Fl(this.ZT===Pv.Left?r.Fa().x-e*(s+r.oi().x):r.Fa().x+e*(s+r.oi().x),o,i).x,y:Dl(r.Fa().y,o,i).y};return[o,t,Lr(this.ZT===Pv.Left?r.Fa().x-e*(s+r.oi().x):r.Fa().x+e*(s+r.oi().x),t.y)]}}hp(t){let e;for(let i=0;i<this.qy.length;i+=1)if(!this.qy[i].getVisible()){e=this.qy[i].setVisible(!0);break}void 0===e&&(e=this.Xy.rp(this.pixelScale,void 0,[Kp.InternalUI]).Re(this.ep),this.qy.push(e)),e.Nt().nl(t)}}var Pv;!function(t){t[t.Right=0]="Right",t[t.Left=1]="Left"}(Pv||(Pv={}));const Fv=(t,e,i,s,n,r)=>(t.alignmentX=(n+Math.PI/2)%(2*Math.PI)<=Math.PI?-1:1,t.alignmentY=n%(2*Math.PI)<=Math.PI?-1:1,t.paddingX=Math.cos(n)*r,t.paddingY=Math.sin(n)*r,t),Dv=(t,e,i,s,n,r,o,a)=>{if(0===e)return t.paddingX=a,t.alignmentX=-1,t};var Lv;!function(t){t[t.Normal=0]="Normal",t[t.Circle=1]="Circle"}(Lv||(Lv={}));class zv{constructor(t,e,i,s,n,r,o,a){this.D=new Ir,this.DF=t,this.Dr=e,this.scale=i,this.chart=s,this.tag=n,this.axisScale=r,this.BF=o,this.LF=a,this.RF=this.DF.Ee(this.scale).setMouseInteractions(!1),this.EF=this.Dr.Pr(this.scale).Rh(this.tag).setMouseInteractions(!1),this.zF=this.BF(this,this.DF.rp(this.scale,void 0,[Kp.InternalUI])).Re(this.chart.getNibStyle()),this.LF.fs([this.EF])}Ky(t,e,i,s,n,r,o){const a=e.length,l=e[i>0?i-1:a-1],h=e[i],c=e[i<a-1?i+1:0],u=this.chart.getNibLength();this.RF.Ve(t).ze(h).Re(this.chart.getAxisStyle()),this.zF.Nt().nl(r===Lv.Normal?[fl(h,l,Jo(.5*u/Cl(Rl(l,h)),0,1)),h,fl(h,c,Jo(.5*u/Cl(Rl(c,h)),0,1))]:function(t,e,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2;const r=s/i,o=[];for(let a=-s/2;a<=s/2;a+=n){const n=r*(a/s)+e,l=Lr(t.x+Math.cos(n)*i,t.y+Math.sin(n)*i);o.push(l)}return o}(t,s,n,u)),o?this.EF.setVisible(!0).Fe(kl(h,Lr(o.paddingX,o.paddingY))).Da(o.alignmentX).La(o.alignmentY):this.EF.setVisible(!1)}getLabelSize(){return this.EF.Oh(this.chart.getAxisLabelFont()).Ce(this.chart.getAxisLabelStyle()).Ps().oi()}dispose(){this.RF&&this.RF.dispose(),this.EF&&this.EF.dispose(),this.zF&&this.zF.dispose()}}const Nv=(t,e,i,s,n)=>{const r=e.getIcon();return r?t.addRow(r,e.getName()):t.addRow(e.getName()),t.addRow("Axis:","",s).addRow("Value:","",n(i))};class _v extends sm{constructor(t,e,i,s,n,r,o,a,l,h,c,u){super(t,l,h,u),this.xs="Spider Series",this.yu=new Map,this.Hi=lh.onHover,this.Wy=Nv,this.Hx=8,this.Aa=0,this.VF=Ga(),this.OF={},this.NF={},this.vy=this.getVisible(),this.GF=1,this.WF=((t,e)=>{const i=yo((()=>{}));let s,n,r=1;return(o,a,l)=>{if(o===n)return;n=o;const h=(null==l?void 0:l.easing)||go.ease,c=(null==l?void 0:l.durationMs)||1e3;s&&(s.finish(!1),s=void 0),!1===o?a&&r?(s=i(c,h)([[r,0]],(e=>{let[i]=e;r=i,t(r)})),s.onAnimationEnd((()=>{s=void 0,e(!1)}))):(r=0,e(!1)):a?(e(!0),s=i(c,h)([[r,1]],(e=>{let[i]=e;r=i,t(r)})),s.onAnimationEnd((()=>{s=void 0}))):(r=1,e(!0))}})((t=>{this.GF=t,this.ks.us.Ss()}),(t=>{super.setVisible(t)})),this.Ji=t,this.ks=e,this.$x=s,this.UF=n,this.ab=r,this.YF=o,this.HF=a,this.scale=i,this.$F=Da(h.spiderSeriesFillStyle,c),this.XF=Da(h.spiderSeriesStrokeStyle,c),this.jF=Da(h.spiderSeriesPointFillStyle,c)}Kp(){return this.tS&&this.yu.size>0&&this.getVisible()}addPoints(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this.yu.size>0&&this.Ji.us.Nn(xf.vf),e=e.filter((t=>void 0!==t.axis));for(let s=0;s<e.length;s+=1)this.UF(e[s].axis);if(this.Ji.getAnimationsEnabled()&&void 0!==this.OF){const t=new Map;let i;e.forEach((e=>t.set(e.axis,e.value))),this.VF(0,1,(e=>{t.forEach(((t,s)=>{const n=(null==i?void 0:i.get(s))||0;this.yu.set(s,n+e*(t-n)),this.ks.us.Ss()}))}),{easing:this.OF.easing,durationMs:this.OF.durationMs,onStart:()=>{i=new Map(this.yu)}})}else for(let s=0;s<e.length;s+=1){const t=e[s].axis;this.yu.set(t,e[s].value)}return this.ks.Ss(),this}getValue(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=this.yu.get(t),s=this.Ji.getOriginValue();if(void 0!==i)return e?s+this.GF*(i-s):i}setAnimationAddPoints(t,e){return this.OF=t?{easing:t,durationMs:e}:void 0,this.ks.Ss(),this}setVisibleStateChangedAnimation(t,e){return this.NF=t?{easing:t,durationMs:e}:void 0,this.ks.Ss(),this}setCursorResultTableFormatter(t){return this.Wy=t,this.Ji.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}setCursorEnabled(t){return super.setCursorEnabled(t)}setFillStyle(t){return this.$F="function"==typeof t?t(this.$F):t,this.bT&&(this.bT.Ce(this.$F),this.ks.Ss()),this}getFillStyle(){return this.$F}setStrokeStyle(t){return this.XF="function"==typeof t?t(this.XF):t,this.bT&&(this.bT.we(this.XF),this.ks.Ss()),this}getStrokeStyle(){return this.XF}setPointFillStyle(t){return this.jF="function"==typeof t?t(this.jF):t,this.Xx&&(this.Xx.Ce(this.jF),this.ks.Ss()),this}getPointFillStyle(){return this.jF}setPointSize(t){return this.Hx=t,this.Xx&&this.Xx.q(t),this}getPointSize(){return this.Hx}getPointShape(){return this.$x}setPointRotation(t){return this.Aa=t,this.Xx&&this.Xx.Nh(t),this.ks.Ss(),this}getPointRotation(){return this.Aa}Te(){if(super.Te(),!this.$i){const t=new Array(this.ab.length),e=this.Ji.getOriginValue();for(let i=0;i<this.ab.length;i+=1){const s=this.yu.get(this.ab[i].tag);t[i]=void 0!==s?this.YF(this.ab[i].tag,e+this.GF*(s-e)):this.YF(this.ab[i].tag,e)}xa(t),t.length>=3&&(this.bT||(this.bT=this.ks.ic(this.scale,Eu.Simple).we(this.XF).Ce(this.$F).cs(this.getHighlight()),this.ds(this.bT)),this.bT.pl(t),this.Xx||(this.Xx=this.ks.bS(this.scale).q(this.Hx).il(this.$x).Nh(this.Aa).Ce(this.jF).cs(this.getHighlight()),this.ds(this.Xx)),this.Xx.Nt().nl(t))}}attach(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return super.attach(t,e,i),Ta(t,this.qi,i,{fill:this.$F,stroke:this.XF}),this}Cs(){return this.bs||this.$x}ZF(){for(let t=0;t<this.Qi.length;t+=1)Ta(this.Qi[t],this.qi,!1,{fill:this.$F,stroke:this.XF})}Hc(t,e){if(this.bT){const e=this.HF(t);if(void 0!==e&&this.yu.has(e.tag)){const t=this.yu.get(e.tag),i=this.YF(e.tag,t);return Np(i,this.scale,this.Wy(new xp,this,t,e.tag,this.Ji.formatValue).Zu(),this,this.$F)}}}solveNearestFromScreen(t){return this.Hc(mf(t,this.Ji.us),!1)}Ie(t,e){return t.cs(e),this.ks.Ss(),this}setVisible(t){var e,i;return this.vy=t,this.WF(t,this.Ji.getAnimationsEnabled()&&void 0!==this.NF,{easing:null===(e=this.NF)||void 0===e?void 0:e.easing,durationMs:null===(i=this.NF)||void 0===i?void 0:i.durationMs}),this}}const Vv=(t,e)=>{const i=Math.PI/2-2*t*Math.PI/e;return i>=0?i:i+2*Math.PI},Bv=t=>gl(t.EF.We()),Ov=t=>gl(t.We()),Uv=(t,e,i,s)=>t.ou(0).Fe(i).eu(90).ze(-270).au(e===Lv.Circle?void 0:s.length),Hv={alignmentX:0,alignmentY:0,paddingX:0,paddingY:0},Gv={alignmentX:0,alignmentY:0,paddingX:0,paddingY:0},Wv=()=>{Gv.alignmentX=0,Gv.alignmentY=0,Gv.paddingX=0,Gv.paddingY=0};class jv extends mg{constructor(t,e,i,s,n,r,o){super(t,e,i,e.vm("spiderChart bg",0),s,e.us.qi.spiderChartBackgroundFillStyle,e.us.qi.spiderChartBackgroundStrokeStyle,e.us.qi.spiderChartTitleFont,e.us.qi.spiderChartTitleFillStyle,o),this.ya=Hr(20,20,20,20),this.axisScale=Fo.d1({scale1DConstructor:Ql,dimension:"x"}).J(0,1),this.ab=[],this.QF=[],this.JF=[],this.KF=sc.expansion,this.qF=!0,this.tI=Dv,this.iI=Fv,this.Bo=!0,this.sI=Lv.Normal,this.eI=4,this.hI=this.qi.spiderChartWebStyle,this.rI=this.qi.spiderChartScaleLabelFillStyle,this.nI=this.qi.spiderChartScaleLabelFont,this.oI=5,this.aI=this.qi.spiderChartAxisLabelFillStyle,this.lI=this.qi.spiderChartAxisLabelFont,this.uI=5,this.cI=this.qi.spiderChartAxisStrokeStyle,this.dI=this.qi.spiderChartAxisNibStrokeStyle,this.Pf=10,this.fI=Hr(),this.Gy=fp.onHover,this.hasAxis=t=>this.ab.reduce(((e,i)=>e||i.tag===t),!1),this.formatValue=t=>this.axisScale.Di(t,Kl.Numeric),this.AI=()=>{const t=this.ab.map(Bv).concat(this.JF.map(Ov));return al(t)},this.gI=()=>this.mI.Jc(this.pixelScale).setMouseInteractions(!1),this.yI=t=>t.dispose(),this.pI=()=>this.bA.Pr(this.pixelScale).setMouseInteractions(!1),this.SI=t=>t.dispose(),this.vI=t=>this.formatValue(this.axisScale.getInnerStart()+t*(this.axisScale.getInnerEnd()-this.axisScale.getInnerStart())),this.bI=(t,e)=>{let i,s;const n=()=>{void 0!==this.xI&&this.xI.finish(),i=Br(this.axisScale.getInnerStart(),this.axisScale.getInnerEnd()),s=this.KF,this.KF=void 0},r=(e,s,n,r,o)=>{const a=Lr(n.x-s.x,s.y-n.y),l=this.ab.findIndex((e=>e===t));if(l>=0&&void 0!==i){const e=Vv(l,this.ab.length),s=Lr(Math.cos(e),Math.sin(e)),n=a.x*s.x+a.y*s.y,r=Cl(Rl(t.RF.Ii(),t.RF.Ti())),h=i.min+(i.max-i.min)*Math.max(1+n/r,.01);this.axisScale.J(i.min,h),ga(o),this.us.Ss()}},o=()=>{if(i=void 0,void 0!==s)if(this.th){const t=Br(this.axisScale.getInnerStart(),this.axisScale.getInnerEnd()),e=this.MI(),i=s;if(void 0!==e){const s=i.start(t.min,t.max,e.min,e.max),n=i.end(t.min,t.max,e.min,e.max);this.xI=this.qg.us.sn(300,go.ease)([[0,1]],(e=>{let[i]=e;this.axisScale.J(t.min+i*(s-t.min),t.max+i*(n-t.max))})),this.xI.onAnimationEnd((()=>{this.xI=void 0,this.KF=i}))}else this.KF=s}else this.KF=s;s=void 0};e.setMouseEnterEventHandler(this._I).setMouseLeaveEventHandler(this.wI).setMouseDragStartEventHandler(n).setMouseDragEventHandler(((t,e,i,s,n)=>r(0,Lr(e.clientX,e.clientY),s,0,e))).setMouseDragStopEventHandler(o);const a=dh(new ph(((t,e,i)=>{this._I(t),n(),ga(i)}),r,((t,e,i,s)=>{this.wI(t),o(),ga(s)})));return e.setTouchStartEventHandler(a.onTouchStart).setTouchMoveEventHandler(a.onTouchMove).setTouchEndEventHandler(a.onTouchEnd)},this.CI=t=>{this.qF&&!this.hasAxis(t)&&this.addAxis(t)},this.YF=(t,e)=>{for(const i of this.ab)if(i.tag===t){const t=Math.max(Math.min((e-this.axisScale.getInnerStart())/(this.axisScale.getInnerEnd()-this.axisScale.getInnerStart()),1),0);return fl(i.RF.Ii(),i.RF.Ti(),t)}},this.HF=t=>{if(0===this.ab.length)return;const e=Rl(Lo(t,this.engine.scale,this.pixelScale),this.ab[0].RF.Ii()),i=Math.atan2(e.y,e.x);let s,n=$a;for(const r of this.ab){const t=Rl(r.RF.Ti(),r.RF.Ii()),e=Math.atan2(t.y,t.x),o=Math.abs(i-e);o<n&&(s=r,n=o)}return s},this._I=t=>{this.Bo&&(t.Re(this.dI),this.us.Ss())},this.wI=t=>{t.Re(this.dI),this.us.Ss()},this.us.Nn(xf.uf),this.Gk=e.ob("spiderChart series bg",0),this.mI=e.$y("spiderChart web shapes",0),this.kI=e.$y("spiderChart axis bg",1),this.Rb=e.$y("spiderChart plotting",2),this.bA=e.$y("spiderChart fg",3),this.LF=this.es.yg().ps(this.qi.effectsText),this._m.Rh("Spider Chart"),this.FS=this.Gk.Jc(this.pixelScale).Ce(this.qi.spiderChartSeriesBackgroundFillStyle).we(Eo).eu(90).ze(-270).ou(0),this.IS=this.Gk.Jc(this.pixelScale).Ce(ro).we(this.qi.spiderChartSeriesBackgroundStrokeStyle).eu(90).ze(-270).ou(0),super.TS(this.FS,this.IS),this.jy=e.Zy();const a=Zo(r?r.autoCursorBuilder:void 0,Pp);this.Pm=a.uy(this.jy,this.uiScale,this.uiScale,this.qi),pp.Dm(this),this.LS(((t,e)=>{pp.Bm(this,e)})),this.setAnimationsEnabled(!0!==(null==r?void 0:r.disableAnimations)&&!1!==(null==r?void 0:r.animationsEnabled)),this.Sm(n,this.pixelScale)}getSeries(){return this.xS}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}solveNearest(t){const e=t||this.us.On();if(e)return pp.Hc(this,mf(e,this.us),this.xS)}addAxis(t){if("string"==typeof t){if(!this.hasAxis(t)){const e=new zv(this.kI,this.bA,this.pixelScale,this,t,this.axisScale,this.bI,this.LF);this.ab.push(e)}}else t&&this.ab.push(t);return this.LF.fs(this.ab.map((t=>t.EF))),this.us.Ss(),this}addSeries(t){const e="object"==typeof t?t.pointShape?t.pointShape:Kc.Circle:t||Kc.Circle,i="object"==typeof t&&t.automaticColorIndex?t.automaticColorIndex:this.xS.length,s=new _v(this,this.Rb,this.pixelScale,e,this.CI,this.ab,this.YF,this.HF,this._S,this.qi,i,this.us.es);return this.PS(s),s}getSeriesCount(){return this.xS.length}setWebMode(t){return this.sI=t,this.us.Ss(),this}getWebMode(){return this.sI}setWebCount(t){return this.eI=t,this.us.Ss(),this}getWebCount(){return this.eI}setWebStyle(t){return this.hI="function"==typeof t?t(this.hI):t,this.us.Ss(),this}getWebStyle(){return this.hI}setScaleLabelStyle(t){return this.rI="function"==typeof t?t(this.rI):t,this.us.Ss(),this}getScaleLabelStyle(){return this.rI}setScaleLabelFont(t){return this.nI="function"==typeof t?t(this.nI):t,this.us.Ss(),this}getScaleLabelFont(){return this.nI}setScaleLabelPadding(t){return this.oI=t,this.us.Ss(),this}getScaleLabelPadding(){return this.oI}setScaleLabelStrategy(t){return this.tI=t,this.us.Ss(),this}setScaleLabelFormatter(t){return this.formatValue=t,this.us.Ss(),this}setAxisLabelStyle(t){return this.aI="function"==typeof t?t(this.aI):t,this.us.Ss(),this}getAxisLabelStyle(){return this.aI}setAxisLabelFont(t){return this.lI="function"==typeof t?t(this.lI):t,this.us.Ss(),this}getAxisLabelFont(){return this.lI}setAxisLabelEffect(t){return this.LF.ps(t),this.us.Ss(),this}getAxisLabelEffect(){return this.LF.vs()}setAxisLabelPadding(t){return this.uI=t,this.us.Ss(),this}getAxisLabelPadding(){return this.uI}setAxisLabelStrategy(t){return this.iI=t,this.us.Ss(),this}setAxisStyle(t){return this.cI="function"==typeof t?t(this.cI):t,this.us.Ss(),this}getAxisStyle(){return this.cI}setNibStyle(t){return this.dI="function"==typeof t?t(this.dI):t,this.us.Ss(),this}getNibStyle(){return this.dI}setNibLength(t){return this.Pf=t,this.us.Ss(),this}getNibLength(){return this.Pf}setAutoAxis(t){return this.qF=t,this}getAutoAxis(){return this.qF}setMouseInteractions(t){return this.Bo=t,this}getMouseInteractions(){return this.Bo}setAxisScrollStrategy(t){return this.KF=t,this.us.Ss(),this}getAxisScrollStrategy(){return this.KF}setAxisInterval(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.axisScale.J(e,t),this.us.Ss(),this}getOriginValue(){return this.axisScale.getInnerStart()}getEdgeValue(){return this.axisScale.getInnerEnd()}Te(t){super.Te(t),dp.Fm(this._m,this.bm);const e=this.ab.length,i=dp.Tm(this._m,this.bm),s=Lr(this.pixelScale.x.getInnerInterval()-(this.ya.left+this.ya.right),this.pixelScale.y.getInnerInterval()-(this.ya.bottom+this.ya.top+i)),n=function(){return{left:arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,top:arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,right:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,bottom:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0}}(0,0,0,0);if(void 0!==this.iI){const t=Math.min(s.x,s.y)/2;for(let i=0;i<e;i+=1){const s=Vv(i,e),r=Math.cos(s),o=Math.sin(s),a=this.ab[i].getLabelSize();Wv();const l=this.iI(Gv,i,e,this.ab[i].tag,s,this.uI),h=Lr(r*t+l.paddingX,o*t+l.paddingY);r>0?n.right=Math.max(n.right,h.x+.5*(1-l.alignmentX)*a.x-t):n.left=Math.max(n.left,-h.x+.5*(l.alignmentX+1)*a.x-t),o>0?n.top=Math.max(n.top,h.y+.5*(1-l.alignmentY)*a.y-t):n.bottom=Math.max(n.bottom,-h.y+.5*(l.alignmentY+1)*a.y-t)}}if(this.KF){const t=this.MI();if(void 0!==t){const e=this.KF.start(this.axisScale.getInnerStart(),this.axisScale.getInnerEnd(),t.min,t.max),i=this.KF.end(this.axisScale.getInnerStart(),this.axisScale.getInnerEnd(),t.min,t.max);this.axisScale.J(e,i)}}const r=Lr(this.pixelScale.x.getInnerStart()+(n.left+this.pixelScale.x.getInnerInterval()-n.right)/2,this.pixelScale.y.getInnerStart()+(n.bottom+this.pixelScale.y.getInnerInterval()-n.top)/2),o=Math.min(s.x/2-(n.left+n.right)/2,s.y/2-(n.bottom+n.top)/2);this.fI=Hr(this.Xt.left+this.ya.left+n.left,this.Xt.top+this.ya.top+i+n.top,this.Xt.right+this.ya.right+n.right,this.Xt.bottom+this.ya.bottom+n.bottom),this.Ky(r,o);for(const a of this.xS)a.oS();for(const a of this.xS)a.Te();super.pm(),pp.Im(this,this.FS.getIsUnderMouse(),!1,this.xS,(t=>pp.Hc(this,t,this.xS)),((t,e)=>t.Hc(e,!0)));for(const a of this.xS)a.dp()}dispose(){return this.Gk.W(),this.mI.W(),this.kI.W(),this.Rb.W(),this.bA.W(),this.Pm.dispose(),this.jy.W(),super.dispose()}getMinimumSize(){return Lr(this.fI.left+this.fI.right+100,this.fI.bottom+this.fI.top+100)}Ky(t,e){const i=this.ab.length,s=[];for(let n=0;n<i;n+=1){const r=Vv(n,i),o=Lr(t.x+Math.cos(r)*e,t.y+Math.sin(r)*e);s.push(o)}Uv(this.FS,this.sI,t,s),Uv(this.IS,this.sI,t,s),this.FS.hu(e),this.IS.hu(e),((t,e,i,s,n,r,o,a)=>{const l=t.length,h=r.length,c=e>0&&h>1;for(let u=0;u<Math.max(e,l);u+=1)if(c&&u<e){u>=l&&t.push(o());const a=t[u];Uv(a,i,s,r);const h=n*((u+1)/e);a.hu(h)}else u<t.length&&a(t[u]);t.length=c?e:0})(this.QF,this.eI,this.sI,t,e,s,this.gI,this.yI);for(const n of this.QF)n.Ce(ro).we(this.hI);for(let n=0;n<i;n+=1){const r=this.ab[n],o=Vv(n,i);Wv();const a=void 0!==this.iI?this.iI(Gv,n,i,this.ab[n].tag,o,this.uI):void 0;r.Ky(t,s,n,o,e,this.sI,a)}((t,e,i,s,n,r,o,a,l,h)=>{const c=n.length,u=t.length;let d=0;if(void 0!==e)for(let f=0;f<c;f+=1){const l=n[f].tag,p=Vv(f,c);for(let n=0;n<i+ +(0===f);n+=1){Hv.alignmentX=0,Hv.alignmentY=0,Hv.paddingX=0,Hv.paddingY=0;const g=e(Hv,f,c,l,p,n,i,s);if(void 0!==g){d>=u&&t.push(a());const e=t[d];d+=1;const s=(i-n)/i,l=fl(r,o[f],s);e.Fe(kl(l,Lr(g.paddingX,g.paddingY))).Da(g.alignmentX).La(g.alignmentY).Rh(h(s))}}}for(let f=d;f<u;f+=1)l(t[f]);t.length=d})(this.JF,this.tI,this.eI,this.oI,this.ab,t,s,this.pI,this.SI,this.vI);for(const n of this.JF)n.Ce(this.rI).Oh(this.nI)}MI(){let t,e;const i=this.getSeriesCount()>1;for(const s of this.ab)for(const n of this.xS){const r=n.getValue(s.tag,i);void 0!==r&&(t=void 0===t?r:Math.min(t,r),e=void 0===e?r:Math.max(e,r))}if(void 0!==t&&void 0!==e)return Br(t,e)}}const Yv=(t,e)=>{const i=Math.floor(99999/e),s=Math.floor(99999/e),n=Math.floor(99998/e),r=Math.floor(99998/e),o=Math.floor(99999/(e+1)),a=Math.floor(89999/(e+1)),l=510001+e*a;let h=0;return{TI:()=>{const e=t.FI("dashboard ui",l+h);return h+=1,e},II:()=>t.FI("dashboard legend",51e4),DI:e=>{const l=1+e*i,h=100001+e*s,c=200002+e*n,u=300002+e*r,d=400001+e*o,f=510001+e*a;let p=0;return{us:t,vm:(e,i)=>{const s=l+i;return t.FI(e,s)},ob:(e,i)=>{const s=h+i;return t.FI(e,s)},Uk:(e,i)=>{const s=c+i;return t.FI(e,s)},$y:(e,i)=>{const s=u+i;return t.FI(e,s)},nb:(e,i,s)=>{const n=u+i;return t.BI(e,n,s)},Mm:(e,i)=>{const s=d+i;return t.FI(e,s)},om:e=>{const i=f+p,s=t.FI(e,i);return p+=1,s},lm:()=>t.FI("panel legend",500002+e),Zy:()=>t.FI("panel cursor",600001+e)}}}};class Xv{constructor(t){this.D=new Ir,this.u=t}S(t){return this.u=t,this.D.emit("set",t),this}M(){return this.u}O(t){return this.D.on("set",t)}G(t){return this.D.off(t,"set")}}const qv={uh:()=>{},ih:!1,sh:0,eh:!1,rh:0,hh:!1,oh:0,ah:0,Je:sc.fitting},Jv=t=>{if(!t||"object"!=typeof t||null===t)return!1;const e=t.type;return!(!e||!["spark-line","spark-bar","spark-win-loss","spark-area","spark-pie"].includes(e))},Kv=(t,e,i,s,n,r,o,a)=>{const{type:l,data:h}=t;if(0===h.length)return;const c=[s,n];"spark-line"===l&&rb(t,e,c,r,o,a),"spark-bar"===l&&ob({...t,winLoss:!1},e,c,r,o,a),"spark-win-loss"===l&&ob({...t,winLoss:!0},e,c,r,o,a),"spark-area"===l&&ab(t,e,c,r,o,a),"spark-pie"===l&&lb(t,e,c,r,o,a)},Zv=(t,e,i,s)=>({x:$v(t.x,e.x,i.x,s),y:tb(t.y,e.y,i.y,s)}),Qv=(t,e,i,s)=>({position:$v(t.position,e.x,i.x,s),high:tb(t.high,e.y,i.y,s),low:tb(t.low,e.y,i.y,s)}),$v=(t,e,i,s)=>{const n=Jo(t,e,e+i);return s[0].x+s[1].x*(n-e)/i},tb=(t,e,i,s)=>{const n=Jo(t,e,e+i);return s[0].y+s[1].y*(n-e)/i},eb=(t,e,i,s,n,r,o,a)=>{for(const l of t)"point"===l.type&&ib(l,e,i,n,r,o,a),"axis-band"===l.type&&sb(l,i,n,r,o,a),"constant-line"===l.type&&nb(l,i,s,n,r,o,a)},ib=(t,e,i,s,n,r,o)=>{const{value:a,fillStyle:l,shape:h,size:c,rotation:u}=t;let d={x:NaN,y:NaN};if("start"===a&&(d=e[0]),"end"===a&&(d=e[e.length-1]),"min"===a){d=e[0];for(const t of e)d=d.y<t.y?d:t}if("max"===a){d=e[0];for(const t of e)d=d.y>t.y?d:t}("object"!=typeof a||(d=Zv(a,i,s,n),((t,e)=>{const i=e[0],s=e[1],n=t.x,r=t.y;return i.x<=n&&n<=i.x+s.x&&i.y<=r&&r<=i.y+s.y})(d,n)))&&r.pointSet.add().Nt().il(void 0!==h?h:Kc.Circle).Nh(u||0).q(c||5).Ce(l||o.sparkPointChartFillStyle).nl(d)},sb=(t,e,i,s,n,r)=>{const{axis:o,start:a,end:l,fillStyle:h,strokeStyle:c}=t;let u=Lr(tl,$a),d=Lr(tl,$a);"x"===o&&(u=Zv({x:a,y:tl},e,i,s),d=Zv({x:l,y:$a},e,i,s)),"y"===o&&(u=Zv({x:tl,y:a},e,i,s),d=Zv({x:$a,y:l},e,i,s));const f=s[0],p=s[1],g=Jo(u.x,f.x,f.x+p.x),m=Jo(u.y,f.y,f.y+p.y),y=Jo(d.x,f.x,f.x+p.x),v=Jo(d.y,f.y,f.y+p.y);n.rect.add().cl(g).dl(m).q(Lr(y-g,v-m)).Ce(h||r.sparkChartBandFillStyle).we(c||r.sparkChartBandStrokeStyle).we(Eo)},nb=(t,e,i,s,n,r,o)=>{const{axis:a,value:l,strokeStyle:h}=t,c=l||0,u=e.y,d=i.y,f=e.x,p=i.x,g=[];if("y"===a&&u<=c&&c<=d){const t=Zv(Lr(f,c),{x:f,y:u},s,n),e=Zv(Lr(p,c),{x:f,y:u},s,n);g.push([t,e])}if("x"===a&&f<=c&&c<=p){const t=Zv(Lr(c,u),{x:f,y:u},s,n),e=Zv(Lr(c,d),{x:f,y:u},s,n);g.push([t,e])}g.length>0&&r.line.add().Re(h||o.sparkChartConstantLineStrokeStyle).Ve(g[0][0]).ze(g[0][1])},rb=(t,e,i,s,n,r)=>{const{strokeStyle:o,data:a,markers:l}=t,h=a.length;h>1e4&&n.Hn&&Ho.console.warn("LightningChart JS warning: SparkLineChart has over 10000 data points. This feature is not designed for large data sets which might show as performance drop. If you want to request improvements to this, contact https://lightningchart.com/js-charts/docs/contact. To disable this warning, use LightningChartOptions.warning property (refer to API documentation for more detail).");let c=$a,u=tl,d=$a,f=tl;for(let m=0;m<h;m+=1){const t=a[m];c=Math.min(c,t.x),u=Math.max(u,t.x),d=Math.min(d,t.y),f=Math.max(f,t.y)}const p={x:u-c,y:f-d},g=a.map((t=>Zv(t,{x:c,y:d},p,i)));e.lineSet.add().cs(r).Re(o||s.sparkLineChartStrokeStyle).Nt().nl(g),l&&eb(l,g,{x:c,y:d},{x:u,y:f},p,i,e,s)},ob=(t,e,i,s,n,r)=>{const{data:o,fillStyle:a,strokeStyle:l,threshold:h,winFillStyle:c,lossFillStyle:u}=t,d=t.barSize||1,f=t.gap||1,p=t.winLoss,g=h||0,m=f/d*1;let y=$a,v=tl;if(p)y=-1,v=1;else for(const S of o)y=Math.min(y,S),v=Math.max(v,S);const b={x:0,y:p?-1:Math.min(0,y)},x={x:1*o.length+(o.length-1)*m,y:p?2:Math.max(v,1e-5)};o.map(((t,e)=>{const s={x:1*(e+1)+e*m,y:p?t>=g?1:0:t},n=Zv({x:1*e+e*m,y:p?t>=g?0:-1:0},b,x,i),r=Zv(s,b,x,i);return{value:t,position:n,width:r.x-n.x,height:r.y-n.y}})).forEach((t=>{var i;e.rect.add().cs(r).Fe(t.position).Al(t.height).fl(t.width).Ce((i=t.value,p?(i>=g?c:u)||s.sparkBarChartFillStyle:a||s.sparkBarChartFillStyle)).we(l||s.sparkBarChartStrokeStyle)}))},ab=(t,e,i,s,n,r)=>{const{data:o,fillStyle:a,strokeStyle:l,markers:h}=t,c=o.length;c>1e4&&n.Hn&&Ho.console.warn("LightningChart JS warning: SparkAreaChart has over 10000 data points. This feature is not designed for large data sets which might show as performance drop. If you want to request improvements to this, contact https://lightningchart.com/js-charts/docs/contact. To disable this warning, use LightningChartOptions.warning property (refer to API documentation for more detail).");let u=$a,d=tl,f=$a,p=tl;for(let v=0;v<c;v+=1){const t=o[v];u=Math.min(u,t.x),d=Math.max(d,t.x),f=Math.min(f,t.y),p=Math.max(p,t.y)}const g={x:d-u,y:p-f},m=[],y=[];for(const v of o){const t=Nr(v.x,v.y,f);m.push(Qv(t,{x:u,y:f},g,i)),y.push(Zv(v,{x:u,y:f},g,i))}e.junction.add().cs(r).Nt().nl(m).Ce(a||s.sparkAreaChartFillStyle),e.lineSet.add().cs(r).Nt().nl(y).Re(l||s.sparkAreaChartStrokeStyle),h&&eb(h,y,{x:u,y:f},{x:d,y:p},g,i,e,s)},lb=(t,e,i,s,n,r)=>{const{data:o,strokeStyle:a}=t,l=o.map((t=>"number"==typeof t?t:t.value)),h=o.map((t=>"object"==typeof t?t.fillStyle:void 0)),c=l.reduce(((t,e)=>t+e),0),u=Zv(Lr(50,50),{x:0,y:0},{x:100,y:100},i),d=i[1],f=d.x<=d.y?d.x/2:d.y/2;let p=90;l.forEach(((t,i)=>{const n=t/c*360;e.arc.add().cs(r).Fe(u).hu(f).ou(0).eu(p).ze(p+n).Ce(h[i]||Da(s.sparkPieChartFillStyle,i)).we(a||s.sparkPieChartStrokeStyle),p+=n}))};var hb,cb,ub;!function(t){t[t.UpToDown=0]="UpToDown",t[t.LeftToRight=1]="LeftToRight"}(hb||(hb={})),function(t){t[t.Vertical=0]="Vertical",t[t.Horizontal=1]="Horizontal",t[t.Both=2]="Both"}(cb||(cb={})),function(t){t[t.Up=0]="Up",t[t.Down=1]="Down",t[t.Left=2]="Left",t[t.Right=3]="Right"}(ub||(ub={}));class db extends Lu{constructor(t,e,i,s,n){super(),this.Ds=!1,this.C_={x:0,y:0,height:20,width:20},this.LI={x:10,y:10},this.ks=t,this.RI=n,this.EI=new Td(t,e,i,Xo,s).setMouseInteractions(!0),this.zI=t.ic(e,Eu.Simple).Ce(s.dataGridScrollBarButtonArrowFillStyle).we(s.dataGridScrollBarButtonArrowStrokeStyle).setMouseInteractions(!1),this.xu(this),this.EI.onMouseEnter((t=>t.setHighlight(1))),this.EI.onMouseLeave((t=>t.setHighlight(0)))}VI(){switch(this.RI){case ub.Up:this.zI.pl([{x:this.C_.x,y:this.C_.y+this.LI.y/2},{x:this.C_.x+this.LI.x/2,y:this.C_.y-this.LI.y/2},{x:this.C_.x-this.LI.x/2,y:this.C_.y-this.LI.y/2}]);break;case ub.Down:this.zI.pl([{x:this.C_.x-this.LI.x/2,y:this.C_.y+this.LI.y/2},{x:this.C_.x+this.LI.x/2,y:this.C_.y+this.LI.y/2},{x:this.C_.x,y:this.C_.y-this.LI.y/2}]);break;case ub.Left:this.zI.pl([{x:this.C_.x-this.LI.x/2,y:this.C_.y},{x:this.C_.x+this.LI.x/2,y:this.C_.y+this.LI.y/2},{x:this.C_.x+this.LI.x/2,y:this.C_.y-this.LI.y/2}]);break;case ub.Right:this.zI.pl([{x:this.C_.x-this.LI.x/2,y:this.C_.y+this.LI.y/2},{x:this.C_.x+this.LI.x/2,y:this.C_.y},{x:this.C_.x-this.LI.x/2,y:this.C_.y-this.LI.y/2}])}}Fe(t){return this.C_.x=t.x,this.C_.y=t.y,this}Fa(){return Lr(this.C_.x,this.C_.y)}q(t){return this.C_.height=t.x,this.C_.width=t.y,this}oi(){return{x:this.C_.height,y:this.C_.width}}onMouseDown(t){return this.EI.onMouseDown(t)}onMouseUp(t){return this.EI.onMouseUp(t)}setFillStyle(t){return this.EI.setFillStyle(t),this}getFillStyle(){return this.EI.getFillStyle()}setStrokeStyle(t){return this.EI.setStrokeStyle(t),this}getStrokeStyle(){return this.EI.getStrokeStyle()}Te(){return this.EI.Te(),this.VI(),this}Ps(){return this.EI.setSize(Lr(this.C_.height,this.C_.width)).setPosition(Lr(this.C_.x,this.C_.y)),this}setVisible(t){return this.EI.setVisible(t),this.zI.setVisible(t),this}dispose(){return this.EI.dispose(),this.zI.dispose(),this}setMouseInteractions(t){return this.EI.setMouseInteractions(t),this}getMouseInteractions(){return this.EI.getMouseInteractions()}onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}getHighlight(){return this.EI.getHighlight()}setHighlight(t){return this.EI.setHighlight(Oa(t)),this.D.emit("highlight",this,Boolean(t)),this.ks.Ss(),this}}const fb=(t,e)=>Math.min(Math.max(t,e.getInnerStart()),e.getInnerEnd());class pb{constructor(t,e,i,s,n,r,o){this.Kc={x:0,y:0},this.C_={x:0,y:0,height:0,width:0},this.D=new Ir,this.OI={min:Lr(0,0),max:Lr(0,0)},this.wM=!1,this.CM=!1,this.NI={x:0,y:0},this._u=void 0,this.GI=Lr(0,0),this.WI={x:0,y:0},this.UI=0,this.YI=15,this.kM=(t,e)=>{this.wM=!0,this.bA.Ss();const i=this.HI.getDraggingMode();this._u=this.bA.us.Wr(i===Oo.notDraggable?jh.Restricted:i===Oo.draggable?jh.Move:i===Oo.onlyHorizontal?jh.Horizontal:jh.Vertical),this.$I&&clearInterval(this.$I)},this.TM=()=>{this.wM=!1,this.bA.Ss(),this.bA.us.Ur(this._u)},this.FM=t=>(this.CM=!0,this.NI=Lo(this.bA.us.Pe(t.x,t.y),this.bA.us.dt,this.scale),!0),this.XI=(t,e)=>(this.jI(e),this.$I=setInterval((()=>this.jI(e)),300),!0),this.ZI=()=>(clearInterval(this.$I),!0),this.IM=(t,e)=>{const i=this.HI.getDraggingMode();if(i!==Oo.notDraggable){const s=e||i,n=Lo(this.bA.us.Pe(t.x,t.y),this.bA.us.dt,this.scale),r=Lr(s!==Oo.onlyVertical?fb(n.x,this.scale.x):this.C_.x,s!==Oo.onlyHorizontal?fb(n.y,this.scale.y):this.C_.y),o=Lr(r.x-this.NI.x,r.y-this.NI.y),a=Lr(this.HI.getPosition().x+o.x,this.HI.getPosition().y+o.y),l=this.QI(a),h={x:Math.abs(this.GI.x-l.x),y:Math.abs(this.GI.y-l.y)};return this.JI(h),this.WI.y>o.y&&(this.NI=n),this.Te(),!0}return!1},this.PM=(t,e)=>{this.CM=!1,ga(e),this.bA.Ss()},this.bA=t,this.qg=e,this.scale=s,this.contentScale=n,this.KI=o,this.qI=new db(t,i,s,r,o===hb.UpToDown?ub.Up:ub.Left).setStrokeStyle(r.dataGridScrollBarButtonStrokeStyle).setFillStyle(r.dataGridScrollBarButtonFillStyle),this.tP=new db(t,i,s,r,o===hb.UpToDown?ub.Down:ub.Right).setStrokeStyle(r.dataGridScrollBarButtonStrokeStyle).setFillStyle(r.dataGridScrollBarButtonFillStyle),this.HI=new Td(t,i,s,Xo,r).setFillStyle(r.dataGridScrollBarFillStyle).setStrokeStyle(r.dataGridScrollBarStrokeStyle).setMouseInteractions(!0).setDraggingMode(o===hb.UpToDown?Oo.onlyVertical:o===hb.LeftToRight?Oo.onlyHorizontal:Oo.notDraggable),this.iP=new Td(e,i,s,Xo,r).setFillStyle(r.dataGridScrollBarBackgroundFillStyle).setStrokeStyle(r.dataGridScrollBarBackgroundStrokeStyle).setMouseInteractions(!0),this.HI.onMouseEnter(this.kM),this.HI.onMouseLeave(this.TM),this.HI.onMouseDragStart(((t,e)=>this.FM(Lr(e.clientX,e.clientY))&&ga(e))),this.HI.onMouseDrag(((t,e)=>this.IM(Lr(e.clientX,e.clientY))&&ga(e))),this.HI.onMouseDragStop(this.PM),this.HI.onTouchStart(((t,e)=>this.FM(Lr(e.clientX,e.clientY))&&ga(e))),this.HI.onTouchMove(((t,e)=>this.IM(Lr(e.clientX,e.clientY))&&ga(e))),this.HI.onTouchEnd(this.PM),this.qI.onMouseDown(((t,e)=>this.XI(t,e)&&ga(e))),this.tP.onMouseDown(((t,e)=>this.XI(t,e)&&ga(e))),this.qI.onMouseUp(((t,e)=>this.ZI()&&ga(e))),this.tP.onMouseUp(((t,e)=>this.ZI()&&ga(e))),this.iP.onMouseWheel(((t,e)=>this.sP(e))),this.HI.onMouseWheel(((t,e)=>this.sP(e))),this.iP.onMouseDown(((t,e)=>this.XI(t,e)&&ga(e))),this.iP.onMouseUp(((t,e)=>this.ZI()&&ga(e)))}eP(t){return this.C_=t,this}fl(t){return this.C_.width=t,this}hP(){return this.C_.width}rP(t){return this.GI=t,this}nP(t){return this.Kc=t,this}oP(){return this.Kc}aP(t){return this.YI=t,this}lP(){return this.KI}uP(t){let e;switch(this.KI){case hb.UpToDown:return e=t>0?Math.min(this.GI.y-this.OI.max.y,this.WI.y+t):Math.max(0,this.WI.y+t),e!==this.WI.y&&(this.JI({x:0,y:e}),this.Te(),!0);case hb.LeftToRight:return e=Math.min(this.OI.max.x-this.GI.x,this.WI.x+t),e!==this.WI.x&&(this.JI({y:0,x:e}),this.Te(),!0);default:return!1}}cP(t){let e;switch(this.KI){case hb.UpToDown:return e=Math.max(0,this.WI.y-t),e!==this.WI.y&&(this.JI({x:0,y:e}),this.Te(),!0);case hb.LeftToRight:return e=t>0?Math.max(0,this.WI.x-t):Math.min(this.OI.max.x-this.GI.x,this.WI.x-t),e!==this.WI.x&&(this.JI({x:e,y:0}),this.Te(),!0);default:return!0}}dP(t){switch(this.KI){case hb.UpToDown:return this.D.on("scrollY",t);case hb.LeftToRight:return this.D.on("scrollX",t)}return this.D.on("scrollY",t)}QI(t){switch(this.KI){case hb.UpToDown:if(t.y>this.OI.min.y)return Lr(t.x,this.OI.min.y);if(t.y<this.OI.max.y)return Lr(t.x,this.OI.max.y);break;case hb.LeftToRight:if(t.x<this.OI.min.x)return Lr(this.OI.min.x,t.y);if(t.x>this.OI.max.x)return Lr(this.OI.max.x,t.y)}return t}sP(t){t.deltaY>0&&this.fP()&&ga(t),t.deltaY<0&&this.AP()&&ga(t)}jI(t){const e=Lo(this.bA.us.Pe(t.clientX,t.clientY),this.bA.us.dt,this.scale);let i;const s=this.HI.getPosition(),n=this.HI.getSize();this.gP(e,s,n)?clearInterval(this.$I):(i=this.KI===hb.UpToDown?Lr(0,e.y-s.y>0?this.YI:-this.YI):Lr(s.x-e.x>0?this.YI:-this.YI,0),(i.x>0||i.y>0)&&this.mP(0!==i.x?Math.abs(i.x):Math.abs(i.y)),(i.x<0||i.y<0)&&this.yP(0!==i.x?Math.abs(i.x):Math.abs(i.y)))}gP(t,e,i){return this.KI===hb.UpToDown?t.y<e.y+i.y/2&&t.y>e.y-i.y/2:t.x>e.x-i.x/2&&t.x<e.x+i.x/2}pP(t){this.OI=t}mP(t){switch(this.KI){case hb.UpToDown:{const e=Math.max(0,this.WI.y-t);return e!==this.WI.y&&(this.JI({x:0,y:e}),this.Te(),!0)}case hb.LeftToRight:{const e=Math.max(0,this.WI.x-t);return e!==this.WI.x&&(this.JI({x:e,y:0}),this.Te(),!0)}default:return!1}}yP(t){switch(this.KI){case hb.UpToDown:{let e;return e=this.Kc.x>this.C_.height?Math.min(this.GI.y-this.OI.max.y,this.WI.y+t):0,e!==this.WI.y&&(this.JI({x:0,y:e}),this.Te(),!0)}case hb.LeftToRight:{const e=Math.min(this.OI.max.x-this.GI.x,this.WI.x+t);return e!==this.WI.x&&(this.JI({y:0,x:e}),this.Te(),!0)}default:return!1}}AP(){return this.mP(this.YI)}fP(){return this.yP(this.YI)}JI(t){if(t.x===this.WI.x&&t.y===this.WI.y)return;let e;switch(this.WI=t,this.KI){case hb.UpToDown:e=this.WI.y*this.UI*this.contentScale.Wi().y,this.D.emit("scrollY",cb.Vertical,e),this.bA.us.Ss();break;case hb.LeftToRight:e=this.WI.x*this.UI*this.contentScale.Wi().x,this.D.emit("scrollX",cb.Horizontal,e)}}setVisible(t){return this.qI.setVisible(t),this.tP.setVisible(t),this.iP.setVisible(t),this.HI.setVisible(t),this}dispose(){return this.qI.dispose(),this.tP.dispose(),this.iP.dispose(),this.HI.dispose(),this.$I&&clearInterval(this.$I),this}Ps(){switch(this.SP(),this.vP(),this.KI){case hb.UpToDown:this.qI.Fe({x:this.C_.x,y:this.C_.y+this.C_.height-this.qI.oi().x/2}).q(Lr(this.C_.width,this.C_.width)).Ps(),this.tP.Fe({x:this.C_.x,y:this.C_.y+10}).q(Lr(this.C_.width,this.C_.width)).Ps(),this.iP.setSize({x:this.C_.width,y:this.C_.height-2*this.qI.oi().x}).setPosition({x:this.C_.x,y:this.C_.y+this.tP.oi().y+this.iP.getSize().y/2}),this.HI.setSize(Lr(this.C_.width,this.bP())),this.GI={x:this.C_.x,y:this.qI.Fa().y-this.qI.oi().y/2-this.HI.getSize().y/2},this.pP({min:{x:this.C_.x,y:this.qI.Fa().y-this.qI.oi().y/2-this.HI.getSize().y/2},max:{x:this.C_.x,y:this.tP.Fa().y+this.tP.oi().x/2+this.HI.getSize().y/2}});break;case hb.LeftToRight:this.qI.Fe({x:this.C_.x,y:this.C_.y}).q(Lr(this.C_.height,this.C_.height)).Ps(),this.tP.Fe({x:this.C_.x+this.C_.width-this.tP.oi().x,y:this.C_.y}).q(Lr(this.C_.height,this.C_.height)).Ps(),this.iP.setSize({y:this.C_.height,x:this.C_.width-2*this.qI.oi().y}).setPosition({x:this.C_.x+this.qI.oi().x/2+this.iP.getSize().x/2,y:this.C_.y}),this.HI.setSize(Lr(this.bP(),this.C_.height)),this.GI={x:this.qI.Fa().x+this.qI.oi().x/2+this.HI.getSize().x/2,y:this.C_.y},this.pP({min:{x:this.qI.Fa().x+this.qI.oi().x/2+this.HI.getSize().x/2,y:this.C_.y},max:{x:this.tP.Fa().x-this.tP.oi().x/2-this.HI.getSize().x/2,y:this.C_.y}})}return this.xP(),this}SP(){switch(this.KI){case hb.UpToDown:this.MP()||this.setVisible(!1),this.MP()&&this.setVisible(!0);break;case hb.LeftToRight:this._P()||this.setVisible(!1),this._P()&&this.setVisible(!0)}}vP(){switch(this.KI){case hb.UpToDown:this.MP()||this.JI({x:0,y:0});break;case hb.LeftToRight:this._P()||this.JI({x:0,y:0})}}MP(){return this.Kc.x>this.C_.height}_P(){return this.Kc.y>this.C_.width}bP(){switch(this.KI){case hb.UpToDown:return this.C_.height*(this.C_.height-2*this.qI.oi().x)/this.Kc.x;case hb.LeftToRight:return this.C_.width*(this.C_.width-2*this.qI.oi().y)/this.Kc.y;default:return 0}}xP(){switch(this.KI){case hb.UpToDown:this.UI=(this.Kc.x-this.C_.height)/(this.OI.min.y-this.OI.max.y);break;case hb.LeftToRight:this.UI=(this.Kc.y-this.C_.width)/(this.OI.max.x-this.OI.min.x)}}Te(){switch(this.qI.Te(),this.tP.Te(),this.iP.Te(),this.KI){case hb.UpToDown:this.HI.setPosition({x:this.C_.x,y:this.qI.Fa().y-this.qI.oi().y/2-this.HI.getSize().y/2-this.WI.y}).Te();break;case hb.LeftToRight:this.HI.setPosition({y:this.C_.y,x:this.qI.Fa().x+this.qI.oi().x/2+this.HI.getSize().x/2+this.WI.x}).Te()}return this}}class gb{constructor(t,e,i,s,n,r,o){switch(this.bA=t,this.qg=e,this.scale=s,this.contentScale=n,o){case cb.Vertical:this.wP=this.CP(i,r,hb.UpToDown);break;case cb.Horizontal:this.kP=this.CP(i,r,hb.LeftToRight);break;case cb.Both:this.wP=this.CP(i,r,hb.UpToDown),this.kP=this.CP(i,r,hb.LeftToRight)}this.TP=dh(new ph(void 0,((t,e,i,s,n)=>{var r,o;0!==s.x&&(null===(r=this.kP)||void 0===r?void 0:r.cP(s.x))&&ga(n),0!==s.y&&(null===(o=this.wP)||void 0===o?void 0:o.uP(s.y))&&ga(n)})))}CP(t,e,i){return new pb(this.bA,this.qg,t,this.scale,this.contentScale,e,i)}hP(){return 20}nP(t){var e,i;return null===(e=this.wP)||void 0===e||e.nP(t),null===(i=this.kP)||void 0===i||i.nP(t),this}FP(t){var e;return null===(e=this.kP)||void 0===e||e.aP(t),this}IP(t){var e;return null===(e=this.wP)||void 0===e||e.aP(t),this}PP(t){const e=this.wP;return e&&e.sP(t),this}DP(t){return this.TP.onTouchStart(this,t),this}BP(t){return this.TP.onTouchMove(this,t),this}LP(t){return this.TP.onTouchEnd(this,t),this}onScroll(t){var e,i;return null===(e=this.kP)||void 0===e||e.dP(t),null===(i=this.wP)||void 0===i||i.dP(t),this}dispose(){var t,e;return null===(t=this.wP)||void 0===t||t.dispose(),null===(e=this.kP)||void 0===e||e.dispose(),this}Te(){var t,e;return null===(t=this.wP)||void 0===t||t.Te(),null===(e=this.kP)||void 0===e||e.Te(),this}Ps(){var t,e,i,s;const n=this.scale.x,r=this.scale.y;return null===(t=this.wP)||void 0===t||t.eP({x:n.getInnerEnd()-10,y:r.getInnerStart()+20,height:r.getInnerEnd()-20,width:20}),null===(e=this.kP)||void 0===e||e.eP({x:n.getInnerStart()+10,y:r.getInnerStart()+10,height:20,width:n.getInnerEnd()-20}),null===(i=this.wP)||void 0===i||i.Ps(),null===(s=this.kP)||void 0===s||s.Ps(),this}}class mb extends up{constructor(t,e,i,s,n,r){super(t,e,i,e.vm("dataGrid bg",0),s,e.us.qi.dataGridBackgroundFillStyle,e.us.qi.dataGridBackgroundStrokeStyle,e.us.qi.dataGridTitleFont,e.us.qi.dataGridTitleFillStyle,r),this.RP=[],this.EP=[],this.zP=[],this.VP=new Map,this.OP=!0,this.NP=!0,this.GP=!0,this.WP=!0,this.UP=!0,this.YP=!0,this.HP=!0,this.$P=!0,this.XP=!0,this.jP=!0,this.ZP=!0,this.QP=!0,this.JP=!0,this.KP=!0,this.qP=!0,this.tD=!0,this.iD=new Set,this.sD=new Set,this.eD=!0,this.hD=!0,this.rD=(t,e)=>{t.borders=void 0===e?Sb:{...t.borders,...e},this.nD(t),this.QP=!0,this.us.Ss()},this.nD=t=>{t.borders&&(!1===t.borders.top&&this.oD(t.column,t.row-1,(t=>{t.borders=t.borders?{...null==t?void 0:t.borders,bottom:!1}:{...this.aD,bottom:!1}})),!1===t.borders.bottom&&this.oD(t.column,t.row+1,(t=>{t.borders=t.borders?{...t.borders,top:!1}:{...this.aD,top:!1}})),!1===t.borders.left&&this.oD(t.column-1,t.row,(t=>{t.borders=t.borders?{...t.borders,right:!1}:{...this.aD,right:!1}})),!1===t.borders.right&&this.oD(t.column+1,t.row,(t=>{t.borders=t.borders?{...t.borders,left:!1}:{...this.aD,left:!1}})),!0===t.borders.top&&this.oD(t.column,t.row-1,(t=>{t.borders=t.borders?{...null==t?void 0:t.borders,bottom:!0}:{...this.aD,bottom:!0}})),!0===t.borders.bottom&&this.oD(t.column,t.row+1,(t=>{t.borders=t.borders?{...t.borders,top:!0}:{...this.aD,top:!0}})),!0===t.borders.left&&this.oD(t.column-1,t.row,(t=>{t.borders=t.borders?{...t.borders,right:!0}:{...this.aD,right:!0}})),!0===t.borders.right&&this.oD(t.column+1,t.row,(t=>{t.borders=t.borders?{...t.borders,left:!0}:{...this.aD,left:!0}})))},this.lD=(t,e)=>{const i=this.VP.get(t);i&&this.D.emit(yb.cellMouseEnter,i,e)},this.uD=(t,e)=>{const i=this.VP.get(t);i&&this.D.emit(yb.cellMouseLeave,i,e)},this.cD=(t,e)=>{const i=this.VP.get(t);i&&this.D.emit(yb.cellMouseClick,i,e)},this.dD=(t,e)=>{const i=this.VP.get(t);i&&this.D.emit(yb.cellMouseDoubleClick,i,e)},this.fD=(t,e)=>{const i=this.VP.get(t);i&&this.D.emit(yb.cellMouseDown,i,e)},this.AD=(t,e)=>{const i=this.VP.get(t);i&&this.D.emit(yb.cellMouseUp,i,e)},this.gD=(t,e)=>{const i=this.VP.get(t);i&&this.D.emit(yb.cellMouseMove,i,e)},this.mD=(t,e)=>{const i=this.VP.get(t);i&&this.D.emit(yb.cellMouseDrag,i,e)},this.yD=(t,e)=>{const i=this.VP.get(t);i&&this.D.emit(yb.cellMouseDragStart,i,e)},this.pD=(t,e)=>{const i=this.VP.get(t);i&&this.D.emit(yb.cellMouseDragStop,i,e)},this.SD=(t,e)=>{const i=this.VP.get(t);i&&(this.D.emit(yb.cellMouseWheel,i,e),!e.defaultPrevented&&this.eD&&this.vD.PP(e))},this.bD=(t,e)=>{const i=this.VP.get(t);i&&(this.D.emit(yb.cellTouchStart,i,e),!e.defaultPrevented&&this.hD&&this.vD.DP(e))},this.xD=(t,e)=>{const i=this.VP.get(t);i&&(this.D.emit(yb.cellTouchMove,i,e),!e.defaultPrevented&&this.hD&&this.vD.BP(e))},this.MD=(t,e)=>{const i=this.VP.get(t);i&&(this.D.emit(yb.cellTouchEnd,i,e),!e.defaultPrevented&&this.hD&&this.vD.LP(e))},this.us.Nn(xf.if),this._m.Rh("Data Grid"),this._D=i.d2({scaleXYConstructor:eh}),this._D.x.ig=qv,this.wD=i.d2({scaleXYConstructor:eh}),this.CD={x:0,y:0},this.kD=this.qi.dataGridTextFont,this.TD=this.qi.dataGridTextFillStyle,this.aD={top:!0,bottom:!0,left:!0,right:!0},this.FD=this.qi.dataGridCellBackgroundFillStyle,this.ID=this.qi.dataGridBorderStrokeStyle,this.PD="left-center",this.DD={left:5,right:5,bottom:5,top:5},this.BD=e.ob("dataGrid grid bg",0),this.LD=e.ob("dataGrid cell bg",1),this.RD=e.$y("dataGrid cell content",0),this.ED=e.$y("dataGrid scrollbar bg",1),this.zD=e.$y("dataGrid scrollbar fg",2),this.vD=this.VD(),this.onBackgroundMouseWheel(((t,e)=>{this.eD&&this.vD.PP(e)})),this.onBackgroundTouchStart(((t,e)=>{this.hD&&this.vD.DP(e)})),this.onBackgroundTouchMove(((t,e)=>{this.hD&&this.vD.BP(e)})),this.onBackgroundTouchEnd(((t,e)=>{this.hD&&this.vD.LP(e)})),this.OD=this.BD.ke(this._D).Ce(this.qi.dataGridBackgroundFillStyle).we(Eo).setMouseInteractions(!1),this.ND=this.RD.Lg(this._D).setMouseInteractions(!1),this.GD=new eg((()=>this.LD.ke(this._D).setMouseInteractions(!0).setMouseEnterEventHandler(this.lD).setMouseLeaveEventHandler(this.uD).setMouseClickEventHandler(this.cD).setMouseDoubleClickEventHandler(this.dD).setMouseDownEventHandler(this.fD).setMouseUpEventHandler(this.AD).setMouseMoveEventHandler(this.gD).setMouseDragEventHandler(this.mD).setMouseDragStartEventHandler(this.yD).setMouseDragStopEventHandler(this.pD).setMouseWheelEventHandler(this.SD).setTouchStartEventHandler(this.bD).setTouchMoveEventHandler(this.xD).setTouchEndEventHandler(this.MD))),this.WD=new eg((()=>this.RD.ke(this._D).setMouseInteractions(!1))),this.UD=new eg((()=>this.RD.Pr(this._D).setMouseInteractions(!1))),this.YD=new eg((()=>this.RD.rp(this._D,{},[Kp.InternalUI,{type:"DataPattern",args:{pattern:"ProgressiveX"}}]).setMouseInteractions(!1))),this.HD=new eg((()=>this.RD.Ee(this._D).setMouseInteractions(!1))),this.$D=new eg((()=>this.RD.bS(this._D).setMouseInteractions(!1))),this.XD=new eg((()=>this.RD.ke(this._D).setMouseInteractions(!1))),this.jD=new eg((()=>this.RD.lw(this._D).setMouseInteractions(!1))),this.ZD=new eg((()=>this.RD.Jc(this._D).setMouseInteractions(!1))),this.Sm(n,this.uiScale),this.onResize((()=>{this.OP=!0,this.us.Ss(),this._D.q(this.pixelScale.oi()),this.wD.q(this.pixelScale.oi())})),this.QD=this.es.yg([this.OD])}getMinimumSize(){return{x:200,y:200}}setAnimationsEnabled(t){return this}Zd(){return[]}dispose(){return super.dispose(),this.BD.W(),this.LD.W(),this.RD.W(),this.ED.W(),this.zD.W(),lp(this._D),lp(this.wD),this.vD.dispose(),this.UD.gp(),this.GD.gp(),this.WD.gp(),this.YD.gp(),this.HD.gp(),this.$D.gp(),this.XD.gp(),this.jD.gp(),this.ZD.gp(),this}j(){return super.j(),this._D.j(),this.wD.j(),this}Z(){return super.Z(),this._D.Z(),this.wD.Z(),this}setBackgroundEffect(t){return this.QD.ps(t),this.us.Ss(),this}getBackgroundEffect(){return this.QD.vs()}setInteractionScrollOnWheel(t){return this.eD=t,this}getInteractionScrollOnWheel(){return this.eD}setInteractionPanOnTouch(t){return this.hD=t,this}getInteractionPanOnTouch(){return this.hD}onCellMouseEnter(t){return this.D.on(yb.cellMouseEnter,t)}offCellMouseEnter(t){return this.D.off(t)}onCellMouseLeave(t){return this.D.on(yb.cellMouseLeave,t)}offCellMouseLeave(t){return this.D.off(t)}onCellMouseClick(t){return this.D.on(yb.cellMouseClick,t)}offCellMouseClick(t){return this.D.off(t)}onCellMouseDoubleClick(t){return this.D.on(yb.cellMouseDoubleClick,t)}offCellMouseDoubleClick(t){return this.D.off(t)}onCellMouseDown(t){return this.D.on(yb.cellMouseDown,t)}offCellMouseDown(t){return this.D.off(t)}onCellMouseUp(t){return this.D.on(yb.cellMouseUp,t)}offCellMouseUp(t){return this.D.off(t)}onCellMouseMove(t){return this.D.on(yb.cellMouseMove,t)}offCellMouseMove(t){return this.D.off(t)}onCellMouseDrag(t){return this.D.on(yb.cellMouseDrag,t)}offCellMouseDrag(t){return this.D.off(t)}onCellMouseDragStart(t){return this.D.on(yb.cellMouseDragStart,t)}offCellMouseDragStart(t){return this.D.off(t)}onCellMouseDragStop(t){return this.D.on(yb.cellMouseDragStop,t)}offCellMouseDragStop(t){return this.D.off(t)}onCellMouseWheel(t){return this.D.on(yb.cellMouseWheel,t)}offCellMouseWheel(t){return this.D.off(t)}onCellTouchStart(t){return this.D.on(yb.cellTouchStart,t)}offCellTouchStart(t){return this.D.off(t)}onCellTouchMove(t){return this.D.on(yb.cellTouchMove,t)}offCellTouchMove(t){return this.D.off(t)}onCellTouchEnd(t){return this.D.on(yb.cellTouchEnd,t)}offCellTouchEnd(t){return this.D.off(t)}setGridBackgroundFillStyle(t){return this.OD.Ce(t),this.us.Ss(),this}getGridBackgroundFillStyle(){return this.OD.Eh()}setCellContent(t,e,i,s,n){if("number"==typeof i&&void 0!==s&&void 0!==n){const r=i,o=s,a=n;let l=[];for(let i=t;i<t+r;i+=1)for(let t=e;t<e+o;t+=1){const e=this.oD(i,t);e&&l.push(e)}l=Va(l);let h={highlight:0};for(const t of l){const e=this.RP.indexOf(t);e<0||(h={...h,highlight:t.highlight,textFont:t.textFont,textFillStyle:t.textFillStyle,contentAlignment:t.contentAlignment,borders:t.borders,padding:t.padding,backgroundFillStyle:t.backgroundFillStyle},this.RP.splice(e,1))}const c={...h,column:t,row:e,columnSpan:r,rowSpan:o,content:a};this.RP.push(c),this.WP=!0,"string"==typeof c.content||"number"==typeof c.content?this.NP=!0:this.GP=!0,this.us.Ss()}else this.JD(t,e,i);return this}setColumnContent(t,e){const i=e.length;if(0===i)return this;for(let s=0;s<i;s+=1){const i=e[s];this.JD(t,s,i)}return this}setRowContent(t,e){const i=e.length;if(0===i)return this;for(let s=0;s<i;s+=1){const i=e[s];this.JD(s,t,i)}return this}setTableContent(t){const e=t.length;if(0===e)return this;const i=t[0].length;if(0===i)return this;for(let s=0;s<i;s+=1)for(let i=0;i<e;i+=1){const e=t[i][s];this.JD(s,i,e)}return this}setColumnWidth(t,e){let i=this.EP.find((e=>e.column===t));return i||(i={column:t,min:void 0,max:void 0},this.EP.push(i)),"object"==typeof e?(i.min=e.min,i.max=e.max):void 0===e?this.EP.splice(this.EP.indexOf(i),1):(i.min=e,i.max=e),this.YP=!0,this.us.Ss(),this}setRowHeight(t,e){let i=this.zP.find((e=>e.row===t));return i||(i={row:t,min:void 0,max:void 0},this.zP.push(i)),"object"==typeof e?(i.min=e.min,i.max=e.max):void 0===e?this.zP.splice(this.zP.indexOf(i),1):(i.min=e,i.max=e),this.YP=!0,this.us.Ss(),this}setColumnPaddings(t,e){return"number"==typeof e&&(e=Gr(e,e,e,e)),this.KD(t,(t=>this.qD(t,e))),this}setRowPaddings(t,e){return"number"==typeof e&&(e=Gr(e,e,e,e)),this.tB(t,(t=>this.qD(t,e))),this}setCellPadding(t,e,i){return"number"==typeof i&&(i=Gr(i,i,i,i)),this.oD(t,e,(t=>this.qD(t,i))),this}setCellsPaddings(t){return"number"==typeof t&&(t=Gr(t,t,t,t)),this.DD={...this.DD,...t},this.iB((t=>this.qD(t,this.DD))),this}setCellBorders(t,e,i){return this.oD(t,e,(t=>this.rD(t,i))),this}setRowBorders(t,e){return this.tB(t,(t=>this.rD(t,e))),this}setColumnBorders(t,e){return this.KD(t,(t=>this.rD(t,e))),this}setCellsBorders(t){return this.aD=void 0===t?Sb:t,this.iB((t=>this.rD(t,this.aD))),this}setCellsBorderStrokeStyle(t){return this.ID="function"==typeof t?t(this.ID):t,this.KP=!0,this.us.Ss(),this}setColumnTextFillStyle(t,e){return this.KD(t,(t=>this.sB(t,e))),this}setRowTextFillStyle(t,e){return this.tB(t,(t=>this.sB(t,e))),this}setCellTextFillStyle(t,e,i){return this.oD(t,e,(t=>this.sB(t,i))),this}setCellsTextFillStyle(t){return this.TD="function"==typeof t?t(this.TD):t,this.iB((t=>this.sB(t,this.TD))),this}setColumnTextFont(t,e){return this.KD(t,(t=>this.eB(t,e))),this}setRowTextFont(t,e){return this.tB(t,(t=>this.eB(t,e))),this}setCellTextFont(t,e,i){return this.oD(t,e,(t=>this.eB(t,i))),this}setCellsTextFont(t){return this.kD="function"==typeof t?t(this.kD):t,this.iB((t=>this.eB(t,this.kD))),this}setColumnContentAlignment(t,e){return this.KD(t,(t=>this.hB(t,e))),this}setRowContentAlignment(t,e){return this.tB(t,(t=>this.hB(t,e))),this}setCellContentAlignment(t,e,i){return this.oD(t,e,(t=>this.hB(t,i))),this}setCellsContentAlignment(t){return this.PD=t,this.iB((t=>this.hB(t,this.PD))),this}setCellBackgroundFillStyle(t,e,i){return this.oD(t,e,(t=>this.rB(t,i))),this}setColumnBackgroundFillStyle(t,e){return this.KD(t,(t=>this.rB(t,e))),this}setRowBackgroundFillStyle(t,e){return this.tB(t,(t=>this.rB(t,e))),this}setCellsBackgroundFillStyle(t){return this.FD="function"==typeof t?t(this.FD):t,this.iB((t=>this.rB(t,this.FD))),this}setCellHighlight(t,e,i){return this.oD(t,e,(t=>{t.highlight=Oa(i)})),this.JP=!0,this.us.Ss(),this}setColumnHighlight(t,e){const i=Oa(e);return this.KD(t,(t=>{t.highlight=i})),this.JP=!0,this.us.Ss(),this}setRowHighlight(t,e){const i=Oa(e);return this.tB(t,(t=>{t.highlight=i})),this.JP=!0,this.us.Ss(),this}removeCell(t,e){return this.oD(t,e,(t=>this.RP.splice(this.RP.indexOf(t),1))),this.UP=!0,this.us.Ss(),this}removeRow(t){return this.tB(t,(t=>this.RP.splice(this.RP.indexOf(t),1))),this.RP.filter((e=>e.row>t)).forEach((t=>{t.row-=1})),this.UP=!0,this.us.Ss(),this}removeColumn(t){return this.KD(t,(t=>this.RP.splice(this.RP.indexOf(t),1))),this.RP.filter((e=>e.column>t)).forEach((t=>{t.column-=1})),this.UP=!0,this.us.Ss(),this}removeCells(){return this.RP.splice(0),this.UP=!0,this.us.Ss(),this}getColumnMax(){return 0===this.RP.length?0:this.RP.reduce(((t,e)=>Math.max(t,e.column+e.columnSpan-1)),0)}getRowMax(){return 0===this.RP.length?0:this.RP.reduce(((t,e)=>Math.max(t,e.row+e.rowSpan-1)),0)}Te(t){super.Te(t),dp.Fm(this._m,this.bm),super.pm();const e=Math.round(this.ID.V()),i=e/2;let s=this.NP||this.GP||this.WP||this.UP||this.YP||this.HP||this.ZP||this.QP||this.KP||this.tD;if(s){this.RP.forEach((t=>{this.sD.add(t.column)})),this.RP.forEach((t=>{this.iD.add(t.row)}));const t=this.UD.fp(),n=this.nB(i,t);t.finishPlot();const r=this.oB(this.sD.size,n),o=this.aB(this.iD.size,n),a=r.reduce(ll,0)+e,l=o.reduce(ll,0)+e,h=new Array(r.length+1).fill(0).map(((t,e)=>r.reduce(((t,i,s)=>t+(s<e?i:0)),0))),c=new Array(o.length+1).fill(0).map(((t,e)=>o.reduce(((t,i,s)=>t+(s<e?i:0)),0)));if(this.lB){const t=this.lB.columnWidths.every(((t,e)=>t===r[e])),e=this.lB.rowHeights.every(((t,e)=>t===o[e]));t&&e&&(s=!1)}this.lB={columnWidths:r,rowHeights:o,dataGridWidth:a,dataGridHeight:l,columnWidthsCumulative:h,rowHeightsCumulative:c,cellsContentSizes:n}}const n=s||this.GP||this.WP||this.UP||this.$P||this.XP||this.jP||this.QP||this.JP||this.KP||this.OP||this.tD;if((n||this.qP)&&this.lB){const t=this.pixelScale.getInnerIntervalPixels(),s=dp.Tm(this._m,this.bm),r=[this.ya.left+i,this.ya.right+i],o=[this.ya.bottom+i,this.ya.top+s+i],a={x:t.x-r[0]-r[1],y:t.y-o[0]-o[1]},l=[this.ya.left,this.ya.right],h=[this.ya.bottom,this.ya.top+s],c={x:Math.round(t.x-l[0]-l[1]),y:Math.round(t.y-h[0]-h[1])},u={x:Math.ceil(i),y:Math.floor(c.y-i)};this.wD.Ei(r).zi(o).Vi(0,a.x).Oi(0,a.y),this.vD.nP({x:this.lB.dataGridHeight,y:this.lB.dataGridWidth}).Ps().Te();const d={x:Math.round(this.CD.x),y:Math.round(Math.min(0,this.CD.y))};this._D.Ei(l).zi(h).Vi(d.x,c.x+d.x).Oi(d.y,c.y+d.y),this.OD.Fe({x:u.x,y:u.y});const f={x:this._D.x.ei(),y:this._D.y.ei()+this.vD.hP(),width:this._D.x.ri()+e-this.vD.hP(),height:this._D.y.ri()+e};this.RD.qv(f),this.LD.qv(f),this.BD.qv(f);const p=this.lB,g=[{x:this._D.x.getInnerStart(),y:this._D.y.getInnerStart()},{x:this._D.x.getInnerEnd(),y:this._D.y.getInnerStart()},{x:this._D.x.getInnerEnd(),y:this._D.y.getInnerEnd()},{x:this._D.x.getInnerStart(),y:this._D.y.getInnerEnd()}];p.cellsContentSizes.forEach((t=>{var e;const i={x:u.x+p.columnWidthsCumulative[t.cell.column],y:u.y-p.rowHeightsCumulative[t.cell.row+t.cell.rowSpan]},s={x:i.x+p.columnWidths[t.cell.column],y:i.y+p.rowHeights[t.cell.row]},n=rl([i,{x:s.x,y:i.y},s,{x:i.x,y:s.y}],g);null===(e=t.text)||void 0===e||e.setVisible(n)})),n&&this.uB(u,this.lB,e)}this.OP=!1,this.NP=!1,this.GP=!1,this.WP=!1,this.UP=!1,this.YP=!1,this.HP=!1,this.$P=!1,this.XP=!1,this.jP=!1,this.ZP=!1,this.QP=!1,this.JP=!1,this.KP=!1,this.qP=!1,this.tD=!1}nB(t,e){const i=[],s={left:Math.ceil(t),right:Math.ceil(t),top:Math.ceil(t),bottom:Math.ceil(t)};for(const n of this.RP){const{content:t}=n,r={...this.DD,...n.padding};let o,a,l,h={x:0,y:0};if("string"==typeof t||"number"==typeof t){const i=String(t);o=e.add(),h=o.Rh(i).Oh(n.textFont||this.kD).Ps().jc()}if(Jv(t)&&(a=t,h={x:200,y:50}),yd(t)){const e=this.us.cB(t);e.dB()?(l=t,h=l.oi()):e.fB((()=>{this.tD=!0,this.us.Ss()}))}if(o||a||l){r.top=Math.round(r.top),r.left=Math.round(r.left),r.right=Math.round(r.right),r.bottom=Math.round(r.bottom);const t={x:Math.round(h.x+r.left+r.right+s.left+s.right),y:Math.round(h.y+r.top+r.bottom+s.top+s.bottom)};i.push({cell:n,contentSize:t,text:o,sparkChart:a,icon:l,cellPadding:r,cellMargin:s})}}return i}uB(t,e,i){const{dataGridWidth:s,dataGridHeight:n,cellsContentSizes:r,columnWidths:o,columnWidthsCumulative:a,rowHeights:l,rowHeightsCumulative:h}=e,c={x:s-i,y:-n+i};this.OD.q(c),this.ND.Re(this.ID),this.VP.clear();const u={cellBackground:this.GD.fp(),cellIconRect:this.WD.fp(),lineSet:this.YD.fp(),line:this.HD.fp(),pointSet:this.$D.fp(),rect:this.XD.fp(),junction:this.jD.fp(),arc:this.ZD.fp()},d=[];for(const f of r){const{cell:e,text:s,sparkChart:n,icon:r,cellPadding:c,cellMargin:p}=f,g={column:e.column,row:e.row},m={x:t.x+a[e.column],y:t.y-h[e.row+e.rowSpan]},y={x:m.x+p.left,y:m.y+p.bottom},v={x:y.x+c.left,y:y.y+c.bottom},b={x:new Array(e.columnSpan).fill(0).reduce(((t,i,s)=>t+o[e.column+s]),0),y:new Array(e.rowSpan).fill(0).reduce(((t,i,s)=>t+l[e.row+s]),0)},x={x:b.x-p.left-p.right,y:b.y-p.top-p.bottom},S={x:x.x-c.left-c.right,y:x.y-c.top-c.bottom};if(s){const t=xb(v,S,e.contentAlignment||this.PD);s.Fe(t[0]).Ea({x:t[1],y:t[2]}).Ce(this.AB(e.textFillStyle||this.TD,e.content,this.TD)).cs(e.highlight)}const A=this.AB(e.backgroundFillStyle||this.FD,e.content);if(A!==ro){const t=u.cellBackground.add();t.Fe(m).q(b).Ce(A).we(Eo).cs(e.highlight),this.VP.set(t,g)}const w=e.borders||this.aD;if(w&&bb(m,b,w,i,d),n){const t=v,i=S;Kv(n,u,this._D,t,i,this.qi,this.cA,e.highlight)}if(r){const t=r.oi(),i=xb(v,S,e.contentAlignment||this.PD);u.cellIconRect.add().Fe({x:i[0].x+t.x*(-.5-i[1]/2),y:i[0].y+t.y*(-.5-i[2]/2)}).q(t).Ce(new hd({source:r.rc,fitMode:ad.Stretch})).we(Eo).cs(e.highlight)}}this.ND.Nt();for(const f of d)this.ND.zr().Eg(f[0],f[1]);u.cellBackground.finishPlot(),u.cellIconRect.finishPlot(),u.lineSet.finishPlot(),u.line.finishPlot(),u.pointSet.finishPlot(),u.rect.finishPlot(),u.junction.finishPlot(),u.arc.finishPlot()}oB(t,e){const i=new Array(t).fill(0);for(const s of this.sD.values()){const t=e.filter((t=>s>=t.cell.column&&s+1<=t.cell.column+t.cell.columnSpan)).reduce(((t,e)=>{const i=e.contentSize.x/e.cell.columnSpan;return Math.max(t,i)}),0),n=this.EP.find((t=>t.column===s)),r=n?Jo(t,void 0!==n.min?n.min:tl,void 0!==n.max?n.max:$a):t;i[s]=r}return i}aB(t,e){const i=new Array(t).fill(0);for(const s of this.iD.values()){const t=e.filter((t=>s>=t.cell.row&&s+1<=t.cell.row+t.cell.rowSpan)).reduce(((t,e)=>{const i=e.contentSize.y/e.cell.rowSpan;return Math.max(t,i)}),0),n=this.zP.find((t=>t.row===s)),r=n?Jo(t,void 0!==n.min?n.min:tl,void 0!==n.max?n.max:$a):t;i[s]=r}return i}AB(t,e,i){if(po(t)){try{const i=Number(e);return new ho({color:t.getPalette().getColors(i)})}catch(t){}return i||ro}return t}sB(t,e){t.textFillStyle="function"==typeof e?e(t.textFillStyle||this.TD):e,this.jP=!0,this.us.Ss()}eB(t,e){t.textFont="function"==typeof e?e(t.textFont||this.kD):e,this.ZP=!0,this.us.Ss()}rB(t,e){t.backgroundFillStyle="function"==typeof e?e(t.backgroundFillStyle||this.FD):e,this.XP=!0,this.us.Ss()}hB(t,e){t.contentAlignment=e,this.$P=!0,this.us.Ss()}qD(t,e){t.padding={...t.padding,...e},this.HP=!0,this.us.Ss()}JD(t,e,i){let s=this.oD(t,e);s?s.content=i:(s={column:t,row:e,columnSpan:1,rowSpan:1,content:i,highlight:0},this.RP.push(s),this.WP=!0),"string"==typeof s.content||"number"==typeof s.content?this.NP=!0:this.GP=!0,this.us.Ss()}iB(t){this.RP.forEach((e=>t(e)))}oD(t,e,i){const s=this.RP.find((i=>t>=i.column&&t+1<=i.column+i.columnSpan&&e>=i.row&&e+1<=i.row+i.rowSpan));return s&&i&&i(s),s}KD(t,e){const i=this.RP.filter((e=>t>=e.column&&t+1<=e.column+e.columnSpan));for(const s of i)s&&e(s)}tB(t,e){const i=this.RP.filter((e=>t>=e.row&&t+1<=e.row+e.rowSpan));for(const s of i)s&&e(s)}VD(){return new gb(this.zD,this.ED,this.wD,this.wD,this._D,this.qi,cb.Both).onScroll(((t,e)=>{this.lB&&(t===cb.Vertical&&(this.CD.y=-e),t===cb.Horizontal&&(this.CD.x=e),this.qP=!0,this.us.Ss())})).FP(50).IP(12)}}const yb={cellMouseEnter:"cellMouseEnter",cellMouseLeave:"cellMouseLeave",cellMouseClick:"cellMouseClick",cellMouseDoubleClick:"cellMouseDoubleClick",cellMouseDown:"cellMouseDown",cellMouseUp:"cellMouseUp",cellMouseMove:"cellMouseMove",cellMouseDrag:"cellMouseDrag",cellMouseDragStart:"cellMouseDragStart",cellMouseDragStop:"cellMouseDragStop",cellMouseWheel:"cellMouseWheel",cellTouchStart:"cellTouchStart",cellTouchMove:"cellTouchMove",cellTouchEnd:"cellTouchEnd"};var vb;!function(t){t.Center="center",t.RightCenter="right-center",t.LeftCenter="left-center",t.RightTop="right-top",t.LeftTop="left-top",t.RightBottom="right-bottom",t.LeftBottom="left-bottom",t.CenterTop="center-top",t.CenterBottom="center-bottom"}(vb||(vb={}));const bb=(t,e,i,s,n)=>{const r={x:t.x,y:t.y},o={x:t.x,y:t.y+e.y},a={x:t.x+e.x,y:t.y},l={x:t.x+e.x,y:t.y+e.y};i.top&&n.push([o,l]),i.bottom&&n.push([r,a]),i.left&&n.push([r,o]),i.right&&n.push([a,l])},xb=(t,e,i)=>{const s=t.x,n=t.x+e.x,r=t.x+e.x/2,o=t.y+e.y,a=t.y,l=t.y+e.y/2;switch(i){case"left-center":return[Lr(s,l),-1,0];case"right-center":return[Lr(n,l),1,0];case"center":return[Lr(r,l),0,0];case"left-bottom":return[Lr(s,a),-1,-1];case"right-bottom":return[Lr(n,a),1,-1];case"center-bottom":return[Lr(r,a),0,-1];case"left-top":return[Lr(s,o),-1,1];case"right-top":return[Lr(n,o),1,1];case"center-top":return[Lr(r,o),0,1]}return Ha(0,"Unidentified DataGrid cell content alignment option: ".concat(i))},Sb={top:!1,bottom:!1,left:!1,right:!1};class Ab extends yc{constructor(t,e,i,s,n,r){super(t,{Sr(){},pr(){},br(){}},s,e,i,{numeric:e.xAxisNumericTicks,datetime:e.xAxisDateTimeTicks,time:e.xAxisTimeTicks},{type:"linear"}),this.chart=t,this.es=r,this.ks=n,this.Lh=n.Pr(t.gB).Oh(this.qi.barChartCategoryAxisTitleFont||this.qi.xAxisTitleFont).Ce(this.qi.barChartCategoryAxisTitleFillStyle||this.qi.xAxisTitleFillStyle),this.setTitleRotation(this.chart.Ts.getWidth({x:0,y:-90})),this.Wh=this.es.yg([this.Lh]).ps(e.effectsText),this.mB=n.Ee(t.gB).Re(e.barChartCategoryAxisStrokeStyle||e.xAxisStrokeStyle)}setThickness(t){return"number"==typeof t?(this.xg=t,this.Mg=t):"object"==typeof t&&(this.xg=t.min,this.Mg=t.max),this.chart.us.Ss(),this}getThickness(){return{min:this.xg,max:this.Mg}}setStrokeStyle(t){return this.mB.Re(t),this.chart.us.Ss(),this}getStrokeStyle(){return this.mB.uu()}Ps(){if(!this.Xi)return{kg:0,Tg:0,Vd:Jo(0,void 0!==this.xg?this.xg:0,void 0!==this.Mg?this.Mg:$a)};const t=this.mB.uu().V()/2,e=this.chart.Ts.getHeight(this.Lh.Ps().jc());return{kg:t,Tg:e,Vd:t+e}}Te(t,e,i,s){const n=this.getInterval(),r=this.chart.valueAxis.getInterval();this.mB.Ve(this.chart.Ts.toPoint(n.start,r.start)).ze(this.chart.Ts.toPoint(n.end,r.start)).setVisible(this.Xi),this.Lh.Fe(this.chart.Ts.toPoint(.5*(n.start+n.end),this.chart.valueAxis.dt.mi(r.start,-(t.kg+s.labelMarginBeforeCategoryAxisPixels)))).Ea(this.chart.Ts.toPoint(0,1)).setVisible(this.Xi)}setMouseInteractions(t){return this}ur(t,e){return new vc(e,t,this.ks,this.chart.gB)}cr(t,e){return{}}_r(t,e){return e}Cr(t,e,i){return{min:t,max:e}}}class wb extends yc{constructor(t,e,i,s,n,r,o){super(t,{Sr:()=>{var e;if(t.yB){if("positive"===t.pB||"bipolar"===t.pB){if("after-bar"===(null===(e=t.SB)||void 0===e?void 0:e.position)){const e=this.dt.ri();return this.dt.mi(t.yB.max,Math.min(this.chart.Ts.getHeight(this.chart.vB())+t.SB.labelMargin,.3*e))}return t.yB.max}return t.bB?Jo(-1,-1e-6,t.yB.max):0}},pr:()=>{var e;if(t.yB){if("negative"===t.pB||"bipolar"===t.pB){if("after-bar"===(null===(e=t.SB)||void 0===e?void 0:e.position)){const e=this.dt.ri();return this.dt.mi(t.yB.min,-Math.min(this.chart.Ts.getHeight(this.chart.vB())+t.SB.labelMargin,.3*e))}return t.yB.min}return t.bB?Jo(1,1e-6,t.yB.min):0}},br:()=>{}},s,e,i,{numeric:e.barChartValueAxisTicks||e.yAxisNumericTicks,datetime:e.yAxisDateTimeTicks,time:e.yAxisTimeTicks},o),this.chart=t,this.es=r,this.ks=n,this.Lh=n.Pr(t.gB).Oh(this.qi.barChartValueAxisTitleFont||this.qi.yAxisTitleFont).Ce(this.qi.barChartValueAxisTitleFillStyle||this.qi.yAxisTitleFillStyle),this.setTitleRotation(this.chart.Ts.getHeight({x:0,y:-90})),this.Wh=this.es.yg([this.Lh]).ps(e.effectsText),this.mB=n.Ee(t.gB).Re(e.barChartValueAxisStrokeStyle||this.qi.yAxisStrokeStyle)}setThickness(t){return"number"==typeof t?(this.xg=t,this.Mg=t):"object"==typeof t&&(this.xg=t.min,this.Mg=t.max),this.chart.us.Ss(),this}getThickness(){return{min:this.xg,max:this.Mg}}setStrokeStyle(t){return this.mB.Re(t),this.chart.us.Ss(),this}getStrokeStyle(){return this.mB.uu()}setTickStrategy(t,e){return super.Fh(t,e)}Ps(t){if(!this.Xi)return this.Uh(),{kg:0,Tg:0,Vd:Jo(0,void 0!==this.xg?this.xg:0,void 0!==this.Mg?this.Mg:$a)};const e=this.chart.Ts.getWidth(this.chart.gB).ri(),i=this.dt.ri();this.qh({physicalAxisSize:i,oppositeAxisSize:e,plotLines:t});let s=0;for(const o of this.Ze.values())for(const t of o.values()){const e=t.Sh.lr,i=this.chart.Ts.getWidth(t.Ue.jc()),n=e.getTickLength()+e.getTickPadding()+i+e.getLabelPadding();s=Math.max(s,n)}const n=s+this.mB.uu().V()/2,r=this.chart.Ts.getWidth(this.Lh.Ps().jc());return{kg:n,Tg:r,Vd:Jo(n+r,void 0!==this.xg?this.xg:0,void 0!==this.Mg?this.Mg:$a)}}Te(t){const e=this.getInterval();this.mB.Ve(this.chart.Ts.toPoint(-.5,this.Ih)).ze(this.chart.Ts.toPoint(-.5,this.Ph)).setVisible(this.Xi);const i="logarithmic"===this.kh.type?Math.sqrt(e.start+e.end):.5*(e.start+e.end),s=this.chart.Ts.toPoint(this.chart.categoryAxis.dt.mi(-.5,t.kg*this.chart.Ts.xB),i),n=this.chart.Ts.toPoint(this.chart.Ts.MB,0);this.Lh.Fe(s).Ea(n).setVisible(this.Xi)}setMouseInteractions(t){return this}ur(t,e){return new vc(e,t,this.ks,this.chart.gB)}cr(t,e){const i=t.Sh.lr,s=this.chart.Ts.toPoint(-.5,t.u),n=this.chart.gB.mi(s,this.chart.Ts.toPoint(i.getTickLength()*this.chart.Ts.xB,0)),r=this.chart.gB.mi(s,this.chart.Ts.toPoint(i.gridStrokeLength*e.oppositeAxisSize*-this.chart.Ts.xB,0)),o=this.chart.gB.mi(n,this.chart.Ts.toPoint(i.getTickPadding()*this.chart.Ts.xB,0));t.Ue.Fe(o).Ea(this.chart.Ts.toPoint(this.chart.Ts.MB,i.getLabelAlignment())).Nh(i.getLabelRotation()),i.tickStyle!==Eo&&0!==i.tickLength&&e.plotLines.add({positions:[s,n]},{lineStyle:i.tickStyle}),i.gridStrokeStyle!==Eo&&i.gridStrokeLength>0&&e.plotLines.add({positions:[s,r]},{lineStyle:i.gridStrokeStyle})}_r(t,e){return"linear"===this.kh.type?vf(t,e,this.dt):bf(t,e,this.dt)}Cr(t,e,i){return{min:t,max:e}}}class Cb extends sm{constructor(t,e,i,s,n,r,o){super(t,e,i,s),this.No=Ka(),this.u=0,this._B=!1,this.chart=t,this.Ji=t,this.category=n,this.subCategory=r,this.xs=n,this.be=Da(i.barChartBarFillStyle||i.rectangleSeriesFillStyle,o),this.xe=Da(i.barChartBarStrokeStyle||i.rectangleSeriesStrokeStyle,o),this.onVisibleStateChanged((()=>{this.Ji.wB()})),this.onDispose((()=>{this.Ji.wB(),this.Ji.CB.delete(this)}))}setValue(t){return this._B=!0,this.u=t,this.Ji.wB(),this.Ji.us.Ss(),this.Ji.CB.delete(this),this}getValue(){return this.u}get value(){return this.u}setFillStyle(t){return this.be="function"==typeof t?t(this.be):t,this.Ji.wB(),this}getFillStyle(){return this.be}setStrokeStyle(t){return this.xe="function"==typeof t?t(this.xe):t,this.Ji.wB(),this}getStrokeStyle(){return this.xe}Kp(){return this.tS}Hc(t,e){return Np(t,this.Ji.engine.scale,this.Ji.Wy(new xp,this.category,this.u,this).Zu(),this,void 0)}solveNearestFromScreen(t){}setEffect(t){return this.Ji.setBarsEffect(t),this}}const Mb=(t,e,i)=>{const s=t.kd.filter((t=>void 0!==t)),n=s.map((t=>i(t.sizePixels))).reduce(((t,e)=>Math.max(t,e)),1),r=Math.ceil(n/(e/s.length));return r<=1?s:s.filter(((t,e)=>e%r==0))};class kb extends mg{constructor(t,e,i,s,n,r,o){var a;let l;super(t,e,i,e.vm("barChart bg",0),s,e.us.qi.barChartBackgroundFillStyle||e.us.qi.chartXYBackgroundFillStyle,e.us.qi.barChartBackgroundStrokeStyle||e.us.qi.chartXYBackgroundStrokeStyle,e.us.qi.barChartTitleFont||e.us.qi.chartXYTitleFont,e.us.qi.barChartTitleFillStyle||e.us.qi.chartXYTitleFillStyle,r),this.coordsBars="barChart",this.kB=Rb.Descending,this.TB=this.qi.barChartCategoryLabels,this.SB=this.qi.barChartValueLabelsAfterBars,this.FB=!1,this.b_=qa(),this.IB=new Map,this.CB=new Map,this.pB="positive",this.PB="columns",this.DB=!0,this.BB=new Map,this.LB={speed:1},this._y={speed:1},this.RB=.08,this.Gy=fp.snapToClosest,this.Wy=(t,e,i,s)=>{this.categoryAxis.getTitle().length>0&&t.addRow(this.categoryAxis.getTitle()),t.addRow({text:e,font:{weight:"bold"}}),this.valueAxis.getTitle().length>0&&t.addRow(this.valueAxis.getTitle());const n=[];return s.subCategory&&s.subCategory.length>0&&n.push(s.subCategory),n.push(this.valueAxis.formatValue(i)),t.addRow(...n),t},this.fn=(t,e,i,s,n)=>{this.gB.q(s,n)},this.us.Nn(xf.nf),this.Ts="horizontal"===(null==o?void 0:o.type)?Tb:Eb,this._m.Rh("Bar Chart"),this.EB=e.$y("barChart plotting 1",0),this.zB=e.$y("barChart plotting 2",1),this.bB="logarithmic"===(null===(a=null==o?void 0:o.valueAxis)||void 0===a?void 0:a.type),this.bB?"horizontal"===this.Ts.VB?(l=i.d1({scale1DConstructor:Ql,dimension:"y"}),this.gB=(new ih).Ri(i.d1({scale1DConstructor:Gl,dimension:"x"}),l)):(l=i.d1({scale1DConstructor:Ql,dimension:"x"}),this.gB=(new ih).Ri(l,i.d1({scale1DConstructor:Gl,dimension:"y"}))):(this.gB=i.d2({scaleXYConstructor:eh}),l=this.Ts.getWidth(this.gB)),this.OB=this.es.yg(),this.M_=new tg((()=>this.b_._t(this.EB.Ob(this.gB).Jo(0))),((t,e,i)=>(t.Ce(i.fillStyle).we(i.strokeStyle),e.map((e=>{const i=e.existingMember||t.zr();return i.pl(e.vertices),this.b_.Ot(i,e.bar),e.bar.gs([i]),i})))),(()=>{this.b_.Nt()}),(t=>{this.OB.fs(t)})),this.FS=this.qg.ke(this.gB).Ce(this.qi.barChartSeriesBackgroundFillStyle||ro).we(Eo),this.IS=this.qg.ke(this.gB).Ce(ro).we(this.qi.barChartSeriesBackgroundStrokeStyle||Eo).setMouseInteractions(!1),super.TS(this.FS,this.IS),this.categoryAxis=new Ab(this,this.qi,!0!==(null==o?void 0:o.disableAnimations)&&!1!==(null==o?void 0:o.animationsEnabled),l,this.zB,this.es);const h=yf(null==o?void 0:o.valueAxis);this.valueAxis=new wb(this,this.qi,!0!==(null==o?void 0:o.disableAnimations)&&!1!==(null==o?void 0:o.animationsEnabled),this.Ts.getHeight(this.gB),this.zB,this.es,h.type),this.NB=new eg((()=>this.zB.Pr(this.gB).Ir(Ja).Fr(Ja).Jo(1))),this.GB=new tg((()=>this.qg.Lg(this.gB).setMouseInteractions(!1)),((t,e,i)=>(t.Re(i.lineStyle),e.map((e=>{let{positions:i,existingMember:s}=e;return(s||t.zr()).Eg(i[0],i[1])}))))),this.jy=e.Zy();const c=Zo(o?o.autoCursorBuilder:void 0,Fp);this.Pm=c.uy(this.jy,this.uiScale,this.uiScale,this.qi),this.onResize(this.fn),this.Sm(n,this.gB),this.setAutoCursorMode(fp.onHover),this.setAnimationsEnabled(!0!==(null==o?void 0:o.disableAnimations)&&!1!==(null==o?void 0:o.animationsEnabled)),this.LS(((t,e)=>{pp.Bm(this,e)}))}getSeries(){return this.xS}setAutoCursor(t){return this.Pm&&t(this.Pm),this.us.Ss(),this}getAutoCursor(){return this.Pm}setAutoCursorMode(t){return this.Gy=t,this.us.Ss(),this}getAutoCursorMode(){return this.Gy}setCursorResultTableFormatter(t){return this.Wy=t,this.us.Ss(),this}setBarsMargin(t){return this.RB=Jo(t,0,.49),this.FB=!0,this.us.Ss(),this}getBarsMargin(){return this.RB}setBarsEffect(t){return this.OB.ps(t),this.us.Ss(),this}getBarsEffect(){return this.OB.vs()}setData(t){let e;if(Array.isArray(t))e=[],t.forEach(((t,i)=>{"string"==typeof t?e.push({category:t}):"number"==typeof t?e.push({category:"Category ".concat(i+1),value:t}):"object"==typeof t&&e.push(t)}));else{e=[];const i=Object.keys(t);for(const s of i){const i=t[s];e.push({category:s,value:"number"==typeof i?i:void 0})}}return this.WB("columns",e),this}setDataStacked(t,e){const i=[];return e.forEach((e=>{const{subCategory:s,values:n}=e;n.forEach(((e,n)=>{const r=t[n];i.push({category:r,subCategory:s,value:e})}))})),this.WB("stacks",i),this}setDataGrouped(t,e){const i=[];return e.forEach((e=>{const{subCategory:s,values:n}=e;n.forEach(((e,n)=>{const r=t[n];i.push({category:r,subCategory:s,value:e})}))})),this.WB("groups",i),this}WB(t,e){this.xS.length>0&&this.us.Nn(xf.vf),this.PB=t,this.UB(e);const i=Va(e.map((t=>t.category))),s=i.length,n=Va(e.map((t=>t.subCategory))).filter((t=>void 0!==t));if(e.forEach((t=>{let e=this.xS.find((e=>e.category===t.category&&e.subCategory===t.subCategory));if(!e){const s=i.indexOf(t.category),r=n.includes(t.subCategory)?n.indexOf(t.subCategory):void 0;e=new Cb(this,this._S,this.qi,this.us.es,t.category,t.subCategory,Zo(r,s)),this.PS(e),this.BB.set(e,{category:s,valueStart:this.bB?1e-6:0,valueEnd:void 0!==t.value?t.value:0})}void 0!==t.value&&e.setValue(t.value)})),this.xS.slice().forEach((t=>{void 0===e.find((e=>e.category===t.category&&e.subCategory===t.subCategory))&&(t.dispose(),this.BB.delete(t))})),this.categoryAxis.setInterval(this.Ts.getWidth({x:{start:-.5,end:s-.5},y:{start:s-.5,end:-.5}})),this.yB=0===this.xS.length?void 0:"stacks"!==t?this.xS.reduce(((t,e)=>({min:Math.min(t.min,e.getValue()),max:Math.max(t.max,e.getValue())})),{min:$a,max:tl}):{min:0,max:i.reduce(((t,i)=>Math.max(t,e.reduce(((t,e)=>e.category!==i?t:void 0!==e.value?t+e.value:t),0))),0)},this.yB&&(this.pB=this.yB.min>=0?"positive":this.yB.max<=0?"negative":"bipolar",("bipolar"===this.pB||"negative"===this.pB)&&this.bB))throw new Error("LightningChart JS BarChart bipolar/negative data + logarithmic value axis combination not supported.");this.UB(this.xS),this.IB.clear(),this.CB.clear(),this.FB=!0,this.us.Ss()}setCategoryLabels(t){const e="function"==typeof t?this.TB?t(this.TB):this.TB:t;return this.TB=e?{...this.qi.barChartCategoryLabels,...e}:void 0,this.IB.clear(),this.us.Ss(),this}getCategoryLabels(){return this.TB}setValueLabels(t){var e;const i="function"==typeof t?this.SB?t(this.SB):this.SB:t,s=(null==i?void 0:i.position)||(null===(e=this.SB)||void 0===e?void 0:e.position);return i&&s?"after-bar"===s?this.SB={...this.qi.barChartValueLabelsAfterBars,...i}:"inside-bar"!==s&&"inside-bar-start"!==s&&"inside-bar-centered"!==s&&"inside-bar-end"!==s||(this.SB={...this.qi.barChartValueLabelsInsideBars,...i}):this.SB=void 0,this.CB.clear(),this.us.Ss(),this}getValueLabels(){return this.SB}setLabelFittingEnabled(t){return this.DB=t,this.us.Ss(),this}getLabelFittingEnabled(){return this.DB}getBar(t,e){if(("groups"===this.PB||"stacks"===this.PB)&&void 0===e)throw new Error("LightningChart JS BarChart.getBar() | `subCategory` parameter is required for grouped and stacked bar charts!");const i=this.xS.find((i=>i.category===t&&(void 0===e||e===i.subCategory)));if(!i)throw new Error('BarChart.getBar() no such bar: "'.concat(t,'" ').concat(e?'"'.concat(e,'"'):""));return i}getBars(){return this.xS}setSorting(t){return this.kB=t,this.UB(this.xS),this.us.Ss(),this}getSorting(){return this.kB}setAnimationCategoryPosition(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.LB=t?{speed:e}:void 0,this.us.Ss(),this}setAnimationValues(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._y=t?{speed:e}:void 0,this.us.Ss(),this}translateCoordinate(t,e,i){if(i&&ah(t)&&oh(e))return super.translateCoordinate(t,e,i);const s=e;let n;if(rh(t))n=this.us.Po(t);else if(ah(t)){const e=Lo(t,this.pixelScale,this.us.dt);n={engineX:e.x,engineY:e.y}}else{if(!(t=>!!(t&&"object"==typeof t&&"iCategory"in t&&"number"==typeof t.iCategory&&"value"in t&&"number"==typeof t.value))(t))throw new Error("LightningChart JS BarChart.translateCoordinate unexpected error. Input coordinate system not recognized.");{const e=Lo(this.Ts.toPoint(t.iCategory,t.value),this.gB,this.us.dt);n={engineX:e.x,engineY:e.y}}}if(nh(s))return this.us.Do(n);if("barChart"===s){const t=Lo({x:n.engineX,y:n.engineY},this.us.dt,this.gB);return{iCategory:this.Ts.getWidth(t),value:this.Ts.getHeight(t)}}if(oh(s))return Lo({x:n.engineX,y:n.engineY},this.us.dt,this.pixelScale);throw new Error("LightningChart JS BarChart.translateCoordinate unexpected error. Target coordinate system not recognized.")}Zd(){if("columns"===this.PB)return this.xS;const t=Va(Ba(this.xS.map((t=>t.subCategory))));return Ba(t.map((t=>{const e=this.xS.filter((e=>e.subCategory===t)),i=e[0];if(i)return(t=>{let e=!1;t.forEach((i=>i.onHighlight(((s,n)=>{e||(e=!0,t.forEach((t=>i!==t?t.setHighlight(n):void 0)),e=!1)})))),t.forEach((e=>e.onDispose((()=>{const i=t.indexOf(e);i>=0&&t.splice(i,1)}))))})(e),{attach(s,n){return Ua(s,e,{toggleVisibilityOnClick:!0,label:t,style:i.getFillStyle()}),this}}})))}Te(t){var e,i;super.Te(t);const s=this.NB.fp(),n=this.GB.fp(),r=this.xS.filter((t=>t.getVisible()&&t._B)),o=Va(r.map((t=>t.category))),a=Va(Ba(r.map((t=>t.subCategory)))),l=5e-4*t*((null===(e=this.LB)||void 0===e?void 0:e.speed)||0),h=.003*t*((null===(i=this.LB)||void 0===i?void 0:i.speed)||0),c=this.valueAxis.dt,u=c instanceof Ql?(t,e)=>{var i;return vf(t,e,c,(null===(i=this._y)||void 0===i?void 0:i.speed)||0)}:(t,e)=>{var i;return bf(t,e,c,(null===(i=this._y)||void 0===i?void 0:i.speed)||0)};let d;"columns"===this.PB?d=r.map((t=>({bar:t,position:{category:o.indexOf(t.category),valueStart:this.bB?1e-6:0,valueEnd:t.value}}))):"groups"===this.PB?d=r.map((t=>{const e=o.indexOf(t.category),i=a.indexOf(t.subCategory),s=1/(a.length+2*(a.length+1)*this.RB),n=this.RB*s;return{bar:t,position:{category:e+(i-(a.length-1)/2)*(s+n),valueStart:this.bB?1e-6:0,valueEnd:t.value}}})):(d=[],o.forEach(((t,e)=>{const i=r.filter((e=>e.category===t));let s=this.bB?1e-6:0;i.forEach(((e,i)=>{d.push({bar:e,position:{category:o.indexOf(t),valueStart:s,valueEnd:s+e.value}}),s+=e.value}))}))),d.forEach((t=>{const{bar:e,position:i}=t;let s,n,r=this.BB.get(e);void 0===r&&(r=i);const o=i.valueStart;if(this.LB&&r.category!==i.category){const t=Math.sign(i.category-r.category);s=r.category+l*t+h*(i.category-r.category),t!==Math.sign(i.category-s)&&(s=i.category)}else s=i.category;if(this._y&&r.valueEnd!==i.valueEnd){const t=Math.sign(i.valueEnd-r.valueEnd);n=u(r.valueEnd,i.valueEnd),t!==Math.sign(i.valueEnd-n)&&(n=i.valueEnd)}else n=i.valueEnd;this.BB.set(e,{category:s,valueStart:o,valueEnd:n}),s===i.category&&n===i.valueEnd||this.us.Ss(!0),s===r.category&&n===r.valueEnd||(this.FB=!0)})),dp.Fm(this._m,this.bm);const f=r.length>0;this.categoryAxis.Mr(),this.valueAxis.Mr();const p=this.categoryAxis.setVisible(f).Ps(),g=this.valueAxis.setVisible(f).Ps(n),{labelMarginBeforeCategoryAxisPixels:m}=f?this.YB(o,r,s,n):{labelMarginBeforeCategoryAxisPixels:0};this.categoryAxis.Te(p,s,n,{labelMarginBeforeCategoryAxisPixels:m}),this.valueAxis.Te(g);const y=this.categoryAxis.getThickness(),v=Jo(p.Vd+m,void 0!==y.min?y.min:0,void 0!==y.max?y.max:$a),b={x:Math.min(this.gB.x.getInnerStart(),this.gB.x.getInnerEnd()),y:Math.min(this.gB.y.getInnerStart(),this.gB.y.getInnerEnd())},x=Math.max(this.gB.x.getInnerStart(),this.gB.x.getInnerEnd()),S=Math.max(this.gB.y.getInnerStart(),this.gB.y.getInnerEnd()),A={x:x-b.x,y:S-b.y};this.FS.Fe(b),this.FS.q(A),this.IS.Fe(b),this.IS.q(A),super.pm(),pp.Im(this,this.FS.getIsUnderMouse(),!1,this.xS,void 0,((t,e)=>t.Hc(e,!0)));const w=dp.Tm(this._m,this.bm);if(this.gB.zi([this.Xt.bottom+this.ya.bottom+("vertical"===this.Ts.VB?v:0),this.Xt.top+this.ya.top+w+("horizontal"===this.Ts.VB?g.Vd:0)]),this.gB.Ei([this.Xt.left+this.ya.left+this.Ts.getHeight({x:v,y:g.Vd}),this.Xt.right+this.ya.right]),this.EB.qv({x:this.gB.x.ei(),y:this.gB.y.ei(),width:this.gB.x.ri(),height:this.gB.y.ri()}),this.Zg&&this.Zg(),this.FB){const t=this.M_.fp(),e="groups"===this.PB?1/(a.length+2*(a.length+1)*this.RB):1-2*this.RB;r.forEach((i=>{const s=this.BB.get(i);if(void 0===s)return;const n=s.category-.5*e,r=s.category+.5*e,o=[this.Ts.toPoint(n,s.valueStart),this.Ts.toPoint(n,s.valueEnd),this.Ts.toPoint(r,s.valueEnd),this.Ts.toPoint(r,s.valueStart)];t.add({No:i.No,vertices:o,bar:i},{fillStyle:i.be,strokeStyle:i.xe})})),t.finishPlot()}s.finishPlot(),n.finishPlot(),this.FB=!1}setAnimationsEnabled(t){return super.setAnimationsEnabled(t),this.setAnimationCategoryPosition(t),this.setAnimationValues(t),this.valueAxis.setAnimationsEnabled(t),this.categoryAxis.setAnimationsEnabled(t),this}solveNearest(t){}dispose(){return this.zB.W(),this.EB.W(),this.Pm.dispose(),this.jy.W(),super.dispose()}UB(t){const e=this.kB;e&&t.sort(((i,s)=>e({category:i.category,value:t.reduce(((t,e)=>t+(e.category===i.category&&e.value||0)),0)},{category:s.category,value:t.reduce(((t,e)=>t+(e.category===s.category&&e.value||0)),0)})))}YB(t,e,i,s){let n=0;const r=this.TB,o=this.SB,a=this.valueAxis.getInterval(),l=this.Ts.getWidth({x:this.gB.x.ri(),y:this.gB.y.ri()});if(r&&r.labelFillStyle!==ro){const o=r.tickLength+r.labelMargin,h=this.Ts.toPoint(0,1),c={kd:t.map(((t,i)=>{const s=e.reduce(((e,i)=>i.category!==t?e:e+i.value),0),n=r.formatter(t,s);if(!n)return;const l=i;return void 0!==l?{text:n,position:this.Ts.toPoint(l,this.valueAxis.dt.mi(a.start,-o)),alignment:h,rotation:r.labelRotation,sizePixels:this.HB(t,s)}:void 0})),Nu:r.labelFont,dt:this.gB},u=c?this.DB?Mb(c,l,this.Ts.getWidth):c.kd:[];u.forEach((t=>{t&&i.add().Rh(t.text).Fe(t.position).Ea(t.alignment).Nh(t.rotation).Ce(r.labelFillStyle).Oh(r.labelFont)})),r.tickStyle!==Eo&&0!==r.tickLength&&u.forEach((t=>{if(!t)return;const e=this.Ts.getWidth(t.position);s.add({positions:[this.Ts.toPoint(e,this.valueAxis.dt.getInnerStart()),this.Ts.toPoint(e,this.valueAxis.dt.mi(a.start,-r.tickLength))]},{lineStyle:r.tickStyle})})),n=u.reduce(((t,e)=>e?Math.max(t,this.Ts.getHeight(e.sizePixels)):t),0)+r.tickLength+r.labelMargin}if(o&&o.labelFillStyle!==ro){let t;"after-bar"===o.position?t={kd:e.map(((t,e)=>{const i=o.formatter(t,t.category,t.value);if(!i)return;const s=this.BB.get(t);return void 0!==s?{text:i,position:this.Ts.toPoint(s.category,this.valueAxis.dt.mi(s.valueEnd,o.labelMargin*Math.sign(s.valueEnd))),alignment:this.Ts.toPoint(0,-1*Math.sign(s.valueEnd)),rotation:o.labelRotation,sizePixels:this.$B(t)}:void 0})),Nu:o.labelFont,dt:this.gB}:"inside-bar"!==o.position&&"inside-bar-start"!==o.position&&"inside-bar-centered"!==o.position&&"inside-bar-end"!==o.position||(t={kd:e.map(((t,e)=>{const i=o.formatter(t,t.category,t.value);if(!i)return;const s=this.BB.get(t);if(void 0===s)return;const n="bipolar"===this.pB?Math.sign(s.valueEnd):"negative"===this.pB?-1:1,r=this.Ts.toPoint(0,"inside-bar"===o.position||"inside-bar-end"===o.position?1*n:"inside-bar-centered"===o.position?0:-1*n);return{text:i,position:this.Ts.toPoint(s.category,"inside-bar"===o.position||"inside-bar-end"===o.position?this.valueAxis.dt.mi(s.valueEnd,-o.labelMargin*n):"inside-bar-centered"===o.position?(s.valueStart+s.valueEnd)/2:this.valueAxis.dt.mi(s.valueStart,o.labelMargin*n)),alignment:r,rotation:o.labelRotation,sizePixels:this.$B(t)}})),Nu:o.labelFont,dt:this.gB}),t&&(t?this.DB?Mb(t,l,this.Ts.getWidth):t.kd:[]).forEach((t=>{t&&i.add().Rh(t.text).Fe(t.position).Ea(t.alignment).Nh(t.rotation).Ce(o.labelFillStyle).Oh(o.labelFont).setMouseInteractions(!1)}))}return{labelMarginBeforeCategoryAxisPixels:n}}HB(t,e){if(!this.TB||this.TB.labelFillStyle===ro)return{x:0,y:0};const i=this.IB.get(t);if(i)return i;const s=this.TB.formatter(t,e),n=this.us.Ig.Fg(s,this.TB.labelFont,this.TB.labelRotation);return n.isEstimate?this.us.Ss(!0):this.IB.set(t,n),n}$B(t){if(!this.SB||this.SB.labelFillStyle===ro)return{x:0,y:0};const e=this.CB.get(t);if(e)return e;const i=this.us.Ig.Fg(this.SB.formatter(t,t.category,t.value),this.SB.labelFont,this.SB.labelRotation);return i.isEstimate?this.us.Ss(!0):this.CB.set(t,i),i}vB(){return this.xS.reduce(((t,e)=>{const i=this.$B(e);return{x:Math.max(t.x,i.x),y:Math.max(t.y,i.y)}}),{x:0,y:0})}wB(){this.FB=!0,this.us.Ss()}getMinimumSize(){return{x:200,y:200}}}const Rb={Disabled:void 0,None:void 0,Ascending:(t,e)=>t.value-e.value,Descending:(t,e)=>e.value-t.value,Alphabetical:(t,e)=>t.category.localeCompare(e.category)},Eb={...wf,VB:"vertical",xB:-1,MB:1},Tb={...Cf,VB:"horizontal",xB:1,MB:-1},Ib=(t,e)=>e?t.x:t.y,Pb=(t,e,i,s)=>1===e&&s===(i?t.columnIndex:t.rowIndex)||-1===e&&s===(i?t.columnIndex+t.columnSpan:t.rowIndex+t.rowSpan),Fb=(t,e,i,s,n,r)=>{const o=e.length,a=Math.sign(s),l=[],h=e.reduce(((t,e)=>t+e));for(let p=1;p<=o-1;p+=1)l.push(Ib(n,r)*e.slice(0,p).reduce(((t,e)=>t+e),0)/h);const c=l.map((t=>0));let u=l[i-1]+s;for(let p=i;p>0&&p<o;p+=a){const e=t.filter((t=>Pb(t,a,r,p))).reduce(((t,e)=>Math.max(t,Ib(e.panel.getMinimumSize()||{x:0,y:0},r))),20),s=l[p-1];if(1===a&&u>Ib(n,r)-e||-1===a&&u<0+e){c.fill(0);break}if(p!==i&&(1===a?s>u:s<u))break;c[p-1]=u-s,u+=e*a}const d=c.map(((t,e)=>l[e]+t)),f=d.map(((t,e)=>(t-(e>0?d[e-1]:0))/Ib(n,r)));return f.push(1-f.reduce(((t,e)=>t+e),0)),f};class Db{constructor(t,e,i,s,n){this.coordsRelative="relative",this.coordsClient="client",this.$i=!1,this.RP=new Array,this.D=new Ir,this.XB=[],this.$g=[],this.jB=void 0,this.ZB=!0,this.QB=!0,this.JB=!0,this.Qg=!1,this.KB=!0,this.qB=()=>{this.KB=!0,this.us.Ss()},this.tL=[],this.onInViewChange=t=>this.D.on("inViewChange",t),this.offInViewChange=t=>this.D.off(t,"inViewChange"),this.iL=t=>{for(let e=0;e<this.RP.length;e+=1)if(this.RP[e].panel===t){this.RP.splice(e,1),this.ZB=!0,this.us.Ss();break}},this.sL=t=>{const e=this.XB.indexOf(t);e>=0&&this.XB.splice(e,1)},this.im=t=>{const e=this.$g.indexOf(t);e>=0&&this.$g.splice(e,1)},this.eL=(t,e,i,s,n)=>{if(this.hL(e,i,s,n)){const r={panel:t,columnIndex:e,rowIndex:i,columnSpan:s,rowSpan:n};return this.RP.push(r),this.rL(r),this.ZB=!0,t}throw new zo("Out of dashboard range.")},this.nL=e.numberOfRows,this.oL=e.numberOfColumns,this.cA=t,this.aL=e,this.lL=s;const r=this.oL*this.nL;this.uL={x:new Xv(new Array(this.oL).fill(1)),y:new Xv(new Array(this.nL).fill(1))},this.qi=i.qi,this.cL=this.qi.dashboardSplitterStyle,this.th=!0!==(null==e?void 0:e.disableAnimations)&&!1!==(null==e?void 0:e.animationsEnabled),this.dL=Yv(i,r),this.fL=i.FI("dashboard splitters",500001),this.OM=()=>this.dL.TI(),this.am=this.dL.II(),this.es=i.es.hs(this,{AL:{}}),this.es.AL.ps(this.qi.effectsDashboardSplitters);const o=i.oi();this.uiScale=Fo.d2({scaleXYConstructor:eh}).Vi(0,100).Oi(0,100).q(o),this.pixelScale=Fo.d2({scaleXYConstructor:eh}).Vi(0,this.uiScale.x.getCellSize()).Oi(0,this.uiScale.y.getCellSize()).q(o),this.gL=i.mL.bind(i),this.yL=i.pL.bind(i),this.SL=i.vL.bind(i),this.bL=i.xL.bind(i),this.eo=i.eo.bind(i),this.ro=i.ro.bind(i),this.engine=i.hm,this.us=i.rm,i.Co((()=>this.qB())),i.Ss();const a=i.Fo((t=>{this.Qg=t,this.D.emit("inViewChange",this,t)}));this.Am=i.Io.bind(i,a),this.ML(),this.setAnimationsEnabled(this.th);const l={on:(h=this.D).on.bind(h,"resize"),off:h.off.bind(h)};var h;this.createChartXY=t=>{const e=Lb(t,this.aL,this.th);return this.eL(new Yy(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,e,l),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createSpiderChart=t=>{const e=Lb(t,this.aL,this.th);return this.eL(new jv(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,e,l),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createPolarChart=t=>{const e=Lb(t,this.aL,this.th);return this.eL(new rv(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,e,l),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createPieChart=t=>{const e=Lb(t,this.aL,this.th),i=e&&e.type?e.type:Qp;return this.eL(new i(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,l,e),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createGaugeChart=t=>{const e=Lb(t,this.aL,this.th),i=e&&e.type?e.type:wv;return this.eL(new i(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,l,e.disableAnimations),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createFunnelChart=t=>{const e=Lb(t,this.aL,this.th),i=e&&e.type?e.type:pv;return this.eL(new i(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,l,e),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createPyramidChart=t=>{const e=Lb(t,this.aL,this.th),i=t&&t.type?t.type:Iv;return this.eL(new i(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,l,e),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createUIPanel=t=>{const e=Lb(t,this.aL,this.th);return this.eL(new hp(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,l),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createLegendBoxPanel=t=>{const e=Lb(t,this.aL,this.th);return this.eL(new Tg(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,l),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createZoomBandChart=t=>{const e=Lb(t,this.aL,this.th);return this.eL(new Zy(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,e,l),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createMapChart=t=>{const e=Lb(t,this.aL,this.th);return this.eL(new jg(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,e,l),e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createChart3D=t=>{const e=Lb(t,this.aL,this.th),i=new Rg(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,l,e);return this.eL(i,e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createDataGrid=t=>{const e=Lb(t,this.aL,this.th),i=new mb(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,l);return this.eL(i,e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)},this.createBarChart=t=>{const e=Lb(t,this.aL,this.th),i=new kb(this.cA,this.dL.DI(this._L(t.columnIndex,t.rowIndex)),this.wL(e,this.uL),this.iL,n,l,e);return this.eL(i,e.columnIndex,e.rowIndex,e.columnSpan,e.rowSpan)}}_L(t,e){return t+e*this.oL}wL(t,e){return{d1:i=>new i.scale1DConstructor("x"===i.dimension?t.columnIndex:t.rowIndex,"x"===i.dimension?t.columnSpan:t.rowSpan,"x"===i.dimension?this.oL:this.nL,"x"===i.dimension?e.x:e.y),d2:i=>(new i.scaleXYConstructor).ot({x:t.columnIndex,y:t.rowIndex},{x:t.columnSpan,y:t.rowSpan},{x:this.oL,y:this.nL},e),d3:()=>new Io({x:t.columnIndex,y:t.rowIndex},{x:t.columnSpan,y:t.rowSpan},{x:this.oL,y:this.nL},e)}}setWidth(t){return t instanceof Array||(t=[t,t]),this.gL(t[0]),this.yL(t[1]),this}setHeight(t){return t instanceof Array||(t=[t,t]),this.SL(t[0]),this.bL(t[1]),this}getWidth(){return this.eo()}getHeight(){return this.ro()}setBackgroundFillStyle(t){return this.engine.setBackgroundFillStyle(t),this.fL.Ss(),this}getBackgroundFillStyle(){return this.engine.getBackgroundFillStyle()}setBackgroundStrokeStyle(t){return this.engine.setBackgroundStrokeStyle(t),this.fL.Ss(),this}getBackgroundStrokeStyle(){return this.engine.getBackgroundStrokeStyle()}getTheme(){return this.qi}setSplitterStyle(t){const e=this.cL;return this.cL="function"==typeof t?t(this.cL):t,this.CL(e),this}getSplitterStyle(){return this.cL}setSplitterEffect(t){return this.es.AL.ps(t),this.us.Ss(),this}getSplitterEffect(){return this.es.AL.vs()}setAnimationHighlight(t){return this.JB=t,this.tL.forEach((e=>this.us.ls._s(e.line,t))),this}getAnimationHighlight(){return this.JB}CL(t){for(const e of this.tL)e.line.Re(this.cL);this.ML()}setColumnWidth(t,e){const i=this.uL.x.M();return t>=0&&t<i.length&&(i[t]=e,this.uL.x.S(i)),this.qB(),this}getColumnWidth(t){const e=this.uL.x.M();if(t>=e.length)throw new zo("Column index is out of dashboard range.");return e[t]}setRowHeight(t,e){const i=this.uL.y.M();return t>=0&&t<i.length&&(i[Math.abs(i.length-1-t)]=e,this.uL.y.S(i)),this.qB(),this}getRowHeight(t){const e=this.uL.y.M();if(t>=e.length)throw new zo("Row index is out of dashboard range.");return e[Math.abs(e.length-1-t)]}getSizePixels(){return this.pixelScale.getInnerIntervalPixels()}onResize(t){return this.D.on("resize",t)}offResize(t){return this.D.off(t,"resize")}kL(t,e,i){if(i&&Math.abs(t.x)>0)this.TL(e,t.x);else{if(i||!(Math.abs(t.y)>0))return;this.FL(e,t.y)}for(const s of this.RP)s.panel.Z();this.qB()}FL(t,e){const i=Fb(this.RP,this.uL.y.M(),t,e,this.pixelScale.oi(),!1);this.uL.y.S(i),this.qB()}TL(t,e){const i=Fb(this.RP,this.uL.x.M(),t,e,this.pixelScale.oi(),!0);this.uL.x.S(i),this.qB()}IL(){this.tL.forEach((t=>t.line.dispose())),this.tL.length=0;for(let t=1;t<=this.oL-1;t+=1)for(let e=0;e<=this.nL-1;e+=1)if(void 0!==this.RP.find((i=>cl(e,i.rowIndex,i.rowIndex+i.rowSpan-1)&&(t===i.columnIndex||t===i.columnIndex+i.columnSpan)))){const i=dh(new ph((()=>{this.PL(t)}),((e,i,s,n,r)=>{this.kL(n,t,!0),ga(r)}),(()=>{this.DL(t)}))),s=this.fL.Ee(this.pixelScale).Re(this.cL).setMouseEnterEventHandler((()=>{this.PL(t)})).setMouseLeaveEventHandler((()=>{this.DL(t)})).setMouseDragEventHandler(((e,i,s,n,r)=>{this.kL(r,t,!0),ga(i)})).setTouchStartEventHandler(i.onTouchStart).setTouchMoveEventHandler(i.onTouchMove).setTouchEndEventHandler(i.onTouchEnd);this.us.ls.os(s,(t=>s.cs(t)),{animationEnabled:this.JB}),this.tL.push({row:e,column:t,line:s,alignment:"vertical"})}for(let t=1;t<=this.nL-1;t+=1)for(let e=0;e<=this.oL-1;e+=1)if(void 0!==this.RP.find((i=>cl(e,i.columnIndex,i.columnIndex+i.columnSpan-1)&&(t===i.rowIndex||t===i.rowIndex+i.rowSpan)))){const i=dh(new ph((()=>{this.BL(t)}),((e,i,s,n,r)=>{this.kL(n,t,!1),ga(r)}),(()=>{this.LL(t)}))),s=this.fL.Ee(this.pixelScale).Re(this.cL).setMouseEnterEventHandler((()=>{this.BL(t)})).setMouseLeaveEventHandler((()=>{this.LL(t)})).setMouseDragEventHandler(((e,i,s,n,r)=>{this.kL(r,t,!1),ga(i)})).setTouchStartEventHandler(i.onTouchStart).setTouchMoveEventHandler(i.onTouchMove).setTouchEndEventHandler(i.onTouchEnd);this.us.ls.os(s,(t=>s.cs(t)),{animationEnabled:this.JB}),this.tL.push({row:t,column:e,line:s,alignment:"horizontal"})}this.es.AL.fs(this.tL.map((t=>t.line)))}RL(){const t=this.pixelScale.oi(),e=this.uL.x.M(),i=e.reduce(((t,e)=>t+e)),s=this.uL.y.M(),n=s.reduce(((t,e)=>t+e));this.tL.forEach((r=>{if("vertical"===r.alignment){const o=Lr(t.x*e.slice(0,r.column).reduce(((t,e)=>t+e),0)/i,t.y*s.slice(0,r.row).reduce(((t,e)=>t+e),0)/n),a=Lr(o.x,t.y*s.slice(0,r.row+1).reduce(((t,e)=>t+e),0)/n);r.line.Ve(o).ze(a)}else{const o=Lr(t.x*e.slice(0,r.column).reduce(((t,e)=>t+e),0)/i,t.y*s.slice(0,r.row).reduce(((t,e)=>t+e),0)/n),a=Lr(t.x*e.slice(0,r.column+1).reduce(((t,e)=>t+e),0)/i,o.y);r.line.Ve(o).ze(a)}}))}PL(t){this.tL.forEach((e=>{"vertical"===e.alignment&&e.column===t&&(this.us.ls.Ms(e.line,1),this.fL.EL(e.line))})),this.jB=this.engine.setMouseStyle(jh.ResizeColumn),this.us.Ss()}BL(t){this.tL.forEach((e=>{"horizontal"===e.alignment&&e.row===t&&(this.us.ls.Ms(e.line,1),this.fL.EL(e.line))})),this.jB=this.engine.setMouseStyle(jh.ResizeRow),this.us.Ss()}DL(t){this.tL.forEach((e=>{"vertical"===e.alignment&&e.column===t&&this.us.ls.Ms(e.line,0)})),this.engine.restoreMouseStyle(this.jB),this.us.Ss()}LL(t){this.tL.forEach((e=>{"horizontal"===e.alignment&&e.row===t&&this.us.ls.Ms(e.line,0)})),this.engine.restoreMouseStyle(this.jB),this.us.Ss()}setAnimationsEnabled(t){return this.th=t,this.getCells().filter((t=>t.panel instanceof up)).forEach((e=>e.panel.setAnimationsEnabled(t))),this.setAnimationHighlight(this.th),this}getAnimationsEnabled(){return this.th}getCells(){return this.RP.slice()}dispose(){return this.$i||(this.Am&&this.Am(),this.RP.slice().forEach((t=>t.panel.dispose())),this.XB.slice().forEach((t=>t.dispose())),this.$g.slice().forEach((t=>t.dispose())),this.$i=!0,this.lL(),this.D.emit("dispose",this)),this}isDisposed(){return this.$i}onDispose(t){return this.D.on("dispose",t)}offDispose(t){return this.D.off(t,"dispose")}getIsInView(){return this.Qg}saveToFile(t,e,i){return sp(this.engine,t,e,i),this}zL(t){if(this.KB){const t=this.us.dt.oi(),e=t.x,i=t.y;this.uiScale.q(e,i),this.pixelScale.q(e,i);const s=this.uiScale.getInnerIntervalPixels();this.pixelScale.Vi(0,s.x).Oi(0,s.y),this.D.emit("resize",this,s.x,s.y,e,i),this.QB=!0}this.ZB&&(this.IL(),this.ZB=!1,this.QB=!0),this.QB&&(this.RL(),this.QB=!1);for(const e of this.RP)e.panel.Te(t);return this.XB.forEach((t=>t.Ps())),this.XB.forEach((t=>t.Te())),this.$g.forEach((t=>t.Ps())),this.$g.forEach((t=>t.Te())),this.KB=!1,this}j(){for(const t of this.RP)t.panel.j();return this.pixelScale.x.j(),this.pixelScale.y.j(),this.uiScale.x.j(),this.uiScale.y.j(),this}Z(){for(const t of this.RP)t.panel.Z();return this.pixelScale.x.Z(),this.pixelScale.y.Z(),this.uiScale.x.Z(),this.uiScale.y.Z(),this}translateCoordinate(t,e,i){return op(t,e,i,this.pixelScale,this.us)}addUIElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qd,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.uiScale;e=rp(e,this.pixelScale);const i=np(t,this.OM(),this.uiScale,e,this.sL,this.qi);return this.XB.push(i),i}addLegendBox(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:of,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.uiScale;e=rp(e,this.pixelScale);const i=np(t,this.am,this.uiScale,e,this.im,this.qi);return i.setDraggingMode(Oo.notDraggable),this.$g.push(i),i}getLegendBoxes(){return this.$g}hL(t,e,i,s){return e>=0&&t>=0&&e+s<=this.nL&&t+i<=this.oL}rL(t){const e=this.cL,i=e===Eo?0:e.getThickness()/2,s={left:t.columnIndex>0?i:0,top:t.rowIndex<this.nL-1?i:0,right:t.columnIndex<this.oL-1?i:0,bottom:t.rowIndex>0?i:0};t.panel.Fr(s)}ML(){this.uiScale.x.si([0,0]),this.uiScale.y.si([0,0]),this.pixelScale.x.si([0,0]),this.pixelScale.y.si([0,0]);for(const t of this.RP)this.rL(t);this.us.Ss()}}const Lb=(t,e,i)=>{const s={...t,columnSpan:t.columnSpan||1,rowSpan:t.rowSpan||1,animationsEnabled:void 0!==t.disableAnimations?!t.disableAnimations:void 0!==t.animationsEnabled?t.animationsEnabled:i};var n,r;return s.rowIndex=(n=s.rowIndex,r=s.rowSpan,e.numberOfRows-(n+r)),s},zb={None:class extends Ku{onHighlight(t){return this.D.on("highlight",t)}offHighlight(t){return this.D.off(t)}Bu(t){return this.size=t,this}Lu(){return 0}Ru(){return 0}zu(){return 0}Eu(){return 0}setHighlight(t){return this}getHighlight(){return 0}setFillStyle(){return this}getFillStyle(){return ro}setStrokeStyle(){return this}getStrokeStyle(){return Eo}setStrokeThickness(){return this}getStrokeThickness(){return 0}},Rectangle:Td,Circle:class extends Qu{constructor(t,e,i,s,n){super(t,e,i,s,n),this.Qc=Lr(0,0),this.Na=t.Jc(e).eu(0).ze(360).Ce(ro).we(Eo),this.xu(this.Na)}Fu(){return[this.Na]}setFillStyle(t){return this.Na.Ce(t),this.ks.Ss(),this}getFillStyle(){return this.Na.Eh()}setStrokeStyle(t){return this.Na.we(t),this.ks.Ss(),this}getStrokeStyle(){return this.Na.ao()}Te(){const t=this.getSize(Vo.Content).x/2;return this.Na.ru(t*this.renderingScale.Wi().x).nu(t*this.renderingScale.Wi().y).Fe(Lo(this.getPosition(Lr(0,0),Vo.Content),this.scale,this.renderingScale)).au(255).Ps(),this}Bu(t){const e=Math.sqrt(t.x*t.x/4+t.y*t.y/4);return this.setContentSize(Lr(2*e,2*e)),this.Qc=t,this.ks.Ss(),this}Lu(){return(this.getSize(Vo.Content).x-this.Qc.x)/2}Ru(){return(this.getSize(Vo.Content).x-this.Qc.x)/2}zu(){return(this.getSize(Vo.Content).y-this.Qc.y)/2}Eu(){return(this.getSize(Vo.Content).y-this.Qc.y)/2}fitTo(t){const e=Math.min(t.x,t.y);return this.setContentSize(Lr(e,e)),this.Qc=t,this}},Diamond:class extends $u{constructor(t,e,i,s,n){super(t,e,i,Eu.Simple,s,n),this.Kc=Ur(Lr(0,0)),this.qc=!1,this.ks=t,this.sc()}hc(){const t=this.Kc.M();if(this.qc){const e=Math.min(t.x,t.y);return[Lr(0,0),Lr(e/2,e/2),Lr(0,e),Lr(-e/2,e/2)]}const e=2*Math.sqrt(this.Kc.M().x*this.Kc.M().x/4+this.Kc.M().y*this.Kc.M().y/4),i=Lr(Math.cos(Math.PI/4)*e,0),s=Lr(0,Math.sin(Math.PI/4)*e),n=Lr(0,0),r=kl(n,kl(i,s)),o=kl(r,kl(s,Ml(i,-1)));return[n,r,o,Rl(o,kl(i,s))]}Fu(){return[this.Na]}setFillStyle(t){return this.Na.Ce(t),this.ks.Ss(),this}getFillStyle(){return this.Na.Eh()}setStrokeStyle(t){return this.Na.we(t),this.ks.Ss(),this}getStrokeStyle(){return this.Na.ao()}Bu(t){return this.Kc.S(t),this.qc=!1,this.ks.Ss(),this}Lu(){return this.qc?0:(this.getSize(Vo.Content).x-this.Kc.M().x)/2}Ru(){return this.qc?0:(this.getSize(Vo.Content).x-this.Kc.M().x)/2}zu(){return this.qc?0:(this.getSize(Vo.Content).y-this.Kc.M().y)/2}Eu(){return this.qc?0:(this.getSize(Vo.Content).y-this.Kc.M().y)/2}fitTo(t){return this.Kc.S(t),this.qc=!0,this.ks.Ss(),this}},Pointer:Id},Nb={ChartMarkerXY:wm,SeriesMarkerXY:Cm},_b=(t,e)=>Math.abs(t)+Math.abs(e);function Vb(t,e){const i=t.reduce(_b,0),s=(n=t,Math.max(...n.map((t=>t))));var n;const r=(t=>Math.min(...t.map((t=>t))))(t);return Math.max(e**2*s/i**2,i**2/(e**2*r))}const Bb=t=>{let{height:e,width:i}=t;return e>i?{value:i,vertical:!1}:{value:e,vertical:!0}},Ob=t=>{let{data:e,dimensions:i}=t;const{x:s,y:n,width:r,height:o}=i,a=e.map((t=>t.value)).reduce(_b,0),l=e.map((t=>t.animatedValue)).reduce(_b,0),h=e.map((t=>t.animatedValue*o*r/l)),c=h.reduce(((t,e)=>t+e),0),u=h.map((t=>t/c*100)),d=h.filter(((t,e)=>u[e])),f={children:[],id:0,parentID:-1,name:"Main Rectangle",value:a,animatedValue:l,x:s,y:n,width:r,height:o,nodeIndex:-1,userNode:{name:"Main Rectangle"}};if(1===e.length){const t={...e[0],x:i.x,y:i.y,width:i.width,height:i.height};f.children.push(t)}else Hb(d,Bb(f).value,e,f);return f.children},Ub=(t,e,i,s,n)=>{const r=t.reduce(_b,0)/e;t.forEach(((t,e)=>{const o=Math.abs(t)/r,{x:a,y:l,children:h}=n,c={...s[h.length],x:a,y:l,width:i?r:o,height:i?o:r};i?n.y+=o:n.x+=o,h.push(c)})),i?(n.x+=r,n.y-=e,n.width-=r):(n.x-=e,n.y+=r,n.height-=r)},Hb=(t,e,i,s)=>{const n=[{children:t,width:e,row:[]}];for(;n.length>0;){const t=n.pop();if(!t)continue;const{children:e,width:r,row:o}=t;let a=0;const l=[...o];for(;a<e.length;){const t=[...l,e[a]],o=Vb(l,r),h=Vb(t,r);if(!(0===l.length||o>h)){Ub(l,r,Bb(s).vertical,i,s),n.push({children:e.slice(a),width:Bb(s).value,row:[]});break}l.push(e[a]),a+=1}a===e.length&&Ub(l,r,Bb(s).vertical,i,s)}};class Gb extends up{constructor(t,e,i,s,n,r,o){if(super(t,e,i,e.vm("treeMapChart bg",0),s,e.us.qi.treeMapChartBackgroundFillStyle||e.us.qi.chartXYSeriesBackgroundFillStyle,e.us.qi.treeMapChartBackgroundStrokeStyle||e.us.qi.chartXYBackgroundStrokeStyle,e.us.qi.treeMapChartTitleFont||e.us.qi.chartXYTitleFont,e.us.qi.treeMapChartTitleFillStyle||e.us.qi.chartXYTitleFillStyle,o),this.VL=new Map,this.OL=[],this.NL={},this.GL=Ur([]),this._y={speed:1},this.WL=$a,this.UL=!0,this.YL="Go Back",this.HL=[],this.$L=this.qi.treeMapChartPathLabelFillStyle||this.qi.uiTextFillStyle,this.XL=this.qi.treeMapChartPathLabelFont||this.qi.uiTextFont,this.jL=this.qi.treeMapChartLabelHeaderFillStyle||this.qi.uiTextFillStyle,this.ZL=this.qi.treeMapChartLabelHeaderFont||this.qi.uiTextFont,this.QL=this.qi.treeMapChartLabelFillStyle||this.qi.uiTextFillStyle,this.JL=this.qi.treeMapChartLabelFont||this.qi.uiTextFont,this.Yi=!0,this.bb=fp.onHover,this.Wy=Wb,this.Mb=!0,this.KL=!1,this.qL=this.qi.treeMapChartParentColor||$r,this.tR=this.qi.treeMapChartNodeStrokeStyle||this.qi.uiBackgroundStrokeStyle,this.onNodeMouseEnter=t=>this.D.on("mouseEnter",t),this.onNodeMouseLeave=t=>this.D.on("mouseLeave",t),this.onNodeMouseClick=t=>this.D.on("mouseClick",t),this.onNodeMouseDoubleClick=t=>this.D.on("mouseDoubleClick",t),this.onNodeMouseDown=t=>this.D.on("mouseDown",t),this.onNodeMouseUp=t=>this.D.on("mouseUp",t),this.onNodeMouseMove=t=>this.D.on("mouseMove",t),this.offNodeMouseEnter=t=>this.D.off(t,"mouseEnter"),this.offNodeMouseLeave=t=>this.D.off(t,"mouseLeave"),this.offNodeMouseClick=t=>this.D.off(t,"mouseClick"),this.offNodeMouseDoubleClick=t=>this.D.off(t,"mouseDoubleClick"),this.offNodeMouseDown=t=>this.D.off(t,"mouseDown"),this.offNodeMouseUp=t=>this.D.off(t,"mouseUp"),this.offNodeMouseMove=t=>this.D.off(t,"mouseMove"),this.offNodeMouseDragStart=t=>this.D.off(t,"mouseDragStart"),this.offNodeMouseDrag=t=>this.D.off(t,"mouseDrag"),this.offNodeMouseDragStop=t=>this.D.off(t,"mouseDragStop"),this.offNodeMouseWheel=t=>this.D.off(t,"mouseWheel"),this.Cb=(t,e,i,s,n)=>{this.us.Ss(),this.KL=!0},this.wt=(t,e)=>{const i=this.iR(e);i&&(this.bb!==fp.disabled&&(this.Hb=i,ga(t)),this.Mb&&this.us.ls.Ms(e,!0),this.UL&&this.engine.setMouseStyle(jh.Point),this.D.emit("mouseEnter",this,t,i.userNode),this.us.Ss())},this.Ct=(t,e)=>{const i=this.iR(e);i&&(this.bb!==fp.disabled&&(this.Hb=void 0,t&&ga(t)),this.Mb&&this.us.ls.Ms(e,!1),this.engine.setMouseStyle(jh.Default),this.D.emit("mouseLeave",this,t,i.userNode),this.us.Ss())},this.Pt=(t,e)=>{const i=this.iR(e);i&&(this.bb!==fp.disabled&&(this.Hb=i,ga(t)),this.Mb&&this.us.ls.Ms(e,!0),this.UL&&this.engine.setMouseStyle(jh.Point),this.D.emit("mouseEnter",this,t,i.userNode),this.us.Ss())},this.kt=(t,e)=>{const i=this.iR(e);if(i){if(this.UL){const e=(null==i?void 0:i.children.length)?i:i.parentID?this.NL[i.parentID]:void 0;e&&(this.GL.S([e]),this.Hb=void 0,this.D.emit("viewChange",this.GL.M()),this.KL=!0),t&&ga(t)}this.D.emit("mouseClick",this,t,i.userNode),this.us.Ss()}},this.Tt=(t,e)=>{var i;const s=null===(i=this.VL.get(e))||void 0===i?void 0:i.userNode;this.D.emit("mouseDoubleClick",this,t,s)},this.Ft=(t,e)=>{var i;const s=null===(i=this.VL.get(e))||void 0===i?void 0:i.userNode;this.D.emit("mouseDown",this,t,s)},this.It=(t,e)=>{var i;const s=null===(i=this.VL.get(e))||void 0===i?void 0:i.userNode;this.D.emit("mouseUp",this,t,s)},this.Bt=(t,e,i)=>{var s;const n=null===(s=this.VL.get(i))||void 0===s?void 0:s.userNode;this.D.emit("mouseDragStart",this,t,e,n)},this.Dt=(t,e,i,s,n)=>{var r;const o=null===(r=this.VL.get(n))||void 0===r?void 0:r.userNode;this.D.emit("mouseDrag",this,t,e,i,s,o)},this.Lt=(t,e,i,s)=>{var n;const r=null===(n=this.VL.get(s))||void 0===n?void 0:n.userNode;this.D.emit("mouseDragStop",this,t,e,i,r)},this.Rt=(t,e)=>{var i;const s=null===(i=this.VL.get(e))||void 0===i?void 0:i.userNode;this.D.emit("mouseWheel",this,t,s)},this.Et=(t,e)=>{const i=this.iR(e);i&&(this.bb!==fp.disabled&&(this.Hb=i),this.Mb&&this.us.ls.Ms(e,!0),this.D.emit("touchStart",this,t,i.userNode),this.us.Ss(),ga(t))},this.zt=(t,e)=>{const i=this.iR(e);i&&(this.bb!==fp.disabled&&(this.Hb=i),this.Mb&&this.us.ls.Ms(e,!0),this.D.emit("touchMove",this,t,i.userNode),this.us.Ss(),ga(t))},this.Vt=(t,e)=>{const i=this.iR(e);if(i){if(this.bb!==fp.disabled&&(this.Hb=void 0),this.UL){const e=(null==i?void 0:i.children.length)?i:i.parentID?this.NL[i.parentID]:void 0;e&&(this.GL.S([e]),this.D.emit("viewChange",this.GL.M()),this.KL=!0),t&&ga(t)}this.Mb&&this.us.ls.Ms(e,!1),this.D.emit("touchEnd",this,t,i.userNode),this.us.Ss(),ga(t)}},this.sR=t=>{const e=this.NL[this.HL[t].id]?[this.NL[this.HL[t].id]]:this.OL;this.GL.S(e),this.D.emit("viewChange",e),this.KL=!0,this.us.Ss()},this.qi.treeMapChartNodeColors)this.eR=this.qi.treeMapChartNodeColors;else{const t=this.qi.pointSeriesFillStyle,e=t=>co(t)?t.getColor():$r;this.eR="function"==typeof t?new Array(5).fill(0).map(((i,s)=>e(t(s)))):[e(t)]}this.us.Nn(xf.Mf),this.Hy=e.ob("TreeMapChart plotting",0),this.Xy=e.ob("TreeMap UI plotting",1),this.onResize(this.Cb),this._m.Rh("TreeMap Chart");const a=Zo(void 0,zp);this.Eb=a.Ay(e.Zy(),this.pixelScale,this.pixelScale,this.qi).setVisible(!1),this.hR=this.es.yg(),this.Sm(n,this.uiScale),this.Vb=this.Hy.Ob(this.pixelScale).Ce(new uo).we(this.tR),this.rR=this.us.ls.Er(this,{animationEnabled:!0!==(null==r?void 0:r.disableAnimations)&&!1!==(null==r?void 0:r.animationsEnabled)}),this.nR=new eg((()=>this.Xy.Pr(this.pixelScale).setMouseInteractions(!1))),this.oR=new eg((()=>this.Xy.Pr(this.uiScale))),this.Vb.setMouseInteractions(this.Yi).setMouseEnterEventHandler(((t,e,i)=>this.wt(e,i))).setMouseLeaveEventHandler(((t,e,i)=>this.Ct(e,i))).setMouseClickEventHandler(((t,e,i)=>this.kt(e,i))).setMouseDoubleClickEventHandler(((t,e,i)=>this.Tt(e,i))).setMouseDownEventHandler(((t,e,i)=>this.Ft(e,i))).setMouseUpEventHandler(((t,e,i)=>this.It(e,i))).setMouseMoveEventHandler(((t,e,i)=>this.Pt(e,i))).setMouseDragStartEventHandler(((t,e,i,s)=>this.Bt(e,i,s))).setMouseDragEventHandler(((t,e,i,s,n,r)=>this.Dt(e,i,s,n,r))).setMouseDragStopEventHandler(((t,e,i,s,n)=>this.Lt(e,i,s,n))).setMouseWheelEventHandler(((t,e,i)=>this.Rt(e,i))).setTouchStartEventHandler(((t,e,i)=>this.Et(e,i))).setTouchMoveEventHandler(((t,e,i)=>this.zt(e,i))).setTouchEndEventHandler(((t,e,i)=>this.Vt(e,i))),this.setAnimationsEnabled(!0!==(null==r?void 0:r.disableAnimations)&&!1!==(null==r?void 0:r.animationsEnabled))}setData(t){t=Array.isArray(t)?t.slice():[t];const{aR:e}=(()=>{let t=0;return{aR:e=>{var i;const s=e.map(((t,e)=>({node:t,parent:null}))),n=[];for(;s.length>0;){const e=s.pop();if(!e)continue;const{node:r,parent:o}=e;t+=1;const a={id:t,parentID:null==o?void 0:o.id,name:r.name,value:r.value||0,animatedValue:r.value||0,children:[],nodeIndex:o?o.nodeIndex:-1,userNode:r};o?o.children.push(a):n.push(a),null===(i=r.children)||void 0===i||i.forEach((t=>{s.push({node:t,parent:a})}))}const r=t=>{t.children.forEach(r),t.children.length>0&&(t.value+=t.children.reduce(((t,e)=>t+e.value),0),t.animatedValue+=t.children.reduce(((t,e)=>t+e.animatedValue),0),t.children.sort(((t,e)=>e.animatedValue-t.animatedValue)))};n.forEach(r);const o=1===e.length?n[0].children:n;return o.sort(((t,e)=>e.animatedValue-t.animatedValue)),o.forEach(((t,e)=>{t.nodeIndex=e;const i=e=>{e.children.forEach((e=>{e.nodeIndex=t.nodeIndex,i(e)}))};i(t)})),n}}})(),i=e(t);return i.forEach((t=>{const e=this.NL[t.id];e&&this.lR(t,e)})),this.Hb=void 0,this.GL.S(i),this.OL=i,this.NL=this.uR(i),this.KL=!0,this.us.Ss(),this}setAnimationValues(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._y=t?{speed:e}:void 0,this.us.Ss(),this}setInitPathButtonText(t){return this.YL=t,this.KL=!0,this.us.Ss(),this}setDisplayedLevelsCount(t){return this.WL=t,this.KL=!0,this.us.Ss(),this}setDrillDownEnabled(t){return this.UL=t,this.KL=!0,this.us.Ss(),this}setDrillDownNode(t){var e,i;if(this.Hb=void 0,void 0===t)this.GL.S(this.OL);else{const s=[...this.OL];for(;s.length>0;){const n=s.pop();if(n){if(void 0!==n.value&&n.userNode===t||n.parentID&&Array.isArray(t)&&(null===(i=null===(e=this.NL[n.parentID])||void 0===e?void 0:e.userNode)||void 0===i?void 0:i.children)===t){const t=n.children.length?n:n.parentID?this.NL[n.parentID]:this.OL[0];this.GL.S([t]);break}if(n.children)for(let t=n.children.length-1;t>=0;t-=1)s.push(n.children[t])}}}return this.D.emit("viewChange",this.GL.M()),this.KL=!0,this.us.Ss(),this}setNodeColoring(t){return t instanceof Array?(this.Vb.Ce(new uo),this.eR=t):this.Vb.Ce(t),this.KL=!0,this.us.Ss(),this}setParentNodeColor(t){return this.qL=t,this.KL=!0,this.us.Ss(),this}setPathLabelFillStyle(t){return this.$L="function"==typeof t?t(this.$L):t,this.KL=!0,this.us.Ss(),this}getPathLabelFillStyle(){return this.$L}setPathLabelFont(t){return Mc(t)?this.XL=t:this.XL=t(this.XL),this.KL=!0,this.us.Ss(),this}getPathLabelFont(){return this.XL}setHeaderFont(t){return Mc(t)?this.ZL=t:this.ZL=t(this.ZL),this.KL=!0,this.us.Ss(),this}getHeaderFont(){return this.ZL}setHeaderFillStyle(t){return this.jL="function"==typeof t?t(this.jL):t,this.KL=!0,this.us.Ss(),this}getHeaderFillStyle(){return this.jL}setLabelFont(t){return Mc(t)?this.JL=t:this.JL=t(this.JL),this.KL=!0,this.us.Ss(),this}getLabelFont(){return this.JL}setLabelFillStyle(t){return this.QL="function"==typeof t?t(this.QL):t,this.KL=!0,this.us.Ss(),this}getLabelFillStyle(){return this.QL}setNodeBorderStyle(t){return this.Vb.we(t),this.KL=!0,this.us.Ss(),this}getNodeBorderStyle(){return this.Vb.ao()}setNodeEffect(t){return this.hR.ps(t),this.us.Ss(),this}getNodeEffect(){return this.hR.vs()}setAutoCursor(t){return this.Eb&&t(this.Eb),this.us.Ss(),this}getAutoCursor(){return this.Eb}setAutoCursorMode(t){return this.bb=t,this.us.Ss(),this}getAutoCursorMode(){return this.bb}setCursorResultTableFormatter(t){return this.Wy=t,this.us.Ss(),this}getCursorResultTableFormatter(){return this.Wy}onNodeMouseDragStart(t){return this.D.on("mouseDragStart",t)}onNodeMouseDrag(t){return this.D.on("mouseDrag",t)}onNodeMouseDragStop(t){return this.D.on("mouseDragStop",t)}onNodeMouseWheel(t){return this.D.on("mouseWheel",t)}onNodeTouchStart(t){return this.D.on("touchStart",t)}onNodeTouchMove(t){return this.D.on("touchMove",t)}onNodeTouchEnd(t){return this.D.on("touchEnd",t)}onViewChange(t){return this.D.on("viewChange",t)}offNodeTouchStart(t){return this.D.off(t,"touchStart")}offNodeTouchMove(t){return this.D.off(t,"touchMove")}offNodeTouchEnd(t){return this.D.off(t,"touchEnd")}offViewChange(t){return this.D.off(t,"viewChange")}setMouseInteractions(t){return this.Yi=t,this.Vb.setMouseInteractions(t),this}getMouseInteractions(){return this.Yi}setAnimationHighlight(t){return this.rR.Or(t),this}getAnimationHighlight(){return this.rR.Nr()}setHighlightOnHover(t){return this.Mb=t,this}getHighlightOnHover(){return this.Mb}getMinimumSize(){}Zd(){return[this]}Te(t){super.Te(t),super.pm(),dp.Fm(this._m,this.bm);const e=dp.Tm(this._m,this.bm);if(this.KL&&this.GL.M().length){this.Vb.Nt(),this.VL.clear(),this.rR.Vr(),this.th&&this.cR(t);const i=Ob({data:this.GL.M(),dimensions:{x:0+this.ya.left,y:0+this.ya.bottom,width:this.pixelScale.x.getInnerEnd()-this.ya.right-this.ya.left,height:this.pixelScale.y.getInnerEnd()-e-this.ya.top-this.ya.bottom}}),s=this.nR.fp();this.dR(i,s),s.finishPlot(),this.fR(),this.OL!==this.GL.M()&&this.OL.length>1&&this.HL.unshift({name:this.YL,id:0});let n=0;const r=this.oR.fp(),o=this.XL;this.HL.forEach(((t,e)=>{const i=r.add(),s=this.us.Ig.Fg(t.name,o,0);i.Rh("\u2190 ".concat(t.name)).Oh(o).Fe({x:0,y:100}).Ea({x:-1,y:1}).Fr({left:this.ya.left+n,top:this.ya.top,right:0,bottom:0}).Ce(this.$L).setMouseClickEventHandler((t=>this.sR(e))).setMouseEnterEventHandler((()=>this.engine.setMouseStyle(jh.Point))).setMouseLeaveEventHandler((()=>this.engine.setMouseStyle(jh.Default))),n+=s.x+25})),r.finishPlot(),this.GL.M().every((t=>t.value===t.animatedValue))?this.KL=!1:this.us.Ss(!0)}const i=this.us.On();if(this.Hb&&i){const t=i;this.Eb.setPosition(t).setVisible(!0).getResultTable().setContent(this.Wy(new xp,this.Hb).Zu())}else this.Eb.setVisible(!1);return this.Eb.Ps().Te(),this}dispose(){return this.Xy.W(),this.Hy.W(),this.Eb.dispose(),this.Vb.dispose(),this.VL.clear(),this.nR.gp(),this.oR.gp(),super.dispose()}j(){return super.j(),this}Z(){return super.Z(),this}Gd(){return Ia(this.Vb.Eh())}attach(t){let e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return t.setText(this.getTitle()),t.setOn(!0).setLocked(!0),Ta(t,this.qi,e,{}),this}dR(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const n=t.map(((t,e)=>({node:t,isChild:i,depth:s})));for(;n.length>0;){const t=n.pop();if(!t)continue;const{node:i,depth:s,opacity:r}=t,{x:o,y:a,height:l,width:h,children:c,animatedValue:u,name:d,nodeIndex:f}=i,p=this.eR,g=0===s&&1===this.GL.M().length?this.qL:p[f%p.length],m=[{x:o,y:a},{x:o,y:l+a},{x:h+o,y:l+a},{x:h+o,y:a}],y=this.Vb.zr().pl(m).AR(g.setA(r||250)).Yb(u);this.VL.set(y,i),this.rR.zr(y,(t=>y.cs(t)));const v=o+5,b=a+5,x=Math.max(l-25-5,0),S=Math.max(h-5-5,0);if(c&&c.length&&s<this.WL&&S>15&&x>15){const t=Ob({data:c,dimensions:{x:S>0?v:o,y:x>0?b:a,width:S,height:x}});for(let e=0;e<t.length;e+=1){const o=(250-(c.length>7?50:150))/(c.length-1),a=1===i.id&&1===this.OL.length||this.OL===this.GL.M()?250:r?r/(s+1):250-e*o;n.push({node:t[e],isChild:!0,depth:s+1,opacity:a})}}const A=0===s&&1===this.GL.M().length?this.jL:this.QL,w=0===s?this.ZL:this.JL,C=this.gR(d,h-25,w),M=this.us.Ig.Fg(C,w,0),k=e.add();h-25>M.x&&l>25?k.Rh(C).Fe({x:o+5,y:l+a-2.5}).Ea({x:-1,y:1}).Ce(A).Oh(w):k.Rh("")}}uR(t){const e={},i=[...t];for(;i.length>0;){const t=i.pop();t&&(e[t.id]=t,t.children&&i.push(...t.children))}return e}iR(t){if(!this.KL&&t)return this.VL.get(t)}fR(){this.HL=[];const t=this.GL.M()[0].id;let e=this.NL[t].parentID;for(;e;)this.HL.push({name:this.NL[e].name,id:e}),e=this.NL[e].parentID;return this.HL.reverse()}gR(t,e,i){let s=this.us.Ig.Fg(t,i,0).x;if(s<=e)return t;const n=t.split(" ");let r=t;for(;n.length>1&&s>e;)n.pop(),r="".concat(n.join(" "),"..."),s=this.us.Ig.Fg(r,i,0).x;if(s>e)for(r="".concat(n[0],"..."),s=this.us.Ig.Fg(r,i,0).x;r.length>3&&s>e;)r="".concat(r.substring(0,r.length-4),"..."),s=this.us.Ig.Fg(r,i,0).x;return r.length<=3&&s>e?"":r}cR(t){var e;const i=[...this.OL];for(;i.length>0;){const s=i.pop();if(!s)continue;const n=s.value-s.animatedValue;if(Math.abs(n)<.0015*s.value||void 0===this._y)s.animatedValue=s.value;else{const i=n/250*((null===(e=this._y)||void 0===e?void 0:e.speed)||1)*t;s.animatedValue+=i,(n>0&&s.animatedValue>s.value||n<0&&s.animatedValue<s.value)&&(s.animatedValue=s.value)}s.children&&s.children.length>0&&i.push(...s.children)}}lR(t,e){const i=[{current:t,previous:e}];for(;i.length>0;){const t=i.pop();if(!t)continue;const{current:e,previous:s}=t;e.animatedValue=this.th?s.animatedValue:e.value,s.nodeIndex<0?e.nodeIndex=0:e.nodeIndex=s.nodeIndex;const n=new Map(s.children.map((t=>[t.id,t])));e.children.forEach(((t,e)=>{const r=n.get(t.id);i.push({current:t,previous:r||s})}))}}}const Wb=(t,e)=>{const{name:i,value:s}=e;return t.addRow("".concat(i)).addRow("".concat(s)),t},jb=(t,e)=>{const i=(t=>{const e=new ho({color:t.uiStrokeColorContrastHigh}),i=new ho({color:t.uiStrokeColorContrastMedium}),s=new ho({color:t.uiStrokeColorContrastLow}),n=new Cc({family:t.fontFamily,weight:"normal",style:"normal"}),r=n.setSize(18*t.fontScaler),o=n.setSize(16*t.fontScaler),a=n.setSize(14*t.fontScaler),l=n.setSize(10*t.fontScaler),h=n.withMutations((e=>e.set("size",14*t.fontScaler).set("weight","bold"))),c=n.setSize(13*t.fontScaler),u=new yh({thickness:2,fillStyle:s}),d=new ho({color:t.dataHighlightOverlayColor}),f=new yh({thickness:2,fillStyle:t.legendBackgroundBorderFillStyle}),p=t.dataColorPalette.map((t=>new ho({color:t.stroke}))),g=t=>p[t%p.length],m=p.map((t=>new yh({thickness:2,fillStyle:t}))),y=t=>m[t%m.length],v=t.dataColorPalette.map((t=>new ho({color:t.border}))).map((t=>new yh({thickness:2,fillStyle:t}))),b=t=>v[t%v.length],x=t.dataColorPalette.map((t=>{const e=t.area;return new Mo({angle:180,stops:[{color:ka(e,qr(255,255,255,e.getA()),.3),offset:0},{color:e,offset:.5},{color:ka(e,qr(0,0,0,e.getA()),.3),offset:1}]})})),S=t=>x[t%x.length],A=t.dataColorPaletteInverted.map((t=>{const e=t.area;return new Mo({angle:180,stops:[{color:ka(e,qr(255,255,255,e.getA()),.3),offset:0},{color:e,offset:.5},{color:ka(e,qr(0,0,0,e.getA()),.3),offset:1}]})})),w=t=>A[t%A.length],C=t.dataColorPaletteInverted.map((t=>new ho({color:t.border}))).map((t=>new yh({thickness:2,fillStyle:t}))),M=t=>C[t%C.length],k=new ho({color:t.dataColorPositive}),R=new ho({color:t.dataColorNegative}),E=new yh({thickness:1,fillStyle:new ho({color:t.dataStrokeColorContrastHigh.setA(50)})}),T=new yh({thickness:2,fillStyle:t.axisLineFillStyle}),I=Eo,P=new ho({color:qr(0,0,0,1)}),F=new yh({thickness:1,fillStyle:t.axisGridMajorFillStyle}),D=new yh({thickness:1,fillStyle:t.axisTickMajorFillStyle}),L=a,z=t.axisLabelMajorFillStyle,N=new yh({thickness:1,fillStyle:t.axisGridMajorFillStyle}),_=new yh({thickness:1,fillStyle:t.axisTickMajorFillStyle}),V=a,B=t.axisLabelMajorFillStyle,O=new yh({thickness:1,fillStyle:t.axisGridMinorFillStyle}),U=new yh({thickness:1,fillStyle:t.axisTickMinorFillStyle}),H=l,G=t.axisLabelMinorFillStyle,W=Tf,j=new Rf({gridStrokeStyle:F,tickStyle:D,tickLength:50,tickPadding:-14,labelFont:L,labelPadding:0,labelFillStyle:z}),Y=new Rf({gridStrokeStyle:N,tickStyle:_,tickLength:7,tickPadding:5,labelFont:V,labelPadding:0,labelFillStyle:B}),X=new Rf({gridStrokeStyle:O,tickStyle:U,tickLength:4,tickPadding:10,labelFont:H,labelPadding:0,labelFillStyle:G}),q=new Zf({extremeTickStyle:W,majorTickStyle:Y,minorTickStyle:X}),J=new Gf({greatTickStyle:j,majorTickStyle:Y,minorTickStyle:X}),K=new ip({majorTickStyle:Y,minorTickStyle:X}),Z=new ho({color:t.dataHighlightOverlayColor}),Q=new yh({thickness:1,fillStyle:i}),$=new yh({thickness:2,fillStyle:i}),tt=t=>new Dc.Triangulated({shape:"sphere",size:10,fillStyle:p[t%p.length]}),et=p[0],it=t.uiTextFillStyle,st=t.legendBackgroundFillStyle,nt=new yh({thickness:1,fillStyle:t.legendBackgroundBorderFillStyle}),rt=Ea(t.legendButtonDefaultColor),ot=Ea(t.isDark?qr(70,70,70,255):qr(170,170,170,255)),at=new ho({color:t.isDark?qr(70,70,70,255):qr(170,170,170,255)}),lt=new yh({thickness:1,fillStyle:e}),ht=new fd({thickness:1,fillStyle:t.cursorGridFillStyle,pattern:ud.DashedEqual,patternScale:3}),ct=t.zoomBandChartDefocusOverlayFillStyle,ut=new yh({thickness:2,fillStyle:new ho({color:t.zoomBandChartSplitterColor})});let dt={isDark:t.isDark,effect:t.effect,effectsText:t.effectsText,effectsDashboardSplitters:t.effectsDashboardSplitters,lcjsBackgroundFillStyle:t.lcjsBackgroundFillStyle,lcjsBackgroundStrokeStyle:Eo,highlightColorOffset:t.highlightColorOffset,highlightColorOffsetAxisOverlay:t.highlightColorOffsetAxisOverlay,dashboardSplitterStyle:new yh({thickness:4,fillStyle:t.dashboardSplitterFillStyle}),chartXYBackgroundFillStyle:t.panelBackgroundFillStyle,chartXYBackgroundStrokeStyle:Eo,chartXYTitleFont:r,chartXYTitleFillStyle:t.titleFillStyle,chartXYSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,chartXYSeriesBackgroundStrokeStyle:u,chartXYZoomingRectangleFillStyle:d,chartXYZoomingRectangleStrokeStyle:f,chartXYFittingRectangleFillStyle:d,chartXYFittingRectangleStrokeStyle:f,lineSeriesStrokeStyle:y,pointLineSeriesStrokeStyle:y,pointLineSeriesFillStyle:g,pointSeriesFillStyle:g,ellipseSeriesFillStyle:g,ellipseSeriesStrokeStyle:y,polygonSeriesFillStyle:g,polygonSeriesStrokeStyle:y,rectangleSeriesFillStyle:g,rectangleSeriesStrokeStyle:Eo,segmentSeriesStrokeStyle:y,boxSeriesBodyFillStyle:g(0),boxSeriesBodyStrokeStyle:Eo,boxSeriesStrokeStyle:new yh({thickness:1,fillStyle:p[0]}),boxSeriesMedianStrokeStyle:new yh({thickness:1,fillStyle:new ho({color:qr(0,0,0)})}),ohlcCandleThicknessPixels:5,ohlcCandleBodyFillStylePositive:k,ohlcCandleBodyFillStyleNegative:R,ohlcCandleTailStrokeStylePositive:new yh({thickness:1,fillStyle:new ho({color:t.uiStrokeColorContrastHigh})}),ohlcCandleTailStrokeStyleNegative:new yh({thickness:1,fillStyle:new ho({color:t.uiStrokeColorContrastHigh})}),ohlcBarThicknessPixels:10,ohlcBarStrokeStylePositive:new yh({thickness:2,fillStyle:k}),ohlcBarStrokeStyleNegative:new yh({thickness:2,fillStyle:R}),heatmapGridSeriesFillStyle:g,heatmapGridSeriesWireframeStyle:E,heatmapScrollingGridSeriesFillStyle:g,heatmapScrollingGridSeriesWireframeStyle:E,areaRangeSeriesFillStyle:S,areaRangeSeriesStrokeStyle:b,areaRangeSeriesFillStyleInverted:w,areaRangeSeriesStrokeStyleInverted:M,areaSeriesBipolarHighFillStyle:S,areaSeriesBipolarHighStrokeStyle:b,areaSeriesBipolarLowFillStyle:w,areaSeriesBipolarLowStrokeStyle:M,areaSeriesPositiveFillStyle:S,areaSeriesPositiveStrokeStyle:b,areaSeriesNegativeFillStyle:w,areaSeriesNegativeStrokeStyle:M,xAxisTitleFont:o,xAxisTitleFillStyle:t.axisTitleFillStyle,xAxisStrokeStyle:T,xAxisNibStyle:I,xAxisOverlayStyle:P,xAxisZoomingBandFillStyle:d,xAxisZoomingBandStrokeStyle:Eo,xAxisNumericTicks:q,xAxisDateTimeTicks:J,xAxisTimeTicks:K,yAxisTitleFont:o,yAxisTitleFillStyle:t.axisTitleFillStyle,yAxisStrokeStyle:T,yAxisNibStyle:I,yAxisOverlayStyle:P,yAxisZoomingBandFillStyle:d,yAxisZoomingBandStrokeStyle:Eo,yAxisNumericTicks:q,yAxisDateTimeTicks:J,yAxisTimeTicks:K,bandFillStyle:Z,bandStrokeStyle:Q,constantLineStrokeStyle:$,barChartBackgroundFillStyle:t.panelBackgroundFillStyle,barChartBackgroundStrokeStyle:Eo,barChartTitleFont:r,barChartTitleFillStyle:t.titleFillStyle,barChartSeriesBackgroundFillStyle:ro,barChartSeriesBackgroundStrokeStyle:Eo,barChartBarFillStyle:g,barChartBarStrokeStyle:new yh({thickness:1,fillStyle:s}),barChartValueAxisTitleFont:o,barChartValueAxisTitleFillStyle:t.axisTitleFillStyle,barChartValueAxisStrokeStyle:T,barChartValueAxisTicks:q.setMajorTickStyle((t=>t.setGridStrokeStyle(Eo))).setMinorTickStyle((t=>t.setGridStrokeStyle(Eo))),barChartCategoryAxisTitleFont:o,barChartCategoryAxisTitleFillStyle:t.axisTitleFillStyle,barChartCategoryAxisStrokeStyle:T,barChartCategoryLabels:{formatter:(t,e)=>t,labelFillStyle:q.majorTickStyle.labelFillStyle,labelFont:q.majorTickStyle.labelFont,labelMargin:8,labelRotation:0,tickStyle:q.majorTickStyle.tickStyle,tickLength:0},barChartValueLabelsAfterBars:{position:"after-bar",formatter:(t,e,i)=>t.chart.valueAxis.formatValue(i),labelFillStyle:q.majorTickStyle.labelFillStyle,labelFont:q.majorTickStyle.labelFont,labelMargin:8,labelRotation:0},barChartValueLabelsInsideBars:{position:"inside-bar",formatter:(t,e,i)=>t.chart.valueAxis.formatValue(i),labelFillStyle:q.majorTickStyle.labelFillStyle,labelFont:q.majorTickStyle.labelFont,labelMargin:8,labelRotation:0},chart3DBackgroundFillStyle:t.panelBackgroundFillStyle,chart3DBackgroundStrokeStyle:Eo,chart3DTitleFont:r,chart3DTitleFillStyle:t.titleFillStyle,chart3DSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,chart3DSeriesBackgroundStrokeStyle:u,chart3DBoundingBoxStrokeStyle:Eo,xAxis3DTitleFont:o,xAxis3DTitleFillStyle:t.axisTitleFillStyle,xAxis3DStrokeStyle:T,xAxis3DNumericTicks:q,xAxis3DDateTimeTicks:J,xAxis3DTimeTicks:K,yAxis3DTitleFont:o,yAxis3DTitleFillStyle:t.axisTitleFillStyle,yAxis3DStrokeStyle:T,yAxis3DNumericTicks:q,yAxis3DDateTimeTicks:J,yAxis3DTimeTicks:K,zAxis3DTitleFont:o,zAxis3DTitleFillStyle:t.axisTitleFillStyle,zAxis3DStrokeStyle:T,zAxis3DNumericTicks:q,zAxis3DDateTimeTicks:J,zAxis3DTimeTicks:K,lineSeries3DStrokeStyle:y,pointLineSeries3DStrokeStyle:y,pointLineSeries3DPointStyle:tt,pointSeries3DPointStyle:tt,pointCloudSeries3DPointStyle:t=>new Dc.Pixelated({size:5,fillStyle:p[t%p.length]}),surfaceGridSeries3DFillStyle:g,surfaceGridSeries3DWireframeStyle:E,surfaceScrollingGridSeries3DFillStyle:g,surfaceScrollingGridSeries3DWireframeStyle:E,boxSeries3DFillStyle:g,meshModel3DFillStyle:g(0),polarChartBackgroundFillStyle:t.panelBackgroundFillStyle,polarChartBackgroundStrokeStyle:Eo,polarChartTitleFont:r,polarChartTitleFillStyle:t.titleFillStyle,polarChartSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,polarChartSeriesBackgroundStrokeStyle:u,polarSectorFillStyle:Z,polarSectorStrokeStyle:Q,polarAmplitudeAxisTitleFont:o,polarAmplitudeAxisTitleFillStyle:t.axisTitleFillStyle,polarAmplitudeAxisStrokeStyle:T,polarAmplitudeAxisNumericTicks:q,polarAmplitudeAxisDateTimeTicks:J,polarAmplitudeAxisTimeTicks:K,polarRadialAxisTitleFont:o,polarRadialAxisTitleFillStyle:t.axisTitleFillStyle,polarRadialAxisStrokeStyle:T,polarRadialAxisTickStyle:Y,polarLineSeriesStrokeStyle:y,polarPointLineSeriesFillStyle:g,polarPointLineSeriesStrokeStyle:y,polarPointSeriesFillStyle:g,polarPolygonSeriesFillStyle:S,polarPolygonSeriesStrokeStyle:b,polarAreaSeriesFillStyle:S,polarAreaSeriesStrokeStyle:b,polarHeatmapSeriesFillStyle:g,mapChartBackgroundFillStyle:t.panelBackgroundFillStyle,mapChartBackgroundStrokeStyle:Eo,mapChartTitleFont:r,mapChartTitleFillStyle:t.titleFillStyle,mapChartFillStyle:et,mapChartStrokeStyle:new yh({thickness:1,fillStyle:new ho({color:t.dataStrokeColorContrastMedium})}),mapChartOutlierRegionFillStyle:ro,mapChartOutlierRegionStrokeStyle:new yh({thickness:1,fillStyle:s}),mapChartSeparateRegionFillStyle:st,mapChartSeparateRegionStrokeStyle:nt,dataGridBackgroundFillStyle:t.panelBackgroundFillStyle,dataGridBackgroundStrokeStyle:Eo,dataGridTitleFont:r,dataGridTitleFillStyle:t.titleFillStyle,dataGridTextFont:a,dataGridTextFillStyle:et,dataGridCellBackgroundFillStyle:new ho({color:t.uiBackgroundColor}),dataGridBorderStrokeStyle:new yh({thickness:.4,fillStyle:new ho({color:t.uiBackgroundBorderColor})}),dataGridScrollBarBackgroundFillStyle:t.seriesBackgroundFillStyle,dataGridScrollBarBackgroundStrokeStyle:Eo,dataGridScrollBarFillStyle:t.seriesBackgroundFillStyle,dataGridScrollBarStrokeStyle:nt,dataGridScrollBarButtonFillStyle:t.seriesBackgroundFillStyle,dataGridScrollBarButtonStrokeStyle:nt,dataGridScrollBarButtonArrowFillStyle:rt,dataGridScrollBarButtonArrowStrokeStyle:nt,sparkLineChartStrokeStyle:y(0),sparkPointChartFillStyle:g(0),sparkBarChartFillStyle:g(0),sparkBarChartStrokeStyle:b(0),sparkAreaChartFillStyle:S(0),sparkAreaChartStrokeStyle:b(0),sparkPieChartFillStyle:g,sparkPieChartStrokeStyle:nt,sparkChartBandFillStyle:Z,sparkChartBandStrokeStyle:Q,sparkChartConstantLineStrokeStyle:$,spiderChartBackgroundFillStyle:t.panelBackgroundFillStyle,spiderChartBackgroundStrokeStyle:Eo,spiderChartTitleFont:r,spiderChartTitleFillStyle:t.titleFillStyle,spiderChartSeriesBackgroundFillStyle:t.seriesBackgroundFillStyle,spiderChartSeriesBackgroundStrokeStyle:u,spiderChartWebStyle:new yh({thickness:2,fillStyle:s}),spiderChartScaleLabelFillStyle:t.axisLabelMajorFillStyle,spiderChartScaleLabelFont:a,spiderChartAxisLabelFillStyle:t.axisTitleFillStyle,spiderChartAxisLabelFont:o,spiderChartAxisStrokeStyle:new yh({thickness:2,fillStyle:i}),spiderChartAxisNibStrokeStyle:new yh({thickness:2,fillStyle:e}),spiderSeriesFillStyle:S,spiderSeriesStrokeStyle:b,spiderSeriesPointFillStyle:g,pieChartBackgroundFillStyle:t.panelBackgroundFillStyle,pieChartBackgroundStrokeStyle:Eo,pieChartTitleFont:r,pieChartTitleFillStyle:t.titleFillStyle,pieChartSliceFillStylePalette:g,pieChartSliceStrokeStyle:nt,pieChartSliceLabelFont:c,pieChartSliceLabelFillStyle:t.uiTextFillStyle,pieChartConnectorStrokeStyle:lt,funnelChartBackgroundFillStyle:t.panelBackgroundFillStyle,funnelChartBackgroundStrokeStyle:Eo,funnelChartTitleFont:r,funnelChartTitleFillStyle:t.titleFillStyle,funnelChartSliceFillStylePalette:g,funnelChartSliceStrokeStyle:nt,funnelChartSliceLabelFont:c,funnelChartSliceLabelFillStyle:t.uiTextFillStyle,funnelChartConnectorStrokeStyle:lt,pyramidChartBackgroundFillStyle:t.panelBackgroundFillStyle,pyramidChartBackgroundStrokeStyle:Eo,pyramidChartTitleFont:r,pyramidChartTitleFillStyle:t.titleFillStyle,pyramidChartSliceFillStylePalette:g,pyramidChartSliceStrokeStyle:nt,pyramidChartSliceLabelFont:c,pyramidChartSliceLabelFillStyle:t.uiTextFillStyle,pyramidChartConnectorStrokeStyle:lt,gaugeChartBackgroundFillStyle:t.panelBackgroundFillStyle,gaugeChartBackgroundStrokeStyle:Eo,gaugeChartTitleFont:r,gaugeChartTitleFillStyle:t.titleFillStyle,gaugeChartEmptyGaugeFillStyle:new ho({color:t.uiBackgroundColor}),gaugeChartEmptyGaugeStrokeStyle:nt,gaugeChartGaugeFillStyle:et,gaugeChartIntervalLabelsFillStyle:it,gaugeChartIntervalLabelsFont:c,gaugeChartValueLabelFillStyle:it,gaugeChartValueLabelFont:c,treeMapChartBackgroundFillStyle:t.panelBackgroundFillStyle,treeMapChartBackgroundStrokeStyle:Eo,treeMapChartParentColor:t.treeMapChartParentColor,treeMapChartNodeColors:t.treeMapChartNodeColors,treeMapChartNodeStrokeStyle:new yh({thickness:1,fillStyle:new ho({color:Jr("000")})}),treeMapChartTitleFillStyle:t.titleFillStyle,treeMapChartTitleFont:r,treeMapChartPathLabelFillStyle:it,treeMapChartPathLabelFont:c,treeMapChartLabelHeaderFillStyle:t.treeMapChartLabelHeaderFillStyle,treeMapChartLabelHeaderFont:r,treeMapChartLabelFillStyle:t.treeMapChartLabelFillStyle,treeMapChartLabelFont:c,uiPanelBackgroundFillStyle:t.panelBackgroundFillStyle,uiPanelBackgroundStrokeStyle:Eo,zoomBandChartDefocusOverlayFillStyle:ct,zoomBandChartSplitterStrokeStyle:ut,zoomBandChartKnobFillStyle:t.zoomBandChartKnobFillStyle,zoomBandChartKnobSize:t.zoomBandChartKnobSize,onScreenMenuBackgroundColor:qr(254,204,0,.7),uiButtonFillStyle:rt,uiButtonFillStyleHidden:ot,uiButtonStrokeStyle:nt,uiButtonSize:10,uiBackgroundFillStyle:st,uiBackgroundStrokeStyle:nt,uiTextFillStyle:it,uiTextFillStyleHidden:at,uiTextFont:c,legendTitleFillStyle:it,legendTitleFont:h,cursorTickMarkerXBackgroundFillStyle:st,cursorTickMarkerXBackgroundStrokeStyle:nt,cursorTickMarkerXTextFillStyle:it,cursorTickMarkerXTextFont:c,cursorTickMarkerYBackgroundFillStyle:st,cursorTickMarkerYBackgroundStrokeStyle:nt,cursorTickMarkerYTextFillStyle:it,cursorTickMarkerYTextFont:c,cursorPointMarkerFillStyle:ht.getFillStyle(),cursorPointMarkerSize:{x:9,y:9},cursorPointMarkerShape:Kc.Cross,cursorResultTableFillStyle:st,cursorResultTableStrokeStyle:nt,cursorResultTableTextFillStyle:it,cursorResultTableTextFont:c,cursorGridStrokeStyleX:ht,cursorGridStrokeStyleY:ht,chartMarkerPointMarkerFillStyle:ht.getFillStyle(),chartMarkerPointMarkerSize:{x:20,y:20},chartMarkerPointMarkerShape:Kc.Star,seriesMarkerPointMarkerFillStyle:ht.getFillStyle(),seriesMarkerPointMarkerSize:{x:9,y:9},seriesMarkerPointMarkerShape:Kc.Cross};return t.overrideThemeProperties&&(dt={...dt,...t.overrideThemeProperties}),dt})(t),s={...e,header1Font:i.xAxisTitleFont,header2Font:i.xAxisNumericTicks.getMajorTickStyle().labelFont,header3Font:i.uiTextFont,mainDataColor:t.dataColorPalette[0].stroke};return{...i,examples:s}},Yb=(t,e)=>{const i=new Image;i.crossOrigin="*";const s="".concat(t,"/").concat(e);return i.addEventListener("error",(e=>{Ya(t,s,"Theme resource",{shouldCrash:!1})})),i.src=s,i},Xb=(t,e,i)=>s=>{const n=!0===t?e[s%e.length].stroke:ka(e[s%e.length].stroke,qr(255,255,255),.5);return new Ao({stops:[{color:ka(n,qr(255,255,255),.5*i).setA(100),offset:0},{color:n.setA(100),offset:.5},{color:ka(n,qr(30,30,30),.5*i).setA(100),offset:1}]})},qb=(t,e,i)=>s=>{const n=!0===t?e[s%e.length].stroke:ka(e[s%e.length].stroke,qr(255,255,255),.2);return new Ao({stops:[{color:ka(n,qr(255,255,255),.2*i),offset:0},{color:n,offset:.5},{color:ka(n,qr(0,0,0),.2*i),offset:1}]})},Jb=(t,e,i)=>s=>{const n=!0===t?e[s%e.length].stroke:ka(e[s%e.length].stroke,qr(255,255,255),.2);return new Mo({angle:90,stops:[{color:ka(n,qr(255,255,255),.5*i),offset:0},{color:n,offset:.35},{color:ka(n,qr(30,30,30),.5*i),offset:1}]})},Kb=(t,e,i)=>(()=>{const i=new Map;return s=>{const n=i.get(s);if(n)return n;const r=(i=>{const s=!0===t?e[i%e.length].stroke:ka(e[i%e.length].stroke,qr(255,255,255),.3);return new Mo({angle:90,stops:[{color:ka(s,qr(255,255,255),.5),offset:0},{color:s,offset:.35},{color:ka(s,qr(30,30,30),.5),offset:1}]})})(s);return i.set(s,r),r}})(),Zb=(t,e,i)=>{const s=e[0].stroke;return new Ao({shape:vo.ellipse,extent:bo.farthestCorner,position:{x:.5,y:.5},stops:[{color:!0===t?s:ka(s,qr(255,255,255),.5*i),offset:0},{color:s,offset:.5},{color:!0===t?s:ka(s,qr(0,0,0),.5*i),offset:1}]})},Qb=Wa((()=>{const t=qr(255,255,255),e=new ho({color:t}),i=!0,s=new bd({spread:1,blur:9,offset:{x:0,y:0},color:qr(0,0,0,150)}),n=new Ao({position:{x:.8,y:.8},extent:bo.farthestCorner,shape:vo.ellipse,stops:[{offset:0,color:qr(50,51,52)},{offset:.5,color:qr(14,15,16)},{offset:1,color:qr(0,0,0)}]}),r=new ho({color:qr(45,45,45)}),o=new Ao({position:{x:.5,y:.5},extent:bo.farthestCorner,shape:vo.circle,stops:[{offset:0,color:qr(120,120,120,100)},{offset:1,color:qr(0,0,0,50)}]}),a=new Ao({position:{x:.5,y:.5},extent:bo.farthestCorner,shape:vo.circle,stops:[{offset:0,color:qr(30,30,30,200)},{offset:1,color:qr(0,0,0,255)}]}),l=new ho({color:qr(255,255,220)}),h=new ho({color:qr(255,255,166)}),c=new ho({color:qr(255,255,220)}),u=new ho({color:qr(255,255,220,130)}),d=new ho({color:qr(255,255,200)}),f=d,p=f,g=new Mo({angle:45,stops:[{offset:0,color:qr(230,230,230)},{offset:1,color:qr(150,150,150)}]}),m=new ho({color:qr(220,220,220)}),y=new ho({color:qr(200,200,200,50)}),v=new ho({color:qr(200,200,200,150)}),b=new ho({color:qr(200,200,200,20)}),x=new ho({color:qr(150,150,150)}),S=new Mo({angle:0,stops:[{offset:0,color:qr(10,10,10,220)},{offset:1,color:qr(30,30,30,220)}]}),A=e,w=qr(255,255,200),C=S,M=A,k=qr(20,20,20),R=qr(0,0,0),E=t,T=qr(150,150,150),I=qr(50,50,50),P=qr(50,50,50),F=qr(100,100,100),D=qr(200,200,200),L=[qr(255,255,91,255),qr(255,205,91,255),qr(255,155,91,255),qr(255,196,188,255),qr(255,148,184,255),qr(219,148,198,255),qr(235,196,224,255),qr(169,148,198,255),qr(148,226,198,255),qr(148,255,176,255),qr(180,255,165,255)].map((t=>({stroke:t,border:t,area:t.setA(100)}))),z=t.setA(20),N=qr(176,255,157,255),_=qr(255,112,76,255),V={mapChartFillStyle:new Mo({angle:135,stops:[{color:qr(255,255,91,255),offset:0},{color:qr(255,155,91,255),offset:1}]}),spiderSeriesFillStyle:Xb(i,L,.5),pieChartSliceFillStylePalette:qb(i,L,1),funnelChartSliceFillStylePalette:Jb(i,L,1),pyramidChartSliceFillStylePalette:Jb(i,L,1),rectangleSeriesFillStyle:Kb(i,L),gaugeChartGaugeFillStyle:Zb(i,L,1)},B=new ho({color:qr(176,255,157,255)}),O=new ho({color:qr(255,146,146,255)}),U=new ho({color:qr(176,255,157,255)}),H=new ho({color:qr(230,63,63,255)}),G=new ho({color:qr(176,255,157,120)}),W=new ho({color:qr(229,63,63,180)}),j=new ho({color:qr(27,37,36,255)}),Y=new ho({color:qr(62,27,27,255)}),X=[qr(255,0,0),qr(255,255,0),qr(0,255,0)],q=[qr(10,10,255),qr(10,190,255),qr(251,255,0),qr(255,38,0)],J=[qr(255,255,0),qr(255,204,0),qr(255,128,0),qr(255,0,0)],K=[qr(0,0,0),qr(167,4,69,255),qr(255,0,0),qr(252,252,168,255)],Z=new Ao({stops:[{color:qr(61,61,80,100),offset:0},{color:qr(44,44,55,30),offset:1}]}),Q=new ho({color:qr(148,148,198,255)}),$=G.getColor().setA(255),tt=qr(100,100,100),et=[qr(255,241,149,200),qr(255,230,65,200),qr(238,211,32,200),qr(238,176,32,200),qr(255,159,13,200),qr(254,120,37,200),qr(253,91,56,200),qr(253,75,84,200),qr(254,95,124,200),qr(227,56,160,200),qr(226,53,134,200),qr(216,90,166,200),qr(254,151,206,200),qr(237,151,254,200),qr(243,177,255,200),qr(233,133,252,200),qr(210,101,230,200),qr(178,61,200,200),qr(193,81,156,200),qr(217,95,145,200)];return jb({isDark:i,highlightColorOffset:qr(60,60,60,60),highlightColorOffsetAxisOverlay:qr(255,255,255,40),effect:s,effectsText:!0,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:n,dashboardSplitterFillStyle:r,panelBackgroundFillStyle:o,seriesBackgroundFillStyle:a,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:l,axisTitleFillStyle:h,axisLabelMajorFillStyle:c,axisLabelMinorFillStyle:u,uiTitleFillStyle:d,uiTextFillStyle:f,cursorTextFillStyle:p,axisLineFillStyle:g,axisTickMajorFillStyle:m,axisGridMajorFillStyle:y,axisTickMinorFillStyle:v,axisGridMinorFillStyle:b,cursorGridFillStyle:x,legendBackgroundFillStyle:S,legendBackgroundBorderFillStyle:A,legendButtonDefaultColor:w,resultTableBackgroundFillStyle:C,resultTableBackgroundBorderFillStyle:M,uiBackgroundColor:k,uiBackgroundBorderColor:R,uiStrokeColorContrastHigh:E,uiStrokeColorContrastMedium:T,uiStrokeColorContrastLow:I,dataStrokeColorContrastHigh:P,dataStrokeColorContrastMedium:F,dataStrokeColorContrastLow:D,dataColorPalette:L,dataColorPaletteInverted:[{area:qr(190,50,50,100),border:qr(210,80,80)}],dataHighlightOverlayColor:z,dataColorPositive:N,dataColorNegative:_,zoomBandChartDefocusOverlayFillStyle:new ho({color:qr(0,0,0,180)}),zoomBandChartSplitterColor:Jr("#FBFB5A"),zoomBandChartKnobFillStyle:t=>new hd({source:Yb(t,"zoomBandChart/darkgold-selector.png"),fitMode:ad.Fill}),zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:V,treeMapChartParentColor:Jr("#181E21"),treeMapChartNodeColors:et,treeMapChartLabelFillStyle:new ho({color:qr(33,33,33)}),treeMapChartLabelHeaderFillStyle:new ho({color:qr(250,250,250)})},{positiveTextFillStyle:B,negativeTextFillStyle:O,positiveFillStyle:U,negativeFillStyle:H,positiveAreaFillStyle:G,negativeAreaFillStyle:W,positiveBackgroundFillStyle:j,negativeBackgroundFillStyle:Y,badGoodColorPalette:X,coldHotColorPalette:q,intensityColorPalette:J,spectrogramColorPalette:K,bollingerFillStyle:Z,bollingerBorderFillStyle:Q,highlightPointColor:t,highlightDataGridColor:$,unfocusedDataColor:tt})})),$b=Wa((()=>{const t=qr(255,255,255),e=new ho({color:t}),i=!0,s=new bd({spread:0,blur:9,offset:{x:0,y:0},color:qr(105,255,236,40)}),n=new ho({color:qr(2,21,30)}),r=new Ao({stops:[{color:qr(19,40,66,150),offset:0},{color:qr(0,0,0,150),offset:1}]}),o=new ho({color:qr(0,5,8,150)}),a=e,l=e,h=e,c=new ho({color:qr(255,255,220,130)}),u=e,d=e,f=d,p=new ho({color:qr(20,224,250,255)}),g=e,m=new ho({color:qr(61,94,110,100)}),y=new ho({color:qr(61,94,110,255)}),v=new ho({color:qr(61,94,110,40)}),b=e,x=new ho({color:qr(0,18,23,255)}),S=e,A=t,w=new ho({color:qr(0,17,22,240)}),C=e,M=qr(0,38,48,220),k=qr(0,0,0),R=t,E=qr(150,150,150),T=qr(19,78,93),I=qr(50,50,50),P=qr(0,36,48),F=qr(200,200,200),D=[qr(45,253,253,255),qr(44,172,247,255),qr(46,100,248,255),qr(96,84,199,255),qr(184,104,245,255),qr(98,160,218,255),qr(43,238,245,255),qr(38,140,206,255),qr(112,96,224,255),qr(206,157,255,255)].map((t=>({stroke:t,border:t,area:t.setA(100)}))),L=t.setA(50),z=qr(3,217,194,255),N=qr(230,63,63,255),_={mapChartFillStyle:new Mo({angle:135,stops:[{color:qr(118,248,231,255),offset:0},{color:qr(45,177,255,255),offset:1}]}),spiderSeriesFillStyle:Xb(i,D,1),pieChartSliceFillStylePalette:qb(i,D,1),funnelChartSliceFillStylePalette:Jb(i,D,1),pyramidChartSliceFillStylePalette:Jb(i,D,1),rectangleSeriesFillStyle:Kb(i,D),gaugeChartGaugeFillStyle:Zb(i,D,1)},V=new ho({color:qr(45,253,253,255)}),B=new ho({color:qr(255,146,146,255)}),O=new ho({color:qr(45,253,253,255)}),U=new ho({color:qr(230,63,63,255)}),H=new ho({color:qr(1,190,164,120)}),G=new ho({color:qr(229,63,63,180)}),W=new ho({color:qr(1,53,57,255)}),j=new ho({color:qr(62,27,27,255)}),Y=[qr(1,104,119,255),qr(0,165,144,255),qr(0,246,214,255)],X=[qr(0,87,95,255),qr(0,125,124,255),qr(1,209,182,255),qr(0,255,221,255),qr(218,112,112,255),qr(172,47,47,255)],q=[qr(126,255,253,255),qr(50,233,230,255),qr(0,196,193,255),qr(62,138,178,255),qr(139,88,191,255),qr(162,55,143,255)],J=[qr(13,31,52,255),qr(101,50,118,255),qr(1,142,172,255),qr(2,196,170,255),qr(0,255,221,255)],K=new Ao({stops:[{color:qr(122,103,254,70),offset:0},{color:qr(178,168,255,10),offset:1}]}),Z=new ho({color:qr(122,103,254,255)}),Q=H.getColor().setA(255),$=qr(15,83,83),tt=[qr(139,252,252,150),qr(60,239,239,150),qr(2,201,201,150),qr(26,159,159,150),qr(15,146,187,150),qr(65,168,200,150),qr(67,146,207,150),qr(64,108,209,150),qr(189,64,233,150),qr(219,84,238,150),qr(192,55,212,150),qr(212,98,229,150),qr(248,110,211,150),qr(251,154,225,150),qr(251,154,184,150),qr(233,105,144,150),qr(255,133,170,150),qr(249,110,135,150),qr(245,72,101,150),qr(210,57,84,150)];return jb({isDark:i,highlightColorOffset:qr(60,60,60,60),highlightColorOffsetAxisOverlay:qr(255,255,255,40),effect:s,effectsText:!1,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:t=>new hd({source:Yb(t,"themes/turquoiseHexagon.jpg"),fitMode:ad.Fill}),dashboardSplitterFillStyle:n,panelBackgroundFillStyle:r,seriesBackgroundFillStyle:o,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:a,axisTitleFillStyle:l,axisLabelMajorFillStyle:h,axisLabelMinorFillStyle:c,uiTitleFillStyle:u,uiTextFillStyle:d,cursorTextFillStyle:f,axisLineFillStyle:p,axisTickMajorFillStyle:g,axisGridMajorFillStyle:m,axisTickMinorFillStyle:y,axisGridMinorFillStyle:v,cursorGridFillStyle:b,legendBackgroundFillStyle:x,legendBackgroundBorderFillStyle:S,legendButtonDefaultColor:A,resultTableBackgroundFillStyle:w,resultTableBackgroundBorderFillStyle:C,uiBackgroundColor:M,uiBackgroundBorderColor:k,uiStrokeColorContrastHigh:R,uiStrokeColorContrastMedium:E,uiStrokeColorContrastLow:T,dataStrokeColorContrastHigh:I,dataStrokeColorContrastMedium:P,dataStrokeColorContrastLow:F,dataColorPalette:D,dataColorPaletteInverted:[{area:qr(170,60,210,100),border:qr(210,100,250)}],dataHighlightOverlayColor:L,dataColorPositive:z,dataColorNegative:N,zoomBandChartDefocusOverlayFillStyle:new ho({color:qr(0,0,0,180)}),zoomBandChartSplitterColor:Jr("#2BF4F4"),zoomBandChartKnobFillStyle:t=>new hd({source:Yb(t,"zoomBandChart/turquoise-selector.png"),fitMode:ad.Fill}),zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:_,treeMapChartParentColor:Jr("#002329"),treeMapChartNodeColors:tt,treeMapChartLabelFillStyle:new ho({color:qr(33,33,33)}),treeMapChartLabelHeaderFillStyle:new ho({color:qr(250,250,250)})},{positiveTextFillStyle:V,negativeTextFillStyle:B,positiveFillStyle:O,negativeFillStyle:U,positiveAreaFillStyle:H,negativeAreaFillStyle:G,positiveBackgroundFillStyle:W,negativeBackgroundFillStyle:j,badGoodColorPalette:Y,coldHotColorPalette:X,intensityColorPalette:q,spectrogramColorPalette:J,bollingerFillStyle:K,bollingerBorderFillStyle:Z,highlightPointColor:t,highlightDataGridColor:Q,unfocusedDataColor:$})})),tx=Wa((()=>{const t=!1,e=new bd({spread:0,blur:6,offset:{x:2,y:-2},color:qr(0,0,0,30)}),i=new Ao({position:{x:.8,y:.8},extent:bo.farthestCorner,shape:vo.ellipse,stops:[{offset:0,color:qr(255,255,255)},{offset:1,color:qr(255,255,255)}]}),s=new ho({color:qr(219,227,233,255)}),n=new Ao({position:{x:.5,y:.5},extent:bo.farthestCorner,shape:vo.circle,stops:[{offset:0,color:qr(255,255,255,200)},{offset:1,color:qr(240,244,246,200)}]}),r=new Ao({position:{x:.5,y:.5},extent:bo.farthestCorner,shape:vo.circle,stops:[{offset:0,color:qr(255,255,255,255)},{offset:1,color:qr(255,255,255,255)}]}),o=new ho({color:qr(33,43,49)}),a=new ho({color:qr(33,43,49)}),l=new ho({color:qr(33,43,49)}),h=new ho({color:qr(33,43,49,150)}),c=new ho({color:qr(33,43,49)}),u=c,d=u,f=new Mo({angle:45,stops:[{offset:0,color:qr(225,225,225)},{offset:1,color:qr(225,225,225)}]}),p=new ho({color:qr(150,150,150,255)}),g=new ho({color:qr(150,150,150,170)}),m=new ho({color:qr(150,150,150,150)}),y=new ho({color:qr(150,150,150,100)}),v=new ho({color:qr(128,146,159)}),b=new Mo({angle:0,stops:[{offset:0,color:qr(255,255,255,240)},{offset:1,color:qr(255,255,255,240)}]}),x=new ho({color:qr(168,186,199)}),S=qr(255,255,200),A=new ho({color:qr(255,255,255,240)}),w=new ho({color:qr(128,146,159,255)}),C=qr(255,255,255,255),M=qr(168,168,199,255),k=qr(168,186,199,255),R=qr(168,186,199,255),E=qr(168,186,199,255),T=qr(168,186,199,255),I=qr(100,100,100),P=qr(200,200,200),F=[qr(28,181,140,255),qr(255,132,0,255),qr(240,39,39,255),qr(86,121,251,255),qr(2,181,213,255),qr(13,212,158,255),qr(22,167,3,255),qr(234,103,232,255),qr(62,183,179,255),qr(140,93,3,255),qr(155,158,186,255)].map((t=>({stroke:t,border:t,area:t.setA(100)}))),D=qr(150,150,150,80),L=qr(46,182,120,255),z=qr(255,66,66,255),N=new yh({thickness:2,fillStyle:new ho({color:qr(168,186,199,255)})}),_={mapChartFillStyle:new Mo({angle:-45,stops:[{color:qr(2,181,213,255),offset:0},{color:qr(175,243,255,255),offset:1}]}),spiderSeriesFillStyle:Xb(t,F,.8),pieChartSliceFillStylePalette:qb(t,F,.8),funnelChartSliceFillStylePalette:Jb(t,F,.5),pyramidChartSliceFillStylePalette:Jb(t,F,.5),rectangleSeriesFillStyle:Kb(t,F),gaugeChartGaugeFillStyle:Zb(t,F,.8),chartXYSeriesBackgroundStrokeStyle:N,chart3DSeriesBackgroundStrokeStyle:N,polarChartSeriesBackgroundStrokeStyle:N,spiderChartSeriesBackgroundStrokeStyle:N,dataGridTextFillStyle:new ho({color:qr(0,88,64,255)})},V=new ho({color:qr(4,146,108,255)}),B=new ho({color:qr(240,39,39,255)}),O=new ho({color:qr(28,181,140,255)}),U=new ho({color:qr(230,88,88,255)}),H=new ho({color:qr(28,181,140,180)}),G=new ho({color:qr(230,88,88,180)}),W=new ho({color:qr(229,243,228)}),j=new ho({color:qr(232,225,216)}),Y=[qr(193,48,48,255),qr(240,234,60,255),qr(45,191,55,255)],X=[qr(10,19,255,255),qr(15,191,250,255),qr(249,255,2,255),qr(253,133,0,255),qr(255,24,0,255)],q=[qr(50,99,213),qr(8,179,77),qr(255,246,0),qr(255,126,0),qr(189,36,30)],J=[qr(16,64,176),qr(8,179,77),qr(255,246,0),qr(255,126,0),qr(168,6,0)],K=new ho({color:qr(185,198,207,255)}),Z=new Ao({stops:[{color:qr(151,190,220,10),offset:0},{color:qr(151,190,220,50),offset:1}]}),Q=H.getColor().setA(255),$=qr(150,150,150),tt=[qr(255,243,136,125),qr(254,237,99,125),qr(255,216,109,125),qr(255,172,100,125),qr(255,133,101,125),qr(255,113,142,125),qr(230,103,129,125),qr(242,126,219,125),qr(255,155,235,125),qr(255,181,240,125),qr(203,143,255,125),qr(208,154,255,125),qr(171,188,255,125),qr(197,209,255,125),qr(171,187,255,125),qr(84,167,239,125),qr(38,196,214,125),qr(38,214,196,125),qr(69,225,141,125),qr(36,191,88,125)];return jb({isDark:t,highlightColorOffset:qr(-60,-60,-60,60),highlightColorOffsetAxisOverlay:qr(0,0,0,40),effect:e,effectsText:!1,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:i,dashboardSplitterFillStyle:s,panelBackgroundFillStyle:n,seriesBackgroundFillStyle:r,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:o,axisTitleFillStyle:a,axisLabelMajorFillStyle:l,axisLabelMinorFillStyle:h,uiTitleFillStyle:c,uiTextFillStyle:u,cursorTextFillStyle:d,axisLineFillStyle:f,axisTickMajorFillStyle:p,axisGridMajorFillStyle:g,axisTickMinorFillStyle:m,axisGridMinorFillStyle:y,cursorGridFillStyle:v,legendBackgroundFillStyle:b,legendBackgroundBorderFillStyle:x,legendButtonDefaultColor:S,resultTableBackgroundFillStyle:A,resultTableBackgroundBorderFillStyle:w,uiBackgroundColor:C,uiBackgroundBorderColor:M,uiStrokeColorContrastHigh:k,uiStrokeColorContrastMedium:R,uiStrokeColorContrastLow:E,dataStrokeColorContrastHigh:T,dataStrokeColorContrastMedium:I,dataStrokeColorContrastLow:P,dataColorPalette:F,dataColorPaletteInverted:[{area:qr(190,50,50,100),border:qr(210,80,80)}],dataHighlightOverlayColor:D,dataColorPositive:L,dataColorNegative:z,zoomBandChartDefocusOverlayFillStyle:new ho({color:qr(255,255,255,180)}),zoomBandChartSplitterColor:Jr("#505D65"),zoomBandChartKnobFillStyle:t=>new hd({source:Yb(t,"zoomBandChart/light-selector.png"),fitMode:ad.Fill}),zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:_,treeMapChartParentColor:Jr("#D9D9D9"),treeMapChartNodeColors:tt,treeMapChartLabelFillStyle:new ho({color:qr(0,0,0)}),treeMapChartLabelHeaderFillStyle:new ho({color:qr(33,33,33)})},{positiveTextFillStyle:V,negativeTextFillStyle:B,positiveFillStyle:O,negativeFillStyle:U,positiveAreaFillStyle:H,negativeAreaFillStyle:G,positiveBackgroundFillStyle:W,negativeBackgroundFillStyle:j,badGoodColorPalette:Y,coldHotColorPalette:X,intensityColorPalette:q,spectrogramColorPalette:J,bollingerFillStyle:Z,bollingerBorderFillStyle:K,highlightPointColor:qr(0,0,0),highlightDataGridColor:Q,unfocusedDataColor:$})})),ex=Wa((()=>{const t=!1,e=new Ao({position:{x:.8,y:.8},extent:bo.farthestCorner,shape:vo.ellipse,stops:[{offset:0,color:qr(255,255,255)},{offset:1,color:qr(255,255,255)}]}),i=new ho({color:qr(214,236,216,255)}),s=new Ao({position:{x:.5,y:.5},extent:bo.farthestCorner,shape:vo.circle,stops:[{offset:0,color:qr(233,244,231,70)},{offset:1,color:qr(233,244,231,200)}]}),n=new Ao({position:{x:.5,y:.5},extent:bo.farthestCorner,shape:vo.circle,stops:[{offset:0,color:qr(255,255,255,255)},{offset:1,color:qr(255,255,255,255)}]}),r=new ho({color:qr(1,61,53)}),o=new ho({color:qr(1,61,53)}),a=new ho({color:qr(1,61,53)}),l=new ho({color:qr(1,61,53,150)}),h=new ho({color:qr(1,61,53)}),c=h,u=c,d=new Mo({angle:45,stops:[{offset:0,color:qr(225,225,225)},{offset:1,color:qr(225,225,225)}]}),f=new ho({color:qr(188,211,186,255)}),p=new ho({color:qr(188,211,186,150)}),g=new ho({color:qr(188,211,186,50)}),m=new ho({color:qr(188,211,186,50)}),y=new ho({color:qr(104,148,111,255)}),v=new Mo({angle:0,stops:[{offset:0,color:qr(255,255,255,240)},{offset:1,color:qr(255,255,255,240)}]}),b=new ho({color:qr(104,148,111)}),x=qr(255,255,200),S=new ho({color:qr(255,255,255,240)}),A=new ho({color:qr(104,148,111,255)}),w=qr(255,255,255,255),C=qr(179,201,183,255),M=qr(188,211,186,255),k=qr(188,211,186,255),R=qr(188,211,186,255),E=qr(188,211,186,255),T=qr(100,100,100),I=qr(200,200,200),P=[qr(138,195,142,255),qr(193,161,114,255),qr(178,99,99,255),qr(142,156,210,255),qr(154,209,219,255),qr(164,212,199,255),qr(104,156,97,255),qr(196,147,195,255),qr(92,190,187,255),qr(126,100,51,255),qr(136,138,157,255)].map((t=>({stroke:t,border:t,area:t.setA(100)}))),F=qr(150,150,150,80),D=qr(46,182,84,255),L=qr(232,96,96,255),z=new yh({thickness:2,fillStyle:new ho({color:qr(188,211,186,255)})}),N={mapChartFillStyle:new Mo({angle:-45,stops:[{color:qr(118,160,121,255),offset:0},{color:qr(174,227,178,255),offset:1}]}),spiderSeriesFillStyle:Xb(t,P,.8),pieChartSliceFillStylePalette:qb(t,P,.8),pyramidChartSliceFillStylePalette:Jb(t,P,.5),funnelChartSliceFillStylePalette:Jb(t,P,.5),rectangleSeriesFillStyle:Kb(t,P),gaugeChartGaugeFillStyle:Zb(t,P,.8),chartXYSeriesBackgroundStrokeStyle:z,chart3DSeriesBackgroundStrokeStyle:z,polarChartSeriesBackgroundStrokeStyle:z,spiderChartSeriesBackgroundStrokeStyle:z,dataGridTextFillStyle:new ho({color:qr(77,66,21,255)})},_=new ho({color:qr(93,151,97,255)}),V=new ho({color:qr(178,99,99,255)}),B=new ho({color:qr(138,195,142,255)}),O=new ho({color:qr(178,99,99,255)}),U=new ho({color:qr(138,195,142,180)}),H=new ho({color:qr(178,99,99,180)}),G=new ho({color:qr(224,240,237)}),W=new ho({color:qr(251,227,227)}),j=[qr(178,99,99,255),qr(215,224,111,255),qr(80,186,88,255)],Y=[qr(62,64,142,255),qr(66,131,77,255),qr(250,250,135,255),qr(202,161,78,255),qr(179,53,53,255)],X=[qr(64,86,138),qr(123,192,205),qr(255,252,149),qr(220,155,92),qr(184,78,74)],q=[qr(64,86,138),qr(123,192,205),qr(255,252,149),qr(220,155,92),qr(132,60,57)],J=new ho({color:qr(185,198,207,255)}),K=new Ao({stops:[{color:qr(151,190,220,10),offset:0},{color:qr(151,190,220,50),offset:1}]}),Z=U.getColor().setA(255),Q=qr(150,150,150),$=[qr(242,239,210,150),qr(243,238,183,150),qr(210,222,136,150),qr(204,217,148,150),qr(157,190,124,150),qr(143,178,72,150),qr(198,147,88,150),qr(216,148,71,150),qr(229,142,103,150),qr(225,174,152,150),qr(219,149,203,150),qr(216,188,209,150),qr(109,198,189,150),qr(172,206,202,150),qr(164,223,217,150),qr(174,215,233,150),qr(203,225,235,150),qr(220,227,243,150),qr(207,213,227,150),qr(171,182,209,150)];return jb({isDark:t,highlightColorOffset:qr(-60,-60,-60,60),highlightColorOffsetAxisOverlay:qr(0,0,0,40),effect:void 0,effectsText:!1,effectsDashboardSplitters:!1,lcjsBackgroundFillStyle:e,dashboardSplitterFillStyle:i,panelBackgroundFillStyle:s,seriesBackgroundFillStyle:n,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:r,axisTitleFillStyle:o,axisLabelMajorFillStyle:a,axisLabelMinorFillStyle:l,uiTitleFillStyle:h,uiTextFillStyle:c,cursorTextFillStyle:u,axisLineFillStyle:d,axisTickMajorFillStyle:f,axisGridMajorFillStyle:p,axisTickMinorFillStyle:g,axisGridMinorFillStyle:m,cursorGridFillStyle:y,legendBackgroundFillStyle:v,legendBackgroundBorderFillStyle:b,legendButtonDefaultColor:x,resultTableBackgroundFillStyle:S,resultTableBackgroundBorderFillStyle:A,uiBackgroundColor:w,uiBackgroundBorderColor:C,uiStrokeColorContrastHigh:M,uiStrokeColorContrastMedium:k,uiStrokeColorContrastLow:R,dataStrokeColorContrastHigh:E,dataStrokeColorContrastMedium:T,dataStrokeColorContrastLow:I,dataColorPalette:P,dataColorPaletteInverted:[{area:qr(210,70,70,100),border:qr(200,110,110)}],dataHighlightOverlayColor:F,dataColorPositive:D,dataColorNegative:L,zoomBandChartDefocusOverlayFillStyle:new ho({color:qr(255,255,255,180)}),zoomBandChartSplitterColor:Jr("#446A40"),zoomBandChartKnobFillStyle:t=>new hd({source:Yb(t,"zoomBandChart/lightnature-selector.png"),fitMode:ad.Fill}),zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:N,treeMapChartParentColor:Jr("#EFF7EE"),treeMapChartNodeColors:$,treeMapChartLabelFillStyle:new ho({color:qr(0,0,0)}),treeMapChartLabelHeaderFillStyle:new ho({color:qr(33,33,33)})},{positiveTextFillStyle:_,negativeTextFillStyle:V,positiveFillStyle:B,negativeFillStyle:O,positiveAreaFillStyle:U,negativeAreaFillStyle:H,positiveBackgroundFillStyle:G,negativeBackgroundFillStyle:W,badGoodColorPalette:j,coldHotColorPalette:Y,intensityColorPalette:X,spectrogramColorPalette:q,bollingerFillStyle:K,bollingerBorderFillStyle:J,highlightPointColor:qr(0,0,0),highlightDataGridColor:Z,unfocusedDataColor:Q})})),ix=Wa((()=>{const t=qr(255,255,255),e=new ho({color:t}),i=!0,s=new bd({spread:1,blur:9,offset:{x:0,y:0},color:qr(255,255,255,30)}),n=new ho({color:qr(6,15,36)}),r=new Ao({stops:[{color:qr(46,13,87,50),offset:0},{color:qr(0,0,0,150),offset:1}]}),o=new ho({color:qr(0,5,8,150)}),a=e,l=e,h=e,c=new ho({color:qr(255,255,220,130)}),u=e,d=e,f=d,p=new Mo({angle:45,stops:[{offset:0,color:qr(241,133,255,255)},{offset:1,color:qr(115,207,238,255)}]}),g=e,m=new ho({color:qr(61,94,110,100)}),y=new ho({color:qr(61,94,110,255)}),v=new ho({color:qr(61,94,110,40)}),b=e,x=new ho({color:qr(0,18,23,255)}),S=e,A=qr(115,207,238,255),w=new ho({color:qr(0,17,22,240)}),C=e,M=qr(0,38,48,255),k=qr(0,0,0),R=t,E=qr(150,150,150),T=qr(19,57,93),I=qr(50,50,50),P=qr(0,17,48),F=qr(200,200,200),D=[qr(20,211,237,255),qr(98,147,252,255),qr(164,73,250,255),qr(129,117,253,255),qr(95,134,252,255),qr(22,133,212,255),qr(35,200,242,255),qr(104,121,233,255),qr(137,69,232,255),qr(70,72,241,255)].map((t=>({stroke:t,border:t,area:t.setA(100)}))),L=t.setA(50),z=qr(3,217,194,255),N=qr(243,21,110,255),_={mapChartFillStyle:new Mo({angle:135,stops:[{color:qr(118,248,231,255),offset:0},{color:qr(45,177,255,255),offset:1}]}),spiderSeriesFillStyle:Xb(i,D,.5),pieChartSliceFillStylePalette:qb(i,D,2),funnelChartSliceFillStylePalette:Jb(i,D,1),pyramidChartSliceFillStylePalette:Jb(i,D,1),rectangleSeriesFillStyle:Kb(i,D),gaugeChartGaugeFillStyle:Zb(i,D,1)},V=new ho({color:qr(20,211,237,255)}),B=new ho({color:qr(253,145,178,255)}),O=new ho({color:qr(20,211,237,255)}),U=new ho({color:qr(239,68,121,255)}),H=new ho({color:qr(20,211,237,120)}),G=new ho({color:qr(239,68,121,180)}),W=new ho({color:qr(1,53,57,255)}),j=new ho({color:qr(94,19,42,255)}),Y=[qr(174,51,132,255),qr(204,107,218,255),qr(189,215,253,255)],X=[qr(0,63,95,255),qr(0,149,255,255),qr(0,225,255,255),qr(255,154,254,255),qr(204,98,170,255),qr(139,39,84,255)],q=[qr(197,241,255,255),qr(70,210,255,255),qr(0,164,217,255),qr(90,99,222,255),qr(138,75,192,255),qr(151,27,162,255)],J=[qr(13,31,52,255),qr(129,54,130,255),qr(131,108,176,255),qr(7,162,213,255),qr(26,247,255,255)],K=new Ao({stops:[{color:qr(219,42,235,60),offset:0},{color:qr(237,73,252,10),offset:1}]}),Z=new ho({color:qr(237,73,252,255)}),Q=H.getColor().setA(255),$=qr(8,70,100),tt=[qr(149,230,255,150),qr(93,213,243,150),qr(20,189,223,150),qr(5,151,181,150),qr(2,138,198,150),qr(2,113,198,150),qr(97,148,236,150),qr(93,111,230,150),qr(151,120,223,150),qr(128,87,227,150),qr(153,52,230,150),qr(179,92,245,150),qr(248,110,211,150),qr(255,155,228,150),qr(251,88,207,150),qr(255,0,162,150),qr(214,73,177,150),qr(209,71,159,150),qr(238,101,169,150),qr(210,57,134,150)];return jb({isDark:i,highlightColorOffset:qr(60,60,60,60),highlightColorOffsetAxisOverlay:qr(255,255,255,40),effect:s,effectsText:!0,effectsDashboardSplitters:!0,lcjsBackgroundFillStyle:t=>new hd({source:Yb(t,"themes/cyberSpace.jpg"),fitMode:ad.Fill}),dashboardSplitterFillStyle:n,panelBackgroundFillStyle:r,seriesBackgroundFillStyle:o,fontFamily:"Segoe UI, -apple-system, Verdana, Helvetica",fontScaler:1,titleFillStyle:a,axisTitleFillStyle:l,axisLabelMajorFillStyle:h,axisLabelMinorFillStyle:c,uiTitleFillStyle:u,uiTextFillStyle:d,cursorTextFillStyle:f,axisLineFillStyle:p,axisTickMajorFillStyle:g,axisGridMajorFillStyle:m,axisTickMinorFillStyle:y,axisGridMinorFillStyle:v,cursorGridFillStyle:b,legendBackgroundFillStyle:x,legendBackgroundBorderFillStyle:S,legendButtonDefaultColor:A,resultTableBackgroundFillStyle:w,resultTableBackgroundBorderFillStyle:C,uiBackgroundColor:M,uiBackgroundBorderColor:k,uiStrokeColorContrastHigh:R,uiStrokeColorContrastMedium:E,uiStrokeColorContrastLow:T,dataStrokeColorContrastHigh:I,dataStrokeColorContrastMedium:P,dataStrokeColorContrastLow:F,dataColorPalette:D,dataColorPaletteInverted:[{area:qr(41,130,255,100),border:qr(45,110,240)}],dataHighlightOverlayColor:L,dataColorPositive:z,dataColorNegative:N,zoomBandChartDefocusOverlayFillStyle:new ho({color:qr(0,0,0,180)}),zoomBandChartSplitterColor:Jr("#DB77FF"),zoomBandChartKnobFillStyle:t=>new hd({source:Yb(t,"zoomBandChart/cyberspace-selector.png"),fitMode:ad.Fill}),zoomBandChartKnobSize:{x:14,y:30},overrideThemeProperties:_,treeMapChartParentColor:Jr("#1E1E3B"),treeMapChartNodeColors:tt,treeMapChartLabelFillStyle:new ho({color:qr(33,33,33)}),treeMapChartLabelHeaderFillStyle:new ho({color:qr(250,250,250)})},{positiveTextFillStyle:V,negativeTextFillStyle:B,positiveFillStyle:O,negativeFillStyle:U,positiveAreaFillStyle:H,negativeAreaFillStyle:G,positiveBackgroundFillStyle:W,negativeBackgroundFillStyle:j,badGoodColorPalette:Y,coldHotColorPalette:X,intensityColorPalette:q,spectrogramColorPalette:J,bollingerFillStyle:K,bollingerBorderFillStyle:Z,highlightPointColor:t,highlightDataGridColor:Q,unfocusedDataColor:$})})),sx={};Object.defineProperty(sx,"darkGold",{get:Qb,enumerable:!0}),Object.defineProperty(sx,"turquoiseHexagon",{get:$b,enumerable:!0}),Object.defineProperty(sx,"light",{get:tx,enumerable:!0}),Object.defineProperty(sx,"lightNature",{get:ex,enumerable:!0}),Object.defineProperty(sx,"cyberSpace",{get:ix,enumerable:!0});const nx=sx,rx=nx.darkGold,ox=function(t){let e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAAgCAYAAADwkoGKAAAsa2NhQlgAACxranVtYgAAAB5qdW1kYzJwYQARABCAAACqADibcQNjMnBhAAAALEVqdW1iAAAAR2p1bWRjMm1hABEAEIAAAKoAOJtxA3Vybjp1dWlkOjlmZDBkZjkzLTVmMDMtNDczYi1hZThhLTFhNDM4NmMzNmJhYQAAAAGzanVtYgAAAClqdW1kYzJhcwARABCAAACqADibcQNjMnBhLmFzc2VydGlvbnMAAAAA12p1bWIAAAAmanVtZGNib3IAEQAQgAAAqgA4m3EDYzJwYS5hY3Rpb25zAAAAAKljYm9yoWdhY3Rpb25zgaNmYWN0aW9ua2MycGEuZWRpdGVkbXNvZnR3YXJlQWdlbnRtQWRvYmUgRmlyZWZseXFkaWdpdGFsU291cmNlVHlwZXhTaHR0cDovL2N2LmlwdGMub3JnL25ld3Njb2Rlcy9kaWdpdGFsc291cmNldHlwZS9jb21wb3NpdGVXaXRoVHJhaW5lZEFsZ29yaXRobWljTWVkaWEAAACranVtYgAAAChqdW1kY2JvcgARABCAAACqADibcQNjMnBhLmhhc2guZGF0YQAAAAB7Y2JvcqVqZXhjbHVzaW9uc4GiZXN0YXJ0GCFmbGVuZ3RoGSx3ZG5hbWVuanVtYmYgbWFuaWZlc3RjYWxnZnNoYTI1NmRoYXNoWCBvErgv+J0u7bVCYViyMUgw5yMb8idAv1erA3/DALx9NWNwYWRIAAAAAAAAAAAAAAIDanVtYgAAACRqdW1kYzJjbAARABCAAACqADibcQNjMnBhLmNsYWltAAAAAddjYm9yqGhkYzp0aXRsZW9HZW5lcmF0ZWQgaW1hZ2VpZGM6Zm9ybWF0aWltYWdlL3BuZ2ppbnN0YW5jZUlEeCh4bXAuaWlkOjI3NEMxQjdDN0E0MDExRUVBQkZFQUNFQjJDOTA0NzVCb2NsYWltX2dlbmVyYXRvcng2QWRvYmVfUGhvdG9zaG9wLzI1LjIuMCBhZG9iZV9jMnBhLzAuNy42IGMycGEtcnMvMC4yNS4ydGNsYWltX2dlbmVyYXRvcl9pbmZvgb9kbmFtZW9BZG9iZSBQaG90b3Nob3BndmVyc2lvbmYyNS4yLjD/aXNpZ25hdHVyZXgZc2VsZiNqdW1iZj1jMnBhLnNpZ25hdHVyZWphc3NlcnRpb25zgqJjdXJseCdzZWxmI2p1bWJmPWMycGEuYXNzZXJ0aW9ucy9jMnBhLmFjdGlvbnNkaGFzaFggSmnBvf+o3kEweL4k7cz4MTrB0WSVNFZxoA1rBrM31K+iY3VybHgpc2VsZiNqdW1iZj1jMnBhLmFzc2VydGlvbnMvYzJwYS5oYXNoLmRhdGFkaGFzaFggL2g6Dghd536quyA5vPlS/9NGA5WvLRkkKJmqn0VxCoFjYWxnZnNoYTI1NgAAKEBqdW1iAAAAKGp1bWRjMmNzABEAEIAAAKoAOJtxA2MycGEuc2lnbmF0dXJlAAAAKBBjYm9y0oREoQE4JKNmc2lnVHN0oWl0c3RUb2tlbnOBoWN2YWxZDjYwgg4yMAMCAQAwgg4pBgkqhkiG9w0BBwKggg4aMIIOFgIBAzEPMA0GCWCGSAFlAwQCAQUAMIGCBgsqhkiG9w0BCRABBKBzBHEwbwIBAQYJYIZIAYb9bAcBMDEwDQYJYIZIAWUDBAIBBQAEIHj4VpJDPzaO0x4hOPnj/w1GTHuwXU0IpBf4VVocIQzoAhB3SsxvHza2JR1fKj3Mjr0yGA8yMDIzMTEwMzExNTcyNloCCQCyOL6wAOGCbaCCC70wggUHMIIC76ADAgECAhAFHp6R1x6RCrvkPVzt0N3ZMA0GCSqGSIb3DQEBCwUAMGMxCzAJBgNVBAYTAlVTMRcwFQYDVQQKEw5EaWdpQ2VydCwgSW5jLjE7MDkGA1UEAxMyRGlnaUNlcnQgVHJ1c3RlZCBHNCBSU0E0MDk2IFNIQTI1NiBUaW1lU3RhbXBpbmcgQ0EwHhcNMjMwOTA4MDAwMDAwWhcNMzQxMjA3MjM1OTU5WjBYMQswCQYDVQQGEwJVUzEXMBUGA1UEChMORGlnaUNlcnQsIEluYy4xMDAuBgNVBAMTJ0RpZ2lDZXJ0IEFkb2JlIEFBVEwgVGltZXN0YW1wIFJlc3BvbmRlcjBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABE0srlH5A/+15/MFl1asNh8Q8TubOsEVfu0qlJrF0smjtwL1IeHZ/AB7J59u1Trpho1BDN85lfTY30rNBsfT+myjggGLMIIBhzAOBgNVHQ8BAf8EBAMCB4AwDAYDVR0TAQH/BAIwADAWBgNVHSUBAf8EDDAKBggrBgEFBQcDCDAgBgNVHSAEGTAXMAgGBmeBDAEEAjALBglghkgBhv1sBwEwHwYDVR0jBBgwFoAUuhbZbU2FL3MpdpovdYxqII+eyG8wHQYDVR0OBBYEFLA1qlbDIamLztO4vIsWJVed7zThMFoGA1UdHwRTMFEwT6BNoEuGSWh0dHA6Ly9jcmwzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRydXN0ZWRHNFJTQTQwOTZTSEEyNTZUaW1lU3RhbXBpbmdDQS5jcmwwgZAGCCsGAQUFBwEBBIGDMIGAMCQGCCsGAQUFBzABhhhodHRwOi8vb2NzcC5kaWdpY2VydC5jb20wWAYIKwYBBQUHMAKGTGh0dHA6Ly9jYWNlcnRzLmRpZ2ljZXJ0LmNvbS9EaWdpQ2VydFRydXN0ZWRHNFJTQTQwOTZTSEEyNTZUaW1lU3RhbXBpbmdDQS5jcnQwDQYJKoZIhvcNAQELBQADggIBAHgrjELHhBCEWJSCyRX7lsL0C9LJgbX1ryVYySNRxHkMR2LqC7PQZRJgDNR+kJop8P5v2Bzp/jMrzw4U4pY6rYv3I8HpFlJa4uBwUTIUgHWpi8Xxd1JEEX94POODi7HySekX60A055BozFb7GGVaxb0LreQTRXnkr6ggPNUPX9Gh+2ScOxlTdQQLgZbkdYvxo3Ap6cy9riZijRxOZqiOyWSxMUhgKxeKzwrFW6Xbe0awNhOUXZzIxc4ixpKzWSItpPJ30ZiBQn49U3ADYTnshbN9ZkTA1pHf/Nov2ZUvvddkZ8UYvwo9vBvLTDvnmABnRMBKaXYAs3ZCvw9CkDPOWTeUJMFRAtmUx52ohaA3nD8bCJ6UfpQ2pFfOdShwpb6GKv0g+BgcdIG2LHPJ0Ufmr+XmpgZgq/HIge0hjcCADpjDgq2z4B0L4xtAA1M8MrUx02hxb7104nFKqMuv5zJTQl3sgwqXUyP+9zHQP9y/Z5Fx/AQWrOXCW56dV7P4cFBJl8zHqinlhkOStZ1m22+9Hlq+eC0hJ2lkF1LuzRdJJb/51LXoPKRnopFDng6XpoD7eG6w4YpAx9+P00JuUoBsYSrdsuFiyWyQQGBAnjI69ggbSLcW+hJytuinaxawVlItJkS2eV5Z4XsxPg7f82uRkdtN0hTHeI93CN3OWeRebnK7MIIGrjCCBJagAwIBAgIQBzY3tyRUfNhHrP0oZipeWzANBgkqhkiG9w0BAQsFADBiMQswCQYDVQQGEwJVUzEVMBMGA1UEChMMRGlnaUNlcnQgSW5jMRkwFwYDVQQLExB3d3cuZGlnaWNlcnQuY29tMSEwHwYDVQQDExhEaWdpQ2VydCBUcnVzdGVkIFJvb3QgRzQwHhcNMjIwMzIzMDAwMDAwWhcNMzcwMzIyMjM1OTU5WjBjMQswCQYDVQQGEwJVUzEXMBUGA1UEChMORGlnaUNlcnQsIEluYy4xOzA5BgNVBAMTMkRpZ2lDZXJ0IFRydXN0ZWQgRzQgUlNBNDA5NiBTSEEyNTYgVGltZVN0YW1waW5nIENBMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAxoY1BkmzwT1ySVFVxyUDxPKRN6mXUaHW0oPRnkyibaCwzIP5WvYRoUQVQl+kiPNo+n3znIkLf50fng8zH1ATCyZzlm34V6gCff1DtITaEfFzsbPuK4CEiiIY3+vaPcQXf6sZKz5C3GeO6lE98NZW1OcoLevTsbV15x8GZY2UKdPZ7Gnf2ZCHRgB720RBidx8ald68Dd5n12sy+iEZLRS8nZH92GDGd1ftFQLIWhuNyG7QKxfst5Kfc71ORJn7w6lY2zkpsUdzTYNXNXmG6jBZHRAp8ByxbpOH7G1WE15/tePc5OsLDnipUjW8LAxE6lXKZYnLvWHpo9OdhVVJnCYJn+gGkcgQ+NDY4B7dW4nJZCYOjgRs/b2nuY7W+yB3iIU2YIqx5K/oN7jPqJz+ucfWmyU8lKVEStYdEAoq3NDzt9KoRxrOMUp88qqlnNCaJ+2RrOdOqPVA+C/8KI8ykLcGEh/FDTP0kyr75s9/g64ZCr6dSgkQe1CvwWcZklSUPRR8zZJTYsg0ixXNXkrqPNFYLwjjVj33GHek/45wPmyMKVM1+mYSlg+0wOI/rOP015LdhJRk8mMDDtbiiKowSYI+RQQEgN9XyO7ZONj4KbhPvbCdLI/Hgl27KtdRnXiYKNYCQEoAA6EVO7O6V3IXjASvUaetdN2udIOa5kM0jO0zbECAwEAAaOCAV0wggFZMBIGA1UdEwEB/wQIMAYBAf8CAQAwHQYDVR0OBBYEFLoW2W1NhS9zKXaaL3WMaiCPnshvMB8GA1UdIwQYMBaAFOzX44LScV1kTN8uZz/nupiuHA9PMA4GA1UdDwEB/wQEAwIBhjATBgNVHSUEDDAKBggrBgEFBQcDCDB3BggrBgEFBQcBAQRrMGkwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLmRpZ2ljZXJ0LmNvbTBBBggrBgEFBQcwAoY1aHR0cDovL2NhY2VydHMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VHJ1c3RlZFJvb3RHNC5jcnQwQwYDVR0fBDwwOjA4oDagNIYyaHR0cDovL2NybDMuZGlnaWNlcnQuY29tL0RpZ2lDZXJ0VHJ1c3RlZFJvb3RHNC5jcmwwIAYDVR0gBBkwFzAIBgZngQwBBAIwCwYJYIZIAYb9bAcBMA0GCSqGSIb3DQEBCwUAA4ICAQB9WY7Ak7ZvmKlEIgF+ZtbYIULhsBguEE0TzzBTzr8Y+8dQXeJLKftwig2qKWn8acHPHQfpPmDI2AvlXFvXbYf6hCAlNDFnzbYSlm/EUExiHQwIgqgWvalWzxVzjQEiJc6VaT9Hd/tydBTX/6tPiix6q4XNQ1/tYLaqT5Fmniye4Iqs5f2MvGQmh2ySvZ180HAKfO+ovHVPulr3qRCyXen/KFSJ8NWKcXZl2szwcqMj+sAngkSumScbqyQeJsG33irr9p6xeZmBo1aGqwpFyd/EjaDnmPv7pp1yr8THwcFqcdnGE4AJxLafzYeHJLtPo0m5d2aR8XKc6UsCUqc3fpNTrDsdCEkPlM05et3/JWOZJyw9P2un8WbDQc1PtkCbISFA0LcTJM3cHXg65J6t5TRxktcma+Q4c6umAU+9Pzt4rUyt+8SVe+0KXzM5h0F4ejjpnOHdI/0dKNPH+ejxmF/7K9h+8kaddSweJywm228Vex4Ziza4k9Tm8heZWcpw8De/mADfIBZPJ/tgZxahZrrdVcA6KYawmKAr7ZVBtzrVFZgxtGIJDwq9gdkT/r+k0fNX2bwE+oLeMt8EifAAzV3C+dAjfwAL5HYCJtnwZXZCpimHCUcr5n8apIUP/JiW9lVUKx+A+sDyDivl1vupL0QVSucTDh3bNzgaoSv27dZ8/DGCAbgwggG0AgEBMHcwYzELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDkRpZ2lDZXJ0LCBJbmMuMTswOQYDVQQDEzJEaWdpQ2VydCBUcnVzdGVkIEc0IFJTQTQwOTYgU0hBMjU2IFRpbWVTdGFtcGluZyBDQQIQBR6ekdcekQq75D1c7dDd2TANBglghkgBZQMEAgEFAKCB0TAaBgkqhkiG9w0BCQMxDQYLKoZIhvcNAQkQAQQwHAYJKoZIhvcNAQkFMQ8XDTIzMTEwMzExNTcyNlowKwYLKoZIhvcNAQkQAgwxHDAaMBgwFgQU2Rq5M/4XremCHqYT9aQ6cU4+fn0wLwYJKoZIhvcNAQkEMSIEIGmY+GsCefCDmP0PFcYjdxBUfi0EgKYuEZb9pUMyLNuVMDcGCyqGSIb3DQEJEAIvMSgwJjAkMCIEIILa8ZSVezaEAkWP1ScAaf5ixxRW+p4Lhqv4J+hTICfZMAoGCCqGSM49BAMCBEcwRQIgcxxuf7QHV9Fkpj1VhPrFqhNFh8dZzl8qUU/2N3Sr4eoCIQDKu0KGYL++CSsDAXjJciMDbr5ImTy3jw0yQU5GYYeLimd4NWNoYWluglkGMzCCBi8wggQXoAMCAQICEBtbCzvasORd8vMNnlTR2tIwDQYJKoZIhvcNAQELBQAwdTELMAkGA1UEBhMCVVMxIzAhBgNVBAoTGkFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkMR0wGwYDVQQLExRBZG9iZSBUcnVzdCBTZXJ2aWNlczEiMCAGA1UEAxMZQWRvYmUgUHJvZHVjdCBTZXJ2aWNlcyBHMzAeFw0yMzAyMDEwMDAwMDBaFw0yNDAyMDEyMzU5NTlaMIGhMREwDwYDVQQDDAhjYWktcHJvZDEcMBoGA1UECwwTQ29udGVudCBDcmVkZW50aWFsczETMBEGA1UECgwKQWRvYmUgSW5jLjERMA8GA1UEBwwIU2FuIEpvc2UxEzARBgNVBAgMCkNhbGlmb3JuaWExCzAJBgNVBAYTAlVTMSQwIgYJKoZIhvcNAQkBFhVncnAtY2FpLW9wc0BhZG9iZS5jb20wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDv0wCnfYY9lkHDsykrTG7FYlnYHBcyualuD5u9ULjzv+FsTWOLg8Nhrz9RTxI9EeBbu3Wm7f4vqPsQYfxkEp0wIa6DVmEOZhbAeRfbhybWQ/D4Wvvck4mEZR+QZmTpIn7HX61gbtMFHlJUxkYBctIoAt9TBAFbz9d5Ig2WG0bsH39b6/8USXnIIk4FB6dtBRT1xeEwSDtwOd1YBpXXNBJmRWHXNJZZ85of2tBTesg/kMvTrOJJxYDZ97U416wcvbVomlees+NXUY3/ZB4xH+NsZils7m1bL2v2hSnHiLoqZeUKklbHUmT4ZpjrZCdtuIsWm5j2PPXKr7HKUuCbZSXBAgMBAAWjggGMMIIBiDAMBgNVHRMBAf8EAjAAMA4GA1UdDwEB/wQEAwIHgDAeBgNVHSUEFzAVBgkqhkiG9y8BAQwGCCsGAQUFBwMEMIGOBgNVHSAEgYYwgYMwgYAGCSqGSIb3LwECAzBzMHEGCCsGAQUFBwICMGUMY1lvdSBhcmUgbm90IHBlcm1pdHRlZCB0byB1c2UgdGhpcyBMaWNlbnNlIENlcnRpZmljYXRlIGV4Y2VwdCBhcyBwZXJtaXR0ZWQgYnkgdGhlIGxpY2Vuc2UgYWdyZWVtZW50LjBdBgNVHR8EVjBUMFKgUKBOhkxodHRwOi8vcGtpLWNybC5zeW1hdXRoLmNvbS9jYV83YTVjM2EwYzczMTE3NDA2YWRkMTkzMTJiYzFiYzIzZi9MYXRlc3RDUkwuY3JsMDcGCCsGAQUFBwEBBCswKTAnBggrBgEFBQcwAYYbaHR0cDovL3BraS1vY3NwLnN5bWF1dGguY29tMB8GA1UdIwQYMBaAFFcpejJNzP7kNU7AHyRzznNTq99qMA0GCSqGSIb3DQEBCwUAA4ICAQBXjlGa3yAK/Gijn6n/JNU9FZm72MP6vc5czrWe9y0T+EawuRvhpD5Edi1TnXkrpe8sMkgSjTGdbY+yGhq8zlCWQeXN1/aWo3L9Xr1uNxY/oVpLn0uWWfnfJ7yR9gKl/yoMfhjydT4t1fXHi/MhfhrWSVRHqX2U31UFGz/e298P2kv+vqhzpIUo1bj+jibtoPLMMQcCOTtKiJOTh4o3VSZpwQDERCzo91NkF+LnZjwYl6fE5USIkg/oCoomXxSPpowybDrcRJ9ilbtJcER48/LGgwzv/c7OYdron4PnEXm1FkOaVj+QRf7OwiNTizonhIzLR5Vfp0QHOWv/bPzvCjPQd+Xr0Q4032WlSxQwostNTAPtoVAU4OCwVH3Ech38emJ00/6fkDCdr7MN8/4n2LSNrMUvaBEZdmLqDCBnO02dbFrmpg3pTc0FqRQ4GL/88pjRNSMy5tU9SoQnSCGYqIsjfL8AzgPEGiXXRgABYc1uXecf4/eayb3K2MPs7hnWTbUKpHHJIwxpdN3vTGdZNWpz9Oxfuo3eELQlkTvACHgqkaXi/FAanHe5PChn6fr1/4cNF8goD0buPApgS3zzwqjRhxrH8ISwPfJn8JqzurMaLDMnnc18tHzUiMtX73jf6oXh7voCxX/T4D3nFPlxU3om2cpcLQ1Wd4026x18rlSGR1kGpTCCBqEwggSJoAMCAQICEAyotlR7iebSBol1zYubieIwDQYJKoZIhvcNAQELBQAwbDELMAkGA1UEBhMCVVMxIzAhBgNVBAoTGkFkb2JlIFN5c3RlbXMgSW5jb3Jwb3JhdGVkMR0wGwYDVQQLExRBZG9iZSBUcnVzdCBTZXJ2aWNlczEZMBcGA1UEAxMQQWRvYmUgUm9vdCBDQSBHMjAeFw0xNjExMjkwMDAwMDBaFw00MTExMjgyMzU5NTlaMHUxCzAJBgNVBAYTAlVTMSMwIQYDVQQKExpBZG9iZSBTeXN0ZW1zIEluY29ycG9yYXRlZDEdMBsGA1UECxMUQWRvYmUgVHJ1c3QgU2VydmljZXMxIjAgBgNVBAMTGUFkb2JlIFByb2R1Y3QgU2VydmljZXMgRzMwggIiMA0GCSqGSIb3DQEBAQUAA4ICDwAwggIKAoICAQC3Hy69vQmzXEhs/gyDrmwB6lF4JaSAPomnsbKIZNr2iXaB+fkd85X8eJiNmI7P5O4cVT4Nc1p3zrESqBV4ZUyW8gcZ78QdwoHG8QNd2VNcHnMgSR+XT9Iafsnq9Nfww3Jt9KL3l5ANQ5n1+MJqr48EWNLll942bOL/JH4ywDSMoqhZqtJEIUUUGlQVBZ8CAvJc7LE6ddA5C52PE2Ppa7RfQgHXf4gfXVZwpxYRZcziPiOHqEvLb0J3cShUbejFxV6cwX8QyAPa1ePHg1RtM0HX+D34xHo3DkyGnmT+Ddq00TEDGG26AL5PdINKFIQl+zaq6KJFQe1fdGE5wrWzU4mBPmzaz3EbLn+7FWlwAhorYqIMldbfHE3ydc+aTU1JW7+bG19qmvhO9IluGtTtQDeqFBj2fg6faxsfVfVPD7stN6TwoIDlkOCE4RE+Iin8m3z3eqi/VsTmsmRqBxWDRaqOHz02EJoEDxXJG3ei+UbIIp01XZQvdufm90WxOTuqqan2ZqTPX9K5VdjEh/ovr7xFc5q1dZo+Sa5y4sTVM854/tLU3klOgUKzzSXYPYS3GhBcYJHjwr9xNRHnNX99D6F0g7OijScWfvtjxh13aTv/H0ETvymah4yfDpVdh9cK5YSCPqnuOlsujFAyhYwJXOWDvZZU2EkWVLDhoPx9zp7N4QIDAQABo4IBNDCCATAwEgYDVR0TAQH/BAgwBgEB/wIBADA1BgNVHR8ELjAsMCqgKKAmhiRodHRwOi8vY3JsLmFkb2JlLmNvbS9hZG9iZXJvb3RnMi5jcmwwDgYDVR0PAQH/BAQDAgEGMBQGA1UdJQQNMAsGCSqGSIb3LwEBBzBXBgNVHSAEUDBOMEwGCSqGSIb3LwECAzA/MD0GCCsGAQUFBwIBFjFodHRwczovL3d3dy5hZG9iZS5jb20vbWlzYy9wa2kvcHJvZF9zdmNlX2Nwcy5odG1sMCQGA1UdEQQdMBukGTAXMRUwEwYDVQQDEwxTWU1DLTQwOTYtMzMwHQYDVR0OBBYEFFcpejJNzP7kNU7AHyRzznNTq99qMB8GA1UdIwQYMBaAFKYc4W1UJEyoj0hyv26pjNXk7DHUMA0GCSqGSIb3DQEBCwUAA4ICAQBxzuUHjKbcLdzI4DtlXgCSgZXrlSAkr59pOF3JfPG42qVNAGU7JcEYXJ6+WbfcGwY7WYMl+jO7IvJPb7shXFYW9bnJgxX7lLU14KExchmcLNY1ee6IhBJ2Y8PzZMRUKSd5CkURPg0PBLGjz/KR/DofHx+G4rPTCOGORYxeYrd01lci5hVxvKccvIk7MD69ZTewfZPSM+0WnsU3f0Zmd7hgbRpUyWceG0eHFpdUKK/ZFWhHjDVC28odCnN885tHncKXviItK0ZUUo/AIthFKlhEXsnq9VL9fFbgvO83ZvpUQo5y8mY3cuGnEVGXdhjNb53CfC1u4dbpYmWaN99subUzEsUaUb3loLPfVfzDOpg2y9v37kBdy/wuXr20teY7U62xj/fAgs1QSnhUtlMTfCqbefyEycKVmKIrJkJLsvgTSYKVvH4FFIwfd5WjqOC97jX98rcVAzhAI0iSkazsWOMvL6m0L4nLJapx+85GsVX8Y6AHmEP4bmCElwil6KAP+UewJFiw5rmwV2pESHAhYuZJa03B8tl0nd2QJzvJGmbeBqXqpF9ORinFM3HErK8puRokOjFH2+1asLeI2tB31W/ELdNe27Ogduq6Z6qBwCp59YX27qydDhD0WRfN64kCs25K88iGAGNW2CAfTDS+b+WYJBiIL9jXYZ4LF+BiUvfdu2NwYWRZC70AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPZZAQBKX2Q2ihN2fLDLReHISpfOF0xIqNpOZXbBwZ0XanWG98erbIBdawl7r9nVma/uZjYH457wp00TVpKYUTJHMnzJMKskvM2Df4K6t5pUKGtJqEvMXLUy3g9kJq53aYDwikcUE+8wv+CYtu/+vii4XYSXQIxT4NN+JKoTDXmrNH1G46Nmpfq6SKk0g9GQ2brbkW3fzGR0xDxY3BXRy71guSBxN9TAbQGqUjMnkIyBcwV9wUQ2oCW9oIMNKASjW0CRkcFEzzmrQ+y+zHYpNvUaG7QehHcyhvOec3plzlyP6DZeQWp3PHA5bmonI8t5j6Qj15X1KnQiXuJ0rW+xoMA89aIVmpx4VgAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAOSaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA5LjEtYzAwMSA3OS4xNDYyODk5Nzc3LCAyMDIzLzA2LzI1LTIzOjU3OjE0ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjYyYTdmYWExLWJmZTMtMjE0Ny04MjAwLWMxM2NlMGU4ZTc1NCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDoyNzRDMUI3RDdBNDAxMUVFQUJGRUFDRUIyQzkwNDc1QiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyNzRDMUI3QzdBNDAxMUVFQUJGRUFDRUIyQzkwNDc1QiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjUuMiAoMjAyMzEwMjQubS4yMzc0IDRhYjk0MzkpICAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDphYjQzZjNjYy1hNTY4LTRkNGQtOTdiZC1iYjk0YjBlZjhjYmQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NjJhN2ZhYTEtYmZlMy0yMTQ3LTgyMDAtYzEzY2UwZThlNzU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+HNvo5wAADZFJREFUeNrsXFtPVUkW3gc4yP0qDigKON517FFbHRGn1TamjaOJvvhsjIkvPplgfEKe1AefNDE+GP+AmWTszPTYcbpn2piJzc1GWwlOekRBEBFQ7jeZ9ZVrnVkUtfc5CGp3h5VU9qUuu3bVV9+67DonND4+7omEQiHPJaWlpYlxcXGLKX8epTCdB5aXNnHU6c2bN5POcaREp+O9dHxSX1/f5s3KL1ImYCkasMrKyvIISJspD+AyZSTpOrodDSaIBpQCkwtgSM8oVd2/f39M2quoqAijmcrKyjG/l7L77vde+v6sfCRgbdu2LY3AtJNSgg0qDa5oTOViKQtM9nXTgQMHaqmpPEoLKXUQqJpcYIqPj/cSEhLMUZgUbYyNjZkjRPpu50n+VEUvKtditMEb7Xom5OrVqzvpkOXIukFps5XXTunO4cOHR7heKp1/ye1gEX9BCcdv6H4330cbCyh9iXrRgJUQ1FmarFWUIqDS4ApiCT9AobxMpj24uI/209LSvMLCwiLKz6fyQModAlW73TeAac6cOV5SUpIBlasv9qKRvgBYIyMj3tDQkDmPdaLRPzwrHA6bhGsNWr9xsMfEZnC7XDSg+tzv4lRCCRPfjJtHjhzpu3LlCkDVx4BKZICsx9gy4PT4rmFQQbIpdfM5ynX7gWrS/Phl7NixI0SDWCCD52Is14vqAXIByoluAkl+fr43f/58Lyvr7cIaHh4OJSYmfkug6rXZApOamprqUb6vned3X4CBujj29/cbkEl/7EUj74o+og4S2gh6xkypk6mUPXnyZN25c+fCDKzm8vLyOuQzqCAtJ06cuH/+/PkwAytMLCR57VjQFy5cmKeAiXJZGOeLFy/iPBVt4Nqeb60dogKLBm9O/FvxXIwVxBAaUBpgixYt8np7e7329vYJZUtKSkwSefHihVdTU9N2586dXrtfmNj09HQz0dMRvAsYD0dhLryrvG8s7/w+ZCrPcJSdx8duAb+6l0WgWqeu/8uMZMoDWCTr+BpMVoZ8jLUq18XXgdohEFg0cXF6kF2s5Uf9NqBwxL0FCxaYSXz58qWZSNzr6+vzioqKIm01NTV5ZLgbT9HuExgGAzBdUOmJEeb6EKD5AJKt1KJ9TwAFNrpz6tSpljNnzgiQuuh8DbNSNx9HlF0mx26/cbTHLy6AsSKGcVCyjWepJwnS2trqbdiwwZyDJaDyUBbslZmZGTG6Hz9+7D18+NDdUSqTkpIyY6B6V5b4mYsBAIGm27rXR/f+DFXGKm5Ega6P7a5lqvw6sbMIcFkKlCUAI6esQI0QBCwBjxirNqCkDACSkZFhQKLVCSassbHR27Jli6kvsnDhQnN8/vy5t3Hjxsj95ubmSQ6CVoEA5a8IBO+LsSKgoskPKxaC1DKo1mmDXF1/AwAyCO+rNoX1FrANVqLA6V6sfuGGgwcPphBovrCBIuwCgRp7+vSpAUd2dra5bmtrM6pvdHTUu3fvnrGdNHhEbt265XV1dXn79+9/y8V0XltbGwkDkKpsqqqqqhG2AmgBrFn5+Qo0Uyw21gRm0kwCLwqAAgC2b99u2AQCVYWyACtUGkRUoC2bNm0yYBIBe/l5ncKaWmg1hrj/47TCRu32ebUam4LyAweEymK1QG+PUdk3PmXCrGZicrej9e99CD0znvs4NsPtRh2fmMMNLmBBYHgDmTC4ly1bNslWAbhu375tyh06dGgCw2kB+yDEAIEh39HR4RsjE+/NkgJKf0DwlNJ3jkndi2Yo/QXOZ5RxWElpOaUqSk99QLWPErzUr2OcD+j7T+GPUKqZocldyu2mWWbMv1mt4T3q2OObSVnNz46MD49xMfelE85ArOGGiA2FSR0cHDRggVe3fv16Lzc317cXCBeUlZUZu8sVBLUF7YrnaDMWygsjWpLJx1eOvCS8LKX+GFeYdPS1T356wLOC7NcOK/g4HSbaSmku2zZtlo0D6l8U5R2mIxmO91/F79iP8aY+lmhAR2Us09PXr439hAles2ZNoK2Tl5dnwgorV66clHfz5k1v165dk8CFuJYfWwm4/Twgn4FMZqO0U00OPg/lsgck0k3Ae6JACq8HamsAJgPl9fOAzef8VLpey1HtVGXUQoZ45b7QawzgojqpauJNZIYnpEXUFpWZw8ZxMqsdEdgUixlUqPMt1RlygE8mv4jO5/M7tFHZXs4HI+uJG4YFQvldnF+sAPRGjd8SSjl8fzGVG6I6Dxk76GcKl8uOlbESh4eHDVOBpWCcQ/1F88qQv2fPnknlnjx5YsIJOBYXF/9/NqhtANcV8ZbYlc8zswJYJJ8H5Eem7A3WxEYmjdVcigycyltBeV/RsVANbDKDrJnL5jom+Dsa+A5e0WDOn7g/Kx3PR/06qpPDjBS28gG6e6pfDT6gimeV5LF6iqh4focxHo84Ne8hzv8ng2sJA6tfjUedROkZbPkqRhbie8JauTEBi7y6ePncAQaaO3fulKLaWgDQgYEBoxrh+WlgiW3l9znFNtp5IBN5kv0YS6vJYgYVVlU120mfUPot58sqbeaBxJh8zqs7TIN+i573R2aMfykGQD2w21dcfx2DMI3yXjOosLqH6Fr6U8VqDHGhzVw2ns8T2BaTWNMefrc09a7PA1R1iNuuYibZwfXmUB8Qq/qrZa9tZjs1i65fcRswHf5O1zuYgZ7yeG1jdq3SbM9gauFF8yimOBYABaN66dKlUwKVS0TVQT2+evVqgjcIYAWxXxQ12O/jcWUq0MlqvwtQsIeo8zOUWoQHOcCTNMbqQsqPcTARE5PCk/+a64woB6HPYf/JMzq57KgqW8AAaKa8Jn4fbfOlKe92wGeoMq13GFQqdwD95aDmZ5Q+Z9AJwwwoYL5Wn3vqHH2JCOU9pkMjg7jWMgH8GYtspVx8cIwW6QYDrV271rccgATGAkhgm8GTfPDggbd161YTWIUqdLGVnPt4lQKsQQebJTCVj7CNlO4YmAwFlCUaBAo0XVR/nK6T+RqTNh5g7GuwLrTyMxlMfY760r/eKI4J+hJSffA1rlm9o989DK5SLtOmnpOm+pCr6zNoojpJVK6HnxFbuKGiomI5u5hRQVVdXW0+0UjowGa97u6Jn5ewewExMIAN3mA0lepjX8nLgsYXMy2P8SAmWJM6zGoJhnkrr7BEBRwbJLYHJJ/zQ5gwZhx7IkMMkEFWfZF8BcxOFU9zAes33L9+yzERMKLP66nMM8V4HjNFpgPI0r9kft4AmwLjzE4wD0Z58S0OMCvk/RMDgB1zHGtZtIoIgopKe/TokRNYnZ2dzroAIsAFo93Vrq0OAxgLdPZ7TZBsLOtBAl2vZbvqE1VWT4JWM/YkDfJk4P4+GtxqR5l07otrYjMdk6Ydj24ebxjwO23CZ6A+YGegiJOn+vY3xcC9jncY5TwA7E92+zGEW/r5+CnbUjdijbXYbJXs8E6ck11aWmp2G+B7oC1Qc2AsP+AAVHqT3RR3Vd5nQ9dO93hw6ik95hX9H7jonF/PIQBjj7ARC9f5rhUTQrlWrt/L9e/y/XbOq1ce0ihfy0A85useZop6K2gJ8P8A0FACo/7De7tV5Qd4sgIa8QDp2IBoDTNOvU7Mlo1sQ44rwNSzwS3t19l14WWq/tb4qLW76rn3Yp2gSd8KCVjwWMqC1JP6nmei8Ddu3DBRdgmI4jshDHbkByVpQ5+rY9P3339fk5OT46m9RVMNLGLQf2cxdCGff62M3I8m1EcY73nqVg4nhBYe/FK+EwJH+E4cpAozgxoQlhEQwGNctWqVUW2rV6+OGOx++96jbcm193bJBrx3lBQV3NRu8o+xgCrWvervsoddWD8pKamQ40Py9QEM00htNrzrnvxY3yeW/kUTIRlbO7kYa4OlxyMsZG87loQ8Yhdv9+7dJkIPYGk28mOrFStWGOMeux+wdx0foq9fvx7Z3QDGgmeK9D63y8j74D2QpI+unZHTAZdsgJzKxE33vfQzowEuluC3q57eyx/EWBn2DQQ3MdDa9bd/xrV8+fLIpx8beH4/HigoKHgbKi4u9s6ePeuVl5cbYOkOIxwB0M30Bj+0DRDhy4LE7KSfszJ9SbAMd0+5vxEjG6EB+SWMRq3eepycnGwMdq0mfX7aNWHbsrAhovvXrl2bpCKRB2DDSZjuKpd2AVa0qX9EMSszK3GOmEWCjopLgBMJE4GEyZajVh8OA9zJXBpUOL98+bJ37Ngxr6WlRbPbuIABrILPS+8KAtRD/3t6ekzsTBbLLKg+HLC0GrxLkzCmAaWTDSptm0QDGf92cMKvdy5duuQdPXpU6+sB7TAAWFCzOI8VTCiLOoinIeaGNqbyO8JZmXlg3a2srPyJANQqQHIBTIPLBlYQc8GTxM5SAdHevXvNr3NgSylGe2Z7owAG2AZHcSbshHJgOJQDoCSeNgumj2hjMbAMqHBBE/IAv0imiU6AjSUGvN9Pv1z2lAtc2AiILTg4r6mpMfGP48ePew0NDdJGU21t7SuXaysAt3e26l85z7LSx5cJ4YbTp0/PJVBN2G6wb9++PJrAzdif5fpBhTaK/f70I1qygPeMrqvq6upi0nmuPyWZlY8XJPWNY7mEVJX5GyNK8yiFg34J7fM3RYEgIyCN09H8jVF1dfXs3xj9CoD1PwEGAKorJqR4atjIAAAAAElFTkSuQmCC",s=0,n=0;const r=[],o=t=>{const e=new Ho.Image;e.src=t,e.onload=()=>{r.forEach((t=>{var i;const r=new hd({source:e,fitMode:ad.Stretch});null===(i=t.Rd)||void 0===i||i.Ce(r),s=0,n=0,h(t)}))}};o(i);const a=t.Gn((t=>o(t)));let l;if(new Ho.Image instanceof Ho.HTMLImageElement){const t=new Ho.Image;t.src=i,l=new hd({source:t,fitMode:ad.Stretch})}else if(Ho.lcjs_setup){const t=new Ho.Image;t.src=i;const e=Ho.lcjs_setup(t.naturalWidth,t.naturalHeight);e.getContext("2d").drawImage(t,0,0),l=new hd({source:e,fitMode:ad.Stretch})}else l=new ho({color:Jr("#f00")});const h=t=>{if(t.Rd){const e=t.dt.mi({x:t.dt.x.getInnerEnd(),y:t.dt.y.getInnerStart()},{x:-(3+s),y:3}),i=t.dt.mi({x:t.dt.x.getInnerEnd(),y:t.dt.y.getInnerStart()},{x:-3,y:3+n}),r={x:i.x-e.x,y:i.y-e.y};t.Rd.Fe(e).q(r)}e&&e.Ss()};return e=t.FI("logo",Number.MAX_SAFE_INTEGER),i=>{const s={dt:i};return(i=>{i.Rd&&i.Rd.dispose(),e&&(i.Rd=e.ke(i.dt).Ce(l).setMouseInteractions(!0).we(Eo).setMouseEnterEventHandler((()=>{t.Wr(jh.Point)})).setMouseLeaveEventHandler((()=>{t.Wr(jh.None)})).setMouseClickEventHandler(ax).setTouchEndEventHandler(ax),h(i))})(s),r.push(s),{Ps:()=>h(s),W:()=>(e=>{e.Rd&&(e.Rd.dispose(),e.Rd=void 0);const i=r.indexOf(e);i>=0&&r.splice(i,1),r.length<=0&&t.Wn(a)})(s)}}},ax=()=>Ho.open("https://lightningchart.com/lightningchart-js/");class lx{constructor(){this.mR=this.dP.bind(this),Ho.addEventListener("scroll",this.mR,{passive:!0})}W(){this.mR&&Ho.removeEventListener("scroll",this.mR),this.mR=void 0}}class hx{constructor(t,e){this.ma=t,this.X=e,this.yR=!0,this.pR=null,this.SR=null}}class cx{constructor(t){this.vR=!1,this.bR=1,this.xR=t,this.MR={ma:Lr(0,0),X:Lr(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),yR:!0,pR:null,SR:null},this._R=Lr(64,64),this.wR=new Uint8ClampedArray(this._R.x*this._R.y*this.bR)}CR(t,e){if(!t.yR)return null;if(t.pR&&t.SR){const i=this.CR(t.pR,e);return null!==i?i:this.CR(t.SR,e)}const i=zr(t.X.x,t.X.y);if(t.ma.x+t.X.x>=Number.MAX_SAFE_INTEGER&&(i.x=this._R.x-t.ma.x-1),t.ma.y+t.X.y>=Number.MAX_SAFE_INTEGER&&(i.y=this._R.y-t.ma.y-1),t.X.x===e.x&&t.X.y===e.y)return t.yR=!1,t;if(i.x<e.x||i.y<e.y)return null;let s,n;const r=i.x-e.x,o=i.y-e.y;let a=r<o;return 0===r&&0===o&&(a=!(t.X.x>t.X.y)),a?(s=new hx(kl(t.ma,{x:0,y:1}),Lr(t.X.x,e.y)),n=new hx(kl(t.ma,{x:0,y:e.y+1}),Lr(t.X.x,t.X.y-1-e.y))):(s=new hx(kl(t.ma,{x:1,y:0}),Lr(e.x,t.X.y)),n=new hx(kl(t.ma,{x:e.x+1,y:0}),Lr(t.X.x-1-e.x,t.X.y))),t.pR=s,t.SR=n,this.CR(t.pR,e)}kR(t,e){const i={TR:!1,ma:null};let s=this.CR(this.MR,e);if(null===s)for(;null===s&&this._R.x<this.xR&&this._R.y<this.xR;){if(!this.FR(Lr(2*this._R.x,2*this._R.y)))return this.vR=!0,null;i.TR=!0,s=this.CR(this.MR,e)}if(null===s)return this.vR=!0,null;for(let n=0;n<e.y;n+=1)for(let i=0;i<e.x;i+=1){const r=s.ma.y+n,o=s.ma.x+i;this.wR[r*this.bR*this._R.x+o*this.bR+0]=t[n*this.bR*e.x+i*this.bR+0]}return i.ma=s.ma,i}FR(t){if(t.x>this.xR||t.y>this.xR)return!1;const e=new Uint8ClampedArray(t.x*t.y*this.bR);for(let i=0;i<this._R.y;i+=1)for(let s=0;s<this._R.x;s+=1)e[i*t.x*this.bR+s*this.bR+0]=this.wR[i*this._R.x*this.bR+s*this.bR+0];return this._R=t,this.wR=e,!0}}class ux{constructor(t){this.IR=new Map,this.xR=t,this.IR.set(this.IR.size,new cx(this.xR))}PR(t){return this.IR.get(t)}kR(t,e){let i=-1;const s=Array.from(this.IR.values());for(let o=0;o<s.length;o+=1){const t=s[o];if(!t)break;if(!t.vR){i=o;break}}-1===i&&(i=this.IR.size,this.IR.set(this.IR.size,new cx(this.xR)));const n=this.IR.get(i);if(!n)return null;let r=n.kR(t,e);if(!r&&n.vR){const s=this.IR.size,n=new cx(this.xR);this.IR.set(s,n),i=s,r=n.kR(t,e)}return r?{DR:i,...r}:null}}var dx;!function(t){t[t.Fail=0]="Fail",t[t.Success=1]="Success",t[t.Resize=2]="Resize"}(dx||(dx={}));const fx=Pa("font-texture");class px{constructor(t){this.BR=new Map,this.LR=new Map,this.No=fx(),this.RR=t,this.ER=new ux(this.RR.zR||4096)}VR(){return this.LR.forEach((t=>{this.RR.OR(t)})),this.LR.clear(),this}NR(t,e){const i=this.BR.get(e);if(i)return i.get(t)}GR(t,e,i){let s=this.BR.get(e);if(s||(s=new Map,this.BR.set(e,s)),s.has(t.glyph))return dx.Success;const n=this.ER.kR(i,t.size);if(!n||!n.ma)return dx.Fail;n.TR&&this.WR();const r=this.ER.PR(n.DR);if(!r)return dx.Fail;let o=this.LR.get(n.DR);if(!o){const t=this.RR.gl.createTexture();if(!t)throw new No("Failed to create texture for font!");o=t,this.LR.set(n.DR,t)}const a=n.ma,l=r._R.x,h=r._R.y,c=-t.offsetX,u=t.baseline-t.size.y,d=-t.offsetX+t.size.x,f=t.baseline,p=a.x/l,g=(a.y+t.size.y)/h,m=(a.x+t.size.x)/l,y=a.y/h,v=[p,g,m,g,p,y,p,y,m,g,m,y],b=[c,u,d,u,c,f,c,f,d,u,d,f],x={origin:a,size:t.size,advanceX:t.advance,baseline:t.baseline,vertices:b,texCoords:v,packerId:n.DR,texture:o};s.set(t.glyph,x);const S=this.RR.gl;return S.pixelStorei(S.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),S.bindTexture(S.TEXTURE_2D,o),S.texImage2D(S.TEXTURE_2D,0,S.LUMINANCE,r._R.x,r._R.y,0,S.LUMINANCE,S.UNSIGNED_BYTE,this.RR.UR?r.wR:new Uint8Array(r.wR)),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MIN_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_MAG_FILTER,S.LINEAR),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_S,S.CLAMP_TO_EDGE),S.texParameteri(S.TEXTURE_2D,S.TEXTURE_WRAP_T,S.CLAMP_TO_EDGE),S.bindTexture(S.TEXTURE_2D,null),n.TR?dx.Resize:dx.Success}WR(){this.BR.forEach((t=>{t.forEach(((e,i)=>{const s=this.ER.PR(e.packerId);if(!s)return;const n=e.origin,r=s._R.x,o=s._R.y,a=n.x/r,l=(n.y+e.size.y)/o,h=(n.x+e.size.x)/r,c=n.y/o,u=[a,l,h,l,a,c,a,c,h,l,h,c];e.texCoords=u,t.set(i,e)}))}))}}const gx=t=>{if(t instanceof eh||t instanceof nv)return t._i()?"linear-highPrecision":"linear";if(t instanceof ih){const e={};return t.x instanceof Gl&&(e.x={base:t.x.gi()}),t.y instanceof Gl&&(e.y={base:t.y.gi()}),["logarithmic",e]}return"linear"},mx=t=>{const e=Object.keys(t),i={};return e.forEach((e=>{const s=t[e];let n=!1;i[e]=t=>{if(!t)return n;const e=s();return n=e,e}})),i},yx=(t,e,i)=>"value"===t.getLookUpProperty()?i:"x"===t.getLookUpProperty()?{min:e.vt(),max:e.bt()}:"y"===t.getLookUpProperty()?{min:e.xt(),max:e.Mt()}:"z"===t.getLookUpProperty()?{min:e.lS(),max:e.aS()}:void 0,vx=t=>!(!t||"value"!==t.lookUpProperty||!t.lut.percentageValues),bx=t=>(e,i)=>i%2?e:e+t;class xx{constructor(t){this.YR=new Map,this.HR=Pa("font"),this.$R=new Map,this.XR=new Set,this.RR=t}VR(){return(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||0===this.XR.size)&&(this.YR.forEach(((t,e)=>{t.VR(),this.YR.delete(e)})),this.XR.clear()),this}jR(t){this.XR.add(t)}ZR(t){this.XR.delete(t)}QR(t,e,i,s){const n=Ho.devicePixelRatio,r="".concat(s?"dark":"light"," - ").concat(Nc(e,n).id),o=this.$R.get(r),a=this.YR.get(o);let l=0,h=0,c=0;const u=t.split(""),d=e.size,f=.45*e.size*n,p=Math.round(1*e.size);let g=!1;for(let y=0;y<u.length;y+=1){const t=u[y],e=a&&a.NR(t,d);if(e)""!==t.trim()&&(h=Math.max(h,e.baseline),l=Math.min(l,e.baseline-(e.size.y-1))),c+=e.advanceX;else{if(""!==t.trim()){const t=0;h=Math.max(h,t),l=Math.min(l,t-(p-1))}c+=f,g=!0}}const m=((t,e,i)=>{if(0===i||360===i||180===i||i%180==0)return{x:t,y:e};if(90===i||-90===i||(i+90)%180==0)return{x:e,y:t};const s=i*Math.PI/180,n=Math.cos(s),r=Math.sin(s);return{x:Math.abs(t*n)+Math.abs(e*r),y:Math.abs(t*r)+Math.abs(e*n)}})(c/n,(h-l+1)/n,i);return{x:m.x,y:m.y,isEstimate:g}}JR(t,e,i){const s="".concat(i?"dark":"light"," - ").concat(e.id);let n=this.$R.get(s);n||(n=this.HR(),this.YR.set(n,new px(this.RR)),this.$R.set(s,n));const r=this.YR.get(n);if(!r)throw new No("Failed to get font texture!");let o=0,a=0,l=0;const h=t.split(""),c=new Map;let u=0;const d=e.properties.size;for(let g=0;g<h.length;g+=1){const t=h[g],s=Math.ceil(u);let n=r.NR(t,d);if(!n){const s=this.RR.KR(t,e.properties,e.dpr,i);if(!s)continue;const l=r.GR(s[1],d,s[0]);if(l===dx.Resize){this.XR.forEach((t=>{t.la.i=!0})),g=-1,u=0,a=0,o=0,c.clear();continue}if(l===dx.Fail)throw new No("Failed to create glyph");if(n=r.NR(t,d),!n)throw new No("Failed to get glyph after creation")}if(""!==t.trim()){let t=c.get(n.texture);t||(t={vertices:[],texCoords:[]},c.set(n.texture,t)),t.vertices.push(...n.vertices.map(bx(s))),t.texCoords.push(...n.texCoords),a=Math.max(a,n.baseline),o=Math.min(o,n.baseline-(n.size.y-1))}u+=n.advanceX}l=u;const f=Br(Lr(0,o),Lr(l,a)),p=[];return c.forEach(((t,e)=>{p.push({texCoords:new Float32Array(t.texCoords),vertices:new Float32Array(t.vertices),texture:e})})),[p,f]}}class Sx{constructor(t){this.modifiers=[],this.modifiers=t}build(t){const e=this.modifiers.filter((t=>Ax(t)));for(const i of e)t=i(t);return"".concat(Va(this.modifiers.filter((t=>wx(t)))).map((t=>t.qR)).join("\n"),"\n").concat(t)}}const Ax=t=>"function"==typeof t,wx=t=>t&&"object"==typeof t&&"tE"in t,Cx=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return t=>{e=e.reverse();for(let i of e)"string"==typeof i&&(i=i.includes("{")||i.endsWith(";")?i:"".concat(i,";"),i=i.trim(),t=t.replace("void main(void)","".concat(i,"\nvoid main(void)")));return t}},Mx=t=>e=>(t=t.endsWith(";")?t:"".concat(t,";"),e.replace(t,"")),kx=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return t=>{const i=e.filter((t=>!1!==t));for(let e=0;e<i.length;e+=1)i[e]=i[e].endsWith(";")?i[e]:"".concat(i[e],";"),i[e]=i[e].startsWith("\t")?i[e]:"\t".concat(i[e]);const s=i.join("\n");return t.replace("void main(void) {\n","void main(void) {\n".concat(s,"\n"))}},Rx=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return e=>{for(let t=0;t<i.length;t+=1)i[t]=i[t].endsWith(";")?i[t]:"".concat(i[t],";"),i[t]=i[t].startsWith("\t")?i[t]:"\t".concat(i[t]);const s=i.join("\n"),n=new RegExp("(.*".concat(t,".*)")),r=e.replace(n,"".concat(s,"\n$1"));return i.forEach((e=>{if(!r.includes(e))throw new Error("ShaderBefore misusage (not found: \n".concat(e,"\nmatch: \n").concat(t,"\nresult: \n").concat(r,"\n)"))})),r}},Ex=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return e=>{const s=i.filter((t=>"string"==typeof t));for(let t=0;t<s.length;t+=1)s[t]=s[t].endsWith(";")?s[t]:"".concat(s[t],";"),s[t]=s[t].startsWith("\t")?s[t]:"\t".concat(s[t]);const n=s.join("\n"),r=e.lastIndexOf(t),o=e.substring(r),a=o.indexOf("\n"),l=o.substring(a),h="".concat(e.substring(0,r+a),"\n").concat(n).concat(l);return s.forEach((e=>{if(!h.includes(e))throw new Error('ShaderAfter misusage (not found: "'.concat(e,'", match: "').concat(t,'", result: "').concat(h,'")'))})),h}},Tx=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return t=>{for(let i of e)if("string"==typeof i){i=i.endsWith(";")?i:"".concat(i,";"),i=i.trim(),i=i.startsWith("\t")?i:"\t".concat(i);const e=t.lastIndexOf("}");t="".concat(t.substring(0,e-1),"\n").concat(i,"\n}")}return t}},Ix=(t,e)=>i=>{let s,n;if(t.includes("uniform")||t.includes("attribute")){const e=t.endsWith(";")?t:"".concat(t,";");i=Cx(e)(i),s=t.split(" ")[2].replace(";","")}else s=t;if(e.includes(" ")){const t=e.endsWith(";")?e:"".concat(e,";");i=Cx(t)(i),n=e.split(" ")[2].replace(";","")}else n=e;return Tx("\t".concat(n," = ").concat(s,";"))(i)},Px=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return t=>{e=e.reverse();for(const i of e)t=i+t;return t}},Fx={roundUnsigned:{tE:"roundUnsigned",qR:"float roundUnsigned(float number) {\n  return floor(number + 0.5);\n}"},linearStep:{tE:"linearStep",qR:"float linearStep(float step0, float step1, float step) {\n  return clamp((step - step0) / (step1 - step0), 0.0, 1.0);\n}"},decodeUbyteRGBAEncodedFloat:{tE:"decodeUbyteRGBAEncodedFloat",qR:"\n      // Denormalize 8-bit color channels to integers in the range 0 to 255.\n      ivec4 floatsToBytes(vec4 inputFloats, bool littleEndian) {\n        ivec4 bytes = ivec4(inputFloats * 255.0);\n        return (\n          littleEndian\n          ? bytes.abgr\n          : bytes\n        );\n      }\n      \n      // Break the four bytes down into an array of 32 bits.\n      void bytesToBits(const in ivec4 bytes, out bool bits[32]) {\n        for (int channelIndex = 0; channelIndex < 4; ++channelIndex) {\n          float acc = float(bytes[channelIndex]);\n          for (int indexInByte = 7; indexInByte >= 0; --indexInByte) {\n            float powerOfTwo = exp2(float(indexInByte));\n            bool bit = acc >= powerOfTwo;\n            bits[channelIndex * 8 + (7 - indexInByte)] = bit;\n            acc = mod(acc, powerOfTwo);\n          }\n        }\n      }\n      \n      // Compute the exponent of the 32-bit float.\n      float getExponent(bool bits[32]) {\n        const int startIndex = 1;\n        const int bitStringLength = 8;\n        const int endBeforeIndex = startIndex + bitStringLength;\n        float acc = 0.0;\n        int pow2 = bitStringLength - 1;\n        for (int bitIndex = startIndex; bitIndex < endBeforeIndex; ++bitIndex) {\n          acc += float(bits[bitIndex]) * exp2(float(pow2--));\n        }\n        return acc;\n      }\n      \n      // Compute the mantissa of the 32-bit float.\n      float getMantissa(bool bits[32], bool subnormal) {\n        const int startIndex = 9;\n        const int bitStringLength = 23;\n        const int endBeforeIndex = startIndex + bitStringLength;\n        // Leading/implicit/hidden bit convention:\n        // If the number is not subnormal (with exponent 0), we add a leading 1 digit.\n        float acc = float(!subnormal) * exp2(float(bitStringLength));\n        int pow2 = bitStringLength - 1;\n        for (int bitIndex = startIndex; bitIndex < endBeforeIndex; ++bitIndex) {\n          acc += float(bits[bitIndex]) * exp2(float(pow2--));\n        }\n        return acc;\n      }\n      \n      // Parse the float from its 32 bits.\n      float bitsToFloat(bool bits[32]) {\n        float signBit = float(bits[0]) * -2.0 + 1.0;\n        float exponent = getExponent(bits);\n        bool subnormal = abs(exponent - 0.0) < 0.01;\n        float mantissa = getMantissa(bits, subnormal);\n        float exponentBias = 127.0;\n        return signBit * mantissa * exp2(exponent - exponentBias - 23.0);\n      }\n      \n      // Decode a 32-bit float from the RGBA color channels of a texel.\n      float decodeUbyteRGBAEncodedFloat(vec4 rgba, bool littleEndian) {\n        ivec4 rgbaBytes = floatsToBytes(rgba, littleEndian);\n        bool bits[32];\n        bytesToBits(rgbaBytes, bits);\n        return bitsToFloat(bits);\n      }\n      "},texelFetchWithFallback:{webgl2:{tE:"texelFetchWithFallback",qR:"vec4 texelFetchWithFallback(sampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  return texelFetch(textureSampler, iTexel, 0);\n}"},webgl1:{tE:"texelFetchWithFallback",qR:"vec4 texelFetchWithFallback(sampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  vec2 halfTexel = 0.5 / textureSize;\n  return texture2D(textureSampler, (vec2(iTexel) * 2.0 + 1.0) * halfTexel);\n}"}},texelFetchUnsignedWithFallback:{webgl2:{tE:"texelFetchUnsignedWithFallback",qR:"uvec4 texelFetchUnsignedWithFallback(usampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  return texelFetch(textureSampler, iTexel, 0);\n}"},webgl1:{tE:"texelFetchUnsignedWithFallback",qR:"uvec4 texelFetchUnsignedWithFallback(usampler2D textureSampler, ivec2 iTexel, vec2 textureSize) {\n  vec2 halfTexel = 0.5 / textureSize;\n  return texture2D(textureSampler, (vec2(iTexel) * 2.0 + 1.0) * halfTexel);\n}"}},modulus:{tE:"modulus",qR:"int modulus(int a, int b) {\n  return (a)-((a)/(b))*(b);\n}"},computeScreenSpaceWireframe:{tE:"computeScreenSpaceWireframe",qR:"#extension GL_OES_standard_derivatives : enable\nfloat computeScreenSpaceWireframe (vec3 barycentric, float lineWidth) {\n  vec3 dist = fwidth(barycentric);\n  vec3 smoothed = smoothstep(dist * ((lineWidth * 0.5) - 0.5), dist * ((lineWidth * 0.5) + 0.5), barycentric);\n  return 1.0 - min(min(smoothed.x, smoothed.y), smoothed.z);\n}"}},Dx=(t,e)=>{const i=e.steps,s=i.length-1,n=[Cx("uniform vec4 uFallbackColor")],r=[],o=[];for(let a=0;a<e.steps.length;a+=1)r.push("uniform float uLUTValue".concat(a)),o.push("uniform vec4 uLUTColor".concat(a));return n.push(Cx(...r,...o),e.percentageValues&&Cx("uniform float uMinValue","uniform float uMaxValue")),e.interpolate?n.push(Rx("colorFragment","vec4 colorLookup = vec4(0.0)","if (".concat(t," <= -340282346638528859811704183484516925440.0) {\n                    colorLookup = uFallbackColor;\n                }"),"float value = "+(e.percentageValues?"clamp((".concat(t," - uMinValue) / (uMaxValue  - uMinValue), 0.0, 1.0);"):"".concat(t)),"if (value <= uLUTValue0) {\n                    colorLookup = uLUTColor0;\n                }","if (value >= uLUTValue".concat(s,") {\n                    colorLookup = uLUTColor").concat(s,";\n                }"),...i.slice(0,-1).map(((t,e)=>"if (value >= uLUTValue".concat(e," && value <= uLUTValue").concat(e+1,") { colorLookup = uLUTColor").concat(e," + vec4(\n                        uLUTColor").concat(e+1,"[0] -  uLUTColor").concat(e,"[0],\n                        uLUTColor").concat(e+1,"[1] -  uLUTColor").concat(e,"[1],\n                        uLUTColor").concat(e+1,"[2] -  uLUTColor").concat(e,"[2],\n                        uLUTColor").concat(e+1,"[3] -  uLUTColor").concat(e,"[3]\n                    ) * (value - uLUTValue").concat(e,")/(uLUTValue").concat(e+1," - uLUTValue").concat(e,");}"))),"vec4 colorFragment = colorLookup")):n.push(Rx("colorFragment","vec4 colorLookup = vec4(uLUTValue0)","if (".concat(t," <= -340282346638528859811704183484516925440.0) {\n                    colorLookup = uFallbackColor;\n                }"),"float value = "+(e.percentageValues?"clamp((".concat(t," - uMinValue) / (uMaxValue  - uMinValue), 0.0, 1.0);"):"".concat(t)),"if (".concat(t," >= uLUTValue").concat(s,") { colorLookup = uLUTColor").concat(s,";}"),...i.slice(1).reverse().map((t=>{const e=i[i.indexOf(t)-1];return"if (value < uLUTValue".concat(i.indexOf(t),") { colorLookup = uLUTColor").concat(i.indexOf(e),";}")})),"vec4 colorFragment = colorLookup")),n},Lx=[Cx("uniform sampler2D uMaskTexture"),Cx("varying vec2 vMaskTextureCoord"),Ex("antiAliasFactor =","vec4 maskTextureSample = texture2D(uMaskTexture, vMaskTextureCoord)","antiAliasFactor = maskTextureSample.r")],zx=[Cx("uniform sampler2D uMaskTexture"),Cx("varying vec2 vMaskTextureCoord"),Ex("antiAliasFactor =","vec4 maskTextureSample = texture2D(uMaskTexture, vMaskTextureCoord)","antiAliasFactor = maskTextureSample.a")],Nx=[Cx("varying vec3 vPosWorld;","varying vec3 vNormal;","uniform vec3 uCameraLoc;","uniform vec3 uLightLoc;","uniform vec4 uLightColor;","uniform vec4 uAmbientColor;","uniform float uShininess;","uniform float uAmbientReflection;","uniform float uDiffuseReflection;","uniform float uSpecularReflection;"),Ex("colorFragment =","float ambientReflection = uAmbientReflection","float diffuseReflection = uDiffuseReflection","float specularReflection = uSpecularReflection","vec3 ambientColor = uAmbientColor.rgb","vec3 diffuseColor = colorFragment.rgb","vec3 specularColor = uLightColor.rgb","vec3 vNormalNormalized = normalize(vNormal)","vNormalNormalized = (float(gl_FrontFacing) * 2.0 - 1.0) * vNormalNormalized","vec3 lightDir = normalize( uLightLoc - vPosWorld )","float lambertian = abs(dot(vNormalNormalized, lightDir))","float specular = 0.0","vec3 R =  reflect(-lightDir, vNormalNormalized)","vec3 V = normalize(uCameraLoc - vPosWorld)","float specAngle = max(dot(R,V),0.0)","specular = pow(specAngle, uShininess)","colorFragment = vec4(ambientReflection * ambientColor + diffuseReflection * lambertian * diffuseColor + specularReflection * specular * specularColor, colorFragment.a)")];class _x extends Error{constructor(t,e,i){super("Dynamic shader generation error\n(id: ".concat(e,")\n ").concat(i?"when applying feature: ".concat(i.idVertex?"vert: ".concat(i.idVertex):""," ").concat(i.idFragment?"frag: ".concat(i.idFragment):""):""," | ").concat(t))}}const Vx=function(){let t="";for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];for(const n of i){if("object"!=typeof n){t+="".concat(String(n),",");continue}const e=[{prefix:"",obj:n}];for(;e.length>0;){const{prefix:i,obj:s}=e.shift();t+="".concat(i,":");const n=Object.keys(s).sort();for(const r of n){const i=s[r];"object"==typeof i&&i.__proto__===Object.prototype||Array.isArray(i)?e.push({prefix:r,obj:i}):t+="".concat(r,"=").concat(String(i),",")}}}return t},Bx=t=>void 0!==t.find((t=>{var e;return null===(e=t.iE)||void 0===e?void 0:e.sE})),Ox=t=>void 0!==t.find((t=>{var e;return null===(e=t.iE)||void 0===e?void 0:e.eE})),Ux=function(t,e){const i=[],s=e?"vec3":"vec2",{axisWorldTranslation:n,scaling:r,translation:o,offset:a,flipXY:l,flipXZ:h,splitPosAttribute:c,normalSource:u}=t,d=[];for(var f=arguments.length,p=new Array(f>2?f-2:0),g=2;g<f;g++)p[g-2]=arguments[g];if("attribute"===u&&i.push(Cx("attribute vec3 aNormal"),kx("vec3 normal = aNormal")),"linear-highPrecision"!==n?p.forEach((t=>{void 0!==t.attributeNameAxisCoord&&void 0!==t.variableNameAxisCoord&&(!0!==c?i.push(kx("".concat(s," ").concat(t.variableNameAxisCoord," = ").concat(t.attributeNameAxisCoord))):i.push(kx("".concat(s," ").concat(t.variableNameAxisCoord," = ").concat(e?"vec3(".concat(t.attributeNameAxisCoord,"X, ").concat(t.attributeNameAxisCoord,"Y, ").concat(t.attributeNameAxisCoord,"Z)"):"vec2(".concat(t.attributeNameAxisCoord,"X, ").concat(t.attributeNameAxisCoord,"Y)")))))})):p.forEach((e=>{!0!==t.splitPosAttribute?i.push(kx("".concat(s," ").concat(e.variableNameAxisCoord,"_highpart = ").concat(e.attributeNameAxisCoord,"_highpart")),kx("".concat(s," ").concat(e.variableNameAxisCoord,"_lowpart = ").concat(e.attributeNameAxisCoord,"_lowpart"))):i.push(kx("".concat(s," ").concat(e.variableNameAxisCoord,"_highpart = vec2(").concat(e.attributeNameAxisCoord,"_highpartX, ").concat(e.attributeNameAxisCoord,"_highpartY)")),kx("".concat(s," ").concat(e.variableNameAxisCoord,"_lowpart = vec2(").concat(e.attributeNameAxisCoord,"_lowpartX, ").concat(e.attributeNameAxisCoord,"_lowpartY)")))})),a&&a.rotation){const t=a.rotation.dataType,e="uniform"===t?"u":"a";if("attribute-deg"===t){i.push(Cx("attribute float aRotDeg"),Cx("uniform float uBaseRotDeg"));const t="cRot",e="aInstanceGeo";i.push(kx("vec2 ".concat(t," = vec2(sin((aRotDeg + uBaseRotDeg) * 0.01745329252), cos((aRotDeg + uBaseRotDeg) * 0.01745329252))"),"vec2 rotatedGeo = vec2(".concat(e,".x * ").concat(t,".y + ").concat(e,".y * ").concat(t,".x, ").concat(e,".y * ").concat(t,".y - ").concat(e,".x * ").concat(t,".x)")))}else{const s="".concat(e,"Rot");i.push(Cx("".concat(t," vec2 ").concat(s)));const n="aInstanceGeo";i.push(kx("vec2 rotatedGeo = vec2(".concat(n,".x * ").concat(s,".y + ").concat(n,".y * ").concat(s,".x, ").concat(n,".y * ").concat(s,".y - ").concat(n,".x * ").concat(s,".x)")))}}if(a&&i.push(Cx("attribute ".concat(s," aInstanceGeo"))),!0===l){if("linear-highPrecision"===n)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + flipXY");p.forEach((t=>{d.push("".concat(t.variableNameAxisCoord," = ").concat(e?"vec3(".concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x, ").concat(t.variableNameAxisCoord,".z)"):"vec2(".concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x)")))}))}if(!0===h){if("linear-highPrecision"===n)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + flipXZ");p.forEach((t=>{d.push("".concat(t.variableNameAxisCoord," = vec3(").concat(t.variableNameAxisCoord,".z, ").concat(t.variableNameAxisCoord,".y, ").concat(t.variableNameAxisCoord,".x)"))}))}if(r){if("linear-highPrecision"===n)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + scaling");const t=("attribute"===r.dataType?"a":"u")+"Scaling",s=e?"vec3":"vec2";i.push(Cx("".concat(r.dataType," ").concat(s," ").concat(t))),p.forEach((e=>{d.push("".concat(e.variableNameAxisCoord," = ").concat(e.variableNameAxisCoord," * ").concat(t))}))}if(o&&"axis"===o.sizeUnit){if("linear-highPrecision"===n)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + translation (axis)");const t=("attribute"===o.dataType?"a":"u")+"TranslationAxis",s=e?"vec3":"vec2";i.push(Cx("".concat(o.dataType," ").concat(s," ").concat(t))),p.forEach((e=>{d.push("".concat(e.variableNameAxisCoord," = ").concat(e.variableNameAxisCoord," + ").concat(t))}))}if(a&&"axis"===a.sizeUnit){if("linear-highPrecision"===n)throw new Error("Unimplemented vertex location feature combination: linear-highPrecision + offset (axis)");const t=("attribute"===a.dataType?"a":"u")+"OffsetAxis",r=!0===a.symmetric?"float":s;i.push(Cx("".concat(a.dataType," ").concat(r," ").concat(t)));const o=a.halved?" * 0.5":"",l=a.rotation?"rotatedGeo":"aInstanceGeo",h="offsetGeometry";d.push("".concat(s," ").concat(h," = ").concat(t," * ").concat(l).concat(o," * sign(uScale)")),e&&"gpu-calculate"===u&&d.push("".concat(s," normal = ").concat(l)),p.forEach((t=>{d.push("".concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord," + ").concat(h))}))}if(void 0===n||"linear"===n)i.push(Cx("uniform ".concat(s," uDisp"),"uniform ".concat(s," uScale"))),p.forEach((t=>{d.push("".concat(s," ").concat(t.variableNameWorldCoord," = (").concat(t.variableNameAxisCoord," - uDisp) / uScale"))}));else if("linear-highPrecision"===n)i.push(Cx("uniform ".concat(s," uDisp"),"uniform ".concat(s," uScale"),"uniform ".concat(s," uScaleStart_highpart"),"uniform ".concat(s," uScaleStart_lowpart"))),p.forEach((t=>{d.push("".concat(s," ").concat(t.variableNameAxisCoord,"_hprecision = (").concat(t.variableNameAxisCoord,"_highpart - uScaleStart_highpart) + (").concat(t.variableNameAxisCoord,"_lowpart - uScaleStart_lowpart)"),"".concat(s," ").concat(t.variableNameWorldCoord," = (").concat(t.variableNameAxisCoord,"_hprecision - uDisp) / uScale"),"".concat(s," ").concat(t.variableNameAxisCoord," = ").concat(t.variableNameAxisCoord,"_highpart + ").concat(t.variableNameAxisCoord,"_lowpart"))}));else if("matrix"===n)i.push(Cx("uniform mat3 uMatrix")),p.forEach((t=>{d.push("vec2 ".concat(t.variableNameWorldCoord," = (uMatrix * vec3(").concat(t.variableNameAxisCoord,", 1.0)).xy"))}));else if("matrix4"===n)i.push(Cx("uniform mat4 uMatrix")),p.forEach((t=>{d.push("vec4 ".concat(t.variableNameWorldCoord," = uMatrix * ").concat(t.attributeNameAxisCoord))}));else if("logarithmic"===n[0]){i.push(Cx("uniform ".concat(s," uScaleStart"),"uniform ".concat(s," uScaleStartLog"),"uniform ".concat(s," uScaleInterval"),"uniform ".concat(s," uScaleIntervalLog"),"uniform ".concat(s," uViewportStart"),"uniform ".concat(s," uViewportSize")));const t=e?["x","y","z"]:["x","y"],r=[];t.forEach((t=>{const e=n[1][t];if(void 0!==e){const t=e.base;if("e"===t)return;const i="float cLog".concat(t," = 1.0 / log(").concat(jl(t).toFixed(1),")");r.includes(i)||r.push(i)}})),i.push(Cx(...r)),p.forEach(((e,i)=>{const r="".concat(i),o=[];t.forEach((t=>{const i=t.toUpperCase(),s=n[1][t];if(void 0===s)d.push("float posPercent".concat(i).concat(r," = (").concat(e.variableNameAxisCoord,".").concat(t," - uScaleStart.").concat(t,") / uScaleInterval.").concat(t));else{const n=s.base,o="e"===n;d.push("float posLog".concat(i).concat(r," = log(").concat(e.variableNameAxisCoord,".").concat(t,")").concat(o?"":" * cLog".concat(n)),"float posPercent".concat(i).concat(r," = (posLog").concat(i).concat(r," - uScaleStartLog.").concat(t,") / uScaleIntervalLog.").concat(t))}o.push("posPercent".concat(i).concat(r))})),d.push("".concat(s," ").concat(e.variableNameWorldCoord," = uViewportStart + ").concat(s,"(").concat(o.join(", "),") * uViewportSize"))}))}if(a&&"px"===a.sizeUnit){i.push(Cx("uniform vec2 uRatioPxClip"));let t="vec2(0.0, 0.0)";a.useAlignment&&(i.push(Cx("uniform vec2 uOffsetAlignment")),t="uOffsetAlignment");const e=("attribute"===a.dataType?"a":"u")+"OffsetPixels",n=!0===a.symmetric?"float":s;i.push(Cx("".concat(a.dataType," ").concat(n," ").concat(e)));const r=a.halved?" * 0.5":"",o="(".concat(a.rotation?"rotatedGeo":"aInstanceGeo"," + ").concat(t,") * ").concat(e).concat(r," * uRatioPxClip");p.forEach((t=>{d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(o))}))}if(a&&"scale"===a.sizeUnit){i.push(Cx("uniform vec2 uRatioPxClip")),i.push(Cx("uniform vec2 uSizePixels"));let t="vec2(0.0, 0.0)";a.useAlignment&&(i.push(Cx("uniform vec2 uOffsetAlignment")),t="uOffsetAlignment");const e=("uniform"===a.dataType?"u":"a")+"OffsetScale";i.push(Cx("".concat(a.dataType," float ").concat(e)));const s="(".concat(a.rotation?"rotatedGeo":"aInstanceGeo"," + ").concat(t,") * ").concat(e," * uSizePixels * uRatioPxClip");p.forEach((t=>{d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(s))}))}if(a&&"wu"===a.sizeUnit){const t=("attribute"===a.dataType?"a":"u")+"OffsetWU",n=!0===a.symmetric?"float":s;i.push(Cx("".concat(a.dataType," ").concat(n," ").concat(t)));const r=a.halved?" * 0.5":"",o=a.rotation?"rotatedGeo":"aInstanceGeo",l="offsetGeometry";d.push("".concat(s," ").concat(l," = ").concat(t," * ").concat(o).concat(r)),e&&"gpu-calculate"===u&&d.push("".concat(s," normal = normalize(").concat(l,")")),p.forEach((t=>{d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(l))}))}if(a&&"nwu"===a.sizeUnit){i.push(Cx("uniform float uRatioNwuWu"));const t=("attribute"===a.dataType?"a":"u")+"OffsetNWU",n=!0===a.symmetric?"float":s;i.push(Cx("".concat(a.dataType," ").concat(n," ").concat(t)));const r=a.halved?" * 0.5":"",o=a.rotation?"rotatedGeo":"aInstanceGeo",l="offsetGeometry";d.push("".concat(s," ").concat(l," = ").concat(t," * ").concat(o).concat(r)),e&&"gpu-calculate"===u&&d.push("".concat(s," normal = normalize(").concat(l,")")),p.forEach((t=>{d.push("".concat(t.variableNameWorldCoord," = ").concat(t.variableNameWorldCoord," + ").concat(l," * uRatioNwuWu"))}))}return t.snapToNearestPixel&&(i.push(Cx("uniform vec2 uViewportSizePx")),p.forEach((t=>{d.push("".concat(t.variableNameWorldCoord," = 2.0 * floor(((").concat(t.variableNameWorldCoord," + 1.0) * 0.5) * uViewportSizePx + 0.5) / uViewportSizePx - 1.0"))}))),i.push(Rx("gl_Position =",...d)),i},Hx=(t,e,i,s)=>{const n=[],r=t.axisWorldTranslation,o=e?"vec3":"vec2";if("linear"===r)n.push(Ex(i,"".concat(o," ").concat(s," = ").concat(i," * uScale + uDisp")));else if("linear-highPrecision"===r)n.push(Ex(i,"".concat(o," ").concat(s," = ").concat(i," * uScale + uDisp + uScaleStart_highpart + uScaleStart_lowpart")));else{if("matrix"===r)throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");if("matrix4"===r)throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");if("logarithmic"!==r[0])throw new Error("transformWorldCoordBackToAxis | unimplemented vertex location type");{const t=["".concat(o," ").concat(i,"_percent = (").concat(i," - uViewportStart) / uViewportSize")];(e?["x","y","z"]:["x","y"]).forEach((e=>{const s=e.toUpperCase(),n=r[1][e];if(void 0===n)t.push("float pos".concat(s,"Back = ").concat(i,"_percent.").concat(e," * uScaleInterval.").concat(e," + uScaleStart.").concat(e));else{const r=n.base,o="e"===r?"1.0":"cLog".concat(r);t.push("float pos".concat(s,"Back = pow(2.71828, (").concat(i,"_percent.").concat(e," * uScaleIntervalLog.").concat(e," + uScaleStartLog.").concat(e,") / ").concat(o,")"))}})),t.push("".concat(o," ").concat(s," = ").concat(o,"(posXBack, posYBack").concat(e?", posZBack":"",")")),n.push(Ex(i,...t))}}return n},Gx=t=>(t=>void 0!==t.find((t=>{var e;return null===(e=t.iE)||void 0===e?void 0:e.hE})))(t)?[Mx("attribute vec4 aColor"),Mx("vColor = aColor"),Cx("attribute vec4 aColorA"),Cx("attribute vec4 aColorB"),Tx("vColor = mix(aColorA, aColorB, aSegmentSide)")]:[],Wx=t=>(t=>void 0!==t.find((t=>{var e;return null===(e=t.iE)||void 0===e?void 0:e.rE})))(t)?[Mx("attribute float aLookupValue"),Mx("vLookupValue = aLookupValue"),Cx("attribute float aLookupValueA"),Cx("attribute float aLookupValueB"),Tx("vLookupValue = mix(aLookupValueA, aLookupValueB, aSegmentSide)")]:[],jx={"2D":{idFeature:"2D",apply:t=>({idVertex:"2D",idFragment:"2D",defaultVertexShader:"2D",defaultFragmentShader:"FragmentShader"})},"2DCompose":{idFeature:"2DCompose",apply:t=>({idVertex:"2DCompose",idFragment:"2DCompose",defaultVertexShader:"2DMatrix",defaultFragmentShader:"Empty"})},"3D":{idFeature:"3D",iE:{sE:!0},apply:t=>({idVertex:"3D",idFragment:"3D",defaultVertexShader:"3D",defaultFragmentShader:"FragmentShader"})},PointSize:t=>({idFeature:"PointSize",apply:e=>{const i="uniform"===t?"u":"a";return{idVertex:"SizePrimitive:".concat(Vx(t)),idFragment:void 0,vertexShaderModifiers:[Cx("".concat(t," float ").concat(i,"PointSize"),"uniform float uDevicePixelRatio"),Tx("gl_PointSize = ".concat(i,"PointSize * uDevicePixelRatio"))]}}}),Color:t=>{const e=t&&t.dataType,i=t&&t.maskTextureText,s=t&&t.maskTexture,n=t&&t.overrideOpacity;return{idFeature:"Color",iE:{eE:!(!Array.isArray(t.dataType)||"value"===t.dataType[1])||void 0,rE:!(!Array.isArray(t.dataType)||"value"!==t.dataType[1])||void 0,hE:"attribute"===t.dataType||void 0},apply:(r,o)=>{let a,l="Color:".concat(Vx(t));const h=[];let c="FragmentShader";const u=[];if("uniform"===e)u.push(Cx("uniform vec4 uColor"),kx("vec4 colorFragment = uColor"),...i?Lx:[],...s?zx:[]);else if("attribute"===e)a="colorAttribute",h.push(Ix("attribute vec4 aColor","varying vec4 vColor")),u.push(Cx("varying vec4 vColor"),kx("vec4 colorFragment = vColor"),...i?Lx:[],...s?zx:[]);else if("texture"===e)a="colorTexCoord",h.push(Ix("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")),u.push(Cx("varying vec2 vTextureCoord"),Cx("uniform sampler2D uColorTexture"),Cx("uniform vec4 uColor"),kx("vec4 colorFragment = texture2D(uColorTexture, vTextureCoord)","if(vTextureCoord.x < 0. || vTextureCoord.x > 1. || vTextureCoord.y < 0. || vTextureCoord.y > 1.) {\n                        colorFragment = uColor;\n                    }"),...i?Lx:[],...s?zx:[]);else if("texture-coord-calc-gpu"===e)a="colorTexCoord",c="Empty",h.push(Cx("attribute vec2 aTextureCoord"),Cx("varying vec2 vTextureCoord"),Tx("vTextureCoord = gl_Position.xy * 0.5 + 0.5")),u.push(Cx("varying vec2 vTextureCoord"),Cx("uniform sampler2D uColorTexture"),kx("vec4 colorFragment = texture2D(uColorTexture, vTextureCoord)","gl_FragColor = colorFragment;"));else if(Array.isArray(e)&&"image"===e[0])a="colorTexCoord",h.push(Ix("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")),e[1].fitMode===ad.Tile?u.push(Cx("uniform sampler2D uColorTexture"),Cx("varying vec2 vTextureCoord"),kx("vec4 colorFragment = texture2D(uColorTexture, vTextureCoord);")):u.push(Cx("uniform sampler2D uColorTexture"),Cx("varying vec2 vTextureCoord"),Cx("uniform vec4 uColor"),kx("vec4 colorFragment = texture2D(uColorTexture, vTextureCoord);","if(vTextureCoord.x < 0. || vTextureCoord.x > 1. || vTextureCoord.y < 0. || vTextureCoord.y > 1.){\n                                colorFragment = uColor;\n                            }"));else if(Array.isArray(e)&&"lookup"===e[0]){const t=e[1];if("value"===t)a="lookup:value",h.push(Ix("attribute float aLookupValue","varying float vLookupValue"));else{const e="posAxis.".concat(t);a="lookup:".concat(t),h.push(Ix(e,"varying float vLookupValue"))}u.push(Cx("varying float vLookupValue"),...Dx("vLookupValue",e[2]),...i?Lx:[],...s?zx:[])}else if(Array.isArray(e)&&"gradient"===e[0]){const t=e[1],n=t.getColorStops();wo(t)?(l="rgradient".concat(n.length,",").concat(s,",").concat(i),u.push(Cx("uniform vec4 uBounds","uniform vec2 uCenter","uniform vec2 uDistance","uniform float uAspect"),Cx(...Ko(n.map(((t,e)=>["uniform vec4 color_".concat(e),"uniform float stop_".concat(e)])))),Fx.linearStep,kx("vec2 uv = vec2((((gl_FragCoord.x)-uBounds.x)/(uBounds.z))*uAspect,((gl_FragCoord.y)-uBounds.y)/(uBounds.w))","float mixVal = distance(uv/uDistance, uCenter/uDistance)","vec4 color = mix(color_0, color_1, linearStep(stop_0, stop_1, mixVal))",...n.map(((t,e)=>e<2?"":"color = mix(color, color_".concat(e,", linearStep(stop_").concat(e-1,", stop_").concat(e,", mixVal));"))),"vec4 colorFragment = color"),...i?Lx:[],...s?zx:[])):ko(t)&&(l="lgradient".concat(n.length,",").concat(s,",").concat(i),u.push(Cx("uniform vec4 uBounds","uniform vec2 uStartPoint","uniform vec2 uEndPoint"),Cx(...Ko(n.map(((t,e)=>["uniform vec4 color_".concat(e),"uniform float stop_".concat(e)])))),Fx.linearStep,kx("vec2 uv = gl_FragCoord.xy - uBounds.xy","float magnitude = ((uv.x-uStartPoint.x) * (uEndPoint.x-uStartPoint.x) + (uv.y-uStartPoint.y) * (uEndPoint.y-uStartPoint.y)) / (pow(uEndPoint.x - uStartPoint.x, 2.0) + pow(uEndPoint.y-uStartPoint.y,2.0))","vec4 color = mix(color_0, color_1, linearStep(stop_0, stop_1, magnitude))",...n.map(((t,e)=>e<2?"":"color = mix(color, color_".concat(e,", linearStep(stop_").concat(e-1,", stop_").concat(e,", magnitude))"))),"vec4 colorFragment = color"),...i?Lx:[],...s?zx:[]))}if(i||s){const t="maskTexture";a=a?"".concat(a," ").concat(t):"Color:".concat(t),h.push(Ix("attribute vec2 aMaskTextureCoord","varying vec2 vMaskTextureCoord"))}return n&&u.push(Cx("uniform float uOpacity"),Ex("colorFragment =","colorFragment.a *= uOpacity")),{vertexShaderModifiers:h,fragmentShader:c,fragmentShaderModifiers:u,idVertex:a,idFragment:l}}}},ColorShaded3D:t=>{const{dataType:e,shadingStyle:i,wireframe:s}=t;let n;const r="ColorShaded3D:".concat(Vx(t));return{idFeature:"ColorShaded3D",iE:{eE:!(!Array.isArray(t.dataType)||"value"===t.dataType[1])||void 0,rE:!(!Array.isArray(t.dataType)||"value"!==t.dataType[1])||void 0},apply:(t,o)=>{const a=[],l=[];if(a.push("phong"===i&&Ix("normal","varying vec3 vNormal"),Ix("posWorld","varying vec3 vPosWorld")),"uniform"===e)l.push(Cx("uniform vec4 uColorDiffuse"),kx("vec4 colorFragment = uColorDiffuse"));else if("attribute"===e)n="per-vertex-color",a.push(Ix("attribute vec4 aColor","varying vec4 vColor")),l.push(Cx("varying vec4 vColor"),kx("vec4 colorFragment = vColor"));else if(Array.isArray(e)){const t=e[1];if("value"===t)n="lookup:value",a.push(Ix("attribute float aLookupValue","varying float vLookupValue"));else{const e="posAxis.".concat(t);n="lookup:".concat(t),a.push(Ix(e,"varying float vLookupValue"))}l.push(Cx("varying float vLookupValue"),...Dx("vLookupValue",e[2]))}if(s){const t="wireframe";n=n?"".concat(n,",").concat(t):t,a.push(Ix("attribute vec3 aTriangleBary","varying vec3 vTriangleBary")),l.push(Cx("varying vec3 vTriangleBary"),Cx("uniform vec4 uWireframeColor","uniform float uWireframeThickness"),Fx.computeScreenSpaceWireframe,Ex("colorFragment =","float edge = computeScreenSpaceWireframe(vTriangleBary, uWireframeThickness)","colorFragment = mix(colorFragment, uWireframeColor, edge)"))}return"phong"===i&&l.push(...Nx),{idVertex:n,idFragment:r,vertexShaderModifiers:a,fragmentShader:"FragmentShader",fragmentShaderModifiers:l}}}},VertexLocation:t=>({idFeature:"VertexLocation",apply:e=>{const i=[],s=Bx(e),n=t.coordType?t.coordType:s?"vec3":"vec2";return"linear-highPrecision"!==t.axisWorldTranslation?!0!==t.splitPosAttribute?i.push(Cx("attribute ".concat(n," aPos"))):i.push(Cx("attribute float aPosX"),Cx("attribute float aPosY"),s&&Cx("attribute float aPosZ")):!0===t.splitPosAttribute?i.push(Cx("attribute float aPos_highpartX"),Cx("attribute float aPos_lowpartX"),Cx("attribute float aPos_highpartY"),Cx("attribute float aPos_lowpartY")):i.push(Cx("attribute ".concat(n," aPos_highpart")),Cx("attribute ".concat(n," aPos_lowpart"))),i.push(...Ux(t,s,{attributeNameAxisCoord:"aPos",variableNameAxisCoord:"vec4"===t.coordType?void 0:"posAxis",variableNameWorldCoord:"posWorld"})),{idVertex:"VertexLocation:".concat(Vx(t)),idFragment:void 0,vertexShaderModifiers:i}}}),Model3D:t=>({idFeature:"Model3D",apply:e=>{const i=[];return i.push(Cx("attribute vec3 aGeoPos"),Cx("uniform mat4 uModelRotation"),Cx("uniform mat4 uModelRotationNormals"),Cx("uniform vec3 uLocationAxis"),Cx("uniform vec3 uModelAlignment"),Cx("uniform vec3 uModelScale"),Cx("uniform vec3 uModelSize"),...Ux({axisWorldTranslation:"linear",normalSource:t.normalSource},!0,{attributeNameAxisCoord:"uLocationAxis",variableNameAxisCoord:"locationAxis",variableNameWorldCoord:"locationWorld"}),Rx("gl_Position =","vec3 posWorld = locationWorld + ((uModelRotation * vec4(aGeoPos, 1.0)).xyz  - (uModelAlignment + 1.0) * uModelSize/2.0) * uModelScale;"),"attribute"===t.normalSource&&Ex("vec3 normal ="," normal = (uModelRotationNormals * vec4(normal, 1.0)).xyz;"),...Ox(e)?Hx({axisWorldTranslation:"linear",normalSource:t.normalSource},!0,"posWorld","posAxis"):[]),{vertexShaderModifiers:i,idVertex:"Model3D:".concat(Vx(t)),idFragment:void 0}}}),LineInstanced2D:t=>({idFeature:"LineInstanced2D",apply:e=>({idVertex:"LineInstanced2D:".concat(Vx(t)),idFragment:void 0,vertexShaderModifiers:[Cx("uniform float uThicknessPixels"),Cx("uniform vec2 uRatioPxClip"),..."linear-highPrecision"!==t.axisWorldTranslation&&!0!==t.splitPosAttribute?[Cx("attribute vec2 aLocationA"),Cx("attribute vec2 aLocationB")]:"linear-highPrecision"===t.axisWorldTranslation&&!0!==t.splitPosAttribute?[Cx("attribute vec2 aLocationA_highpart"),Cx("attribute vec2 aLocationB_highpart"),Cx("attribute vec2 aLocationA_lowpart"),Cx("attribute vec2 aLocationB_lowpart")]:"linear-highPrecision"!==t.axisWorldTranslation&&!0===t.splitPosAttribute?[Cx("attribute float aLocationAX"),Cx("attribute float aLocationAY"),Cx("attribute float aLocationBX"),Cx("attribute float aLocationBY")]:"linear-highPrecision"===t.axisWorldTranslation&&!0===t.splitPosAttribute?[Cx("attribute float aLocationA_highpartX"),Cx("attribute float aLocationA_highpartY"),Cx("attribute float aLocationB_highpartX"),Cx("attribute float aLocationB_highpartY"),Cx("attribute float aLocationA_lowpartX"),Cx("attribute float aLocationA_lowpartY"),Cx("attribute float aLocationB_lowpartX"),Cx("attribute float aLocationB_lowpartY")]:[],Cx("attribute vec2 aSegmentPosition"),Cx("attribute float aSegmentSide"),...Ux(t,!1,{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"}),t.ensureMinimumSegmentLength&&Cx("uniform vec2 uMinSegmentPixelVector"),Ex("worldB = ",t.ensureMinimumSegmentLength&&"float segmentLengthPixels = sqrt(pow(worldB.x - worldA.x, 2.0) + pow(worldB.y - worldA.y, 2.0)) / length(uRatioPxClip)",t.ensureMinimumSegmentLength&&"if (segmentLengthPixels == 0.0 || segmentLengthPixels < length(uMinSegmentPixelVector)) {\n                        worldB = worldA + uMinSegmentPixelVector * uRatioPxClip;\n                    }","vec2 directionBasis = worldB - worldA","vec2 directionBasisNorm = normalize(directionBasis)","vec2 perpendBasisNorm = vec2(-directionBasisNorm.y, directionBasisNorm.x)","vec2 offset = mix(worldA, worldB, aSegmentSide)","vec2 thicknessDirection = aSegmentPosition.x * directionBasisNorm + aSegmentPosition.y * perpendBasisNorm","vec2 posWorld = offset + thicknessDirection * uThicknessPixels * uRatioPxClip"),...Wx(e),...Gx(e),...Ox(e)?Hx(t,!1,"posWorld","posAxis"):[]]})}),Area2D:t=>({idFeature:"Area2D",apply:e=>({idVertex:"Area2D:".concat(Vx(t)),idFragment:void 0,vertexShaderModifiers:[..."linear-highPrecision"!==t.axisWorldTranslation&&!0!==t.splitPosAttribute?[Cx("attribute vec2 aLocationA"),Cx("attribute vec2 aLocationB")]:"linear-highPrecision"===t.axisWorldTranslation&&!0!==t.splitPosAttribute?[Cx("attribute vec2 aLocationA_highpart"),Cx("attribute vec2 aLocationB_highpart"),Cx("attribute vec2 aLocationA_lowpart"),Cx("attribute vec2 aLocationB_lowpart")]:"linear-highPrecision"!==t.axisWorldTranslation&&!0===t.splitPosAttribute?[Cx("attribute float aLocationAX"),Cx("attribute float aLocationAY"),Cx("attribute float aLocationBX"),Cx("attribute float aLocationBY")]:"linear-highPrecision"===t.axisWorldTranslation&&!0===t.splitPosAttribute?[Cx("attribute float aLocationA_highpartX"),Cx("attribute float aLocationA_highpartY"),Cx("attribute float aLocationB_highpartX"),Cx("attribute float aLocationB_highpartY"),Cx("attribute float aLocationA_lowpartX"),Cx("attribute float aLocationA_lowpartY"),Cx("attribute float aLocationB_lowpartX"),Cx("attribute float aLocationB_lowpartY")]:[],Cx("attribute float aCurveOrBaseline"),Cx("attribute float aSegmentSide"),...Ux(t,!1,{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"}),Ex("worldB = ","vec2 posCoord = mix(worldA, worldB, aSegmentSide)","float baseline = min(posCoord.y, -1.0)","vec2 posWorld = vec2(posCoord.x, mix(posCoord.y, baseline, aCurveOrBaseline))"),...Wx(e),...Gx(e),...Ox(e)?Hx(t,!1,"posWorld","posAxis"):[]]})}),LineInstanced3D:t=>({idFeature:"LineInstanced3D",apply:e=>({idVertex:"LineInstanced3D:".concat(Vx(t)),idFragment:void 0,defaultFragmentShader:"FragmentShader",vertexShaderModifiers:[Cx("uniform float uOffsetWU"),Cx("attribute vec3 aLocationA"),Cx("attribute vec3 aLocationB"),Cx("attribute float aSegmentPosition"),Cx("attribute float aPerpendHorizontal"),Cx("attribute float aPerpendVertical"),...Ux({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},Bx(e),{attributeNameAxisCoord:"aLocationA",variableNameAxisCoord:"locationA",variableNameWorldCoord:"worldA"},{attributeNameAxisCoord:"aLocationB",variableNameAxisCoord:"locationB",variableNameWorldCoord:"worldB"}),Ex("worldB = ","vec3 directionBasis = worldB - worldA","vec3 directionBasisNorm = normalize(directionBasis)","vec3 notParallel = normalize(mix( vec3( 0.0, 1.0, 0.0 ), vec3( 0.2, 0.8, 0.0 ), step( abs(directionBasis.y), 0.9 ) ))","vec3 horizontalBasis = normalize( cross( notParallel, directionBasisNorm ) )","vec3 verticalBasis = normalize( cross( horizontalBasis, directionBasisNorm ) )","vec3 normal = aPerpendHorizontal * horizontalBasis + aPerpendVertical * verticalBasis","vec3 posWorld = worldA + aSegmentPosition * directionBasis + normal * uOffsetWU * 0.5"),...Ox(e)?Hx({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,"posWorld","posAxis"):[]]})}),RoundedEdges3D:{idFeature:"RoundedEdges3D",apply:t=>({idVertex:"RoundedEdges3D",idFragment:void 0,vertexShaderModifiers:[Cx("attribute vec3 aEdge"),Cx("uniform float uEdgeRoundness"),Ex("posWorld =","vec3 boxSizeWorld = abs( aOffsetAxis / uScale )","float boxMinDimensionWorldXZ = min( boxSizeWorld.x, boxSizeWorld.z )","vec3 edgeRoundAmount = uEdgeRoundness * vec3( boxMinDimensionWorldXZ, min( boxMinDimensionWorldXZ, boxSizeWorld.y ), boxMinDimensionWorldXZ )","posWorld = posWorld + aEdge * edgeRoundAmount")]})},ColorGrid2D:t=>{const e=t.flipXY,i=t.intensityTextureType,s=t.littleEndian;return{idFeature:"ColorGrid2D",apply:(n,r)=>({idVertex:void 0,idFragment:"ColorGrid2D:".concat(Vx(t)),fragmentShader:"FragmentShader",fragmentShaderModifiers:[Cx("uniform vec4 uTileBounds","uniform vec2 uTileDimensions","uniform sampler2D uTileIntensityValues"),"ubyte"===i&&Fx.decodeUbyteRGBAEncodedFloat,"bilinear"===t.interpolation?kx("vec2 cellSizePx = uTileBounds.zw / (uTileDimensions - 1.0)","vec2 cellIndex = (gl_FragCoord.xy - uTileBounds.xy) / cellSizePx","vec2 cellStart = floor(cellIndex)","vec2 cellEnd = ceil(cellIndex)","vec2 cellStartNormalized = cellStart / (uTileDimensions - 1.0)","vec2 cellEndNormalized = cellEnd / (uTileDimensions - 1.0)","vec4 sample00 = texture2D(uTileIntensityValues, ".concat(e?"cellStartNormalized":"vec2(cellStartNormalized.y, cellStartNormalized.x)",")"),"vec4 sample01 = texture2D(uTileIntensityValues, ".concat(e?"vec2(cellStartNormalized.x, cellEndNormalized.y)":"vec2(cellStartNormalized.y, cellEndNormalized.x)",")"),"vec4 sample10 = texture2D(uTileIntensityValues, ".concat(e?"vec2(cellEndNormalized.x, cellStartNormalized.y)":"vec2(cellEndNormalized.y, cellStartNormalized.x)",")"),"vec4 sample11 = texture2D(uTileIntensityValues, ".concat(e?"cellEndNormalized":"vec2(cellEndNormalized.y, cellEndNormalized.x)",")"),"float intensity00 = "+("float"===i?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(s,")")),"float intensity01 = "+("float"===i?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(s,")")),"float intensity10 = "+("float"===i?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(s,")")),"float intensity11 = "+("float"===i?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(s,")")),"vec2 lerpFactors = cellIndex - cellStart","float intensityR1 = mix(intensity00, intensity10, ".concat(e?"lerpFactors.x":"lerpFactors.y",")"),"float intensityR2 = mix(intensity01, intensity11, ".concat(e?"lerpFactors.x":"lerpFactors.y",")"),"float intensityP = mix(intensityR1, intensityR2,  ".concat(e?"lerpFactors.y":"lerpFactors.x",")")):kx("vec2 cellSizePx = uTileBounds.zw / (uTileDimensions)","vec2 cellIndex = (gl_FragCoord.xy - uTileBounds.xy) / cellSizePx","vec2 cellIndexNormalized = cellIndex / uTileDimensions","vec4 sample0 = texture2D(uTileIntensityValues, ".concat(e?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)",")"),"float intensityP = "+("float"===i?"sample0.x":"decodeUbyteRGBAEncodedFloat(sample0, ".concat(s,")"))),...Dx("intensityP",t.lut)]})}},DrawToNormalTexture:t=>{const e=t.flipXZ,i=t.vertexIdSource,s=t.normalTextureType,n=t.heightmapTextureType,r=t.littleEndian;return{idFeature:"DrawToNormalTexture",apply:(o,a)=>{const l=[],h=[];return l.push(Cx("uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture","uint"===s?"flat varying uvec3 vNormalRGB":"varying vec3 vNormalRGB","attribute"===i&&"attribute float aVertexID"),void 0!==i&&Fx.roundUnsigned,Fx.modulus,Fx.texelFetchWithFallback[a],"ubyte"===n&&Fx.decodeUbyteRGBAEncodedFloat,kx(void 0===i?"int iVertex = gl_VertexID":"int iVertex = int(roundUnsigned(aVertexID))","int iSecondary = modulus(iVertex, (uTileDimensions.y - 1))","int iPrimary = iVertex / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 uTileDimensionsMinus1 = vec2(uTileDimensions) - 1.0","vec2 halfTexelWorld = 2.0 / (uTileDimensionsMinus1 * 2.0)","vec2 posWorld = vec2(-1.0 + halfTexelWorld.y + iCell.y * 2.0 * halfTexelWorld.y, -1.0 + halfTexelWorld.x + iCell.x * 2.0 * halfTexelWorld.x)","vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec3 posAxis0 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell.".concat(e?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===n?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(r,")")," ,\n                            uTileStartLocationAxisXZ.y + iCell.").concat(e?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell1 = iCell + vec2(1.0, 0.0)","vec3 posAxis1 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell1.".concat(e?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===n?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell1.y, iCell1.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell1.y, iCell1.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(r,")"),",\n                            uTileStartLocationAxisXZ.y + iCell1.").concat(e?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell2 = iCell + vec2(0.0, 1.0)","vec3 posAxis2 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell2.".concat(e?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===n?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell2.y, iCell2.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell2.y, iCell2.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(r,")"),",\n                            uTileStartLocationAxisXZ.y + iCell2.").concat(e?"x":"y"," * cellSizeAxis.y\n                        )"),"vec2 iCell3 = iCell + vec2(1.0, 1.0)","vec3 posAxis3 = vec3(\n                            uTileStartLocationAxisXZ.x + iCell3.".concat(e?"y":"x"," * cellSizeAxis.x,\n                            ").concat("float"===n?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell3.y, iCell3.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell3.y, iCell3.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(r,")"),",\n                            uTileStartLocationAxisXZ.y + iCell3.").concat(e?"x":"y"," * cellSizeAxis.y\n                        )"),"vec3 normal = normalize(cross(posAxis2 - posAxis0, posAxis1 - posAxis0) + cross(posAxis1 - posAxis3, posAxis2 - posAxis3))","uint"===s?"vNormalRGB = uvec3(((normal / 2.0) + 0.5) * float(-1u))":"vNormalRGB = (normal / 2.0) + 0.5","gl_PointSize = 1.0")),h.push(Cx("uint"===s?"flat varying uvec3 vNormalRGB":"varying vec3 vNormalRGB"),kx("uint"===s?"gl_FragColor = uvec4(vNormalRGB, -1u)":"gl_FragColor = vec4(vNormalRGB, 1.0)")),{idVertex:"DrawToNormalTexture:".concat(Vx(t)),idFragment:"DrawToNormalTexture:".concat(Vx(t)),vertexShaderModifiers:l,fragmentShaderModifiers:h,fragmentShader:"Empty",hints:["uint"===s&&{type:"fragOutput",fragOutput:"uvec4"}]}}}},SurfaceGrid:t=>{const e=t.fillColor,i=t.interpolation,s=t.flipXZ,n=t.shadingStyle,r=t.wireframe,o=t.instanceIdSource,a=t.normalTextureType,l=t.heightmapTextureType,h=t.intensityTextureType,c=t.littleEndian;return{idFeature:"SurfaceGrid",apply:(u,d)=>{const f=[],p=[];return f.push(Cx("attribute vec2 aGeoCellOffset","uniform int uBaseInstance","uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture","attribute"===o&&"attribute float aInstanceID"),void 0!==o&&Fx.roundUnsigned,Fx.modulus,Fx.texelFetchWithFallback[d],"ubyte"===l&&Fx.decodeUbyteRGBAEncodedFloat,kx(void 0===o?"int iInstance = gl_InstanceID":"int iInstance = int(roundUnsigned(aInstanceID))","iInstance = iInstance + uBaseInstance","int iSecondary = modulus(iInstance, (uTileDimensions.y - 1))","int iPrimary = iInstance / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 iCellVertex = iCell + aGeoCellOffset","vec2 uTileDimensionsMinus1 = vec2(float(uTileDimensions.x), float(uTileDimensions.y)) - 1.0","vec2 ySampleCoordinate = vec2(iCellVertex.y, iCellVertex.x) / vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x)","float y = "+("float"===l?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCellVertex.y, iCellVertex.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCellVertex.y, iCellVertex.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(c,")")),"vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec2 posAxisXZ = uTileStartLocationAxisXZ + cellSizeAxis * "+(s?"vec2(iCellVertex.y, iCellVertex.x)":"iCellVertex"),"vec3 posAxis = vec3(posAxisXZ.x, y, posAxisXZ.y)")),f.push(...Ux({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,{attributeNameAxisCoord:void 0,variableNameAxisCoord:"posAxis",variableNameWorldCoord:"posWorld"})),"phong"===n&&f.push(Ix("posWorld","varying vec3 vPosWorld"),..."uint"===a?[Fx.texelFetchUnsignedWithFallback[d],Tx("vec4 normalAxisRGB = vec4(texelFetchUnsignedWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))) / float(-1u)")]:[Tx("vec4 normalAxisRGB = texelFetchWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))")],Tx("vec3 normalAxis = (normalAxisRGB.rgb * 2.0) - 1.0","vNormal = normalize(normalAxis * uScale)"),Cx("varying vec3 vNormal",..."uint"===a?["uniform usampler2D uNormalmapTexture"]:["uniform sampler2D uNormalmapTexture"])),p.push(Cx("varying vec3 vTriangleBary")),"uniform"===e?p.push(Cx("uniform vec4 uColorDiffuse"),kx("vec4 colorFragment = uColorDiffuse")):Array.isArray(e)&&"lookup"===e[0]?"value"===e[1]?(f.push(Ix("posAxis.xz","varying vec2 vVertexLocationAxisXZ")),p.push(Cx("uniform vec4 uTileBoundsAxisXZ","uniform vec2 uTileDimensionsXZ","varying vec2 vVertexLocationAxisXZ","uniform sampler2D uTileIntensityValues","uniform mat4 uViewProjectionMatrix","uniform vec3 uScale","uniform vec3 uDisp"),"ubyte"===h&&Fx.decodeUbyteRGBAEncodedFloat,"bilinear"===i?kx("vec2 cellSizeAxisXZ = uTileBoundsAxisXZ.zw / (uTileDimensionsXZ - 1.0)","vec2 cellIndex = (vVertexLocationAxisXZ - uTileBoundsAxisXZ.xy) / cellSizeAxisXZ","vec2 cellStart = floor(cellIndex)","vec2 cellEnd = ceil(cellIndex)","vec2 cellStartNormalized = cellStart / (uTileDimensionsXZ - 1.0)","vec2 cellEndNormalized = cellEnd / (uTileDimensionsXZ - 1.0)","vec4 sample00 = texture2D(uTileIntensityValues, ".concat(s?"cellStartNormalized":"vec2(cellStartNormalized.y, cellStartNormalized.x)",")"),"vec4 sample01 = texture2D(uTileIntensityValues, ".concat(s?"vec2(cellStartNormalized.x, cellEndNormalized.y)":"vec2(cellStartNormalized.y, cellEndNormalized.x)",")"),"vec4 sample10 = texture2D(uTileIntensityValues, ".concat(s?"vec2(cellEndNormalized.x, cellStartNormalized.y)":"vec2(cellEndNormalized.y, cellStartNormalized.x)",")"),"vec4 sample11 = texture2D(uTileIntensityValues, ".concat(s?"cellEndNormalized":"vec2(cellEndNormalized.y, cellEndNormalized.x)",")"),"float intensity00 = "+("float"===h?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(c,")")),"float intensity01 = "+("float"===h?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(c,")")),"float intensity10 = "+("float"===h?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(c,")")),"float intensity11 = "+("float"===h?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(c,")")),"vec2 lerpFactors = cellIndex - cellStart","float intensityR1 = mix(intensity00, intensity10, ".concat(s?"lerpFactors.x":"lerpFactors.y",")"),"float intensityR2 = mix(intensity01, intensity11, ".concat(s?"lerpFactors.x":"lerpFactors.y",")"),"float intensityP = mix(intensityR1, intensityR2,  ".concat(s?"lerpFactors.y":"lerpFactors.x",")")):kx("vec2 cellSizeAxisXZ = uTileBoundsAxisXZ.zw / (uTileDimensionsXZ - 1.0)","vec2 cellIndex = floor((vVertexLocationAxisXZ - uTileBoundsAxisXZ.xy) / cellSizeAxisXZ)","vec2 cellIndexNormalized = cellIndex / (uTileDimensionsXZ - 1.0)","vec4 sample0 = texture2D(uTileIntensityValues, ".concat(s?"cellIndexNormalized":"vec2(cellIndexNormalized.y, cellIndexNormalized.x)",")"),"float intensityP = sample0.x"),...Dx("intensityP",e[2]))):(f.push(Ix("posAxis.".concat(e[1]),"varying float vLookupValue")),p.push(Cx("varying float vLookupValue"),...Dx("vLookupValue",e[2]))):void 0===e&&p.push(kx("vec4 colorFragment = vec4(0.0, 0.0, 0.0, 0.0)")),"phong"===n&&p.push(...Nx),r&&(f.push(Cx("attribute vec3 aTriangleBary"),Ix("aTriangleBary","varying vec3 vTriangleBary")),p.push(Cx("uniform vec4 uWireframeColor","uniform float uWireframeThickness"),Fx.computeScreenSpaceWireframe,Ex("colorFragment =","float edge = computeScreenSpaceWireframe(vTriangleBary, uWireframeThickness)",e?"if (edge > 0.0) {\n                                    colorFragment = vec4(mix(colorFragment.rgb, uWireframeColor.rgb, edge * uWireframeColor.a), max(colorFragment.a, uWireframeColor.a));\n                                }":"if (edge > 0.0) {\n                                    colorFragment = uWireframeColor;\n                                  } else {\n                                      discard;\n                                  }"))),{idVertex:"SurfaceGrid:".concat(Vx(t)),idFragment:"SurfaceGrid:".concat(Vx(t)),vertexShaderModifiers:f,fragmentShader:"FragmentShader",fragmentShaderModifiers:p}}}},DebugSurfaceGridNormals:t=>({idFeature:"DebugSurfaceGridNormals",apply:(e,i)=>({idVertex:"DebugSurfaceGridNormals:".concat(Vx(t)),idFragment:"DebugSurfaceGridNormals:".concat(Vx(t)),vertexShaderModifiers:[Cx("attribute float aNormalArrow","uniform int uBaseInstance","uniform ivec2 uTileDimensions","uniform vec2 uTileDimensionsXZ","uniform vec2 uTileStartLocationAxisXZ","uniform vec2 uTileSizeAxisXZ","uniform sampler2D uHeightmapTexture","attribute"===t.instanceIdSource&&"attribute float aInstanceID",..."uint"===t.normalTextureType?["uniform usampler2D uNormalmapTexture"]:["uniform sampler2D uNormalmapTexture"]),Fx.roundUnsigned,Fx.modulus,Fx.texelFetchWithFallback[i],"ubyte"===t.heightmapTextureType&&Fx.decodeUbyteRGBAEncodedFloat,kx(void 0===t.instanceIdSource?"int iInstance = gl_InstanceID":"int iInstance = int(roundUnsigned(aInstanceID))","iInstance = iInstance + uBaseInstance","int iSecondary = modulus(iInstance, (uTileDimensions.y - 1))","int iPrimary = iInstance / (uTileDimensions.y - 1)","vec2 iCell = vec2(float(iPrimary), float(iSecondary))","vec2 uTileDimensionsMinus1 = vec2(float(uTileDimensions.x), float(uTileDimensions.y)) - 1.0","float y00 = "+("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y01 = "+("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y10 = "+("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y11 = "+("float"===t.heightmapTextureType?"texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)).x":"decodeUbyteRGBAEncodedFloat(texelFetchWithFallback(uHeightmapTexture, ivec2(iCell.y + 1.0, iCell.x + 1.0), vec2(uTileDimensions.y, uTileDimensions.x)), ".concat(t.littleEndian,")")),"float y = (y00 + y01 + y10 + y11) / 4.0","vec2 cellSizeAxis = uTileSizeAxisXZ / (uTileDimensionsXZ - 1.0)","vec2 posAxisXZ = uTileStartLocationAxisXZ + cellSizeAxis * (0.5 + ".concat(t.flipXZ?"vec2(iCell.y, iCell.x)":"iCell",")"),"vec3 posAxis = vec3(posAxisXZ.x, y, posAxisXZ.y)",..."uint"===t.normalTextureType?["vec4 normalAxisRGB = vec4(texelFetchUnsignedWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))) / float(-1u)"]:["vec4 normalAxisRGB = texelFetchWithFallback(uNormalmapTexture, ivec2(iCell.y, iCell.x), vec2(uTileDimensionsMinus1.y, uTileDimensionsMinus1.x))"],"vec3 normalAxis = (normalAxisRGB.rgb * 2.0) - 1.0","vec3 normalWorld = normalize(normalAxis * uScale)"),..."uint"===t.normalTextureType?[Fx.texelFetchUnsignedWithFallback[i]]:[],...Ux({axisWorldTranslation:t.axisWorldTranslation,normalSource:"custom"},!0,{attributeNameAxisCoord:void 0,variableNameAxisCoord:"posAxis",variableNameWorldCoord:"posWorld"}),Ex("posWorld =","vec3 dirArrow = normalWorld","vec3 posArrowStart = posWorld","vec3 posArrowEnd = posWorld + dirArrow * 0.010","vec3 notParallel = normalize(mix( vec3( 0.0, 1.0, 0.0 ), vec3( 0.2, 0.8, 0.0 ), step( abs(dirArrow.y), 0.9 ) ))","vec3 dirArrowLeft = normalize(-dirArrow + 0.50 * normalize(cross(dirArrow, notParallel)))","vec3 dirArrowRight = normalize(-dirArrow + 0.50 * normalize(cross(notParallel, dirArrow)))","vec3 posArrowLeft = posArrowEnd + dirArrowLeft * 0.0025","vec3 posArrowRight = posArrowEnd + dirArrowRight * 0.0025","if (aNormalArrow == 0.0) {\n                        posWorld = posArrowStart;\n                    } else if (aNormalArrow == 1.0) {\n                        posWorld = posArrowEnd;\n                    } else if (aNormalArrow == 2.0) {\n                        posWorld = posArrowLeft;\n                    } else if (aNormalArrow == 3.0) {\n                        posWorld = posArrowRight;\n                    }")],fragmentShader:"FragmentShader",fragmentShaderModifiers:[Tx("gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0)")]})}),OffsetTowardsCamera:()=>({idFeature:"OffsetTowardsCamera",apply:t=>({idVertex:"OffsetTowardsCamera",idFragment:void 0,vertexShaderModifiers:[Cx("uniform vec3 uCameraLoc"),Ex("posWorld =","posWorld = posWorld + normalize(uCameraLoc) * 0.0025")]})}),AliasedEdge:{idFeature:"AliasedEdge",apply:t=>({idVertex:"AliasedEdge",idFragment:"AliasedEdge",vertexShaderModifiers:[Cx("attribute float aSegmentInside"),Cx("varying float vSegmentInside"),Cx("varying float vSegmentSide"),Ex("gl_Position = ","\n                vSegmentInside = aSegmentInside;\n                vSegmentSide = aSegmentSide;\n                ")],fragmentShaderModifiers:[Px("#extension GL_OES_standard_derivatives : enable"),Cx("uniform float uAALimit"),Cx("varying float vSegmentInside"),Cx("varying float vSegmentSide"),Ex("antiAliasFactor = ","\n                float dist = (uAALimit - vSegmentInside);\n                vec2 ddist = vec2(dFdx(dist), dFdy(dist));\n                float pixelDist = dist / length(ddist);\n                // additional blurring\n                pixelDist *= 0.5;\n\n                float aa = clamp(0.5 - pixelDist, 0.0, 1.0);\n                if((vSegmentSide <= 0.0 || vSegmentSide >= 1.0) && aa <=0.99){\n                    aa *= 0.5;\n                }\n                antiAliasFactor = aa;\n                ")]})},Glow1D:t=>({idFeature:"Glow1D",apply:()=>{const e=Math.round(t.spreadPx),i=Math.round(t.blurPx),s=e+i,n=t.firstPass,r=[];for(let t=-s;t<=s;t+=1){const e=Math.abs(t);r.push(n?{x:t.toFixed(1),y:"0.0",distPx:e.toFixed(1)}:{x:"0.0",y:t.toFixed(1),distPx:e.toFixed(1)})}return{idVertex:"Glow1D:".concat(Vx(t)),idFragment:"Glow1D:".concat(Vx(t)),vertexShaderModifiers:[Ix("attribute vec2 aTextureCoord","varying vec2 vTextureCoord")],fragmentShader:"FragmentShader",fragmentShaderModifiers:[Cx("uniform sampler2D uTexture"),Cx("varying vec2 vTextureCoord"),Cx("uniform vec2 uTextureSize"),n&&Cx("uniform vec2 uOffsetPx"),!n&&Cx("uniform sampler2D uTextureFirstGlowPass"),!n&&Cx("uniform vec4 uGlowColor"),Ex("antiAliasFactor =","vec2 oneTexel = vec2(1.0, 1.0) / uTextureSize",...n?[]:["float inverseIntensity =\n                        0.25 * texture2D(uTexture, vTextureCoord).a +\n                        0.125 * texture2D(uTexture, vTextureCoord + vec2(-oneTexel.x, 0.0)).a +\n                        0.125 * texture2D(uTexture, vTextureCoord + vec2(oneTexel.x, 0.0)).a +\n                        0.125 * texture2D(uTexture, vTextureCoord + vec2(0.0, -oneTexel.y)).a +\n                        0.125 * texture2D(uTexture, vTextureCoord + vec2(0.0, oneTexel.y)).a +\n                        0.0625 * texture2D(uTexture, vTextureCoord + vec2(-oneTexel.x, -oneTexel.y)).a +\n                        0.0625 * texture2D(uTexture, vTextureCoord + vec2(oneTexel.x, -oneTexel.y)).a +\n                        0.0625 * texture2D(uTexture, vTextureCoord + vec2(-oneTexel.x, oneTexel.y)).a +\n                        0.0625 * texture2D(uTexture, vTextureCoord + vec2(oneTexel.x, oneTexel.y)).a","antiAliasFactor *= 1.0 - (inverseIntensity * inverseIntensity)","if (antiAliasFactor <= 0.0) { discard; }"],"float distancePx = 255.0","vec2 sample_tx = vec2(0.0)",...n?["vec2 texCoordOffset = vTextureCoord - uOffsetPx * oneTexel",...r.map(((t,e)=>["sample_tx = texCoordOffset + oneTexel * vec2(".concat(t.x,", ").concat(t.y,")"),"if (distancePx > ".concat(t.distPx," && sample_tx.x <= 1.0 && sample_tx.y <= 1.0 && sample_tx.x >= 0.0 && sample_tx.y >= 0.0 && texture2D(uTexture, sample_tx).a > 0.0) { distancePx = ").concat(t.distPx,"; }")])).flat(),"vec4 colorFragment = vec4(distancePx / 255.0, 0.0, 0.0, 1.0)"]:["vec4 sample_horizontal = vec4(0.0)","float horizontal_dist = 255.0","float min_horizontal_dist = 255.0",...r.map(((t,e)=>["sample_tx = vTextureCoord + oneTexel * vec2(".concat(t.x,", ").concat(t.y,")"),"if (sample_tx.x <= 1.0 && sample_tx.y <= 1.0 && sample_tx.x >= 0.0 && sample_tx.y >= 0.0) {\n                                            sample_horizontal = texture2D(uTextureFirstGlowPass, sample_tx);\n                                            horizontal_dist = sample_horizontal.r * 255.0;\n                                          }","if (sample_horizontal.a < 0.9) { horizontal_dist = 255.0; }","min_horizontal_dist = min(min_horizontal_dist, horizontal_dist)","distancePx = min(distancePx, pow(horizontal_dist * horizontal_dist + ".concat(t.y," * ").concat(t.y,", 0.5))")])).flat(),"if (distancePx > ".concat(s.toFixed(1),") { discard; }"),"vec4 pixelGlowColor = vec4(0.0, 0.0, 0.0, 0.0)","if (distancePx > ".concat(e.toFixed(1),") {\n                                        float lerpAmount = (distancePx - ").concat(e.toFixed(1),") / ").concat((i+1).toFixed(1),";\n                                        pixelGlowColor = mix(uGlowColor, vec4(uGlowColor.rgb, 0.0), 1.0 - (1.0 - lerpAmount) * (1.0 - lerpAmount));\n                                    } else {\n                                        pixelGlowColor = uGlowColor;\n                                    }"),"vec4 colorFragment = pixelGlowColor"])]}}}),MousePicking:{idFeature:"MousePicking",apply:t=>({idVertex:void 0,idFragment:"MousePicking",fragmentShaderModifiers:[Cx("uniform vec4 uColor"),kx("vec4 colorFragment = uColor"),t=>t.replace("gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * antiAliasFactor)","if (antiAliasFactor <= 0.0) { discard; }\ngl_FragColor = fragColorEnd")]})},MousePickingAttribute:{idFeature:"MousePickingAttribute",apply:t=>({idVertex:"MousePickingAttribute",idFragment:"MousePickingAttribute",vertexShaderModifiers:[Ix("attribute vec4 aColor","varying vec4 vColor")],fragmentShaderModifiers:[Cx("varying vec4 vColor"),kx("vec4 colorFragment = vColor"),t=>t.replace("gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * antiAliasFactor)","if (antiAliasFactor <= 0.0) { discard; }\ngl_FragColor = fragColorEnd")]})},AttributeHighlight:{idFeature:"AttributeHighlight",apply:t=>({idVertex:"AttributeHighlight",idFragment:"AttributeHighlight",vertexShaderModifiers:[Ix("attribute float aIsHighlighted","varying float vIsHighlighted")],fragmentShaderModifiers:[t=>t.replace("uniform float uIsHighlighted","varying float vIsHighlighted").replace("uIsHighlighted","vIsHighlighted")]})},StippleTexture:{idFeature:"StippleTexture",apply:(t,e)=>({idVertex:"StippleTexture",idFragment:"StippleTexture",vertexShaderModifiers:[Cx("attribute vec2 aLengthSoFar"),Cx("varying float vLengthSoFar"),Cx("uniform vec2 uStippleCount"),Tx("\n                vec2 len = (((aLengthSoFar) / uScale) / 2.0) * uStippleCount;\n                vLengthSoFar = len.x + len.y;\n                ")],fragmentShaderModifiers:[Cx("uniform sampler2D uStippleTexture"),Cx("uniform float uStippleScale"),Cx("varying float vLengthSoFar"),"webgl1"===e&&Cx("uniform float uStippleTextureWidthLimiter"),Ex("antiAliasFactor = ","\n                    float stippleSampleY = texture2D(\n                        uStippleTexture, \n                        ".concat("webgl1"===e?"vec2(mod((vLengthSoFar / uStippleScale) , uStippleTextureWidthLimiter), 0)":"vec2((vLengthSoFar / uStippleScale), 0)","\n                    ).r;\n                    float stippleAA = (stippleSampleY - 0.5) * 2.0;\n                    antiAliasFactor *= stippleAA;\n                    if (antiAliasFactor <= 0.0) { discard; }"))]})},StippleTextureInstanced:{idFeature:"StippleTextureInstanced",apply:(t,e)=>({idVertex:"StippleTextureInstanced",idFragment:"StippleTextureInstanced",vertexShaderModifiers:[Cx("attribute vec2 aLengthSoFarA"),Cx("attribute vec2 aLengthSoFarB"),Cx("varying float vLengthSoFar"),Cx("uniform vec2 uStippleCount"),Tx("\n                vec2 aLengthSoFar = mix(aLengthSoFarA, aLengthSoFarB, aSegmentSide);\n                vec2 len = (((aLengthSoFar) / uScale) / 2.0) * uStippleCount;\n                vLengthSoFar = len.x + len.y;\n                ")],fragmentShaderModifiers:[Cx("uniform sampler2D uStippleTexture"),Cx("uniform float uStippleScale"),Cx("varying float vLengthSoFar"),"webgl1"===e&&Cx("uniform float uStippleTextureWidthLimiter"),Ex("antiAliasFactor = ","\n                    float stippleSampleY = texture2D(\n                        uStippleTexture, \n                        ".concat("webgl1"===e?"vec2(mod((vLengthSoFar / uStippleScale) , uStippleTextureWidthLimiter), 0)":"vec2((vLengthSoFar / uStippleScale), 0)","\n                    ).r;\n                    float stippleAA = (stippleSampleY - 0.5) * 2.0;\n                    antiAliasFactor *= stippleAA;\n                    if (antiAliasFactor <= 0.0) { discard; }"))]})},PolarHeatmap:t=>({idFeature:"PolarHeatmap",apply:(e,i)=>{const s="dataType"in t,n="interpolation"in t?t:void 0,r="bilinear"===(null==n?void 0:n.interpolation),o=null==n?void 0:n.intensityTextureType,a=null==n?void 0:n.littleEndian;return{idVertex:void 0,idFragment:"PolarHeatmap:".concat(Vx(t)),vertexShaderModifiers:[],fragmentShaderModifiers:[Cx("uniform vec2 uViewportSize","uniform vec2 uScale","uniform vec2 uDisp","uniform float uSectors","uniform float uAnnuli","uniform float uAmplitudeStart","uniform float uAmplitudeStep","uniform float uAmplitudeAxisStart","uniform float uAmplitudeAxisEnd","uniform float uAngleOffset","uniform float uAngleDirection",n&&"uniform sampler2D uTileIntensityValues",s&&"uniform vec4 uColor"),Fx.texelFetchWithFallback[i],"ubyte"===o&&Fx.decodeUbyteRGBAEncodedFloat,kx("vec2 posWorld = (2.0 * gl_FragCoord.xy / uViewportSize) - 1.0","vec2 posAxis = posWorld * uScale + uDisp","float amplitudeAxisInterval = uAmplitudeAxisEnd - uAmplitudeAxisStart","float amplitude = uAmplitudeAxisStart + sign(amplitudeAxisInterval) * sqrt(posAxis.x * posAxis.x + posAxis.y * posAxis.y)","float iAnnulus = (amplitude - uAmplitudeStart) / uAmplitudeStep","if (iAnnulus < 0.0 || iAnnulus > uAnnuli) { discard; }"),s&&kx("vec4 colorFragment = uColor"),n&&Ex("if (iAnnulus","float angRad = atan(posAxis.y, posAxis.x) * uAngleDirection + uAngleOffset","if (angRad < 0.0) { angRad = angRad + 2.0 * 3.1415926538; }","if (angRad > 2.0 * 3.1415926538) { angRad = angRad - 2.0 * 3.1415926538; }","float iSector = uSectors * angRad / (2.0 * 3.1415926538)","vec2 cellIndex = vec2(iSector, iAnnulus)","ivec2 cellStart = ivec2(floor(cellIndex))","ivec2 cellEnd = cellStart + ivec2(1)","if (cellEnd.x >= int(uSectors)) { cellEnd = ivec2(0, cellEnd.y); }",n.flipXY&&"cellIndex = vec2(cellIndex.y, cellIndex.x)",n.flipXY&&"cellStart = ivec2(cellStart.y, cellStart.x)",n.flipXY&&"cellEnd = ivec2(cellEnd.y, cellEnd.x)","vec2 tileDimensions = "+(n.flipXY?"vec2(uAnnuli, uSectors)":"vec2(uSectors, uAnnuli)"),r&&"vec4 sample00 = texelFetchWithFallback(uTileIntensityValues, cellStart, tileDimensions)",r&&"vec4 sample01 = texelFetchWithFallback(uTileIntensityValues, ivec2(cellStart.x, cellEnd.y), tileDimensions)",r&&"vec4 sample10 = texelFetchWithFallback(uTileIntensityValues, ivec2(cellEnd.x, cellStart.y), tileDimensions)",r&&"vec4 sample11 = texelFetchWithFallback(uTileIntensityValues, cellEnd, tileDimensions)",r&&"float intensity00 = "+("float"===o?"sample00.x":"decodeUbyteRGBAEncodedFloat(sample00, ".concat(a,")")),r&&"float intensity01 = "+("float"===o?"sample01.x":"decodeUbyteRGBAEncodedFloat(sample01, ".concat(a,")")),r&&"float intensity10 = "+("float"===o?"sample10.x":"decodeUbyteRGBAEncodedFloat(sample10, ".concat(a,")")),r&&"float intensity11 = "+("float"===o?"sample11.x":"decodeUbyteRGBAEncodedFloat(sample11, ".concat(a,")")),r&&"vec2 lerpFactors = cellIndex - vec2(cellStart)",r&&"float intensityR1 = mix(intensity00, intensity10, lerpFactors.x)",r&&"float intensityR2 = mix(intensity01, intensity11, lerpFactors.x)",r&&"float intensityP = mix(intensityR1, intensityR2,  lerpFactors.y)",!r&&"vec4 sample0 = texelFetchWithFallback(uTileIntensityValues, cellStart, tileDimensions)",!r&&"float intensityP = "+("float"===o?"sample0.x":"decodeUbyteRGBAEncodedFloat(sample0, ".concat(a,")"))),...n?Dx("intensityP",n.lut):[]]}}})},Yx={"2D":"\nvoid main(void) {\n    gl_Position = vec4(posWorld, 0.0, 1.0 );\n}\n","2DMatrix":"\nvoid main(void) {\n    gl_Position = posWorld;\n}\n","3D":"\nuniform mat4 uViewProjectionMatrix;\nvoid main(void) {\n    gl_Position = uViewProjectionMatrix * vec4(posWorld, 1.0);\n}\n"},Xx={FragmentShader:"\nuniform float uIsHighlighted;\nuniform vec4 uHighlightColorOffset;\nuniform float uRenderEffectMask;\nvoid main(void) {\n    float antiAliasFactor = 1.0;\n    vec4 fragColorEnd = colorFragment;\n    if (fragColorEnd.a <= 0.0) { discard; }\n    fragColorEnd = clamp(fragColorEnd + uIsHighlighted * uHighlightColorOffset, vec4(0.0), vec4(1.0));\n    fragColorEnd = mix(fragColorEnd, vec4(1.0), uRenderEffectMask * fragColorEnd.a * 1000.0);\n    gl_FragColor = vec4(fragColorEnd.rgb, fragColorEnd.a * antiAliasFactor);\n}\n",Empty:"\nvoid main(void) {\n}\n"};class qx{constructor(t,e,i,s,n){if(this.id=t,this.shader=i,this.gl=s,this.info=n,!e||!i)throw new _o("Could not find ".concat(this.nE()," ").concat(this.oE()," shader source code."));this.gl.shaderSource(i,e),this.gl.compileShader(i)}get src(){return""}nE(){return this.id.toString()}oE(){return this.gl.getShaderParameter(this.shader,this.gl.SHADER_TYPE)===this.gl.FRAGMENT_SHADER?"fragment":"vertex"}}class Jx extends qx{constructor(t,e,i,s){super(t,e,i.createShader(i.VERTEX_SHADER),i,s)}}class Kx extends qx{constructor(t,e,i,s){super(t,e,i.createShader(i.FRAGMENT_SHADER),i,s)}}class Zx{constructor(t,e,i,s){this.aE=new Map,this.lE=new Map,this.uE=i,this.cE=i.createProgram(),this.dE="".concat(t.nE()," vertex"),this.fE="".concat(e.nE()," fragment"),i.attachShader(this.cE,t.shader),i.attachShader(this.cE,e.shader),i.bindAttribLocation(this.cE,0,"aPos"),i.linkProgram(this.cE),i.deleteShader(t.shader),i.deleteShader(e.shader),this.allAttributeNames=t.info.allAttributeNames,this.allUniformNames=Array.from(new Set(t.info.allUniformNames.concat(e.info.allUniformNames)).values()),this.vertexSharedRemovedVariables=t.info.removedVariableNames,this.fragmentSharedRemovedVariables=e.info.removedVariableNames}get vertexShaderSrc(){return""}get fragmentShaderSrc(){return""}AE(t){return za(0,(()=>Na()))}gE(t){const e=this.mE(t);if(void 0===e)throw this.AE("Could not get ".concat(t," uniform from ").concat(this.dE," and ").concat(this.fE," shaders."));return e}mE(t){const e=this.aE.get(t);if(e)return e;const i=this.uE.getUniformLocation(this.cE,t);return i?(this.aE.set(t,i),i):void 0}yE(t){const e=this.pE(t);if(void 0===e)throw this.AE("Could not get ".concat(t," attribute from ").concat(this.dE," and ").concat(this.fE," shaders."));return e}pE(t){const e=this.lE.get(t);if(e||0===e)return e;const i=this.uE.getAttribLocation(this.cE,t);return i>=0?(this.lE.set(t,i),i):void 0}W(){this.uE.deleteProgram(this.cE)}}const Qx=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/,$x=t=>{let e;try{e=Ho.getComputedStyle(t)}catch(t){return null}return e};function tS(t){const e=$x(t);return!!e&&("fixed"===e.position||!!("auto"!==e.zIndex&&"static"!==e.position||function(t){const e=$x(nS(t)),i=e?e.display:"auto";return"flex"===i||"inline-flex"===i}(t))||+e.opacity<1||"transform"in e&&"none"!==e.transform||"webkitTransform"in e&&"none"!==e.webkitTransform||"mixBlendMode"in e&&"normal"!==e.mixBlendMode||"filter"in e&&"none"!==e.filter||"webkitFilter"in e&&"none"!==e.webkitFilter||"isolation"in e&&"isolate"===e.isolation||!!Qx.test(e.willChange)||"touch"===e.webkitOverflowScrolling)}function eS(t){let e=t.length;for(;e--;)if(tS(t[e]))return t[e];return null}function iS(t){var e;return t&&Number((null===(e=$x(t))||void 0===e?void 0:e.zIndex)||0)||0}function sS(t){const e=[];for(;t;)e.push(t),t=nS(t);return e}function nS(t){var e;return(null===(e=t.parentNode)||void 0===e?void 0:e.host)||t.parentNode}class rS extends lx{constructor(t){if(super(),this.SE=new Map,this.vE=new Map,this.bE=new Map,this.xE=!0,this.ME=null,this._E=null,this.wE=null,this.CE=null,this.kE=0,this.TE=0,this.FE=0,this.IE=!1,this.PE=!0,this.$i=!1,this.DE=Pa("chart-engine-".concat((new Date).getTime()).concat(Math.trunc(1e6*Math.random()).toString())),this.X={x:100,y:100},this.BE=()=>{this.LE&&clearTimeout(this.LE),this.LE=setTimeout((()=>this.Zr()),12)},this.RE=t=>{const e=t.intersectionRatio>0,i=t.target.getAttribute("data-lcjs-engine-id");if(i){const t=this.SE.get(i);if(t){const s=t.EE();t.zE(e),e?this.vE.set(i,t):this.vE.delete(i),s!==e&&t.Ss()}}},this.VE=(t,e,i,s,n)=>{const r=n[0],o=this.gl;if(o.bindFramebuffer(null==o?void 0:o.FRAMEBUFFER,null),o.useProgram(this._E.cE),o.clear(o.COLOR_BUFFER_BIT),r.Gr.getBoundingClientRect()){const t=r.OE();o.viewport(0,0,t.x,t.y),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,r.NE),o.uniform1i(this.kE,0),o.uniformMatrix4fv(this.TE,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),o.bindBuffer(o.ARRAY_BUFFER,this.wE),o.enableVertexAttribArray(0),o.vertexAttribPointer(this.FE,2,o.FLOAT,!1,0,0),o.drawArrays(o.TRIANGLES,0,6),o.bindFramebuffer(o.FRAMEBUFFER,null),r.GE&&(r.GE.clearRect(0,0,r.GE.canvas.width,r.GE.canvas.height),r.GE.drawImage(this.WE,0,this.WE.height-t.y,t.x,t.y,0,0,r.GE.canvas.width,r.GE.canvas.height))}},this.UE=(t,e,i,s,n)=>{const r=this.gl;r.bindFramebuffer(null==r?void 0:r.FRAMEBUFFER,null),r.useProgram(this._E.cE),r.clear(r.COLOR_BUFFER_BIT),n.forEach((i=>{const n=i.Gr.getBoundingClientRect();if(n){const i=n.right-n.left,o=n.bottom-n.top,a=n.left,l=s-n.bottom;r.viewport(a*this.YE-t*this.YE,l*this.YE+e*this.YE,i*this.YE,o*this.YE)}r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,i.NE),r.uniform1i(this.kE,0),r.uniformMatrix4fv(this.TE,!1,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),r.bindBuffer(r.ARRAY_BUFFER,this.wE),r.enableVertexAttribArray(0),r.vertexAttribPointer(this.FE,2,r.FLOAT,!1,0,0),r.drawArrays(r.TRIANGLES,0,6)})),r.bindFramebuffer(r.FRAMEBUFFER,null)},this.HE=(t,e,i,s,n)=>{const r=n[0],o=this.gl2.ctx;o.bindFramebuffer(o.DRAW_FRAMEBUFFER,null),o.clear(o.COLOR_BUFFER_BIT);const a=r.OE();o.bindFramebuffer(o.READ_FRAMEBUFFER,r.$E[1]),o.blitFramebuffer(0,0,a.x,a.y,0,this.WE.height-a.y,a.x,this.WE.height,o.COLOR_BUFFER_BIT,o.LINEAR),r.GE&&(r.GE.clearRect(0,0,r.GE.canvas.width,r.GE.canvas.height),r.GE.drawImage(this.WE,0,0)),o.bindFramebuffer(o.FRAMEBUFFER,null)},this.XE=(t,e,i,s,n)=>{const r=this.gl2.ctx;r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),r.clear(r.COLOR_BUFFER_BIT),n.forEach((i=>{const n=i.Gr.getBoundingClientRect();if(n){const o=n.right-n.left,a=n.bottom-n.top,l=n.left,h=s-n.bottom,c=i.OE();r.bindFramebuffer(r.READ_FRAMEBUFFER,i.$E[1]),r.blitFramebuffer(0,0,c.x,c.y,l*this.YE-t*this.YE,h*this.YE+e*this.YE,(l-t+o)*this.YE,(h+e+a)*this.YE,r.COLOR_BUFFER_BIT,r.LINEAR)}})),r.bindFramebuffer(r.FRAMEBUFFER,null)},this.LE=void 0,this.Un=t,!Ho.requestAnimationFrame||!Ho.cancelAnimationFrame)throw new Error("LightningChart JS depends on requestAnimationFrame. Make sure to load a polyfill in older browsers.");let e=1;if(t&&t.jE)e=!0===t.jE?Ho.devicePixelRatio||1:t.jE||1;else{const t=Ho.document.head.querySelector('meta[name="viewport"]');t&&t.content.includes("width=device-width")&&(e=Ho.devicePixelRatio||1)}this.YE=e,t.Hn=!0===t.Hn,this.PE=!1!==t.ZE,this.QE=!1!==t.JE,this.KE=t.KE||!1;let i=!1;if(t.WE)if("string"==typeof t.WE){const e=Ho.document.getElementById(t.WE);if(!e)throw new Error('Canvas "'.concat(t.WE,"\" doesn't exist."));this.WE=e,i=!0}else this.WE=t.WE,i=!0;else this.WE=Ho.document.createElement("canvas");const s={preserveDrawingBuffer:!0,alpha:!0,antialias:!1};if(2!==t.qE&&t.qE){const e=this.WE.getContext("webgl",{...s,antialias:!!t.ZE})||this.WE.getContext("experimental-webgl",{...s,antialias:!!t.ZE});this.gl=e,this.tz=!1}else{const t=this.WE.getContext("webgl2",s);this.gl2={ctx:t},this.gl=t,this.tz=!0}if(!this.gl)throw new No("No WebGL context available."+((null==t?void 0:t.qE)?"\nSelected explicit target: WebGL ".concat(t.qE):""));const n=[];if(this.iz={WEBGL_lose_context:this.gl.getExtension("WEBGL_lose_context")},Object.keys(this.iz).forEach((t=>{null===this.iz[t]&&n.push(t)})),this.tz)this.sz=!0;else{const t={ANGLE_instanced_arrays:this.gl.getExtension("ANGLE_instanced_arrays"),EXT_blend_minmax:this.gl.getExtension("EXT_blend_minmax"),OES_element_index_uint:this.gl.getExtension("OES_element_index_uint"),OES_standard_derivatives:this.gl.getExtension("OES_standard_derivatives"),OES_vertex_array_object:this.gl.getExtension("OES_vertex_array_object")};t.OES_standard_derivatives||(this.xE=!1),Object.keys(t).forEach((e=>{null===t[e]&&n.push(e)}));const e={OES_texture_float:this.gl.getExtension("OES_texture_float")};this.sz=!!e.OES_texture_float,this.gl1={ctx:this.gl,iz:t,optional:e}}const r=n;if(r.length>0&&!1!==t.Hn){const t=Ho.document.createElement("div");t.innerText="LightningChart JS: Some features might not work properly, due to missing WebGL features.",t.style.cssText="position:absolute;top:0;background:red;width:100%;padding:10px;text-align:center;color:white;z-index:1;";const e=Ho.document.createElement("button");e.innerText="X",e.addEventListener("click",(()=>{t.parentElement&&t.parentElement.removeChild(t)})),Ho.document.body.appendChild(t),t.appendChild(e),Ho.console.warn("LightningChart JS - Following WebGL extensions could not be loaded:",r.join(", "))}if(this.ez=this.KE?this.hz(this.tz?this.HE.bind(this):this.VE.bind(this)).bind(this):this.rz(this.tz?this.XE.bind(this):this.UE.bind(this)).bind(this),Ho.ResizeObserver){const t=t=>{for(const e of t)e.target===this.WE&&this.nz()};this.Zn=new Ho.ResizeObserver(t.bind(this)),this.Zn.observe(this.WE)}if(this.oz=((t,e)=>{const i=t,s=new Map,n=new Map,r=new Map,o={totalMs:0,vertexShaders:0,fragmentShaders:0,programs:0},a=function(t,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const n=[],r=[],o={allAttributeNames:Array.from(t.matchAll(/attribute\s[^\s]*\s(.*);/g)).map((t=>t[1])),allUniformNames:Array.from(t.matchAll(/uniform\s[^\s]*\s(.*);/g)).map((t=>t[1])),allVaryingNames:Array.from(t.matchAll(/varying\s[^\s]*\s(.*);/g)).map((t=>t[1])),removedVariableNames:[]};if(e){const e=t.match(/#extension.*/g);e&&r.push(...e),t=t.replace(/#extension.*/g,"")}else if(n.push("#version 300 es"),(t=(t=(t=t.replace(/#extension.*/g,"")).replace(/attribute/g,"in")).replace(/texture2D/g,"texture")).includes("usampler2D")&&n.push("precision highp usampler2D;"),"vertex"===i)t=t.replace(/varying/g,"out");else{t=t.replace(/varying/g,"in");const e=s.find((t=>"fragOutput"===t.type));t=(t=e?"out ".concat(e.fragOutput," fragOutput;\n").concat(t):"out vec4 fragOutput;\n".concat(t)).replace(/gl_FragColor/g,"fragOutput")}return r&&n.push(...r),n.push("precision highp float;"),n.push("precision highp int;"),{source:t="".concat(n.join("\n"),"\n").concat(t),info:o}};return function(){const t=e?"webgl1":"webgl2";let l,h,c,u,d,f,p,g,m;try{const e=Ho.performance.now();for(var y=arguments.length,v=new Array(y),b=0;b<y;b++)v[b]=arguments[b];l=v.filter((t=>!1!==t&&void 0!==t)),h=((t,e)=>{const i=t.map((i=>i.apply(t,e))),s=i.map((t=>t.idVertex)).filter((t=>void 0!==t)).sort().join(" "),n=i.map((t=>t.idFragment)).filter((t=>void 0!==t)).sort().join(" "),r="vert: ".concat(s," frag: ").concat(n);let o,a=!1,l=!1;const h=[];let c;const u=[],d=[];if(i.forEach((t=>{if(t.defaultVertexShader&&(a||(o=t.defaultVertexShader)),t.vertexShader){if(o&&a&&o!==t.vertexShader)throw new _x("Conflicting vertex shader templates ".concat(o," vs ").concat(t.vertexShader),r,t);o=t.vertexShader,a=!0}if(t.vertexShaderModifiers)for(const e of t.vertexShaderModifiers)void 0!==e&&!1!==e&&h.push(e);if(t.defaultFragmentShader&&(l||(c=t.defaultFragmentShader)),t.fragmentShader){if(c&&l&&c!==t.fragmentShader)throw new _x("Conflicting fragment shader templates ".concat(c," vs ").concat(t.fragmentShader),r,t);c=t.fragmentShader,l=!0}if(t.fragmentShaderModifiers)for(const e of t.fragmentShaderModifiers)void 0!==e&&!1!==e&&u.push(e);t.hints&&t.hints.forEach((t=>{t&&d.push(t)}))})),!o)throw new _x("No vertex shader template defined",r);if(!c)throw new _x("Fragment shader not defined",r);return{id:r,vertexShader:{id:s,template:o,modifiers:h},fragmentShader:{id:n,template:c,modifiers:u},hints:d}})(l,t);const x=r.get(h.id);if(c="new",x)return c="existing",f=x.vertexShaderSrc,p=x.fragmentShaderSrc,x;const S=h.vertexShader.id;let A=s.get(S);if(A)f=A.src,u="existing";else{u="new";const t=new Sx(h.vertexShader.modifiers).build(Yx[h.vertexShader.template]),{source:e,info:n}=a(t,"vertex");f=e,g=n,A=new Jx(S,e,i,n),s.set(S,A),o.vertexShaders+=1}const w=h.fragmentShader;let C;const M=w.id;if(C=n.get(M),C)p=C.src,d="existing";else{d="new";const t=Xx[w.template],e=new Sx([...w.modifiers]).build(t),{source:s,info:r}=a(e,"fragment",h.hints);p=s,m=r,C=new Kx(M,s,i,r),n.set(M,C),o.fragmentShaders+=1}const k=new Zx(A,C,i,h);return r.set(h.id,k),o.programs+=1,o.totalMs+=Ho.performance.now()-e,k}catch(v){throw za(0,(()=>{const t="Unexpected LightningChart JS rendering error.\nThis can mean a bug in the library, or that it is simply used in unsupported manner (passing wrong type to method, using disposed component, etc).";return Ho.alert(t),new Error(t)}))}}})(this.gl,!this.tz),this.KR=(()=>{const t=Ho.document.createElement("canvas"),e=t.getContext("2d",{willReadFrequently:!0});if(!e)throw new No("Failed to get Text canvas rendering context");return e.fillStyle="#fff",(i,s,n,r)=>{const o="".concat(s.style," ").concat(s.weight," ").concat(s.size*n,"px ").concat(s.family);e.font=o,e.textBaseline="alphabetic",e.textAlign="left";const a=e.measureText(i);if(0===a.width)return;const l=void 0!==a.actualBoundingBoxLeft&&void 0!==a.actualBoundingBoxRight?Math.ceil(a.actualBoundingBoxLeft+a.actualBoundingBoxRight):Math.ceil(a.width),h=a.width,c=Math.round(s.size*n),u=void 0!==a.actualBoundingBoxLeft?a.actualBoundingBoxLeft:0;t.width=l>0?l:h,t.height=2*c,e.font=o,e.textBaseline="alphabetic",e.textAlign="left",r?(e.clearRect(0,0,t.width,t.height),e.fillStyle="#fff"):(e.fillStyle="rgba(255,255,255,0)",e.fillRect(0,0,t.width,t.height),e.fillStyle="#000"),e.fillText(i,u,c);const d=e.getImageData(0,0,t.width,t.height);let f=0,p=0;const g=d.width;for(let t=0;t<d.height;t+=1){for(let e=0;e<g;e+=1)if(0!==d.data[t*g*4+4*e+3]){f=t;break}if(0!==f)break}for(let t=d.height-1;t>=0;t-=1){for(let e=0;e<g;e+=1)if(0!==d.data[t*g*4+4*e+3]){p=t;break}if(0!==p)break}const m=e.canvas.height/2-f,y=p-f+1,v=g,b=new Uint8ClampedArray(v*y*1);for(let t=0;t<y;t+=1)for(let e=0;e<v;e+=1)b[1*t*v+1*e+0]=d.data[(t+f)*v*4+4*e+3];return[b,{advance:h,offsetX:u,baseline:m,glyph:i,size:Lr(v,y)}]}})(),t.az||(this.KE?this.WE.style.display="none":(this.WE.style.position="absolute",this.WE.style.top="0",this.WE.style.left="0",this.WE.style.right="0",this.WE.style.bottom="0",this.WE.style.width="100%",this.WE.style.height="100%",this.WE.style.boxSizing="content-box",this.WE.style.display="block",this.WE.style.pointerEvents="none")),this.WE.classList.add("lcjs-canvas"),t.lz&&this.WE.setAttribute("data-lcjs-id",t.lz),i||Ho.document.body.appendChild(this.WE),Ho.IntersectionObserver&&(this.uz=new Ho.IntersectionObserver((t=>{for(let e=0;e<t.length;e+=1){const i=t[e];this.RE(i)}}),{threshold:Array.from(Array(100)).map(((t,e)=>e/100))})),Ho.addEventListener("resize",this.BE,{passive:!0}),!this.tz){if(this._E=this.oz(jx["2DCompose"],jx.Color({dataType:"texture-coord-calc-gpu"}),jx.VertexLocation({axisWorldTranslation:"matrix4",normalSource:void 0,coordType:"vec4"})),!this._E.cE)throw new No("Unable to setup composition shader!");const t=this.gl,e=t.getUniformLocation(this._E.cE,"uColorTexture");if(!e)throw new No("Unable to setup composition shader! Failed to find uColorTexture");const i=t.getUniformLocation(this._E.cE,"uMatrix");if(!i)throw new No("Unable to setup composition shader! Failed to find uMatrix");this.kE=e,this.TE=i,this.FE=t.getAttribLocation(this._E.cE,"aPos"),this.wE=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.wE),t.bufferData(t.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null),this.CE=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.CE),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,0,0,1,1,1]),t.STATIC_DRAW),t.bindBuffer(t.ARRAY_BUFFER,null)}}hz(t){return e=>{this.ME=null;const i=this.gl.canvas,s=Array.from(this.vE.values());this.IE=!1,s.forEach((s=>{const n=s.OE();(this.X.x<n.x||this.X.y<n.y)&&(this.X.x=Math.max(this.X.x,n.x),this.X.y=Math.max(this.X.y,n.y),i instanceof HTMLCanvasElement&&(i.width=this.X.x,i.height=this.X.y)),s.hn&&s.cz(e),t(0,0,0,0,[s])})),this.IE&&this.nz()}}rz(t){return e=>{this.ME=null,"style"in this.gl.canvas&&!this.Un.dz&&(this.gl.canvas.style.transform="translateX(".concat(window.scrollX,"px) translateY(").concat(window.scrollY,"px)"));const i=this.gl.canvas,s=this.WE.clientHeight,n=this.WE.clientWidth;let r=0,o=0;if(i instanceof HTMLCanvasElement){i.width===n*this.YE&&i.height===s*this.YE||(i.width=n*this.YE,i.height=s*this.YE);const t=i.getBoundingClientRect();r=t.x,o=t.y}const a=Array.from(this.vE.values());this.IE=!1,a.sort(((t,e)=>t.fz()-e.fz())).forEach((t=>{t.hn&&t.cz(e)})),t(r,o,n,s,a),this.IE&&this.nz()}}nz(t){return!this.IE&&t&&(this.IE=!0),this.ME||this.$i||(this.ME=Ho.requestAnimationFrame(this.ez)),this}Az(t){const e=this.DE();return t.Gr.setAttribute("data-lcjs-engine-id",e),this.SE.set(e,t),t.gz(this.SE.size-1),t.zE(!0),this.vE.set(e,t),this.uz&&this.uz.observe(t.Gr),this.LE&&clearTimeout(this.LE),this.LE=setTimeout((()=>this.Zr()),0),this}mz(t){const e=t.Gr.getAttribute("data-lcjs-engine-id");return e?(this.SE.delete(e),this.vE.delete(e),this.uz&&this.uz.unobserve(t.Gr),t.Gr.removeAttribute("data-lcjs-engine-id"),this):this}Zr(){if(this.uz){const t=this.uz.takeRecords();for(let e=0;e<t.length;e+=1){const i=t[e];this.RE(i)}}return!this.KE&&this.QE&&Array.from(this.SE.values()).sort(((t,e)=>function(t,e){if(t===e)throw new Error("Cannot compare node with itself");const i={a:sS(t),b:sS(e)};let s;for(;i.a[i.a.length-1]===i.b[i.b.length-1];)t=i.a.pop(),e=i.b.pop(),s=t;const n=iS(eS(i.a)),r=iS(eS(i.b));if(n===r&&s){const t=s.childNodes,e={a:i.a[i.a.length-1],b:i.b[i.b.length-1]};let n=t.length;for(;n--;){const i=t[n];if(i===e.a)return 1;if(i===e.b)return-1}}return Math.sign(n-r)}(t.Gr,e.Gr))).forEach(((t,e)=>t.gz(e))),this.nz(!0),this}dP(){return this.nz(),this}yz(){this.$i||this.SE.forEach((t=>t.hm.layout()))}W(){var t;if(this.$i)return;this.$i=!0,super.W(),this.ME&&(Ho.cancelAnimationFrame(this.ME),this.ME=null),this.IE=!1,this.Zn&&(this.Zn.disconnect(),this.Zn=void 0),this.uz&&(this.uz.disconnect(),this.uz=void 0),Ho.removeEventListener("resize",this.BE),this.BE=void 0,this.SE.forEach((t=>{t.W()})),this.SE.clear(),Array.from(this.bE.values()).forEach((t=>{t.VR(!0)})),this.bE.clear();const e=this.gl;e.deleteBuffer(this.wE),e.deleteBuffer(this.CE),this.WE&&!this.Un.WE?(this.WE.width=1,this.WE.height=1,null===(t=this.WE.parentElement)||void 0===t||t.removeChild(this.WE),this.WE=void 0):this.WE=void 0,this.oz=void 0,this.KR=void 0,this.ez=()=>{},this.iz.WEBGL_lose_context&&this.iz.WEBGL_lose_context.loseContext()}}const oS=(t,e,i,s)=>n=>{const r={theme:rx,...i,...n},o=t(r),a=e||s?ox(o,s):void 0,l=new Db(o.Un,n,o,o.W.bind(o),a);return o.uo((t=>l.zL(t))).lo((()=>l.j())).Ss(),l},aS=(t,e)=>{t.uo((t=>{e.Te(t)})).lo((()=>e.j())).Ss()},lS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new hp(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a);return aS(o,l),l},hS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new Yy(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,n);return aS(o,l),l},cS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new jv(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,n);return aS(o,l),l},uS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new rv(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,n);return aS(o,l),l},dS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new(n&&n.type?n.type:Qp)(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,void 0,n);return aS(o,l),l},fS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new(n&&n.type?n.type:wv)(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,void 0,!0!==(null==n?void 0:n.disableAnimations)&&!1!==(null==n?void 0:n.animationsEnabled));return aS(o,l),l},pS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new(n&&n.type?n.type:pv)(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,void 0,n);return aS(o,l),l},gS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new(n&&n.type?n.type:Iv)(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,void 0,n);return aS(o,l),l},mS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new jg(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,n,void 0);return aS(o,l),l},yS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new Rg(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,void 0,n);return aS(o,l),l},vS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new mb(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,void 0);return aS(o,l),l},bS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new kb(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,void 0,n);return aS(o,l),l},xS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new Zy(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,n);return aS(o,l),l},SS=(t,e,i,s)=>n=>{const r={...i,...n,theme:(null==n?void 0:n.theme)||rx},o=t(r),a=e||s?ox(o,s):void 0,l=new Gb(o.Un,Yv(o,1).DI(0),Fo,o.W.bind(o),a,n);return aS(o,l),l};function AS(t,e,i,s,n,r){let o=e.x.ct(t.max.x),a=e.x.ct(t.min.x),l=e.y.ct(t.max.y),h=e.y.ct(t.min.y),c=o-a,u=l-h;if(c<1){const t=(a+o)/2;a=t-.5,o=t+.5,c=1}if(u<1){const t=(h+l)/2;h=t-.5,l=t+.5,u=1}const d=c/u,f=c*i.x,p=u*i.y,g=c-f,m=u-p,y=f>g?[g,f]:[f,g],v=p>m?[m,p]:[p,m];let b,x,S=1,A=1;switch(s){default:case bo.closestSide:if(b=y[0]/c,x=v[0]/u,n===vo.circle){const t=Math.min(b*d,x);S=t,A=t}else S=b*d,A=x;break;case bo.farthestSide:if(b=y[1]/c,x=v[1]/u,n===vo.circle){const t=Math.max(b*d,x);S=t,A=t}else S=b*d,A=x;break;case bo.closestCorner:if(x=v[0]/u,n===vo.circle){b=y[0]/c*d;const t=Math.sqrt(b*b+x*x);S=t,A=t}else{b=y[0]/c;const t=Math.sqrt(b*b+x*x);S=t*d,A=t}break;case bo.farthestCorner:if(x=v[1]/u,n===vo.circle){b=y[1]/c*d;const t=Math.sqrt(b*b+x*x);S=t,A=t}else{b=y[1]/c;const t=Math.sqrt(b*b+x*x);S=t*d,A=t}}return{bounds:[a*r,h*r,c*r,u*r],center:[i.x*d,i.y],distance:[Math.max(S,1e-4),Math.max(A,1e-4)],aspectRatio:d}}function wS(t,e,i,s){const n=e.x.ct(t.max.x),r=e.x.ct(t.min.x),o=e.y.ct(t.max.y),a=e.y.ct(t.min.y),l=n-r,h=o-a,c=Math.abs(l*Math.sin(i))+Math.abs(h*Math.cos(i)),u=Lr(l/2-Math.sin(i)*(c/2),h/2-Math.cos(i)*(c/2)),d=Lr(l/2+Math.sin(i)*(c/2),h/2+Math.cos(i)*(c/2));return{bounds:[r*s,a*s,l*s,h*s],startPoint:[u.x*s,u.y*s],endPoint:[d.x*s,d.y*s]}}class CS{constructor(t){this.RR=t}}class MS{constructor(){this.pz=new Array,this.Sz=t=>(this.pz.push(t),t),this.vz=this.Sz(new Map),this.bz=this.Sz(new Map),this.xz=this.Sz(new Map),this.Mz=this.Sz(new Map),this._z=this.Sz(new Map),this.wz=this.Sz(new Map),this.Cz=this.Sz(new Map)}kz(){this.pz.forEach((t=>{t.forEach((t=>t.kz())),t.clear()}))}}const kS=(t,e,i)=>()=>{t.Tz=e,i&&i()},RS=(t,e,i,s,n)=>{const r=Math.min(i/t,s/e),o=t*r,a=e*r,l=i/o,h=s/a,c=o/i,u=a/s;let d=0,f=1,p=0,g=1;switch(n){case ad.Fill:h<l?(d=0,f=1,p=.5+-c/2,g=.5+c/2):(p=0,g=1,d=.5+-u/2,f=.5+u/2);break;case ad.Fit:h<l?(p=0,g=1,d=.5+-l/2,f=.5+l/2):(d=0,f=1,p=.5+-h/2,g=.5+h/2);break;case ad.Center:{const n=i/t,r=s/e;d=.5+-n/2,f=.5+n/2,p=.5+-r/2,g=.5+r/2}break;case ad.Tile:d=0,f=i/t,p=0,g=s/e;break;case ad.Stretch:default:d=0,f=1,p=0,g=1}return new Float32Array([d,g,f,g,f,p,d,p])};class ES{constructor(t,e){if(this.Fz=0,this.Iz=0,this.Pz=!1,this.Tz=!1,this.Dz=!1,this.Bz=!1,this.Lz=!1,this.Rz=new Set,this.Ez=new Set,this.rc=e,this.uE=t,this.zz=null,this.Pz=e instanceof Ho.HTMLVideoElement,this.rc instanceof Ho.HTMLImageElement)this.rc.addEventListener("load",(()=>{this.Bz=!0,this.Vz()})),this.rc.addEventListener("error",(()=>{this.Lz=!0})),this.rc.complete&&(this.Bz=!0,this.Vz());else if(this.rc instanceof Ho.HTMLVideoElement){const t=this;this.rc.addEventListener("canplay",(function(){t.Iz=this.videoHeight,t.Fz=this.videoWidth,t.Bz=!0,t.Vz()}),!0),this.rc.addEventListener("play",kS(this,!0,(()=>this.Vz()))),this.rc.addEventListener("playing",kS(this,!0,(()=>this.Vz()))),this.rc.addEventListener("pause",kS(this,!1)),this.rc.addEventListener("ended",kS(this,!1)),this.rc.readyState>=1&&(this.Fz=this.rc.videoWidth,this.Iz=this.rc.videoHeight,this.Tz=!this.rc.paused,this.Bz=!0,this.Vz())}else this.Bz=!0,this.Vz()}jR(t){0===this.Ez.size&&this.Bz&&this.Vz(),this.Ez.add(t)}ZR(t){this.Ez.delete(t),0===this.Ez.size&&this.unbindResources()}Oz(t){this.Rz.add(t),this.Dz&&(t(),this.Nz(t))}Nz(t){this.Rz.delete(t)}Vz(){if(this.Lz||this.Dz||!this.Bz)return;const t=this.uE.gl;if(!this.zz&&this.rc&&t){this.zz=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.zz),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);const e=0,i=t.RGBA,s=t.RGBA,n=t.UNSIGNED_BYTE,r=this.rc,o=this.Fz>0?this.Fz:r.width,a=this.Iz>0?this.Iz:r.height;t.texImage2D(t.TEXTURE_2D,e,i,s,n,r),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),this.Fz=o,this.Iz=a,t.bindTexture(t.TEXTURE_2D,null)}this.Dz=!0,this.Rz&&this.Rz.forEach((t=>{t(),this.Nz(t)}))}Ps(){const t=this.uE.gl;if(!this.Lz&&this.Dz&&this.zz){const e=0,i=t.RGBA,s=t.RGBA,n=t.UNSIGNED_BYTE,r=this.rc;r&&(t.bindTexture(t.TEXTURE_2D,this.zz),t.texImage2D(t.TEXTURE_2D,e,i,s,n,r))}}Gz(){return this.zz}unbindResources(){return this.Dz&&(this.zz&&(this.uE.OR(this.zz),this.zz=null),this.Dz=!1),this}}class TS extends cu{constructor(t,e,i){super(t.us,e,i),this.iS=!0,this.jp={},this.qp=Ur(sd),this.ks=t,this.dt=t.dt}Wz(){var t;return this.qp.i&&this.qp.M().type!==(null===(t=this.Uz)||void 0===t?void 0:t.type)}nS(t){return this.iS=t,this}Yz(t){return this.jp=t,this}}class IS{constructor(t){this.pV=[],this.RR=t}SV(t,e){((t,e,i,s)=>{const n=t.$z(),r=Math.round(Math.min(i.spread,10)*n),o=Math.round(Math.min(i.blur,10)*n),a={x:Math.round(i.offset.x*n),y:Math.round(i.offset.y*n)},l=t.Xz(),h=t.jz(),c=t.Zz(),u=t.Qz(),d=t.Jz();t.Kz("disabled"),t.nS(!1),t.qz(!1);const f=e.tV(),p=r+o/2;((t,e,i,s)=>{const n=t.gl,r=t.$z(),o=t.iV();t.sV(n.FRAMEBUFFER,s.frameBuffer),n.bindRenderbuffer(n.RENDERBUFFER,s.depthBuffer),n.bindTexture(n.TEXTURE_2D,s.texture),n.clearDepth(1),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT);const a=s.sizeDpr;t.eV(0,0,a.x,a.y),e.forEach((e=>{let s;if(e instanceof du?s=e.ks.km():e instanceof TS&&(s=e.ks.Kv()),s){const e=s.x+i.left,n=s.y+i.bottom,o=Math.max(s.width-(i.left+i.right),0),a=Math.max(s.height-(i.bottom+i.top),0);t.hV(e*r,n*r,o*r,a*r)}else t.qz(!1);e.zL(2)})),t.sV(n.FRAMEBUFFER,o),n.bindRenderbuffer(n.RENDERBUFFER,null),n.bindTexture(n.TEXTURE_2D,null),t.qz(!1)})(t,s,{left:p+(a.x<0?-a.x:0),top:p+(a.y>0?a.y:0),right:p+(a.x>0?a.x:0),bottom:p+(a.y<0?-a.y:0)},f);let g=f;const m=r+o+5,y=((t,e,i,s)=>{const n=(t=>{const e=[];for(let i=0;i<t.length;i+=1){let s,n=t[i];do{const t=e.findIndex((t=>nl(n,t)));s=t>=0?e[t]:void 0,s&&(e.splice(t,1),n=yl(n,s))}while(s);e.push(n)}return e})(e.map((t=>{const e=t instanceof du||t instanceof TS?t.ks.rV(t):el;if(_a(e))return el;const n={min:{x:Math.max(e.min.x-i.left,0),y:Math.max(e.min.y-i.bottom,0)},max:{x:Math.min(e.max.x+i.right,s.x),y:Math.min(e.max.y+i.top,s.y)}};return n.max.x<=n.min.x||n.max.y<=n.min.y?el:n})).filter((t=>!_a(t)))),r=6*n.length,o=new Float32Array(4*r);let a=0;return n.forEach((t=>{const e=Tl(t.min,s),i=Tl(t.max,s),n=e,r=i;o[a+0]=e.x,o[a+1]=e.y,o[a+2]=n.x,o[a+3]=n.y,o[a+4]=i.x,o[a+5]=e.y,o[a+6]=r.x,o[a+7]=n.y,o[a+8]=i.x,o[a+9]=i.y,o[a+10]=r.x,o[a+11]=r.y,o[a+12]=i.x,o[a+13]=i.y,o[a+14]=r.x,o[a+15]=r.y,o[a+16]=e.x,o[a+17]=i.y,o[a+18]=n.x,o[a+19]=r.y,o[a+20]=e.x,o[a+21]=e.y,o[a+22]=n.x,o[a+23]=n.y,a+=24})),{vertexBuffer:t.nV(o),vertexCount:r}})(t,s,{left:m+(a.x<0?-a.x:0),top:m+(a.y>0?a.y:0),right:m+(a.x>0?a.x:0),bottom:m+(a.y<0?-a.y:0)},e.oV()),v=e.tV(f,g),b=t.oz(jx["2D"],jx.Glow1D({spreadPx:r,blurPx:o,firstPass:!0}),jx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:"linear",normalSource:void 0}));((t,e,i,s,n,r)=>{const o=t.gl,a=t.iV();t.sV(o.FRAMEBUFFER,i.frameBuffer),o.bindRenderbuffer(o.RENDERBUFFER,i.depthBuffer),o.bindTexture(o.TEXTURE_2D,i.texture),o.clearDepth(1),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),t.eV(0,0,i.sizeDpr.x,i.sizeDpr.y),t.aV(s,((a,l,h,c)=>(t.jR(s),r&&r(a),t.dV(a("uIsHighlighted"),0).AR(a("uHighlightColorOffset"),Qr).dV(a("uRenderEffectMask"),0).cV(a("uTexture"),e.texture,0).uV(c("uTextureSize"),[e.sizeDpr.x,e.sizeDpr.y]).uV(a("uScale"),i.uniforms.fV()).uV(a("uDisp"),i.uniforms.AV()).uV(a("uScaling"),[i.size.x,i.size.y]).uV(a("uTranslationAxis"),[0,0]).lV(n.vertexBuffer,void 0,{location:l("aPos"),size:2},{location:l("aTextureCoord"),size:2}).Ky(o.TRIANGLES,n.vertexCount,0),!0))),t.sV(o.FRAMEBUFFER,a),o.bindRenderbuffer(o.RENDERBUFFER,null),o.bindTexture(o.TEXTURE_2D,null)})(t,g,v,b,y,((e,i,s,n)=>(t.uV(e("uOffsetPx"),[a.x,a.y]),!0))),g=v,t.qz(h),t.gV(d);const x=t.oz(jx["2D"],jx.Glow1D({spreadPx:r,blurPx:o,firstPass:!1}),jx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:"linear",normalSource:void 0}));((t,e,i,s,n)=>{const r=t.gl,o={x:t.us.oi().x,y:t.us.oi().y};t.eV(0,0,o.x*t.$z(),o.y*t.$z());const a=Fo.d2({scaleXYConstructor:eh}).q(o).Vi(0,o.x).Oi(0,o.y),l=new DS;l.mV(a),t.aV(i,((a,h,c,u)=>(t.jR(i),n&&n(a),t.dV(a("uIsHighlighted"),0).AR(a("uHighlightColorOffset"),Qr).dV(a("uRenderEffectMask"),0).cV(a("uTexture"),e.texture,0).uV(u("uTextureSize"),[e.sizeDpr.x,e.sizeDpr.y]).uV(a("uScale"),l.fV()).uV(a("uDisp"),l.AV()).uV(a("uScaling"),[o.x,o.y]).uV(a("uTranslationAxis"),[0,0]).lV(s.vertexBuffer,void 0,{location:h("aPos"),size:2},{location:h("aTextureCoord"),size:2}).Ky(r.TRIANGLES,s.vertexCount,0),!0)))})(t,f,x,y,((e,s,n,r)=>(t.cV(e("uTextureFirstGlowPass"),v.texture,1).AR(e("uGlowColor"),i.color),!0))),t.eV(l.x,l.y,l.width,l.height),t.Kz(c),t.nS(u),t.yV(y.vertexBuffer)})(this.RR,this,e,t)}oV(){const t=this.RR.us.oi();return{x:Math.ceil(t.x),y:Math.ceil(t.y)}}tV(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=this.pV,n=this.oV(),r={x:Math.ceil(n.x*this.RR.$z()),y:Math.ceil(n.y*this.RR.$z())},o=this.RR.gl,a=s.find((t=>!e.includes(t)));if(a)return a.sizeDpr.x===r.x&&a.sizeDpr.y===r.y||(a.size=n,a.sizeDpr=r,o.bindTexture(o.TEXTURE_2D,a.texture),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,r.x,r.y,0,o.RGBA,o.UNSIGNED_BYTE,null),o.bindRenderbuffer(o.RENDERBUFFER,a.depthBuffer),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,r.x,r.y),o.bindTexture(o.TEXTURE_2D,null),o.bindRenderbuffer(o.RENDERBUFFER,null),a.scale.q(n).Vi(0,n.x).Oi(0,n.y),a.uniforms.mV(a.scale)),a;const l=o.createTexture(),h=this.RR.vV(),c=this.RR.bV();o.bindTexture(o.TEXTURE_2D,l),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,r.x,r.y,0,o.RGBA,o.UNSIGNED_BYTE,null),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);const u=this.RR.iV();this.RR.sV(o.FRAMEBUFFER,h),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,l,0),o.bindRenderbuffer(o.RENDERBUFFER,c),o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_COMPONENT16,r.x,r.y),o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_ATTACHMENT,o.RENDERBUFFER,c),o.bindTexture(o.TEXTURE_2D,null),this.RR.sV(o.FRAMEBUFFER,u),o.bindRenderbuffer(o.RENDERBUFFER,null);const d=Fo.d2({scaleXYConstructor:eh}).q(n).Vi(0,n.x).Oi(0,n.y),f=new DS;f.mV(d);const p={size:n,sizeDpr:r,texture:l,frameBuffer:h,depthBuffer:c,scale:d,uniforms:f};return s.push(p),p}W(){[this.pV].forEach((t=>{t.forEach((t=>{this.RR.xV(t.depthBuffer),this.RR.MV(t.frameBuffer),this.RR.OR(t.texture)})),t.length=0}))}}class PS{constructor(t,e,i,s){var n=this;let r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];this._V=new MS,this.wV=new Map,this.CV=new Map,this.kV=[],this.jE=1,this.IS_MACHINE_LITTLE_ENDIAN=(()=>{const t=new Uint32Array([287454020]),e=new Uint8Array(t.buffer);return 68===e[0]||17!==e[0]&&(Ho.console.error("Unidentified machine endianness. Some features might behave unexpectedly."),!0)})(),this.iS=!1,this.uV=(t,e)=>{let[i,s]=e;return void 0===t||this.gl.uniform2f(t,i,s),this},this.TV=(t,e)=>{let[i,s]=e;return void 0===t||this.gl.uniform2i(t,i,s),this},this.FV=(t,e)=>{let[i,s,n,r]=e;return void 0===t||this.gl.uniform4f(t,i,s,n,r),this},this.IV=(t,e)=>{let[i,s,n]=e;return void 0===t||this.gl.uniform3f(t,i,s,n),this},this.PV=(t,e)=>(void 0===t||this.gl.uniformMatrix3fv(t,!1,e),this),this.DV=(t,e)=>(void 0===t||this.gl.uniformMatrix4fv(t,!1,e),this),this.AR=(t,e)=>(void 0===t||this.gl.uniform4f(t,e.r,e.g,e.b,e.a),this),this.dV=(t,e)=>(void 0===t||this.gl.uniform1f(t,e),this),this.BV=(t,e)=>(this.gl.uniform1i(t,e),this),this.cV=(t,e,i)=>{if(void 0===t)return this;if(e){const s=this.gl.TEXTURE0+i;return this.gl.activeTexture(s),this.gl.bindTexture(this.gl.TEXTURE_2D,e),this.gl.uniform1i(t,i),this}throw new No("Could not bind a texture.")},this.LV=t=>(((t,e)=>{e===ad.Tile?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)):(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE))})(this.gl,t),this),this.nV=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Float32Array;const r=t.length,o=n.RV(r,i);if(n.gl.bindBuffer(n.gl.ARRAY_BUFFER,o),n.gl.bufferData(n.gl.ARRAY_BUFFER,t instanceof s?t:new s(t),e?n.gl.DYNAMIC_DRAW:n.gl.STATIC_DRAW),n.gl.bindBuffer(n.gl.ARRAY_BUFFER,null),o)return o;throw new No("Could not create vertex buffer")},this.EV=function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Float32Array;const r=i||n.gl.createBuffer();if(n.gl.bindBuffer(n.gl.ARRAY_BUFFER,r),e&&e.length===t?n.gl.bufferData(n.gl.ARRAY_BUFFER,e instanceof s?e:new s(e),n.gl.STATIC_DRAW):(n.gl.bufferData(n.gl.ARRAY_BUFFER,new s(t),n.gl.STATIC_DRAW),e&&n.gl.bufferSubData(n.gl.ARRAY_BUFFER,0,e instanceof s?e:new s(e))),n.gl.bindBuffer(n.gl.ARRAY_BUFFER,null),r)return r;throw new No("Could not create vertex buffer")},this.zV=function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Float32Array;n.gl.bindBuffer(n.gl.ARRAY_BUFFER,t),n.gl.bufferSubData(n.gl.ARRAY_BUFFER,e*s.BYTES_PER_ELEMENT,i instanceof s?i:new s(i)),n.gl.bindBuffer(n.gl.ARRAY_BUFFER,null)},this.VV=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n.gl.bindBuffer(n.gl.ARRAY_BUFFER,t),n.gl.bufferData(n.gl.ARRAY_BUFFER,e,i?n.gl.DYNAMIC_DRAW:n.gl.STATIC_DRAW),n.gl.bindBuffer(n.gl.ARRAY_BUFFER,null)},this.OV=(t,e)=>{const i=t.length,s=this.RV(i,e);if(this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,s),this.gl.bufferData(this.gl.ELEMENT_ARRAY_BUFFER,t,this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),s)return s;throw new No("Could not create index buffer")},this.NV=t=>{const e=this.gl.createBuffer();if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.bufferData(this.gl.ARRAY_BUFFER,t instanceof Float32Array?t:new Float32Array(t),this.gl.STATIC_DRAW),this.gl.bindBuffer(this.gl.ARRAY_BUFFER,null),e)return e;throw new No("Could not create float buffer")},this.GV=(t,e)=>(void 0===t||(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(t,2,this.gl.FLOAT,!1,0,0)),this),this.WV=(t,e)=>(void 0===t||(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.vertexAttribPointer(t,3,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(t)),this),this.lV=function(t,e){n.gl.bindBuffer(n.gl.ARRAY_BUFFER,t);for(var i=arguments.length,s=new Array(i>2?i-2:0),r=2;r<i;r++)s[r-2]=arguments[r];const o=s.length;let a=0;for(let n=0;n<o;n+=1)a+=s[n].size;for(let h=0;h<o;h+=1){const t=s[h].location;void 0!==t&&t>-1&&n.gl.enableVertexAttribArray(t)}let l=0;for(let h=0;h<o;h+=1){const t=s[h];void 0!==t.location&&t.location>-1&&n.gl.vertexAttribPointer(t.location,t.size,n.gl.FLOAT,!1,a*Float32Array.BYTES_PER_ELEMENT,l*Float32Array.BYTES_PER_ELEMENT),l+=t.size}if(void 0!==e)for(let h=0;h<o;h+=1){const t=s[h].location;void 0!==t&&t>-1&&n.UV(t,e)}return n},this.YV=function(){const t=arguments.length;for(let e=0;e<t;e+=1){const t=e<0||arguments.length<=e?void 0:arguments[e];0!==t&&t>-1&&n.gl.disableVertexAttribArray(t)}return n},this.HV=(t,e)=>(void 0===t||(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(t,4,this.gl.FLOAT,!1,0,0)),this),this.$V=(t,e,i)=>(void 0===t||(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.vertexAttribPointer(t,1,this.gl.FLOAT,!1,0,0),this.gl.enableVertexAttribArray(t),void 0!==i&&this.UV(t,i)),this),this.XV=t=>(this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,t),this),this.jV=null,this.Ky=function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e>0&&n.gl.drawArrays(t,i,e),n},this.ZV=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.gl.TRIANGLES,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.gl.UNSIGNED_SHORT;return t>0&&n.gl.drawElements(e,t,s,i),n},this.QV=(t,e,i,s)=>{if(s>0&&(this.gl2&&this.gl2.ctx.drawArraysInstanced(t,e,i,s),this.gl1)){if(!this.gl1.iz.ANGLE_instanced_arrays)return Ho.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),this;this.gl1.iz.ANGLE_instanced_arrays.drawArraysInstancedANGLE(t,e,i,s)}return this},this.JV=function(t,e,i,s){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n.gl.UNSIGNED_SHORT;if(s>0&&(n.gl2&&n.gl2.ctx.drawElementsInstanced(t,e,r,i,s),n.gl1)){if(!n.gl1.iz.ANGLE_instanced_arrays)return Ho.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),n;n.gl1.iz.ANGLE_instanced_arrays.drawElementsInstancedANGLE(t,e,r,i,s)}return n},this.UV=(t,e)=>{if(t>-1&&(this.gl2&&this.gl2.ctx.vertexAttribDivisor(t,e),this.gl1)){if(!this.gl1.iz.ANGLE_instanced_arrays)return Ho.console.warn("The browser does not support REQUIRED WebGL 1 extension: ANGLE_instanced_arrays.\nThis application will NOT work properly!"),this;this.gl1.iz.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(t,e)}return this},this.KV=function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=n.gl.TEXTURE0+s;n.gl.activeTexture(r);const o=n.iV();n.sV(n.gl.FRAMEBUFFER,e),n.gl.bindTexture(n.gl.TEXTURE_2D,i),n.gl.framebufferTexture2D(n.gl.FRAMEBUFFER,n.gl.COLOR_ATTACHMENT0,n.gl.TEXTURE_2D,i,0);const a=n.jz();a&&n.qz(!1),t(),a&&n.qz(!0),n.gl.bindTexture(n.gl.TEXTURE_2D,null),n.sV(n.gl.FRAMEBUFFER,o)},this.Nt=()=>(this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT),this),this.qV=t=>(this.gl.clearColor(t.r,t.g,t.b,t.a),this),this.jR=t=>(this.gl.useProgram(t.cE),this),this.tO=!1,this.iO=[],this.us=t,this.cA=e,this.us=t,this.gl=i.ctx,this.sO=i.antialias,this.eO=!!this.us.Qr.xE&&i.lineAntialias,this.sz=this.us.Qr.sz,this.hO=new Map,this.gl1=this.us.Qr.gl1,this.gl2=this.us.Qr.gl2,r&&(this.gV(!0),this.rO()),this.iz=this.us.Qr.iz,this.zR=this.gl.getParameter(this.gl.MAX_TEXTURE_SIZE),this.UR=this.nO(),this.oz=this.us.Qr.oz,this.oO=new zS(this),this.KR=this.us.Qr.KR,this.aO=new IS(this),this.bE=this.us.Qr.bE,this.lO=this.nV([0,0,1,0,1,1,0,1]),this.uO=this.nV([0,0,1,0,0,1,0,1,1,0,1,1])}Kz(t){return t!==this.cO&&(this.cO=t,"disabled"===t?this.gl.disable(this.gl.CULL_FACE):"cull-back"===t?(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.BACK)):"cull-front"===t&&(this.gl.enable(this.gl.CULL_FACE),this.gl.cullFace(this.gl.FRONT))),this}Zz(){return this.cO||"disabled"}nS(t){return t!==this.iS&&(this.iS=t,t?this.gl.enable(this.gl.DEPTH_TEST):this.gl.disable(this.gl.DEPTH_TEST)),this}Qz(){return this.iS}dO(t){return this.jE=t,this}$z(){return this.jE}RV(t,e){let i;if(e){const s=this.hO.get(e);s&&s.size>=t&&s.size-t<1e6?i=e:this.yV(e)}return i||(i=this.gl.createBuffer(),this.hO.set(i,{size:t})),i}fO(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.gl.RGBA,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.gl.UNSIGNED_BYTE,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:e;const l=this.gl.createTexture();if(!l)throw new No("Couldn't reserve Texture.");return this.gl.bindTexture(this.gl.TEXTURE_2D,l),this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r),t&&null===n?this.gl.texImage2D(this.gl.TEXTURE_2D,0,a,e,o,t):n&&this.gl.texImage2D(this.gl.TEXTURE_2D,0,a,n.x,n.y,0,e,o,t),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,s?this.gl.NEAREST:this.gl.LINEAR),i?(this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR_MIPMAP_LINEAR),this.gl.generateMipmap(this.gl.TEXTURE_2D)):this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,s?this.gl.NEAREST:this.gl.LINEAR),this.gl.bindTexture(this.gl.TEXTURE_2D,null),l}OR(t){this.gl.deleteTexture(t)}vV(){const t=this.gl.createFramebuffer();if(!t)throw new No("Couldn't reserve Framebuffer.");return t}sV(t,e){this.jV=e,this.gl.bindFramebuffer(t,e)}iV(){return this.jV}MV(t){this.gl.deleteFramebuffer(t)}bV(){const t=this.gl.createRenderbuffer();if(!t)throw new No("Couldn't reserve Render buffer.");return t}xV(t){this.gl.deleteRenderbuffer(t)}eV(t,e,i,s){return this.gl.viewport(t,e,i,s),this.AO&&t===this.AO.x&&e===this.AO.y&&i===this.AO.width&&s===this.AO.height||(this.AO={x:t,y:e,width:i,height:s}),this}Xz(){return this.AO||{x:0,y:0,width:0,height:0}}hV(t,e,i,s){return this.qz(!0),this.gl.scissor(Math.max(t,0),Math.max(e,0),Math.max(i,0),Math.max(s,0)),this}qz(t){return t===this.gO||(t?this.gl.enable(this.gl.SCISSOR_TEST):this.gl.disable(this.gl.SCISSOR_TEST),this.gO=t),this}gV(t){return t!==this.tO&&(this.tO=t,t&&this.gl.enable(this.gl.BLEND),t||this.gl.disable(this.gl.BLEND)),this}Jz(){return this.tO}rO(t,e,i,s){return t?(void 0!==t&&void 0!==e&&(void 0!==i&&void 0!==s?this.gl.blendFuncSeparate(t,e,i,s):this.gl.blendFunc(t,e)),this):(this.gl.blendFuncSeparate(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA,this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA),this)}jz(){return void 0!==this.gO&&this.gO}aV(t,e){const i=new NS(this,t),s=e(i.uniform,i.attribute,i,i.uniformOptional);i.finish(s)}yV(t){t&&(this.gl.deleteBuffer(t),this.hO.delete(t))}mO(t,e,i){this.uV(t.uniform("uCenter"),e.center).uV(t.uniform("uDistance"),e.distance).FV(t.uniform("uBounds"),e.bounds).dV(t.uniform("uAspect"),e.aspectRatio);const s=i.getColorStops();if(s.length<2)throw new Error("Minimum two color stops required");for(let n=0;n<s.length;n+=1)this.AR(t.uniform("color_".concat(n)),s[n].color).dV(t.uniform("stop_".concat(n)),s[n].offset);return this}yO(t,e,i){this.uV(t.uniform("uStartPoint"),e.startPoint).uV(t.uniform("uEndPoint"),e.endPoint).FV(t.uniform("uBounds"),e.bounds);const s=i.getColorStops();if(s.length<2)throw new Error("Minimum two color stops required");for(let n=0;n<s.length;n+=1)this.AR(t.uniform("color_".concat(n)),s[n].color).dV(t.uniform("stop_".concat(n)),s[n].offset);return this}Vh(t){const e=this.bE.get(t);if(!e){const e=new xx(this);return this.bE.set(t,e),e}return e}pO(t){const e=this.wV.get(t);if(!e){const e=new ES(this,t);return this.SO(t,e),e}return e}SO(t,e){this.wV.set(t,e)}nO(){const t=this.gl,e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,!1),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,1,1,0,t.ALPHA,t.UNSIGNED_BYTE,new Uint8ClampedArray([0]));const i=0===t.getError();return i||!1!==this.cA.Hn&&Ho.console.info("LightningChart JS - Uint8ClampedArray is not supported as texture data. The above WebGL error/warning is from the feature detection. There is nothing to worry about."),t.deleteTexture(e),i}vO(t,e,i,s){if(i)this.lV(e,s,{location:t.attribute("aPos_highpart"),size:2},{location:t.attribute("aPos_lowpart"),size:2});else{const i=t.attribute("aPos");this.GV(i,e),void 0!==s&&this.UV(i,s)}return this}bO(){this.iz.WEBGL_lose_context&&this.iz.WEBGL_lose_context.loseContext()}xO(t){if(this.MO&&this.MO.bufferIdsCount>=t)return this.MO.buffer;this.MO&&(this.yV(this.MO.buffer),this.MO=void 0);const e=t,i=new Float32Array(e);for(let n=0;n<e;n+=1)i[n]=n;const s=this.nV(i);return this.MO={buffer:s,bufferIdsCount:e},s}_O(){return this.gl2?void 0:"attribute"}wO(t,e){if("attribute"===this._O()){const i=this.xO(e);this.lV(i,void 0,{location:t.attribute("aVertexID"),size:1})}return this}CO(){return this.gl2?void 0:"attribute"}kO(t,e){if("attribute"===this.CO()){const i=this.xO(e);this.lV(i,1,{location:t.attribute("aInstanceID"),size:1})}return this}TO(t,e,i,s,n,r,o,a,l){const h=t.createBuffer();return this.iO.push(h),t.bindFramebuffer(t.FRAMEBUFFER,e),t.bindBuffer(t.PIXEL_PACK_BUFFER,h),t.bufferData(t.PIXEL_PACK_BUFFER,l.byteLength,t.STREAM_READ),t.readPixels(i,s,n,r,o,a,0),t.bindBuffer(t.PIXEL_PACK_BUFFER,null),t.bindFramebuffer(t.FRAMEBUFFER,null),FS(t,t.PIXEL_PACK_BUFFER,h,0,l).then((()=>l)).catch((t=>{throw t})).finally((()=>{t.deleteBuffer(h),this.iO.splice(this.iO.indexOf(h),1)}))}FO(t,e,i,s,n,r,o,a){const l=this.gl,h=this.iV();this.sV(l.FRAMEBUFFER,t),l.readPixels(e,i,s,n,r,o,a),this.sV(this.gl.FRAMEBUFFER,h)}IO(t){const e=this.CV.get(t);if(!e){const e=this.gl.createTexture();if(!e)throw new No("Couldn't reserve Texture.");this.gl.bindTexture(this.gl.TEXTURE_2D,e);const s=[];let n=255;for(let i=0;i<t.length;i+=1){for(let e=0;e<t[i];e+=1)s.push(n);n=255===n?0:255}const r=s.length;if(!this.gl2&&0!=((i=s.length)&i-1)){const t=(t=>{t-=1;for(let e=1;e<32;e<<=1)t|=t>>1;return t+1})(s.length);for(let e=s.length;e<t;e+=1)s[e]=0}this.gl.pixelStorei(this.gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.gl.pixelStorei(this.gl.PACK_ALIGNMENT,1),this.gl.pixelStorei(this.gl.UNPACK_ALIGNMENT,1),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.NEAREST),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.REPEAT),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.REPEAT),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,s.length,1,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,new Uint8Array(s)),this.gl.bindTexture(this.gl.TEXTURE_2D,null);const o={PO:e,DO:r,BO:s.length};return this.CV.set(t,o),o}var i;return e}LO(t,e,i){const{uniform:s}=t;this.AR(s("uFallbackColor"),e.getFallbackColor());for(let n=0;n<e.steps.length;n+=1)this.dV(s("uLUTValue".concat(n)),e.steps[n].value),this.AR(s("uLUTColor".concat(n)),e.steps[n].color);if(e.percentageValues){if(!i)return za(0,(()=>{})),this;this.dV(s("uMinValue"),i.min),this.dV(s("uMaxValue"),i.max)}return this}RO(t,e,i,s,n,r){const o=i&&i.getSource()||s&&s.rc,a=i?i.getFitMode():ad.Stretch,l=t=>{t.texCoordsBuffer=this.nV(r(t.texture.Fz,t.texture.Iz,a),!1,t.texCoordsBuffer)};if(o){let s=e;if((!e||o!==e.source)&&o){e&&(e.texture.ZR(t),this.yV(e.texCoordsBuffer));const n=this.pO(o);n.jR(t);const r=i?i.getSourceMissingColor():Xh.color;s={texture:n,source:o,texCoordsBuffer:this.nV([]),sourceMissingTexture:this.fO(new Uint8Array([r.getR(),r.getG(),r.getB(),r.getA()]),this.gl.RGBA,!1,!0,{x:1,y:1},!1),textureReadyCallback:()=>{s&&o&&(l(s),this.us.Ss())}},n.Oz(s.textureReadyCallback),l(s)}return s&&s.texture.Dz&&s.texture.Pz&&s.texture.Tz&&(s.texture.Ps(),this.us.Ss()),n&&s&&s.texture.Dz&&l(s),s}e&&this.EO(t,e)}EO(t,e){e&&(e.texture.ZR(t),e.texture.Nz(e.textureReadyCallback),this.OR(e.sourceMissingTexture),this.yV(e.texCoordsBuffer))}zO(t,e,i,s){const{uniform:n,uniformOptional:r,attribute:o}=t,a=i.dt,l=this.$z();this.dV(n("uIsHighlighted"),1===e||2===e?0:i.zo).AR(n("uHighlightColorOffset"),1===e||2===e?$r:i.Go).dV(n("uRenderEffectMask"),2===e?1:0).uV(r("uRatioPxClip"),[2/this.us.oi().x,2/this.us.oi().y]).dV(r("uDevicePixelRatio"),l),a instanceof eh||a instanceof nv?this.uV(n("uScale"),s.uniforms.fV()).uV(n("uDisp"),s.uniforms.AV()).uV(r("uScaleStart_highpart"),s.uniforms.VO()).uV(r("uScaleStart_lowpart"),s.uniforms.OO()):a instanceof ih&&this.uV(r("uScaleStart"),s.uniforms.MixedScaleXY.uScaleStart).uV(r("uScaleStartLog"),s.uniforms.MixedScaleXY.uScaleStartLog).uV(r("uScaleInterval"),s.uniforms.MixedScaleXY.uScaleInterval).uV(r("uScaleIntervalLog"),s.uniforms.MixedScaleXY.uScaleIntervalLog).uV(n("uViewportStart"),s.uniforms.MixedScaleXY.uViewportStart).uV(n("uViewportSize"),s.uniforms.MixedScaleXY.uViewportSize);const h=!0===s.coordsHighPrecision;if(s.coordsX)if(h){const t=o("aPos_highpartX"),e=o("aPos_lowpartX");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,s.coordsX),this.gl.vertexAttribPointer(t,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(e,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,1*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(e)}else this.$V(o("aPosX"),s.coordsX);if(s.coordsY)if(h){const t=o("aPos_highpartY"),e=o("aPos_lowpartY");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,s.coordsY),this.gl.vertexAttribPointer(t,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(e,1,this.gl.FLOAT,!1,2*Float32Array.BYTES_PER_ELEMENT,1*Float32Array.BYTES_PER_ELEMENT),this.gl.enableVertexAttribArray(e)}else this.$V(o("aPosY"),s.coordsY);if(1===e)this.AR(n("uColor"),s.mousePickingColor);else{if(s.fillStyleSolid&&this.AR(n("uColor"),s.fillStyleSolid.getColor()),s.fillStylePaletted){if("value"===s.fillStylePaletted.getLookUpProperty()&&null!==s.lookupValueBuffer){if(!s.lookupValueBuffer)return!1;const t=o("aLookupValue");this.$V(t,s.lookupValueBuffer),void 0!==s.lookupValueAttribDivisor&&this.UV(t,s.lookupValueAttribDivisor)}this.LO(t,s.fillStylePaletted.lut,s.lookupValueRange)}if(s.fillStyleLinearGradient){if(!s.linearGradientInfo)return!1;this.yO(t,s.linearGradientInfo,s.fillStyleLinearGradient)}if(s.fillStyleRadialGradient){if(!s.radialGradientInfo)return!1;this.mO(t,s.radialGradientInfo,s.fillStyleRadialGradient)}if(s.fillStyleIndividual&&null!==s.colorBuffer){if(!s.colorBuffer)return!1;const t=o("aColor");this.gl.bindBuffer(this.gl.ARRAY_BUFFER,s.colorBuffer),this.gl.vertexAttribPointer(t,4,this.gl.UNSIGNED_BYTE,!0,0,0),this.gl.enableVertexAttribArray(t),void 0!==s.colorAttribDivisor&&this.UV(t,s.colorAttribDivisor)}if(s.fillStyleImage){if(!s.texturedFillGLInfo)return!1;const t=s.texturedFillGLInfo&&s.texturedFillGLInfo.texture.Gz();this.AR(r("uColor"),s.fillStyleImage.getSurroundingColor()).cV(n("uColorTexture"),t||s.texturedFillGLInfo.sourceMissingTexture,0).lV(s.texturedFillGLInfo.texCoordsBuffer,s.texCoordAttribDivisor,{location:o("aTextureCoord"),size:2}).LV(s.fillStyleImage.fitMode)}if(s.maskTexture){const t=s.maskTexture&&s.maskTexture.texture.Gz();this.cV(n("uMaskTexture"),t||s.maskTexture.sourceMissingTexture,0).lV(s.maskTexture.texCoordsBuffer,s.maskTextureCoordsAttribDivisor,{location:o("aMaskTextureCoord"),size:2})}}return!0}NO(t,e,i){if(t)return wS(i||e.Ho(),e.dt,t.getAngle(!0),this.$z())}GO(t,e,i){if(t)return AS(i||e.Ho(),e.dt,t.getPosition(),t.getExtent(),t.getShape(),this.$z())}}const FS=async(t,e,i,s,n,r,o)=>{const a=t.fenceSync(t.SYNC_GPU_COMMANDS_COMPLETE,0);return t.flush(),((t,e,i)=>{const s=void 0!==i.flags?i.flags:0,n=void 0!==i.retryTimeout?i.retryTimeout:10;return new Promise(((i,r)=>{const o=()=>{const a=t.clientWaitSync(e,s,0);return a===t.WAIT_FAILED?r(new Error("WebGL Sync WAIT_FAILED ".concat(t.getError()))):a!==t.TIMEOUT_EXPIRED?i(void 0):void Ho.setTimeout(o,n)};Ho.setTimeout(o,0)}))})(t,a,{retryTimeout:10}).then((()=>(t.deleteSync(a),t.bindBuffer(e,i),t.getBufferSubData(e,s,n,r,o),t.bindBuffer(e,null),n))).catch((t=>{throw t}))};class DS{mV(t){if(t instanceof eh||t instanceof nv){const e=t.pi();this.WO=e.x.scaling,this.UO=-e.x.displacement,this.YO=e.y.scaling,this.HO=-e.y.displacement,this.$O=e.x.highPrecisionOffset,this.XO=e.x.highPrecisionOffset-Math.fround(e.x.highPrecisionOffset),this.jO=e.y.highPrecisionOffset,this.ZO=e.y.highPrecisionOffset-Math.fround(e.y.highPrecisionOffset)}else t instanceof ih&&(this.MixedScaleXY=t.pi());return this}AV(){return[this.UO,this.HO]}fV(){return[this.WO,this.YO]}VO(){return[this.$O,this.jO]}OO(){return[this.XO,this.ZO]}}class LS{constructor(){this.WO=0,this.YO=0,this.QO=0,this.UO=0,this.HO=0,this.JO=0}KO(t){return this.WO=t.et(),this.UO=t.getInnerStart()+.5*this.WO*t.ht(),this}qO(t){return this.YO=t.et(),this.HO=t.getInnerStart()+.5*this.YO*t.ht(),this}tN(t){return this.QO=t.et(),this.JO=t.getInnerStart()+.5*this.QO*t.ht(),this}fV(){return[this.WO,this.YO,this.QO]}AV(){return[this.UO,this.HO,this.JO]}iN(t,e,i,s,n){const r=Lr(2*(t-i.x)/(i.width-i.x)-1,2*(e-i.y)/(i.height-i.y)-1),o=Mg.multiply(s,[r.x,r.y,n,1]);return _r(o[0],o[1],o[2])}}class zS{constructor(t){this.RR=t}zL(t,e,i,s,n){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;const o=this.RR,a=void 0===s;if(!(s=s||o.vV()))throw new No("Could not bind a framebuffer.");const l=o.Xz(),h=o.Jz();o.gV(!1),o.KV((()=>{o.eV(0,0,i.x,i.y),t()}),s,e,r),a&&o.MV(s),this.RR.qV(n),this.RR.eV(l.x,l.y,l.width,l.height),o.gV(h)}}class NS{constructor(t,e){this.sN=[],this.eN=[],this.uniform=t=>{const e=this.shader.gE(t);return this.eN.push({name:t,optional:!1}),e},this.uniformOptional=t=>{const e=this.shader.mE(t);return this.eN.push({name:t,optional:!0}),e},this.attribute=t=>{const e=this.shader.yE(t);return this.sN.push({name:t,location:e}),e},this.glUtils=t,this.shader=e}finish(t){for(const e of this.sN)this.glUtils.YV(e.location),this.glUtils.UV(e.location,0)}}class _S extends du{constructor(t,e,i,s,n){super(t,e,i,s),this.hN=new Map,this.rN=t,this.nN=e,this.RR=t.oN(),this.aN=n,this.nN=e}lN(t){return!1}VR(){return this}zL(t){if(!this.aN||0!==t||0===this.hN.size)return this;const e=Array.from(this.hN.values()).map((t=>t.uN.filter((t=>t.cN)).map((t=>t.ts)).flat().filter((t=>void 0!==t)).filter((t=>t.getVisible())))).flat();if(0===e.length)return this;const i=this.aN;return this.RR.aO.SV(e,i),this}Ps(){return this}bt(){return 0}vt(){return 0}Mt(){return 0}xt(){return 0}vl(){return 0}bl(){return 0}hs(t,e){const i={uN:[]},s=(t,e)=>{const s={ts:t||[],cN:void 0===e||e};i.uN.push(s);const n={fs:t=>(s.ts=t,n),ps:t=>(s.cN=t,n),vs:()=>s.cN};return n},n={};Object.keys(e).forEach((t=>{const i=e[t],r=i.shapes||[],o=void 0===i.themeEffectEnabled||i.themeEffectEnabled,a=s(r,o);n[t]=a}));const r={yg:s,...n};this.hN.set(t,i);const o=t.onDispose((()=>{this.hN.delete(t),t.offDispose(o)}));return r}}const VS=(t,e,i)=>((t,e,i)=>{const s=[];let n=0;const r=Ml(e,i/2);let o,a,l,h,c=t[t.length-1],u=0;for(let d=0;d<t.length;d+=1){o=t[d],a=d===t.length-1?t[0]:t[d+1],d>0&&(c=t[d-1]),Go(o,c)&&(c=kl(o,Al(Ml(Rl(a,o),-1)))),Go(o,a)&&(a=kl(o,Al(Ml(Rl(c,o),-1))));const i=Tl(c,e),f=Tl(o,e),p=Tl(a,e),g=Al(Rl(f,i)),m=Al(Rl(p,f)),y=kl(g,m),v=Lr(-y.y,y.x),b=Lr(-g.y,g.x),x=1/Pl(v,b),S=Cl(v),A=Al(Rl(g,m)),w=Math.sign(Pl(v,A))||1,C=El(v,Ml(r,x)),M=El(v,Ml(r,-x));if(S<1||x===1/0){let t={x:0,y:0},e={x:0,y:0},i={x:0,y:0},l={x:0,y:0};const h=Lr(-m.y,m.x),d=Math.sign(Pl(g,v))||w,f=El(b,Ml(r,d)),p=El(h,Ml(r,d));1===w?(t=f,e=M,i=p,l=M):(t=C,e=f,i=C,l=p);const y=4*ul(c,o),S=4*ul(o,a);(x>y||x>S)&&(1===w?(t=f,e=p,i=p,l=f):(t=p,e=f,i=f,l=p));const A=kl(o,t),k=kl(o,e),R=kl(o,i),E=kl(o,l);s[n]=A,n+=1,s[n]=k,n+=1,s[n]=R,n+=1,s[n]=E,n+=1,u=4}else{const t=kl(o,C),e=kl(o,M);s[n]=t,n+=1,s[n]=e,n+=1,u=2}h=l,l=t[d]}return s[n]=s[0],n+=1,s[n]=s[1],n+=1,[s,u,[h,l]]})(t,e,i)[0];class BS extends Ru{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n),this.aE=new DS,this.dN=el,this.fN=el,this.AN=mx({arcStyleSolid:()=>co(this.be)&&this.be,arcStyleRadialGradient:()=>wo(this.be)&&this.be,arcStyleLinearGradient:()=>ko(this.be)&&this.be}),this.rN=t,this.nN=e,this.gN=r,this.mN=o,this.RR=t.oN()}yN(t,e){let i=0,s=Array(0),n=0;if(void 0!==e){const n=t.length,r=Array(n+e.length);let o=0,a=0;for(;o<n;)r[a]=t[o],r[a+1]=e[o],a+=2,o+=1;s=r,i=this.RR.gl.TRIANGLE_STRIP}else s=t,i=this.RR.gl.TRIANGLE_FAN;const r=ya(s,this.dt._i());return n=s.length,[s,this.RR.nV(r),n,i]}pN(t,e,i,s){let n=Array(0);if(void 0===e)n=t;else{let i=0,s=0;const r=t.length;for(i=0,s=r,n=Array(r+e.length-2),e.reverse();i<r;)n[i]=t[i],n[s]=e[i],s+=1,i+=1}if(1===i||-1===i)return[ya(n,this.dt._i()),n.length];const r=VS(n,s,i);return[ya(r,this.dt._i()),r.length]}Ps(){const t=this.sa(),e=this.Bo.M();if(this.ea()){const i=Math.abs(this.Fi.M()-this.Gl.M());this.aE.mV(this.dt);const s=this.dt.Ni()||t,n=this.dt.Wi(),r=this.Wl.M(),o=this.Ul.M(),[a,l]=Av(this.ua.M(),this.Gl.M(),this.Fi.M(),this.Wl.M(),this.Ul.M(),this.Hl.M()),h=this.Yl.M(),c=h>0?Av(this.ua.M(),this.Gl.M(),this.Fi.M(),this.Wl.M()*h/100,this.Ul.M()*h/100,l)[0]:[this.ua.M()],u=a.length-1;if(2===u){const t=(a[u-1].x+a[1].x)/2,e=(a[u-1].y+a[1].y)/2;this.$l=Lr(t,e)}else{const t=Math.floor(u/2);this.$l=Lr(a[t].x,a[t].y)}this.Xl=a[1];const d=a.length-1;this.jl=a[d],this.Yl.M()&&(a.shift(),c.shift());let f=!1;(this.ua.i||this.Gl.i||this.Fi.i||this.Wl.i||this.Ul.i||this.Yl.i||this.Hl.i||s)&&(this.fN=Br(Lr(this.Fa().x-r,this.Fa().y-o),Lr(this.Fa().x+r,this.Fa().y+o)),f=!0,this.ua.i=!1,this.Gl.i=!1,this.Fi.i=!1,this.Wl.i=!1,this.Ul.i=!1,this.Yl.i=!1,this.Hl.i=!1);const p=this.ta();(f||p)&&this.be!==ro&&(this.Yl.M()?(this.SN&&this.RR.yV(this.SN),[this.vN,this.SN,this.bN,this.xN]=this.yN(a,c)):(this.SN&&this.RR.yV(this.SN),[this.vN,this.SN,this.bN,this.xN]=this.yN(a,void 0)),wo(this.be)?this.MN=AS(this.fN,this.dt,this.be.getPosition(),this.be.getExtent(),this.be.getShape(),this.RR.$z()):ko(this.be)?this._N=wS(this.fN,this.dt,this.be.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0));const g=this.AN.arcStyleSolid(p),m=this.AN.arcStyleLinearGradient(p),y=this.AN.arcStyleRadialGradient(p),v=g||m||y;p&&(this.wN=v?this.RR.oz(jx["2D"],jx.Color({dataType:wo(this.be)||ko(this.be)?["gradient",this.be]:"uniform"}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0,this.ha(this.be));const b=this.xe;if(vh(b)&&(f||this.oa(b.getThickness())||s)){this.Yl.M()?360===i?(a.pop(),c.pop(),[this.CN,this.kN]=this.pN(a,void 0,b.getThickness(),n),this.TN&&this.CN?this.RR.VV(this.TN,this.CN,!0):!this.TN&&this.CN?this.TN=this.RR.nV(this.CN,!0):this.TN&&!this.CN&&(this.RR.yV(this.TN),this.TN=void 0),[this.FN,this.IN]=this.pN(c,void 0,b.getThickness(),n),this.PN&&this.FN?this.RR.VV(this.PN,this.FN,!0):!this.PN&&this.FN?this.PN=this.RR.nV(this.FN,!0):this.PN&&!this.FN&&(this.RR.yV(this.PN),this.PN=void 0)):([this.CN,this.kN]=this.pN(a,c,b.getThickness(),n),this.TN&&this.CN?this.RR.VV(this.TN,this.CN,!0):!this.TN&&this.CN?this.TN=this.RR.nV(this.CN,!0):this.TN&&!this.CN&&(this.RR.yV(this.TN),this.TN=void 0),this.FN&&(this.PN&&this.RR.yV(this.PN),this.PN=void 0,this.IN=0)):(360===i&&(a.shift(),a.pop()),[this.CN,this.kN]=this.pN(a,void 0,b.getThickness(),n),this.TN&&this.CN?this.RR.VV(this.TN,this.CN,!0):!this.TN&&this.CN?this.TN=this.RR.nV(this.CN,!0):this.TN&&!this.CN&&(this.RR.yV(this.TN),this.TN=void 0));const t=b.getFillStyle();wo(t)?this.DN=AS(this.fN,this.dt,t.getPosition(),t.getExtent(),t.getShape(),this.RR.$z()):ko(t)?this.LN=wS(this.fN,this.dt,t.getAngle(!0),this.RR.$z()):(this.DN=void 0,this.LN=void 0),this.RN=t===ro?void 0:this.RR.oz(jx["2D"],jx.Color({dataType:wo(t)||ko(t)?["gradient",t]:"uniform"}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})),this.aa(b)}if(f){let t=1,e=1;vh(b)&&(t=b.getThickness()*n.x,e=b.getThickness()*n.y),this.dN=Br(Lr(this.fN.min.x-t,this.fN.min.y-e),Lr(this.fN.max.x+t,this.fN.max.y+e))}this.EN=e&&v?this.EN||this.RR.oz(jx["2D"],jx.MousePicking,jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0,this.zN=e&&this.xe!==Eo?this.zN||this.RR.oz(jx["2D"],jx.MousePicking,jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0}return this}zL(t){if(this.ea()){const e=1===t?this.EN:this.wN,i=this.be,s=this.SN;e&&s&&this.RR.jR(e).aV(e,((e,n,r,o)=>{if(this.RR.uV(e("uScale"),this.aE.fV()).uV(e("uDisp"),this.aE.AV()).uV(o("uScaleStart_highpart"),this.aE.VO()).uV(o("uScaleStart_lowpart"),this.aE.OO()).vO(r,s,this.dt._i(),void 0).dV(e("uIsHighlighted"),1===t||2===t?0:this.zo).AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0),1===t)this.RR.AR(e("uColor"),this.mN);else if(co(i))this.RR.AR(e("uColor"),i.getColor());else if(wo(i)){if(!this.MN)return!1;this.RR.mO(r,this.MN,i)}else if(ko(i)){if(!this._N)return!1;this.RR.yO(r,this._N,i)}return this.RR.Ky(this.xN,this.bN),!0}));const n=this.xe;vh(n)&&(void 0!==this.TN&&this.VN(t,this.TN,this.kN,n),void 0!==this.PN&&this.VN(t,this.PN,this.IN,n))}return this}VN(t,e,i,s){const n=1===t?this.zN:this.RN,r=s.getFillStyle();n&&this.RR.jR(n).aV(n,((n,o,a,l)=>{if(this.RR.uV(n("uScale"),this.aE.fV()).uV(n("uDisp"),this.aE.AV()).vO(a,e,this.dt._i(),void 0).dV(n("uIsHighlighted"),1===t||2===t?0:this.zo).AR(n("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(n("uRenderEffectMask"),2===t?1:0),1===t)this.RR.AR(n("uColor"),this.mN);else if(co(r))this.RR.AR(n("uColor"),r.getColor());else if(wo(r)){if(!this.DN)return!1;this.RR.mO(a,this.DN,r)}else if(ko(r)){if(!this.LN)return!1;this.RR.yO(a,this.LN,r)}const h=s.getThickness(),c=-1===h||1===h;return this.RR.Ky(c?this.RR.gl.LINE_LOOP:this.RR.gl.TRIANGLE_STRIP,i),!0}))}lN(t){return this.gN===t&&{}}VR(){return this.ON&&(this.RR.yV(this.ON),this.ON=void 0),this.NN&&(this.RR.yV(this.NN),this.NN=void 0),this.SN&&(this.RR.yV(this.SN),this.SN=void 0),this.TN&&(this.RR.yV(this.TN),this.TN=void 0),this.PN&&(this.RR.yV(this.PN),this.PN=void 0),this.wN=void 0,this.RN=void 0,this.EN=void 0,this.zN=void 0,this}bt(){return this.fN.max.x}vt(){return this.fN.min.x}Mt(){return this.fN.max.y}xt(){return this.fN.min.y}vl(){return ja(this.xe)}bl(){return ja(this.xe)}}class OS{constructor(){this.first=0,this.second=1,this.third=2,this.fourth=3,this.fifth=4,this.sixth=5}GN(t){return this.first=t,this.second=t+1,this.third=t+2,this.fourth=t+3,this.fifth=t+4,this.sixth=t+5,t+=6,this}WN(){return this.first=this.second,this.second=this.third,this.third=this.fourth,this.fourth=this.fifth,this.fifth=this.sixth,this.sixth+=1,this}UN(){return this.first=this.third,this.second=this.fourth,this.third=this.fifth,this.fourth=this.sixth,this.fifth=this.fourth+1,this.sixth=this.fifth+1,this}YN(t){const e=t.buffer;let{position:i}=t;return e[i]=this.first,e[i+1]=this.second,e[i+2]=this.third,i+=3,t.position=i,t.next&&this.WN(),this}HN(t){const e=t.buffer;let{position:i}=t;return e[i]=this.first,e[i+1]=this.third,e[i+2]=this.second,e[i+3]=this.third,e[i+4]=this.fourth,e[i+5]=this.second,i+=6,t.position=i,t.next&&this.UN(),this}$N(t,e){e.next=!0,6*t>=e.buffer.length&&(e.buffer=Array(6*t));for(let i=0;i<t;i+=1)this.HN(e);return this}XN(){return[this.first,this.second,this.third,this.fourth,this.fifth,this.sixth]}}const US=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return(new OS).GN(t)}(),HS=(t,e,i,s,n,r,o,a,l,h)=>(void 0===a&&void 0===o||US.WN(),r.push(t,e),n.push(US.first,US.second,US.third),a=void 0,o=void 0,n.push(US.third,US.fourth,US.second),l=US.third,US.UN(),h&&r.push(i,s),[o,a,l]),GS=(t,e,i,s,n,r,o,a,l,h,c)=>{void 0===l&&void 0===a||US.WN(),o.push(t,e),n.push(US.first,US.second,US.third);const u=Bl(t,i,e,s);return l=void 0,void 0!==u&&(void 0===l&&(l=u),o.push(l),r.push(US.third,US.fourth,US.fifth),h=US.fourth),US.UN(),c&&o.push(i,s),[a,l,h]},WS=(t,e,i,s,n,r,o,a,l,h)=>(void 0===o&&void 0===r||US.WN(),n.push(t,e),s.push(US.first,US.second,US.third),r=i,o=void 0,a=US.third,h?n.push(i):l=!0,[r,o,a,l]),jS=(t,e,i,s,n,r,o,a,l,h,c)=>(0!==r.length?(void 0===a&&void 0===o||US.WN(),US.WN()):l>0&&(US.WN(),c>0&&(c-=1)),r.push(t),n.push(US.first,US.second,US.third),l=US.second,o=t,a=void 0,h&&r.push(i,s),[o,a,l,c]),YS=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;US.GN(e);const[i,s]=t,n=i.length,r=[],o=[],a=[];let l,h,c=e,u=0,d=i[u],f=s[u],p=i[u],g=s[u],m=!1,y=c>0?p.y!==g.y?2:1:0;if(n>1)for(;u<n-1;){p=d,g=f,u+=1,d=i[u],f=s[u];const t=u===n-1;p.y>g.y?d.y>f.y?[l,h,c]=HS(p,g,d,f,r,a,l,h,c,t):d.y<f.y?[l,h,c]=GS(p,g,d,f,r,o,a,l,h,c,t):[l,h,c,m]=WS(p,g,d,r,a,l,h,c,m,t):p.y<g.y?d.y<f.y?[l,h,c]=HS(p,g,d,f,o,a,l,h,c,t):d.y>f.y?[l,h,c]=GS(p,g,d,f,o,r,a,l,h,c,t):[l,h,c,m]=WS(p,g,d,o,a,l,h,c,m,t):d.y===f.y?(l=p,m&&(a.push(p),m=!1,US.WN()),0===a.length&&c>0&&y>0&&(y-=1)):d.y>f.y?[l,h,c,y]=jS(p,0,d,f,r,a,l,h,c,t,y):[l,h,c,y]=jS(p,0,d,f,o,a,l,h,c,t,y)}return[a,new Uint16Array(r),new Uint16Array(o),c,y]};class XS extends ku{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n),this.aE=new DS,this.jN=0,this.Oa=Array(),this.ZN=0,this.QN=new Uint16Array(0),this.JN=new Uint16Array(0),this.AN=mx({hightFillSolid:()=>co(this.be)&&this.be,hightFillRadialGradient:()=>wo(this.be)&&this.be,hightFillLinearGradient:()=>ko(this.be)&&this.be,hightFillPaletted:()=>po(this.be)&&this.be,lowFillSolid:()=>co(this.Tl)&&this.Tl,lowFillRadialGradient:()=>wo(this.Tl)&&this.Tl,lowFillLinearGradient:()=>ko(this.Tl)&&this.Tl,lowFillPaletted:()=>po(this.Tl)&&this.Tl}),this.rN=t,this.nN=e,this.gN=r,this.mN=o,this.RR=t.oN()}Ps(){const t=this.sa(),e=this.Bo.M(),i=this.Qa;if(this.ea()){this.aE.mV(this.dt);const s=this.dt instanceof ih==0,n=s?this.dt.Wi():void 0,r=this.Dl(),o=this.dt.Ni()||t,a=i||this._l.i||o&&"disabled"!==r.type;if(a){if(this.jN=0,this.QN=new Uint16Array(0),this.JN=new Uint16Array(0),this.Oa.length=0,this.ZN=0,this.wl>1){const[t,e,i,o]=YS([s?r.packager(this.xl,n,.5):this.xl,s?r.packager(this.Ml,n,.5):this.Ml]);this.jN=o,this.QN=e,this.JN=i,this.Oa=t,this.ZN=t.length}this._l.i=!1}if(this.kl&&this.$a[0].length>1){const[t,e]=this.$a,i=t.length,[o,a,l,h,c]=YS([s?r.packager(t,n,.5):t,s?r.packager(e,n,.5):e],this.jN);this.jN=h;const u=o.length;for(let s=c;s<u;s+=1)this.Oa[this.ZN]=o[s],this.ZN+=1;this.QN=Ol(this.QN,a),this.JN=Ol(this.JN,l);for(let s=c>0||this.wl>0?1:c;s<i;s+=1)this.xl[this.wl]=t[s],this.Ml[this.wl]=e[s],this.wl+=1;this.Cl=!0,this.kl=!1,this.$a=[]}const l=this.be,h=this.ia!==l,c=this.AN.hightFillSolid(h),u=this.AN.hightFillRadialGradient(h),d=this.AN.hightFillLinearGradient(h),f=this.AN.hightFillPaletted(h),p=c||u||d||f&&["x","y"].includes(f.getLookUpProperty())&&f,g=this.Tl,m=this.Ol!==g,y=this.AN.lowFillSolid(m),v=this.AN.lowFillRadialGradient(m),b=this.AN.lowFillLinearGradient(m),x=this.AN.lowFillPaletted(m),S=y||v||b||x&&["x","y"].includes(x.getLookUpProperty())&&x;if((h||t)&&(this.KN=p?this.RR.oz(jx["2D"],jx.Color({dataType:d?["gradient",d]:u?["gradient",u]:f?["lookup",f.getLookUpProperty(),f.lut]:"uniform"}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0),u?this.MN=AS(this.Eo||this.Ya,this.dt,u.getPosition(),u.getExtent(),u.getShape(),this.RR.$z()):d?this._N=wS(this.Eo||this.Ya,this.dt,d.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0),(m||t)&&(this.qN=S?this.RR.oz(jx["2D"],jx.Color({dataType:b?["gradient",b]:v?["gradient",v]:x?["lookup",x.getLookUpProperty(),x.lut]:"uniform"}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0),v?this.tG=AS(this.Eo||this.Ya,this.dt,v.getPosition(),v.getExtent(),v.getShape(),this.RR.$z()):b?this.iG=wS(this.Eo||this.Ya,this.dt,b.getAngle(!0),this.RR.$z()):(this.tG=void 0,this.iG=void 0),(t||this.Cl||a)&&this.Cl||a){const t=this.Oa,e=ya(t,this.dt._i());this.sG=this.RR.nV(e,!1,this.sG),p&&(this.eG=this.RR.OV(this.QN,this.eG),this.hG=this.QN.length),S&&(this.rG=this.RR.OV(this.JN,this.rG),this.nG=this.JN.length),this.Cl=!1}this.EN=e&&(S||p)?this.EN||this.RR.oz(jx["2D"],jx.MousePicking,jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0,this.ha(this.be),this.Nl(this.Tl),this.Qa=!1}return this}zL(t){const e=this.be,i=this.Tl,s=1===t?this.EN:this.qN;if(s&&this.sG&&this.rG){const e=this.sG,n=this.rG;this.RR.jR(s).aV(s,((s,r,o,a)=>{if(this.RR.vO(o,e,this.dt._i(),void 0).XV(n).dV(s("uIsHighlighted"),1===t||2===t?0:this.zo).AR(s("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(s("uRenderEffectMask"),2===t?1:0),this.dt instanceof eh||this.dt instanceof nv?this.RR.uV(s("uScale"),this.aE.fV()).uV(s("uDisp"),this.aE.AV()).uV(a("uScaleStart_highpart"),this.aE.VO()).uV(a("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof ih&&this.RR.uV(a("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(a("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(a("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(a("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(s("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(s("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),1===t)this.RR.AR(s("uColor"),this.mN);else if(co(i))this.RR.AR(s("uColor"),i.getColor());else if(wo(i)){if(!this.tG)return!1;this.RR.mO(o,this.tG,i)}else if(ko(i)){if(!this.iG)return!1;this.RR.yO(o,this.iG,i)}else if(po(i)){const t=yx(i,this,void 0);if(!t&&i.lut.percentageValues)return!1;this.RR.LO(o,i.lut,t)}return this.RR.ZV(this.nG),!0}))}const n=1===t?this.EN:this.KN;if(n&&this.sG&&this.eG){const i=this.sG,s=this.eG;this.RR.jR(n).aV(n,((n,r,o,a)=>{if(this.RR.vO(o,i,this.dt._i(),void 0).XV(s).dV(n("uIsHighlighted"),1===t||2===t?0:this.zo).AR(n("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(n("uRenderEffectMask"),2===t?1:0),this.dt instanceof eh||this.dt instanceof nv?this.RR.uV(n("uScale"),this.aE.fV()).uV(n("uDisp"),this.aE.AV()).uV(a("uScaleStart_highpart"),this.aE.VO()).uV(a("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof ih&&this.RR.uV(a("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(a("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(a("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(a("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(n("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(n("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),1===t)this.RR.AR(n("uColor"),this.mN);else if(co(e))this.RR.AR(n("uColor"),e.getColor());else if(wo(e)){if(!this.MN)return!1;this.RR.mO(o,this.MN,e)}else if(ko(e)){if(!this._N)return!1;this.RR.yO(o,this._N,e)}else if(po(e)){const t=yx(e,this,void 0);if(!t&&e.lut.percentageValues)return!1;this.RR.LO(o,e.lut,t)}return this.RR.ZV(this.hG),!0}))}return this}lN(t){return this.gN===t&&{}}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return 0}bl(){return 0}Ux(t){this.al()>0&&this.Ps();const[e,i]=this.tl(),s=e.length>2&&e[1].x<e[0].x,n=su(e,t,eu.NearestX,this.Fl,this.Il,this.dt,this.us.dt,this.Ya,"x",s);if(void 0===n)return;const r=[e[n],i[n]];return Number.isNaN(r[0].y)||Number.isNaN(r[1].y)?void 0:r}sw(t){this.al()>0&&this.Ps();const[e,i]=this.tl(),s=e.length;if(0===s)return;const n=this.Fl?1:0,r=s-(this.Il?2:1),o=e.length>2&&e[1].x<e[0].x,a=lu(e,Lo(t,this.us.dt,this.dt),"x",o,n,r);if(!a)return;const l=[fl(e[a.a],e[a.b],a.lerpAmount),fl(i[a.a],i[a.b],a.lerpAmount)];return Number.isNaN(l[0].y)||Number.isNaN(l[1].y)?void 0:l}dispose(){return super.dispose(),this.rG&&(this.RR.yV(this.rG),this.rG=void 0),this.eG&&(this.RR.yV(this.eG),this.eG=void 0),this.sG&&(this.RR.yV(this.sG),this.sG=void 0),this}VR(){return this.dispose(),this}}class qS extends CS{constructor(t,e){super(t),this.oG=e;const{vertices:i,indices:s,indicesCount:n,drawMode:r}=this.aG();this.lG=t.nV(i),this.uG=t.OV(s),this.cG=n,this.dG=r}jR(t,e){return this.RR.lV(this.lG,0,{location:t.attribute("aSegmentPosition"),size:2},{location:t.attribute("aSegmentSide"),size:1},{location:e?t.attribute("aSegmentInside"):void 0,size:1}),this.RR.XV(this.uG),this}Ky(t,e,i){return this.RR.JV(void 0!==e?e:this.dG,this.cG,i||0,t,this.RR.gl.UNSIGNED_BYTE),this}aG(){const t=[];[1,0].forEach((e=>{const i=1===e?.5*Math.PI:1.5*Math.PI;for(let s=0;s<=this.oG;s+=1){const n=i-s*Math.PI/this.oG;t.push(.5*Math.cos(n),.5*Math.sin(n),e,0)}})),t.push(0,0,1,1),t.push(0,0,0,1);const e=t.length/4,i=[];for(let s=0;s<this.oG;s+=1)i.push(s,s+1,e-2),i.push(s+e/2-1,s+e/2,e-1);return i.push(0,e-2,e-1),i.push(e-1,e-2,e/2-1),i.push(0,e-3,e-1),i.push(e/2-2,e-2,e/2-1),{vertices:new Float32Array(t),indices:new Uint8Array(i),indicesCount:i.length,verticesCount:e,drawMode:this.RR.gl.TRIANGLES}}kz(){this.RR.yV(this.lG),this.RR.yV(this.uG)}}const JS=function(t,e){return((t,e)=>{let i=t._V.xz.get(e);return i||(i=new qS(t,e),t._V.xz.set(e,i),i)})(t,!(arguments.length>2&&void 0!==arguments[2])||arguments[2]?e>=50?8:e>=20?6:e>=7?4:e>=4?3:1===e?1:2:1)},KS={fG:(t,e,i,s,n,r)=>{const{attribute:o}=s,a=e.gl;if(a.bindBuffer(a.ARRAY_BUFFER,i),t){const t=o("aLocationA_highpart"),i=o("aLocationA_lowpart"),s=o("aLocationB_highpart"),l=o("aLocationB_lowpart");a.vertexAttribPointer(t,2,a.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,r*Float32Array.BYTES_PER_ELEMENT),e.UV(t,1),a.enableVertexAttribArray(t),a.vertexAttribPointer(i,2,a.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,(r+2)*Float32Array.BYTES_PER_ELEMENT),e.UV(i,1),a.enableVertexAttribArray(i),a.vertexAttribPointer(s,2,a.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,(r+n)*Float32Array.BYTES_PER_ELEMENT),e.UV(s,1),a.enableVertexAttribArray(s),a.vertexAttribPointer(l,2,a.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,(r+n+2)*Float32Array.BYTES_PER_ELEMENT),e.UV(l,1),a.enableVertexAttribArray(l)}else{const t=o("aLocationA"),i=o("aLocationB");a.vertexAttribPointer(t,2,a.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,r*Float32Array.BYTES_PER_ELEMENT),e.UV(t,1),a.enableVertexAttribArray(t),a.vertexAttribPointer(i,2,a.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,(r+n)*Float32Array.BYTES_PER_ELEMENT),e.UV(i,1),a.enableVertexAttribArray(i)}},AG:(t,e,i,s,n,r,o)=>{const a=t.gl;a.bindBuffer(a.ARRAY_BUFFER,i),a.vertexAttribPointer(s,r,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),t.UV(s,1),a.enableVertexAttribArray(s),a.vertexAttribPointer(n,r,a.FLOAT,!1,r*Float32Array.BYTES_PER_ELEMENT,(o+r)*Float32Array.BYTES_PER_ELEMENT),t.UV(n,1),a.enableVertexAttribArray(n)},gG:(t,e,i,s,n,r)=>{const{attribute:o}=s,a=e.gl;if(a.bindBuffer(a.ARRAY_BUFFER,i),t){const t=o("aLocationA_highpart"),i=o("aLocationA_lowpart"),s=o("aLocationB_highpart"),l=o("aLocationB_lowpart");a.vertexAttribPointer(t,2,a.FLOAT,!1,2*n*Float32Array.BYTES_PER_ELEMENT,r*Float32Array.BYTES_PER_ELEMENT),e.UV(t,1),a.enableVertexAttribArray(t),a.vertexAttribPointer(i,2,a.FLOAT,!1,2*n*Float32Array.BYTES_PER_ELEMENT,(r+2)*Float32Array.BYTES_PER_ELEMENT),e.UV(i,1),a.enableVertexAttribArray(i),a.vertexAttribPointer(s,2,a.FLOAT,!1,2*n*Float32Array.BYTES_PER_ELEMENT,(r+n)*Float32Array.BYTES_PER_ELEMENT),e.UV(s,1),a.enableVertexAttribArray(s),a.vertexAttribPointer(l,2,a.FLOAT,!1,2*n*Float32Array.BYTES_PER_ELEMENT,(r+n+2)*Float32Array.BYTES_PER_ELEMENT),e.UV(l,1),a.enableVertexAttribArray(l)}else{const t=o("aLocationA"),i=o("aLocationB");a.vertexAttribPointer(t,2,a.FLOAT,!1,2*n*Float32Array.BYTES_PER_ELEMENT,r*Float32Array.BYTES_PER_ELEMENT),e.UV(t,1),a.enableVertexAttribArray(t),a.vertexAttribPointer(i,2,a.FLOAT,!1,2*n*Float32Array.BYTES_PER_ELEMENT,(r+n)*Float32Array.BYTES_PER_ELEMENT),e.UV(i,1),a.enableVertexAttribArray(i)}},mG:(t,e,i,s,n,r,o)=>{const a=t.gl;a.bindBuffer(a.ARRAY_BUFFER,i),a.vertexAttribPointer(s,r,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,o*Float32Array.BYTES_PER_ELEMENT),t.UV(s,1),a.enableVertexAttribArray(s),a.vertexAttribPointer(n,r,a.FLOAT,!1,2*r*Float32Array.BYTES_PER_ELEMENT,(o+r)*Float32Array.BYTES_PER_ELEMENT),t.UV(n,1),a.enableVertexAttribArray(n)},zL:(t,e,i,s,n,r,o)=>{const a=t.oN(),{uniform:l,uniformOptional:h}=i,c=1/t.Un.$n,u=(n?Math.max(r,c):Math.max(r,0))+1;a.dV(l("uThicknessPixels"),u).dV(h("uAALimit"),1-(u-1)/u).uV(l("uRatioPxClip"),[2/t.oi().x,2/t.oi().y]),e.jR(i,s).Ky(o)}},ZS={fG:(t,e,i,s,n,r)=>{const{attribute:o}=s,a=e.gl;if(a.bindBuffer(a.ARRAY_BUFFER,i),t){const t=o("aPos_highpart");a.vertexAttribPointer(t,2,a.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,r*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(t);const e=o("aPos_lowpart");a.vertexAttribPointer(e,2,a.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,(r+2)*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(e)}else{const t=o("aPos");a.vertexAttribPointer(t,2,a.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,r*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(t)}},AG:(t,e,i,s,n,r)=>{const o=t.gl;o.bindBuffer(o.ARRAY_BUFFER,i),o.vertexAttribPointer(s,n,o.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,r*Float32Array.BYTES_PER_ELEMENT),o.enableVertexAttribArray(s)},gG:(t,e,i,s,n,r)=>{const{attribute:o}=s,a=e.gl;if(a.bindBuffer(a.ARRAY_BUFFER,i),!t){const t=o("aPos");a.vertexAttribPointer(t,2,a.FLOAT,!1,n*Float32Array.BYTES_PER_ELEMENT,r*Float32Array.BYTES_PER_ELEMENT),a.enableVertexAttribArray(t)}},yG:(t,e)=>{const i=t.oN();i.Ky(i.gl.LINE_STRIP,e,0)},pG:(t,e)=>{const i=t.oN();i.Ky(i.gl.LINES,2*e,0)}};class QS extends Iu{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n),this.aE=new DS,this.Ya=el,this.AN=mx({lineStyleSolid:()=>vh(this.lu)&&this.lu,lineStyleDashed:()=>pd(this.lu)&&this.lu,strokeFillSolid:()=>{const t=this.lu.getFillStyle();return co(t)&&t},strokeFillLinearGradient:()=>{const t=this.lu.getFillStyle();return ko(t)&&t},strokeFillRadialGradient:()=>{const t=this.lu.getFillStyle();return wo(t)&&t},strokeFillPaletted:()=>{const t=this.lu.getFillStyle();return po(t)&&t}}),this.rN=t,this.nN=e,this.gN=r,this.mN=o,this.RR=t.oN(),this.SG=this.RR.eO}Ps(){const t=this.ra(),e=this.lu,i=this.AN.lineStyleSolid(t),s=this.AN.lineStyleDashed(t),n=i||s,r=this.AN.strokeFillSolid(t),o=this.AN.strokeFillLinearGradient(t),a=this.AN.strokeFillRadialGradient(t),l=this.AN.strokeFillPaletted(t),h=r||o||a||l&&["x","y"].includes(l.getLookUpProperty())&&l,c=this.Ii(),u=this.Ti(),d=this.Bo.M(),f=this.Bo.i,p=e.V();if(s&&this.dt instanceof ih)return Ho.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;if(this.aE.mV(this.dt),this.Au&&(this.vG=this.RR.nV(ya([c,u],this.dt._i()),!1,this.vG),this.Ya=Br(Lr(c.x,c.y),Lr(u.x,u.y))),t||f){const t=this.ea()&&n&&h&&p>0,e=o?["gradient",o]:a?["gradient",a]:l?["lookup",l.getLookUpProperty(),l.lut]:"uniform";this.bG=t?{type:"triangulated",shader:this.RR.oz(jx["2D"],jx.Color({dataType:e}),jx.LineInstanced2D({axisWorldTranslation:gx(this.dt),normalSource:void 0}),this.SG?jx.AliasedEdge:void 0,s&&jx.StippleTextureInstanced),mousePickingShader:d?this.RR.oz(jx["2D"],jx.MousePicking,jx.LineInstanced2D({axisWorldTranslation:gx(this.dt),normalSource:void 0}),s&&jx.StippleTextureInstanced):void 0,geometry:JS(this.RR,p),thickness:p,lineStyleSolid:i,lineStyleDashed:s,fillStyleSolid:r,fillStyleLinearGradient:o,fillStyleRadialGradient:a,fillStylePaletted:l}:void 0}if(a?this.DN=AS(pu(this.Ya,{x:this.vl(),y:this.bl()},this.dt),this.dt,a.getPosition(),a.getExtent(),a.getShape(),this.RR.$z()):o?this.LN=wS(pu(this.Ya,{x:this.vl(),y:this.bl()},this.dt),this.dt,o.getAngle(!0),this.RR.$z()):(this.DN=void 0,this.LN=void 0),s){if(t||this.Au){const t=[0,0,Math.abs(u.x-c.x),Math.abs(u.y-c.y)];this.xG=this.RR.nV(t,!1,this.xG)}this.MG=this.RR.IO(s.getPattern())}else this.xG&&(this.RR.yV(this.xG),this.xG=void 0),this.MG=void 0;return this.fu(e),this.Au=!1,this.Bo.i=!1,this}zL(t){var e,i;const s=this.vG;if(!s)return this;const n=this.bG;if(!n)return this;const{fillStyleSolid:r,fillStyleLinearGradient:o,fillStyleRadialGradient:a,fillStylePaletted:l,lineStyleDashed:h,thickness:c}=n,u=1===t?null===(e=this.bG)||void 0===e?void 0:e.mousePickingShader:null===(i=this.bG)||void 0===i?void 0:i.shader;return u?(this.RR.jR(u).aV(u,((e,i,u,d)=>{if(this.RR.dV(e("uIsHighlighted"),1===t||2===t?0:this.zo).AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0),this.dt instanceof eh||this.dt instanceof nv?this.RR.uV(e("uScale"),this.aE.fV()).uV(e("uDisp"),this.aE.AV()).uV(d("uScaleStart_highpart"),this.aE.VO()).uV(d("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof ih&&this.RR.uV(d("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(d("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(d("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(d("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(e("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(e("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),1===t)this.RR.AR(e("uColor"),this.mN);else if(r)this.RR.AR(e("uColor"),r.getColor());else if(a){if(!this.DN)return!1;this.RR.mO(u,this.DN,a)}else if(o){if(!this.LN)return!1;this.RR.yO(u,this.LN,o)}else if(l){const t=yx(l,this,void 0);if(!t&&l.lut.percentageValues)return!1;this.RR.LO(u,l.lut,t)}if(h){if(!this.xG||!this.MG)return!1;KS.AG(this.RR,u,this.xG,i("aLengthSoFarA"),i("aLengthSoFarB"),2,0),this.RR.uV(e("uStippleCount"),[this.us.oi().x/this.MG.BO,this.us.oi().y/this.MG.BO]).dV(d("uStippleTextureWidthLimiter"),this.MG.DO/this.MG.BO).dV(e("uStippleScale"),h.getPatternScale()).cV(e("uStippleTexture"),this.MG.PO,1)}return KS.fG(this.dt._i(),this.RR,s,u,this.dt._i()?4:2,0),KS.zL(this.rN,n.geometry,u,this.SG&&1!==t,1===t,c,1),!0})),this):this}lN(t){return this.gN===t&&{}}dispose(){return super.dispose(),this.bG=void 0,this.vG&&(this.RR.yV(this.vG),this.vG=void 0),this.xG&&(this.RR.yV(this.xG),this.xG=void 0),this.MG=void 0,this}VR(){return this}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return ja(this.lu)}bl(){return ja(this.lu)}}class $S extends Pu{constructor(t,e,i,s,n,r){super(t,e,i,s,n),this._G=[],this.wG=!1,this.CG=!1,this.kG=!1,this.TG=!1,this.aE=new DS,this.Ya=el,this.AN=mx({lineStyleSolid:()=>vh(this.lu)&&this.lu,lineStyleDashed:()=>pd(this.lu)&&this.lu,lineFillSolid:()=>{const t=this.lu.getFillStyle();return co(t)&&t},lineFillRadialGradient:()=>{const t=this.lu.getFillStyle();return wo(t)&&t},lineFillLinearGradient:()=>{const t=this.lu.getFillStyle();return ko(t)&&t},lineIndividualPointFill:()=>{const t=this.lu.getFillStyle();return fo(t)&&t}}),this.rN=t,this.nN=e,this.FG=r,this.RR=t.oN(),this.SG=this.RR.eO,this.IG=t.Un.jn;const{color:o,id:a}=this.FG();this.mN=o,this.gN=a}zr(){const t=this.mu?void 0:this.FG(),e={ys:t=>this.PG(e,t),cs:t=>this.DG(e,t),Eg:(t,i)=>this.BG(e,t,i),AR:t=>this.LG(e,t),Pi:{x:0,y:0},Fi:{x:0,y:0},zo:0,EG:void 0,gN:null==t?void 0:t.id,mN:null==t?void 0:t.color};return this._G.push(e),e}Nt(){var t;return this._G.length=0,this.wG=!0,this.ji&&this.Tn&&(null===(t=this.us.Cn)||void 0===t?void 0:t.entity)===this&&this.Tn(this,void 0,this.us.Cn.collectionMember),this}zG(){return this._G.length}M(t){const e=this._G[t];return[e.Pi,e.Fi]}Ap(){return this._G}bd(t){var e;const i=this._G.indexOf(t);i>=0&&(this._G.splice(i,1),this.wG=!0,this.ji&&this.Tn&&(null===(e=this.us.Cn)||void 0===e?void 0:e.entity)===this&&this.Tn(this,void 0,this.us.Cn.collectionMember))}PG(t,e){if(e&&!this._G.includes(t))this._G.push(t);else if(!e){const e=this._G.indexOf(t);this._G.splice(e,1)}return this.kG=!0,t}DG(t,e){return t.zo=e,this.CG=!0,t}BG(t,e,i){return t.Pi=e,t.Fi=i,this.wG=!0,t}LG(t,e){return t.EG=e,this.TG=!0,t}Ps(){const t=this.Bo.M(),e=this.Bo.i,i=this.ra(),s=this.lu,n=this._G,r=this.CG,o=this.wG,a=this.kG,l=this.TG,h=this.AN.lineStyleSolid(i),c=this.AN.lineStyleDashed(i),u=h||c,d=this.AN.lineFillSolid(i),f=this.AN.lineIndividualPointFill(i),p=this.AN.lineFillRadialGradient(i),g=this.AN.lineFillLinearGradient(i),m=d||f||g||p,y=s.V(),v=c?"triangulated":s.getThickness()<0?"primitive":"triangulated";if(c&&this.dt instanceof ih)return Ho.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;this.aE.mV(this.dt);const b=o||a;if(b){const t=[];for(let e=0;e<n.length;e+=1){const i=n[e];t.push(i.Pi),t.push(i.Fi)}this.vG=this.RR.nV(ya(t,this.dt._i()),!1,this.vG),this.Ya=gl(t)}if(i||e){const e=d?"uniform":f?"attribute":g?["gradient",g]:p?["gradient",p]:void 0,i=u&&m&&y>0&&e;this.bG=i?"triangulated"===v?{type:"triangulated",shader:this.RR.oz(jx["2D"],jx.Color({dataType:e}),jx.LineInstanced2D({axisWorldTranslation:gx(this.dt),normalSource:void 0,snapToNearestPixel:this.IG,ensureMinimumSegmentLength:void 0!==this.gu}),this.SG?jx.AliasedEdge:void 0,c&&jx.StippleTextureInstanced,jx.AttributeHighlight),mousePicking:t?{shader:this.RR.oz(jx["2D"],this.mu?jx.MousePicking:jx.MousePickingAttribute,jx.LineInstanced2D({axisWorldTranslation:gx(this.dt),normalSource:void 0,snapToNearestPixel:this.IG,ensureMinimumSegmentLength:void 0!==this.gu}),c&&jx.StippleTextureInstanced,jx.AttributeHighlight)}:void 0,geometry:JS(this.RR,y,!1),thickness:y,lineStyleSolid:h,lineStyleDashed:c,fillStyleSolid:d,fillStyleIndividual:f,fillStyleLinearGradient:g,fillStyleRadialGradient:p}:{type:"primitive",shader:this.RR.oz(jx["2D"],jx.Color({dataType:e}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0,snapToNearestPixel:this.IG}),jx.AttributeHighlight),mousePicking:t?{shader:this.RR.oz(jx["2D"],this.mu?jx.MousePicking:jx.MousePickingAttribute,jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0,snapToNearestPixel:this.IG}),jx.AttributeHighlight)}:void 0,lineStyleSolid:h,lineStyleDashed:c,fillStyleSolid:d,fillStyleIndividual:f,fillStyleLinearGradient:g,fillStyleRadialGradient:p}:void 0}if(c){if(i||b){const t=new Float32Array(4*n.length);let e=0;for(let i=0;i<n.length;i+=1){const s=n[i].Pi,r=n[i].Fi;t[e]=0,t[e+1]=0,t[e+2]=Math.abs(r.x-s.x),t[e+3]=Math.abs(r.y-s.y),e+=4}this.xG=this.RR.nV(t,!1,this.xG)}this.MG=this.RR.IO(c.getPattern())}else this.xG&&(this.RR.yV(this.xG),this.xG=void 0),this.MG=void 0;if(b||r)if("triangulated"===v){const t=new Float32Array(n.length);let e=0;n.forEach((i=>{t[e]=i.zo,e+=1})),this.VG=this.RR.nV(t,!0,this.VG)}else{const t=new Float32Array(2*n.length);let e=0;n.forEach((i=>{for(let s=e;s<e+2;s+=2)t[s]=i.zo,t[s+1]=i.zo;e+=2})),this.VG=this.RR.nV(t,!1,this.VG)}if(f)if(l||b||i)if("triangulated"===v){const t=new Float32Array(4*n.length);let e=0;n.forEach((i=>{const s=i.EG||f.color;t[e]=s.r,t[e+1]=s.g,t[e+2]=s.b,t[e+3]=s.a,e+=4})),this.OG=this.RR.nV(t,!1,this.OG)}else{const t=new Float32Array(8*n.length);let e=0;n.forEach((i=>{const s=i.EG||f.color;for(let n=e;n<e+8;n+=4)t[n]=s.r,t[n+1]=s.g,t[n+2]=s.b,t[n+3]=s.a;e+=8})),this.OG=this.RR.nV(t,!1,this.OG)}else this.OG&&(this.RR.yV(this.OG),this.OG=void 0);if(t&&!this.mu){if(b)if("triangulated"===v){const t=new Float32Array(4*n.length);let e=0;n.forEach((i=>{var s,n,r,o;t[e+0]=(null===(s=i.mN)||void 0===s?void 0:s.r)||0,t[e+1]=(null===(n=i.mN)||void 0===n?void 0:n.g)||0,t[e+2]=(null===(r=i.mN)||void 0===r?void 0:r.b)||0,t[e+3]=(null===(o=i.mN)||void 0===o?void 0:o.a)||0,e+=4})),this.NG=this.RR.nV(t,!0,this.NG)}else{const t=new Float32Array(8*n.length);let e=0;n.forEach((i=>{var s,n,r,o;for(let a=e;a<e+4;a+=4)t[e+0]=(null===(s=i.mN)||void 0===s?void 0:s.r)||0,t[e+1]=(null===(n=i.mN)||void 0===n?void 0:n.g)||0,t[e+2]=(null===(r=i.mN)||void 0===r?void 0:r.b)||0,t[e+3]=(null===(o=i.mN)||void 0===o?void 0:o.a)||0;e+=8})),this.NG=this.RR.nV(t,!1,this.NG)}}else this.NG&&(this.RR.yV(this.NG),this.NG=void 0);return p?this.MN=AS(this.Eo||this.Ya,this.dt,p.getPosition(),p.getExtent(),p.getShape(),this.RR.$z()):g?this._N=wS(this.Eo||this.Ya,this.dt,g.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0),this.fu(s),this.CG=!1,this.kG=!1,this.wG=!1,this.TG=!1,this.Bo.i=!1,this}zL(t){var e;const i=this.vG,s=this.VG,n=this.NG;if(!i||!s)return this;const r=this.bG;if(!r)return this;const{type:o,fillStyleSolid:a,fillStyleIndividual:l,fillStyleLinearGradient:h,fillStyleRadialGradient:c,lineStyleDashed:u}=r,d=1===t?null===(e=r.mousePicking)||void 0===e?void 0:e.shader:r.shader;return d?(this.RR.jR(d).aV(d,((e,d,f,p)=>{if(this.dt instanceof eh||this.dt instanceof nv?this.RR.uV(e("uScale"),this.aE.fV()).uV(e("uDisp"),this.aE.AV()).uV(p("uScaleStart_highpart"),this.aE.VO()).uV(p("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof ih&&this.RR.uV(p("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(p("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(p("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(p("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(e("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(e("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),this.IG&&this.RR.uV(p("uViewportSizePx"),[this.us.oi().x*this.RR.$z(),this.us.oi().y*this.RR.$z()]),void 0!==this.gu&&this.RR.uV(e("uMinSegmentPixelVector"),[this.gu.x,this.gu.y]),this.RR.AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0),1===t)if(this.mu)this.RR.AR(e("uColor"),this.mN);else{if(!n)return!1;"triangulated"===o?this.RR.lV(n,1,{location:d("aColor"),size:4}):this.RR.HV(d("aColor"),n)}else if(a)this.RR.AR(e("uColor"),a.getColor());else if(l){if(!this.OG)return!1;this.RR.lV(this.OG,"triangulated"===o?1:void 0,{location:d("aColor"),size:4})}else if(c){if(!this.MN)return!1;this.RR.mO(f,this.MN,c)}else if(h){if(!this._N)return!1;this.RR.yO(f,this._N,h)}if(u){if(!this.xG||!this.MG)return!1;KS.mG(this.RR,f,this.xG,d("aLengthSoFarA"),d("aLengthSoFarB"),2,0),this.RR.uV(e("uStippleCount"),[this.us.oi().x/this.MG.BO,this.us.oi().y/this.MG.BO]).dV(p("uStippleTextureWidthLimiter"),this.MG.DO/this.MG.BO).dV(e("uStippleScale"),u.getPatternScale()).cV(e("uStippleTexture"),this.MG.PO,0)}if("triangulated"===o){const{geometry:e,thickness:n}=r;KS.gG(this.dt._i(),this.RR,i,f,this.dt._i()?4:2,0),this.RR.lV(s,1,{location:d("aIsHighlighted"),size:1}),KS.zL(this.rN,e,f,this.SG&&1!==t,1===t,n,this._G.length)}else ZS.gG(this.dt._i(),this.RR,i,f,this.dt._i()?4:2,0),this.RR.$V(d("aIsHighlighted"),s),ZS.pG(this.rN,this._G.length);return!0})),this):this}lN(t){if(t===this.gN)return{};const e=this._G.find((e=>e.gN===t));return!!e&&{collectionMember:e}}dispose(){return super.dispose(),this.bG=void 0,this.vG&&(this.RR.yV(this.vG),this.vG=void 0),this.xG&&(this.RR.yV(this.xG),this.xG=void 0),this.VG&&(this.RR.yV(this.VG),this.VG=void 0),this.NG&&(this.RR.yV(this.NG),this.NG=void 0),this.OG&&(this.RR.yV(this.OG),this.OG=void 0),this.MG=void 0,this}VR(){return this}cs(t){super.cs(t);for(const e of this._G)e.cs(t);return this}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return ja(this.lu)}bl(){return ja(this.lu)}}class tA{constructor(t,e){this.GG=!1,this.WG=!1,this.UG=!1,this.dt=t,this.YG=e,this.YG.Uo("DataPattern",(t=>{"ProgressiveX"!==t.pattern&&"RegressiveX"!==t.pattern||(this.GG="x"),"ProgressiveY"!==t.pattern&&"RegressiveY"!==t.pattern||(this.GG="y"),"RegressiveX"!==t.pattern&&"RegressiveY"!==t.pattern||(this.WG=!0),!0===t.regularProgressiveStep&&(this.UG=!0)}))}calculateUserDataPointsProgressiveRange(t){if(0===t.length)throw new Error("calculateUserDataPointsProgressiveRange called with 0 data points");return{start:"x"===this.GG?t[0].x:t[0].y,end:"x"===this.GG?t[t.length-1].x:t[t.length-1].y}}calculateUserDataPointsBoundaries(t){return this.GG?"x"===this.GG?function(t){const e=t.length;if(e>0){const i=Math.max(t[e-1].x,t[0].x),s=Math.min(t[e-1].x,t[0].x);let n=t[0].y,r=t[0].y;for(let o=0;o<e;o+=1){const e=t[o];e.y>n&&(n=e.y),e.y<r&&(r=e.y)}return Br(Lr(s,r),Lr(i,n))}return el}(t):function(t){const e=t.length;if(e>0){const i=Math.max(t[e-1].y,t[0].y),s=Math.min(t[e-1].y,t[0].y);let n=t[0].x,r=t[0].x;for(let o=0;o<e;o+=1){const e=t[o];e.x>n&&(n=e.x),e.x<r&&(r=e.x)}return Br(Lr(r,s),Lr(n,i))}return el}(t):gl(t)}calculateAvgStepBetweenDataPoints(t,e,i){return Math.abs(t-e)/(i-1)}}const eA=Math.min(1,1.5);class iA extends tA{constructor(t,e,i){super(t,e),this.HG=!1,this.$G={enabled:!1,totalDataPointsAtTime:0},this.XG=[],this.Ss=i,this.jG=t instanceof eh?{type:"linear",scale:t}:t instanceof ih?{type:"mixed",scale:t}:{type:"unknown"},this.YG.Uo("DataPattern",(t=>{!1===t.allowDataGrouping&&(this.HG=!0)}))}ZG(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.HG||!this.GG||"linear"!==this.jG.type)return!1;!1===e&&this.QG&&(clearTimeout(this.QG),this.QG=void 0);const i="x"===this.GG?this.jG.scale.x.ig:this.jG.scale.y.ig;if(!i)throw new Error("CP helper has no information about Axis state.");const s=t.length;if(s<2)return!1;const n=t[0],r=t[s-1],o=this.calculateAvgStepBetweenDataPoints("x"===this.GG?n.x:n.y,"x"===this.GG?r.x:r.y,s),a=this.jG.scale,l=Math.abs("x"===this.GG?a.Wi().x:a.Wi().y),h=l/o,c=Math.floor(h*eA),u=c*o,d=Ho.performance.now(),f=!(d-i.ah<500)&&(i.ih?d-i.oh<1e3:d-i.sh<2e3||i.hh),p=s>2*this.$G.totalDataPointsAtTime;if(f&&!p)return this.QG=setTimeout((()=>this.JG(t)),1e3),!1;const g=c>=10,m=this.$G.enabled?this.$G.columnWidthAxis/l<1.5:void 0,y=this.$G.enabled&&c>this.$G.dataPointsPerColumn?c/this.$G.dataPointsPerColumn>=2:void 0;let v;!0===this.$G.enabled?m?y&&(v={enabled:!0,columnWidthAxis:u,dataPointsPerColumn:c,totalDataPointsAtTime:s}):v=g?{enabled:!0,columnWidthAxis:u,dataPointsPerColumn:c,totalDataPointsAtTime:s}:{enabled:!1,totalDataPointsAtTime:s}:g&&(v={enabled:!0,columnWidthAxis:u,dataPointsPerColumn:c,totalDataPointsAtTime:s});const b=!1===e;return v?(b&&(this.$G=v),!0):(b&&(this.$G={...this.$G,totalDataPointsAtTime:s}),!1)}Qm(){this.KG=void 0,this.XG.length=0,this.QG&&(clearTimeout(this.QG),this.QG=void 0)}qG(t){if(0===t.length)return t;if(this.HG||!this.GG||"linear"!==this.jG.type||!this.$G.enabled)return t;let e;e=this.XG.length>0?Ma(this.XG,t,{canReturnB:!0}):t;const i=e.length,s=[];let n,r,o=void 0===this.KG,a=-1,l=-1,h=0,c=0;if("x"!==this.GG||this.WG)if("x"===this.GG&&this.WG){const t=this.$G.columnWidthAxis;let u=this.KG?this.KG.x:e[0].x,d=u-t;for(let f=0;f<i;f+=1){const i=e[f];i.x>=d?((!n||i.y>n.y)&&(n=i,a=f),(!r||i.y<r.y)&&(r=i,l=f),c=f):(n&&r&&(o&&s.push(e[0]),a<l?s.push(n,r):s.push(r,n)),o=!1,u=i.x,d=u-t,n=i,a=f,r=i,l=f,h=f,c=f)}}else if("y"!==this.GG||this.WG){if("y"===this.GG&&this.WG){const t=this.$G.columnWidthAxis;let u=this.KG?this.KG.y:e[0].y,d=u-t;for(let f=0;f<i;f+=1){const i=e[f];i.y>=d?((!n||i.x>n.x)&&(n=i,a=f),(!r||i.x<r.x)&&(r=i,l=f),c=f):(r&&n&&(o&&s.push(e[0]),a<l?s.push(n,r):s.push(r,n)),o=!1,u=i.y,d=u-t,n=i,a=f,r=i,l=f,h=f,c=f)}}}else{const t=this.$G.columnWidthAxis;let u=this.KG?this.KG.y:e[0].y,d=u+t;for(let f=0;f<i;f+=1){const i=e[f];i.y<=d?((!n||i.x>n.x)&&(n=i,a=f),(!r||i.x<r.x)&&(r=i,l=f),c=f):(r&&n&&(o&&s.push(e[0]),a<l?s.push(n,r):s.push(r,n)),o=!1,u=i.y,d=u+t,n=i,a=f,r=i,l=f,h=f,c=f)}}else{const t=this.$G.columnWidthAxis;let u=this.KG?this.KG.x:e[0].x,d=u+t;for(let f=0;f<i;f+=1){const i=e[f];i.x<=d?((!n||i.y>n.y)&&(n=i,a=f),(!r||i.y<r.y)&&(r=i,l=f),c=f):(n&&r&&(o&&s.push(e[0]),a<l?s.push(n,r):s.push(r,n)),o=!1,u=i.x,d=u+t,n=i,a=f,r=i,l=f,h=f,c=f)}}if(n||r){const t=e.slice(h,c+1);this.XG=t}else this.XG.length=0;const u=s.length;return u>0&&(this.KG=s[u-1]),s}tW(t){if(this.GG&&"linear"===this.jG.type){const e="x"===this.GG?this.jG.scale.x.ig:this.jG.scale.y.ig;if(!e)throw new Error("CP helper has no information about Axis state.");if(e.Je===sc.progressive||e.Je===sc.regressive){const e=Math.abs("x"===this.GG?this.jG.scale.x.getInnerInterval():this.jG.scale.y.getInnerInterval());if(this.$G.enabled)return 2*e/this.$G.columnWidthAxis;const i=t.length,s=t[0],n=t[i-1];return e/this.calculateAvgStepBetweenDataPoints("x"===this.GG?s.x:s.y,"x"===this.GG?n.x:n.y,i)}}}iW(t,e,i){if(!this.GG)return e;const s=i.length;let n=au(i,t.min,this.GG,this.WG,0,s-1);void 0===n&&(n=this.WG?s-1:0);let r=au(i,t.max,this.GG,this.WG,0,s-1);return void 0===r&&(r=this.WG?0:s-1),1+Math.abs(r-n)}sW(){this.QG&&(clearTimeout(this.QG),this.QG=void 0)}JG(t){this.ZG(t,!0)&&this.Ss()}}class sA extends tA{renderVisibleOnly(t,e){const i=this.dt.x.getInnerStart(),s=this.dt.x.getInnerEnd(),n=Math.min(i,s),r=Math.max(i,s),o=this.dt.y.getInnerStart(),a=this.dt.y.getInnerEnd(),l=Math.min(o,a),h=Math.max(o,a);t.forEach(((t,i)=>{t.existingCoordinatesCount<=1||t.boundaries.max.x<n||t.boundaries.min.x>r||t.boundaries.max.y<l||t.boundaries.min.y>h||e(t)}))}}class nA{constructor(t,e,i){this.eW=e,this.hW=i,this.rW=t,this.nW=[]}oW(t,e,i,s){const n=t.length;if(0===n)return;let r=t,o=n,a=this.rW[this.rW.length-1];do{const t=this.rW.length;let n;a||(a=this.aW(e,o)),a&&0==a.allocatedCoordinatesCount-a.existingCoordinatesCount&&(a=void 0);let l=0;if(this.hW&&t>0&&(void 0===a||0===a.existingCoordinatesCount)){const e=this.rW[t-1].lastDataPoint;e?(r.splice(0,0,e),l=1,o+=1):console.error("SegmentationHelper _connectSegments = true, but segment has no lastDataPoint information!")}if(a)n=Math.min(o,a.allocatedCoordinatesCount-a.existingCoordinatesCount),s(a,r.slice(0,n),n,l);else{const t=Math.ceil(e)+l;n=Math.min(t,o);const s={...i(t,r.slice(0,n),n,l),isDropped:!1};this.rW.push(s)}n>0&&(o>n?(r=r.slice(n),o=r.length):(r=[],o=0))}while(o>0);this.lW()}uW(t){const e=t,i=this.rW.indexOf(e);i>=0&&this.rW.splice(i,1),e.droppedTimestamp=Ho.performance.now(),this.nW.push(e)}cW(){this.rW.slice().forEach((t=>this.uW(t)))}dW(){this.rW.forEach((t=>this.eW(t))),this.nW.forEach((t=>this.eW(t))),this.rW.length=0,this.nW.length=0}aW(t,e){const i=2*t/3,s=4*t/3,n=this.nW.findIndex((t=>t.allocatedCoordinatesCount>=i&&t.allocatedCoordinatesCount<=s));if(n>=0){const t=this.nW[n];return this.nW.splice(n,1),this.rW.push(t),t}}lW(){if(this.nW.length>5){const t=Ho.performance.now();for(let e=0;e<this.nW.length-5;e+=1){const i=this.nW[e];(void 0===i.droppedTimestamp||t-i.droppedTimestamp>=1e4)&&(this.eW(i),this.nW.splice(e,1),e-=1)}}}}class rA extends tA{fW(t,e){if(!e||"object"!=typeof e)return 0;const i=this.dt.x.getInnerStart(),s=this.dt.x.getInnerEnd(),n=Math.min(i,s),r=Math.max(i,s),o=this.dt.y.getInnerStart(),a=this.dt.y.getInnerEnd(),l=Math.min(o,a),h=Math.max(o,a);if("maxDataPointCount"in e)return this.AW(t,e.maxDataPointCount,n,r,l,h);if("minDataPointCount"in e)return this.gW(t,e.minDataPointCount,n,r,l,h);if("progressiveDataCleaningThreshold"in e)return this.mW(t,e.progressiveDataCleaningThreshold,n,r,l,h);throw new Error("Unimplemented data cleaning configuration: ".concat(JSON.stringify(e)))}AW(t,e,i,s,n,r){if(void 0===e||e<=0)return 0;const o=t.reduce(((t,e)=>t+e.existingDataPointsCount),0);if(o<=e)return 0;let a=0,l=o;for(let h=0;h<t.length;h+=1){const i=t[h];l>e&&(a+=1,l-=i.existingDataPointsCount)}return a}mW(t,e,i,s,n,r){if(void 0===e||!this.GG)return 0;let o=0;for(let a=0;a<t.length;a+=1){const l=t[a],h=this.WG?"x"===this.GG?l.boundaries.min.x>s:l.boundaries.min.y>r:"x"===this.GG?l.boundaries.max.x<i:l.boundaries.max.y<n;if(!((this.WG?"x"===this.GG?l.boundaries.min.x>e:l.boundaries.min.y>e:"x"===this.GG?l.boundaries.max.x<e:l.boundaries.max.y<e)&&h&&l.existingCoordinatesCount>2))break;o+=1}return o}gW(t,e,i,s,n,r){if(void 0===e||0===e)return 0;let o=0,a=0;for(let l=t.length-1;l>=0;l-=1){const h=t[l];if(a>e)if(this.GG){if(this.WG?"x"===this.GG?h.boundaries.min.x>s:h.boundaries.min.y>r:"x"===this.GG?h.boundaries.max.x<i:h.boundaries.max.y<n){o=1+l;break}}else h.boundaries.max.x<i||h.boundaries.min.x>s||h.boundaries.max.y<n||h.boundaries.min.y>r?o+=1:o=0;a+=h.existingDataPointsCount}return o}yW(t,e){const i=t.reduce(((t,e)=>yl(t,e.boundaries)),el);if(e&&"progressiveDataCleaningThreshold"in e&&e.progressiveDataCleaningThreshold){const t=e.progressiveDataCleaningThreshold;"x"!==this.GG||this.WG?"x"===this.GG&&this.WG?i.max.x=Math.min(i.max.x,t):"y"!==this.GG||this.WG?"y"===this.GG&&this.WG&&(i.max.y=Math.min(i.max.y,t)):i.min.y=Math.max(i.min.y,t):i.min.x=Math.max(i.min.x,t)}return i}}class oA extends Fu{constructor(t,e,i,s,n,r,o,a){super(t,e,i,s,n),this.aE=new DS,this.QM=[],this.pW=new sA(this.dt,this),this.SW=new iA(this.dt,this,(()=>this.us.Ss())),this.vW=new nA(this.QM,(t=>{t.coordsBuffer&&this.RR.yV(t.coordsBuffer),t.xG&&this.RR.yV(t.xG)}),!0),this.bW=new rA(this.dt,this),this.xW=0,this.MW=0,this._W=!1,this.AN=mx({lineStyleSolid:()=>vh(this.lu)&&this.lu,lineStyleDashed:()=>pd(this.lu)&&this.lu,strokeFillSolid:()=>{const t=this.lu.getFillStyle();return co(t)&&t},strokeFillLinearGradient:()=>{const t=this.lu.getFillStyle();return ko(t)&&t},strokeFillRadialGradient:()=>{const t=this.lu.getFillStyle();return wo(t)&&t},strokeFillPaletted:()=>{const t=this.lu.getFillStyle();return po(t)&&t}}),this.nN=e,this.gN=r,this.mN=o,this.Un=a,this.bG={type:"none"},this.RR=t.oN(),this.rN=t,this.SG=this.RR.eO;const l=this.dt._i(),h=!0===(null==a?void 0:a.individualLookupValuesEnabled);let c,u,d,f=0;l||(c=f,f+=2),l&&(u=f,f+=4),h&&(d=f,f+=1);const p=((t,e)=>e?(e,i)=>((t,e)=>{if(!e){const e=t.length,i=new Float32Array(3*e);for(let s=0,n=0;s<e;s+=1){const e=t[s];i[n+0]=e.x,i[n+1]=e.y,i[n+2]=void 0!==e.value?e.value:0,n+=3}return i}const i=t.length,s=new Float32Array(5*i);let n=0;for(let r=0;r<i;r+=1){const e=t[r],i=Math.fround(e.x),o=Math.fround(e.y);s[n+0]=i,s[n+1]=o,s[n+2]=e.x-i,s[n+3]=e.y-o,s[n+4]=void 0!==e.value?e.value:0,n+=5}return s})(e,t):(e,i)=>ya(e,t))(l,h);this.wW={individualLookupValuesEnabled:h,attributesPerVertex:f,attributeOffsetCoordinateLowPrecision:c,attributeOffsetCoordinateHighPrecision:u,attributeOffsetLookUpValue:d,prepareRenderData:(t,e)=>p(t,this.lu.getFillStyle())}}kW(t,e,i){const s=new Float32Array(2*e);let n=0,r=i||t[0];for(let o=0;o<e;o+=1){const e=t[o];this.xW+=Math.abs(r.x-e.x),this.MW+=Math.abs(r.y-e.y),s[n]=this.xW,s[n+1]=this.MW,n+=2,r=e}return s}Ps(){const t=this.Qa,e=this.lu,i=this.ra(),s=this.$a,n=s.length,r=n>0,o=this.Bo.M(),a=this.Bo.i,l=this.AN.lineStyleSolid(i),h=this.AN.lineStyleDashed(i),c=l||h,u=c&&c.getThickness(),d=this.AN.strokeFillSolid(i),f=this.AN.strokeFillLinearGradient(i),p=this.AN.strokeFillRadialGradient(i),g=this.AN.strokeFillPaletted(i),m=d||f||p||g,y=this.wW.individualLookupValuesEnabled;if(h&&this.dt instanceof ih)return Ho.console.error("LightningChart JS DashedLine is not supported on logarithmic axis"),this;r&&(this.yu=Ma(this.yu,s,{canReturnB:!0}),this.Ha+=n);let v=this.pu.i;const b=this.bW.fW(this.QM,this.pu.M());if(b>0){let t=0;for(let e=0;e<b;e+=1){const e=this.QM[0];t+=e.existingDataPointsCount,e.existingDataPointsCount=0,e.existingCoordinatesCount=0,e.jointPointsCount=0,e.boundaries=el,e.lastDataPoint=void 0,this.vW.uW(e)}this.yu=this.yu.slice(t),this.Ha=this.yu.length,v=!0}let x=s,S=!1;(this.SW.ZG(this.yu)||t)&&(S=!0),h&&!this._W?(S=!0,this._W=!0,this.vW.dW()):!h&&this._W&&(this.QM.forEach((t=>{t.xG&&(this.RR.yV(t.xG),t.xG=void 0)})),this._W=!1),S&&(this.SW.Qm(),this.QM.forEach((t=>{t.existingDataPointsCount=0,t.existingCoordinatesCount=0,t.jointPointsCount=0,t.boundaries=el,t.lastDataPoint=void 0})),this.vW.cW(),x=this.yu,this.xW=0,this.MW=0);const A=this.SW.qG(x),w=A.length;if(w>0){let t=this.SW.tW(this.yu)||(this.Uo("ApplicationType",(t=>"InternalUI"===t.type))?this.Ha:1e5);w/t>10&&(t=w/10),this.vW.oW(A,t,((t,e,i,s)=>{const n=this.pW.calculateUserDataPointsBoundaries(e),r=this.SW.iW(n,i,this.yu)-s;return this.TW=e[i-1],{allocatedCoordinatesCount:t,existingDataPointsCount:r,existingCoordinatesCount:i,jointPointsCount:s,boundaries:n,coordsBuffer:this.RR.EV(t*this.wW.attributesPerVertex,this.wW.prepareRenderData(e,i)),lastDataPoint:e[i-1],xG:this._W?this.RR.EV(2*t,this.kW(e,i,this.TW)):void 0}}),((t,e,i,s)=>{const n=yl(t.boundaries,this.pW.calculateUserDataPointsBoundaries(e)),r=this.SW.iW(n,t.existingCoordinatesCount+i,this.yu)-(t.jointPointsCount+s);this.RR.zV(t.coordsBuffer,t.existingCoordinatesCount*this.wW.attributesPerVertex,this.wW.prepareRenderData(e,i)),this._W&&t.xG&&this.RR.zV(t.xG,2*t.existingCoordinatesCount,this.kW(e,i,this.TW)),this.TW=e[i-1],t.jointPointsCount+=s,t.lastDataPoint=e[i-1],t.existingDataPointsCount=r,t.existingCoordinatesCount+=i,t.boundaries=n}))}if(v&&(this.Ya=this.bW.yW(this.QM,this.pu.M())),this.aE.mV(this.dt),p?this.DN=AS(this.Eo||this.Ya,this.dt,p.getPosition(),p.getExtent(),p.getShape(),this.RR.$z()):f?this.LN=wS(this.Eo||this.Ya,this.dt,f.getAngle(!0),this.RR.$z()):(this.DN=void 0,this.LN=void 0),i||a){if(g&&"value"===g.getLookUpProperty()&&!y){const t='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !';throw Ho.alert(t),new Error(t)}if(m&&c&&!1!==u){const t=-1===u?"primitive":"triangulated",e=f?["gradient",f]:p?["gradient",p]:g?["lookup",g.getLookUpProperty(),g.lut]:"uniform";this.bG="primitive"===t?{type:t,shader:this.RR.oz(jx["2D"],jx.Color({dataType:e}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0}),h&&jx.StippleTexture),mousePickingShader:o?this.RR.oz(jx["2D"],jx.MousePicking,jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0}),h&&jx.StippleTexture):void 0,lineStyleSolid:l,lineStyleDashed:h,fillStyleSolid:d,fillStyleLinearGradient:f,fillStyleRadialGradient:p,fillStylePaletted:g}:"triangulated"===t?{type:t,shader:this.RR.oz(jx["2D"],jx.Color({dataType:e}),jx.LineInstanced2D({axisWorldTranslation:gx(this.dt),normalSource:void 0}),this.SG?jx.AliasedEdge:void 0,h&&jx.StippleTextureInstanced),mousePickingShader:o?this.RR.oz(jx["2D"],jx.MousePicking,jx.LineInstanced2D({axisWorldTranslation:gx(this.dt),normalSource:void 0}),h&&jx.StippleTextureInstanced):void 0,geometry:JS(this.RR,u),thickness:u,lineStyleSolid:l,lineStyleDashed:h,fillStyleSolid:d,fillStyleLinearGradient:f,fillStyleRadialGradient:p,fillStylePaletted:g}:{type:"none"}}else this.bG={type:"none"}}return this.MG=h?this.RR.IO(h.getPattern()):void 0,this.fu(e),this.Qa=!1,this.$a=[],this.Bo.i=!1,this.pu.i=!1,this}zL(t){const e=this.RR.gl,i=this.bG;if(!i||"none"===i.type)return this;const s=1===t?i.mousePickingShader:i.shader;if(!s)return this;const{lineStyleDashed:n,fillStyleSolid:r,fillStyleLinearGradient:o,fillStyleRadialGradient:a,fillStylePaletted:l}=i;return this.RR.jR(s).aV(s,((s,h,c,u)=>{let d=!1;if(this.RR.dV(s("uIsHighlighted"),1===t||2===t?0:this.zo).AR(s("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(s("uRenderEffectMask"),2===t?1:0),this.dt instanceof eh||this.dt instanceof nv?this.RR.uV(s("uScale"),this.aE.fV()).uV(s("uDisp"),this.aE.AV()).uV(u("uScaleStart_highpart"),this.aE.VO()).uV(u("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof ih&&this.RR.uV(u("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(u("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(u("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(u("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(s("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(s("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),1===t)this.RR.AR(s("uColor"),this.mN);else if(r)this.RR.AR(s("uColor"),r.getColor());else if(a){if(!this.DN)return!1;this.RR.mO(c,this.DN,a)}else if(o){if(!this.LN)return!1;this.RR.yO(c,this.LN,o)}else if(l){const t=yx(l,this,void 0);if(!t&&l.lut.percentageValues)return!1;this.RR.LO(c,l.lut,t)}return this.pW.renderVisibleOnly(this.QM,(r=>{const{coordsBuffer:o}=r;if(!o)return;e.bindBuffer(e.ARRAY_BUFFER,o);const a="triangulated"===i.type?KS.fG:ZS.fG;if(this.dt._i()||void 0===this.wW.attributeOffsetCoordinateLowPrecision?this.dt._i()&&void 0!==this.wW.attributeOffsetCoordinateHighPrecision&&a(!0,this.RR,o,c,this.wW.attributesPerVertex,this.wW.attributeOffsetCoordinateHighPrecision):a(!1,this.RR,o,c,this.wW.attributesPerVertex,this.wW.attributeOffsetCoordinateLowPrecision),n){if(!r.xG||!this.MG)return;"triangulated"===i.type?KS.AG(this.RR,c,r.xG,h("aLengthSoFarA"),h("aLengthSoFarB"),2,0):ZS.AG(this.RR,c,r.xG,h("aLengthSoFar"),2,0),this.RR.uV(s("uStippleCount"),[this.us.oi().x/this.MG.BO,this.us.oi().y/this.MG.BO]).dV(u("uStippleTextureWidthLimiter"),this.MG.DO/this.MG.BO).dV(s("uStippleScale"),n.getPatternScale()).cV(s("uStippleTexture"),this.MG.PO,1)}if(l&&"value"===l.lookUpProperty&&void 0!==this.wW.attributeOffsetLookUpValue&&1!==t)if("triangulated"===i.type){const t=h("aLookupValueA");e.vertexAttribPointer(t,1,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),this.RR.UV(t,1),e.enableVertexAttribArray(t);const i=h("aLookupValueB");e.vertexAttribPointer(i,1,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,(this.wW.attributeOffsetLookUpValue+this.wW.attributesPerVertex)*Float32Array.BYTES_PER_ELEMENT),this.RR.UV(i,1),e.enableVertexAttribArray(i)}else{const t=h("aLookupValue");e.vertexAttribPointer(t,1,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),e.enableVertexAttribArray(t)}if("triangulated"===i.type){const{thickness:e}=i;KS.zL(this.rN,i.geometry,c,this.SG&&1!==t,1===t,e,r.existingCoordinatesCount-1)}else ZS.yG(this.rN,r.existingCoordinatesCount);d=!0})),e.bindBuffer(e.ARRAY_BUFFER,null),d})),this}lN(t){return this.gN===t&&{}}nl(t,e){return Array.isArray(t)||(t=[t]),this.$a=Ma(this.$a,t,{canReturnB:!0}),this.Ya=yl(this.Ya,e||e||this.pW.calculateUserDataPointsBoundaries(t)),this}Nt(){return super.Nt(),this.xW=0,this.MW=0,this.TW=void 0,this}dispose(){return super.dispose(),this.vW.dW(),this.SW.sW(),this.bG={type:"none"},this.MG=void 0,this}VR(){return this}Ux(t){this.al()>0&&this.Ps();const e=this.tl(),i=su(e,t,this.Za,this.Fl,this.Il,this.dt,this.engine.dt,this.Ya,this.pW.GG,this.pW.WG);return void 0!==i?e[i]:void 0}sw(t){this.al()>0&&this.Ps();const e=this.tl(),i=e.length;if(0===i)return;const s=this.Fl?1:0,n=i-(this.Il?2:1);if(this.Za===eu.Nearest){let s,n,r=$a;for(let o=0;o<i;o+=1){const i=Lo(e[o],this.dt,this.us.dt);if(void 0!==n){const e=hl(n,i,t),o=(e.x-t.x)**2+(e.y-t.y)**2;o<r&&(r=o,s=e)}n=i}return void 0!==s?Lo(s,this.us.dt,this.dt):void 0}if("x"===this.pW.GG&&this.Za===eu.NearestX||"y"===this.pW.GG&&this.Za===eu.NearestY){const i=lu(e,Lo(t,this.us.dt,this.dt),this.pW.GG,this.pW.WG,s,n);return i?fl(e[i.a],e[i.b],i.lerpAmount):void 0}return this.Ux(t)}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return ja(this.lu)}bl(){return ja(this.lu)}}class aA extends CS{constructor(t,e,i,s){super(t),this.dG=i,this.FW=e,this.IW=ya(e,!1),this.PW=e.length,this.wR=t.nV(this.IW);const n=gl(this.FW);this.X=Lr(n.max.x-n.min.x,n.max.y-n.min.y),this.DW=s}BW(t){return t>1}Ky(t,e,i,s,n){return"object"==typeof s?e?this.RR.$V(t.attribute("aOffsetScale"),e,1).uV(t.uniform("uSizePixels"),[s.width,s.height]):this.RR.dV(t.uniform("uOffsetScale"),s.scale).uV(t.uniform("uSizePixels"),[s.width,s.height]):n?e?this.RR.$V(t.attribute("aOffsetPixels"),e,1):this.RR.dV(t.uniform("uOffsetPixels"),s):this.RR.dV(t.uniform("uPointSize"),s),n?this.RR.lV(this.wR,0,{location:t.attribute("aInstanceGeo"),size:2}).QV(this.dG,0,this.PW,i):this.RR.Ky(this.RR.gl.POINTS,i),this}kz(){this.RR.yV(this.wR)}}const lA=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=[Lr(-.5,-.5),Lr(.5,-.5),Lr(.5,.5),Lr(-.5,.5)];return new aA(t,i,t.gl.TRIANGLE_FAN,e)},hA=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=.05,s=[Lr(-.5,-.05),Lr(.5,-.05),Lr(.5,i),Lr(.5,i),Lr(-.5,i),Lr(-.5,-.05),Lr(-.05,-.5),Lr(i,-.5),Lr(i,.5),Lr(i,.5),Lr(-.05,.5),Lr(-.05,-.5)];return new aA(t,s,t.gl.TRIANGLES,e)},cA=(t,e,i)=>{if(yd(t))return cA(Kc.Square,e,i);let s=e._V.vz.get(t);if(t===Kc.Circle){const t=i<=3?4:i<=5?8:i<=10?16:24;return s=e._V.bz.get(t)||function(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:25;return Av(Lr(0,0),0,360,.5,.5,t)[0]}(e);return new aA(t,s,t.gl.TRIANGLE_FAN,i)}(e,t),e._V.bz.set(t,s),s}if(!s){switch(t){case Kc.Triangle:s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=function(){const t=[],e=2/1.73205080757;return t.push(Lr(-e/2,.3333333333333333)),t.push(Lr(0,-.6666666666666666)),t.push(Lr(e/2,.3333333333333333)),t}();return new aA(t,i,t.gl.TRIANGLES,e)}(e);break;case Kc.Square:s=lA(e);break;case Kc.Plus:s=hA(e);break;case Kc.Cross:s=hA(e,45);break;case Kc.Diamond:s=lA(e,45);break;case Kc.Arrow:s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=.05,s=[Lr(-.05,-.5),Lr(i,-.5),Lr(i,.45),Lr(i,.45),Lr(-.05,.45),Lr(-.05,-.5),Lr(-.5,0),Lr(-.4,0),Lr(0,.4),Lr(0,.4),Lr(0,.5),Lr(-.5,0),Lr(.5,0),Lr(.4,0),Lr(0,.4),Lr(0,.4),Lr(0,.5),Lr(.5,0)];return new aA(t,s,t.gl.TRIANGLES,e)}(e);break;case Kc.Star:s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new aA(t,[{x:0,y:0},{x:0,y:.5},{x:.1,y:.1},{x:.5,y:.1},{x:.2,y:-.1},{x:.3,y:-.5},{x:0,y:-.25},{x:-.3,y:-.5},{x:-.2,y:-.1},{x:-.5,y:.1},{x:-.1,y:.1},{x:0,y:.5}],t.gl.TRIANGLE_FAN,e)}(e);break;case Kc.Minus:s=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const i=.05,s=[Lr(-.5,-.05),Lr(.5,-.05),Lr(.5,i),Lr(.5,i),Lr(-.5,i),Lr(-.5,-.05)];return new aA(t,s,t.gl.TRIANGLES,e)}(e);break;default:return Ha(0,"LightningChart JS unidentified point shape")}e._V.vz.set(t,s)}return s};class uA extends Au{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n),this.aE=new DS,this.dN=Br(zr(tl,tl),zr($a,$a)),this.AN=mx({pointStyleSolid:()=>co(this.be)&&this.be,pointStyleRadialGradient:()=>wo(this.be)&&this.be,pointStyleLinearGradient:()=>ko(this.be)&&this.be,pointStylePaletted:()=>po(this.be)&&this.be,pointStyleIndividual:()=>fo(this.be)&&this.be}),this.rN=t,this.nN=e,this.gN=r,this.mN=o,this.RR=t.oN()}Ps(){var t;const e=this.Bo.M(),i=this.Bo.i,s=this.$a,n=s.length,r=n>0,o=this.Na.M(),a=this.be,l=this.size.M(),h=this.Na.i||this.Aa.i,c=this.dt.Ni(),u=this.size.i||this.Na.i,d=this.Qa||s&&s.length>0,f=c||u,p=this.ta(),g=this.AN.pointStyleSolid(p),m=this.AN.pointStyleRadialGradient(p),y=this.AN.pointStyleLinearGradient(p),v=this.AN.pointStylePaletted(p),b=this.AN.pointStyleIndividual(p),x=g||m||y||v||b;if(r&&(this.Oa=Ma(this.Oa,s,{canReturnB:!0}),this.Ha+=n),r||this.Qa){this.Ya=this.ja?yl(this.Ya,this.ja):yl(this.Ya,gl(this.Oa));const t=ya(this.Oa,this.dt._i());this.LW=this.Ha,this.RW=this.RR.nV(t,!1,this.RW)}this.aE.mV(this.dt),a!==ro?f&&(this.EW&&(this.EW=void 0),l>1||this.Ga.M()?l<=1&&!this.Ga.M()?this.dG=this.RR.gl.POINTS:(this.EW=cA(o,this.RR,this.Ga.M()?25:l),this.dG=this.EW.dG):this.dG=this.RR.gl.POINTS):this.EW&&(this.EW=void 0);const S=(null===(t=this.EW)||void 0===t?void 0:t.DW)||0,A=this.Aa.M()+S;if(u||p||i||h){const t=this.Ga.M()?"attribute":"uniform",i=l<=1&&jx.PointSize(t),s=jx.VertexLocation({offset:l>1?{dataType:t,sizeUnit:"px",symmetric:!0,rotation:(this.Wa.M()||A%360!=0)&&{dataType:this.Wa.M()?"attribute":"uniform"}}:void 0,axisWorldTranslation:gx(this.dt),normalSource:void 0});this.cE=x?this.RR.oz(jx["2D"],i,s,g?jx.Color({dataType:"uniform"}):b?jx.Color({dataType:"attribute"}):v?jx.Color({dataType:["lookup",v.getLookUpProperty(),v.lut]}):m?jx.Color({dataType:["gradient",m]}):y?jx.Color({dataType:["gradient",y]}):void 0):void 0,this.EN=e&&x?this.RR.oz(jx["2D"],i,s,jx.MousePicking):void 0}if(d||p){const t=this.Oa.length;if(fo(a)&&this.LW&&this.LW>0){const e=a.getFallbackColor(),i=new Float32Array(4*t);for(let s=0;s<t;s+=1){const t=this.Oa[s];t.color?(i[4*s+0]=t.color.r,i[4*s+1]=t.color.g,i[4*s+2]=t.color.b,i[4*s+3]=t.color.a):(i[4*s+0]=e.r,i[4*s+1]=e.g,i[4*s+2]=e.b,i[4*s+3]=e.a)}this.zW=this.RR.nV(i,!0,this.zW)}else this.zW&&this.RR.yV(this.zW),this.zW=void 0;if(this.Ga.M()&&this.LW&&this.LW>0&&l>1){const e=new Float32Array(t);for(let i=0;i<t;i+=1){const t=this.Oa[i];t.size?e[i]=t.size:e[i]=l}this.VW=this.RR.nV(e,!0,this.VW)}else this.VW&&(this.RR.yV(this.VW),this.VW=void 0);if(this.Wa.M()&&this.LW&&this.LW>0&&l>1){const e=new Float32Array(2*t),i=Ll(A),s=Math.sin(i),n=Math.cos(i);for(let r=0;r<t;r+=1){const t=this.Oa[r];if(t.rotation){const i=Ll(t.rotation+S);e[2*r+0]=Math.sin(i),e[2*r+1]=Math.cos(i)}else e[2*r+0]=s,e[2*r+1]=n}this.OW=this.RR.nV(e,!0,this.OW)}else this.OW&&(this.RR.yV(this.OW),this.OW=void 0);if(this.Ua.M()&&this.LW&&this.LW>0){const e=new Float32Array(t);for(let i=0;i<t;i+=1){const t=this.Oa[i];"value"in t&&void 0!==t.value&&null!==t.value?e[i]=t.value:e[i]=-34028234663852886e22}this.NW=this.RR.nV(e,!0,this.NW)}else this.NW&&(this.RR.yV(this.NW),this.NW=void 0);this.ha(this.be)}if(wo(a)?this.MN=AS(pu(this.Eo||this.Ya,{x:this.vl(),y:this.bl()},this.dt),this.dt,a.getPosition(),a.getExtent(),a.getShape(),this.RR.$z()):ko(a)?this._N=wS(pu(this.Eo||this.Ya,{x:this.vl(),y:this.bl()},this.dt),this.dt,a.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0),d&&(this.Ya&&d&&(this.dN=pu(this.Ya,{x:l,y:l},this.dt)),this.$a=[],this.Xa=0,this.ja=el),void 0===this.Ja&&v&&"value"===v.lookUpProperty&&v.lut.percentageValues){let t=tl,e=$a;for(let i=0;i<this.Oa.length;i+=1){const s=this.Oa[i];void 0!==s.value&&s.value<e&&(e=s.value),void 0!==s.value&&s.value>t&&(t=s.value)}this.Ja={min:e,max:t}}return this.ia=a,this.Na.i=!1,this.size.i=!1,this.Aa.i=!1,this.Bo.i=!1,this.Qa=!1,this}zL(t){const e=1===t?this.EN:this.cE,i=this.RW,s=this.LW;return e&&i&&s&&(this.RR.jR(e),this.RR.aV(e,((e,n,r,o)=>{var a;if(this.dt instanceof eh||this.dt instanceof nv?this.RR.uV(e("uScale"),this.aE.fV()).uV(e("uDisp"),this.aE.AV()).uV(o("uScaleStart_highpart"),this.aE.VO()).uV(o("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof ih&&this.RR.uV(o("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(o("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(o("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(o("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(e("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(e("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),this.RR.vO(r,i,this.dt._i(),this.EW?1:void 0).dV(e("uIsHighlighted"),1===t||2===t?0:this.zo).AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0).dV(o("uDevicePixelRatio"),this.RR.$z()),this.EW){const t=n("aInstanceGeo");this.RR.GV(t,this.EW.wR).UV(t,0)}if(1===t)this.RR.AR(e("uColor"),this.mN);else if(co(this.be))this.RR.AR(e("uColor"),this.be.getColor());else if(fo(this.be)&&this.zW){const t=n("aColor");this.RR.HV(t,this.zW),this.dG!==this.RR.gl.POINTS&&this.RR.UV(t,1)}else if(po(this.be)){if("value"===this.be.getLookUpProperty()&&this.NW){const t=n("aLookupValue");this.RR.$V(t,this.NW),this.dG!==this.RR.gl.POINTS&&this.RR.UV(t,1)}const t=yx(this.be,this,this.Ja);if(!t&&this.be.lut.percentageValues)return!1;this.RR.LO(r,this.be.lut,t)}else if(wo(this.be)){if(!this.MN)return!1;this.RR.mO(r,this.MN,this.be)}else if(ko(this.be)){if(!this._N)return!1;this.RR.yO(r,this._N,this.be)}if(this.VW&&this.dG!==this.RR.gl.POINTS){const t=n("aOffsetPixels");this.RR.$V(t,this.VW),this.dG!==this.RR.gl.POINTS&&this.RR.UV(t,1)}else if(this.dG!==this.RR.gl.POINTS){const t=e("uOffsetPixels");this.RR.dV(t,this.size.M())}const l=((null===(a=this.EW)||void 0===a?void 0:a.DW)||0)+this.Aa.M();if(this.OW&&this.dG!==this.RR.gl.POINTS){const t=n("aRot");this.RR.GV(t,this.OW),this.dG!==this.RR.gl.POINTS&&this.RR.UV(t,1)}else if(this.dG!==this.RR.gl.POINTS&&l%360!=0){const t=Ll(l),i=Math.sin(t),s=Math.cos(t);this.RR.uV(e("uRot"),[i,s])}if(this.dG===this.RR.gl.POINTS)this.RR.dV(e("uPointSize"),this.size.M());else{const t={x:2/this.us.oi().x,y:2/this.us.oi().y};this.RR.uV(e("uRatioPxClip"),[t.x,t.y])}let h=!1;return this.dG===this.RR.gl.POINTS?(this.RR.Ky(this.dG,s),h=!0):this.EW&&(this.RR.QV(this.dG,0,this.EW.PW,s),h=!0),h}))),this}lN(t){return this.gN===t&&{}}Hc(t){this.al()>0&&this.Ps();const e=this.tl(),i=su(e,t,this.Za,!1,!1,this.dt,this.us.dt,this.Ya,void 0,void 0);return void 0!==i?e[i]:void 0}Ce(t){return super.Ce(t)}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return this.Ga.M()?25:this.size.M()}bl(){return this.Ga.M()?25:this.size.M()}VR(){return this.RW&&(this.RR.yV(this.RW),this.RW=void 0),this.EW&&(this.EW=void 0),this.zW&&(this.RR.yV(this.zW),this.zW=void 0),this.OW&&(this.RR.yV(this.OW),this.OW=void 0),this.NW&&(this.RR.yV(this.NW),this.NW=void 0),this}}class dA extends bu{constructor(t,e,i,s,n,r){super(t,e,i,s,n),this.bG={fill:void 0,border:void 0},this.aE=new DS,this.Ya=el,this.GW=!1,this.WW=!1,this.UW=!1,this.YW=!1,this.HW=!1,this.Sd=[],this.AN=mx({polygonStyleSolid:()=>co(this.be)&&this.be,polygonStyleImage:()=>cd(this.be)&&this.be,polygonStyleRadialGradient:()=>wo(this.be)&&this.be,polygonStyleLinearGradient:()=>ko(this.be)&&this.be,polygonStylePaletted:()=>po(this.be)&&this.be,polygonStyleIndividual:()=>fo(this.be)&&this.be,lineStyleSolid:()=>vh(this.xe)&&this.xe,lineStyleFilled:()=>{const t=this.xe&&this.xe.getFillStyle();return co(t)&&t}}),this.rN=t,this.nN=e,this.FG=r,this.RR=t.oN(),this.SG=this.RR.eO}zr(){const t=this.FG(),e={ys:t=>this.PG(e,t),cs:t=>this.DG(e,t),pl:t=>this.$W(e,t),Yb:t=>this.XW(e,t),AR:t=>this.LG(e,t),Oa:[],u:void 0,jW:void 0,zo:0,ZW:!0,gN:t.id,mN:t.color};return this.Sd.push(e),e}Nt(){var t;return this.Sd.length=0,this.GW=!0,this.ji&&this.Tn&&(null===(t=this.us.Cn)||void 0===t?void 0:t.entity)===this&&this.Tn(this,void 0,this.us.Cn.collectionMember),this}Ap(){return this.Sd}bd(t){var e;const i=this.Sd.indexOf(t);i>=0&&(this.Sd.splice(i,1),this.HW=!0,this.ji&&this.Tn&&(null===(e=this.us.Cn)||void 0===e?void 0:e.entity)===this&&this.us.Cn.collectionMember===t&&this.Tn(this,void 0,this.us.Cn.collectionMember))}PG(t,e){var i;return t.ZW=e,this.HW=!0,this.ji&&this.Tn&&(null===(i=this.us.Cn)||void 0===i?void 0:i.entity)===this&&this.us.Cn.collectionMember===t&&this.Tn(this,void 0,this.us.Cn.collectionMember),t}DG(t,e){return t.zo=e,this.YW=!0,t}$W(t,e){return t.Oa=e,this.GW=!0,t}XW(t,e){return t.u=e,this.WW=!0,t}LG(t,e){return t.jW=null==e?void 0:e.toUint32(),this.UW=!0,t}Ps(){const t=this.Bo.M(),e=this.Bo.i,i=this.ta(),s=this.YW,n=this.GW,r=this.WW,o=this.UW,a=this.HW,l=this.xe,h=this.ra(),c=this.Sd.filter((t=>t.ZW&&t.Oa.length>0));if(this.aE.mV(this.dt),(n||a)&&(this.Ya=yl(...c.map((t=>gl(t.Oa))))),n||a){const t=ya(c.map((t=>[...t.Oa,t.Oa[0],{x:Number.NaN,y:Number.NaN}])).flat(),this.dt._i()),e=this.dt._i()?4:2;this.vG=this.RR.nV(t,!1,this.vG);let i=[];c.reduce(((s,n)=>{const r=s,o=(n.Oa.length+1)*e,a=new Float32Array(t.buffer,r,o),l=Pr(a,void 0,e),h=s/(Float32Array.BYTES_PER_ELEMENT*e);for(let t=0;t<l.length;t+=1)l[t]+=h;return i=Ma(i,l,{canReturnB:!0}),r+(o+1*e)*Float32Array.BYTES_PER_ELEMENT}),0);const s=new Uint32Array(i);this.QW=this.RR.OV(s,this.QW),this.JW=s.length,this.KW=t.length/e-1}const u=this.AN.polygonStyleSolid(i),d=this.AN.polygonStylePaletted(i),f=this.AN.polygonStyleIndividual(i),p=this.AN.polygonStyleRadialGradient(i),g=this.AN.polygonStyleLinearGradient(i),m=this.AN.polygonStyleImage(i),y=u||d||g||p||m||f,v=this.AN.lineStyleSolid(h),b=this.AN.lineStyleFilled(h),x=b,S=v&&Math.max(v.getThickness(),0);if((i||h||e)&&(this.bG.fill=y?{shader:this.RR.oz(jx["2D"],u&&jx.Color({dataType:"uniform"}),g&&jx.Color({dataType:["gradient",g]}),p&&jx.Color({dataType:["gradient",p]}),d&&jx.Color({dataType:["lookup",d.getLookUpProperty(),d.lut]}),f&&jx.Color({dataType:"attribute"}),m&&jx.Color({dataType:["image",m]}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0}),jx.AttributeHighlight),mousePicking:t?{shader:this.RR.oz(jx["2D"],jx.MousePickingAttribute,jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0}),jx.AttributeHighlight)}:void 0,fillStyleSolid:u,fillStyleLinearGradient:g,fillStyleRadialGradient:p,fillStylePaletted:d,fillStyleImage:m,fillStyleIndividual:f}:void 0,this.bG.border=v&&x&&"number"==typeof S&&0!==S?{shader:this.RR.oz(jx["2D"],jx.Color({dataType:"uniform"}),jx.LineInstanced2D({axisWorldTranslation:gx(this.dt),normalSource:void 0}),this.SG?jx.AliasedEdge:void 0,jx.AttributeHighlight),geometry:JS(this.RR,S),mousePicking:t?{shader:this.RR.oz(jx["2D"],jx.MousePickingAttribute,jx.LineInstanced2D({axisWorldTranslation:gx(this.dt),normalSource:void 0}),jx.AttributeHighlight)}:void 0,fillStyleSolid:b,thickness:S}:void 0),s||n){const t=c.reduce(((t,e)=>t+e.Oa.length+2),0),e=new Float32Array(t);let i=0;c.forEach((t=>{const s=t.Oa.length+2;for(let n=i;n<i+s;n+=1)e[n]=t.zo;i+=s})),this.qW=this.RR.nV(e,!0,this.qW)}if(t){if(n){const t=c.reduce(((t,e)=>t+e.Oa.length+2),0),e=new Float32Array(4*t);let i=0;c.forEach((t=>{const s=t.Oa.length+2;for(let n=i;n<i+4*s;n+=4)e[n]=t.mN.r,e[n+1]=t.mN.g,e[n+2]=t.mN.b,e[n+3]=t.mN.a;i+=4*s})),this.tU=this.RR.nV(e,!1,this.tU)}}else this.tU&&(this.RR.yV(this.tU),this.tU=void 0);if(r||n&&d&&"value"===d.getLookUpProperty()){const t=c.reduce(((t,e)=>t+e.Oa.length+2),0),e=new Float32Array(t);let i=0;const s={min:$a,max:tl};c.forEach((t=>{const n=void 0!==t.u?t.u:-34028234663852886e22,r=t.Oa.length+2;for(let s=i;s<i+r;s+=1)e[s]=n;i+=r,s.min=Math.min(s.min,n),s.max=Math.max(s.max,n)})),this.iU=s,this.sU=this.RR.nV(e,!1,this.sU)}if(o||n&&f){const t=c.reduce(((t,e)=>t+e.Oa.length+2),0),e=new Uint32Array(t);let i=0;const s=f?f.getFallbackColor().toUint32():Qr.toUint32();c.forEach((t=>{const n=void 0!==t.jW?t.jW:s,r=t.Oa.length+2;for(let s=i;s<i+r;s+=1)e[s]=n;i+=r})),this.eU=this.RR.nV(e,!1,this.eU,Uint32Array)}return p?this.MN=AS(this.Eo||this.Ya,this.dt,p.getPosition(),p.getExtent(),p.getShape(),this.RR.$z()):g?this._N=wS(this.Eo||this.Ya,this.dt,g.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0),this.hU=this.RR.RO(this,this.hU,m,void 0,n||a||this.dt.Ni(),((t,e,i)=>this.rU(t,e,i,c))),this.YW=!1,this.HW=!1,this.GW=!1,this.WW=!1,this.UW=!1,this.Bo.i=!1,this.ha(this.be),this.aa(l),this}zL(t){var e,i;const{fill:s,border:n}=this.bG,r=this.vG,o=this.qW,a=this.tU;if(!r||!o)return this;if(s){const{fillStyleSolid:i,fillStyleLinearGradient:n,fillStyleRadialGradient:l,fillStylePaletted:h,fillStyleImage:c,fillStyleIndividual:u}=s,d=this.QW,f=this.JW,p=1===t?null===(e=s.mousePicking)||void 0===e?void 0:e.shader:s.shader;if(!p||!r||!d||void 0===f)return this;this.RR.jR(p).aV(p,((e,s,p,g)=>{if(this.dt instanceof eh||this.dt instanceof nv?this.RR.uV(e("uScale"),this.aE.fV()).uV(e("uDisp"),this.aE.AV()).uV(g("uScaleStart_highpart"),this.aE.VO()).uV(g("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof ih&&this.RR.uV(g("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(g("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(g("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(g("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(e("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(e("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),this.RR.vO(p,r,this.dt._i(),void 0).XV(d).$V(s("aIsHighlighted"),o).AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0),1===t){if(!a)return!1;this.RR.HV(s("aColor"),a)}else if(i)this.RR.AR(e("uColor"),i.getColor());else if(l){if(!this.MN)return!1;this.RR.mO(p,this.MN,l)}else if(n){if(!this._N)return!1;this.RR.yO(p,this._N,n)}else if(h){const t=yx(h,this,this.iU);if(!t&&h.lut.percentageValues)return!1;if(this.RR.LO(p,h.lut,t),"value"===h.getLookUpProperty()){if(!this.sU)return!1;this.RR.$V(s("aLookupValue"),this.sU)}}else if(c){if(!this.hU)return!1;this.RR.AR(g("uColor"),c.getSurroundingColor()).cV(e("uColorTexture"),this.hU.texture.Gz()||this.hU.sourceMissingTexture,0).lV(this.hU.texCoordsBuffer,void 0,{location:s("aTextureCoord"),size:2}).LV(c.fitMode)}else if(u){if(!this.eU)return!1;const t=s("aColor");this.RR.gl.bindBuffer(this.RR.gl.ARRAY_BUFFER,this.eU),this.RR.gl.vertexAttribPointer(t,4,this.RR.gl.UNSIGNED_BYTE,!0,0,0),this.RR.gl.enableVertexAttribArray(t)}return this.RR.ZV(f,void 0,void 0,this.RR.gl.UNSIGNED_INT),!0}))}if(n){const{geometry:e,fillStyleSolid:s,thickness:l}=n,h=this.KW,c=1===t?null===(i=n.mousePicking)||void 0===i?void 0:i.shader:n.shader;if(!c||!r||!h)return this;this.RR.jR(c).aV(c,((i,n,c,u)=>{if(this.dt instanceof eh||this.dt instanceof nv?this.RR.uV(i("uScale"),this.aE.fV()).uV(i("uDisp"),this.aE.AV()).uV(u("uScaleStart_highpart"),this.aE.VO()).uV(u("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof ih&&this.RR.uV(u("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(u("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(u("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(u("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(i("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(i("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),this.RR.lV(o,1,{location:n("aIsHighlighted"),size:1}).AR(i("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(i("uRenderEffectMask"),2===t?1:0),1===t){if(!a)return!1;this.RR.lV(a,1,{location:n("aColor"),size:4})}else s&&this.RR.AR(i("uColor"),s.getColor());return KS.fG(this.dt._i(),this.RR,r,c,this.dt._i()?4:2,0),KS.zL(this.rN,e,c,this.SG&&1!==t,1===t,l,h),!0}))}return this}rU(t,e,i,s){const n=Lo({x:this.Ya.min.x,y:this.Ya.min.y},this.dt,this.us.dt),r=Lo({x:this.Ya.max.x,y:this.Ya.max.y},this.dt,this.us.dt),o={x:Math.abs(n.x-r.x),y:Math.abs(n.y-r.y)},a=RS(t,e,o.x,o.y,i),l=a[1],h=a[4],c=a[6],u=a[7],d=s.reduce(((t,e)=>t+e.Oa.length+2),0),f=new Float32Array(2*d),p=this.Ya.max.x-this.Ya.min.x,g=this.Ya.max.y-this.Ya.min.y,m=h-c,y=u-l;let v=0;for(const b of s){for(const i of b.Oa){const t=c+m*((i.x-this.Ya.min.x)/p),e=l+y*((i.y-this.Ya.min.y)/g);f[v]=t,f[v+1]=e,v+=2}const t=c+m*((b.Oa[0].x-this.Ya.min.x)/p),e=l+y*((b.Oa[0].y-this.Ya.min.y)/g);f[v]=t,f[v+1]=e,v+=2,f[v]=Number.NaN,f[v+1]=Number.NaN,v+=2}return f}lN(t){const e=this.Sd.find((e=>e.gN===t));return!!e&&{collectionMember:e}}VR(){return this.QW&&(this.RR.yV(this.QW),this.QW=void 0),this.vG&&(this.RR.yV(this.vG),this.vG=void 0),this.qW&&(this.RR.yV(this.qW),this.qW=void 0),this.tU&&(this.RR.yV(this.tU),this.tU=void 0),this.sU&&(this.RR.yV(this.sU),this.sU=void 0),this.eU&&(this.RR.yV(this.eU),this.eU=void 0),this.bG={fill:void 0,border:void 0},this.hU=this.RR.EO(this,this.hU),this}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return ja(this.xe)}bl(){return ja(this.xe)}}class fA extends wu{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n),this.aE=new DS,this.nU=el,this.AN=mx({fillStyleSolid:()=>co(this.be)&&this.be,fillStyleRadialGradient:()=>wo(this.be)&&this.be,fillStyleLinearGradient:()=>ko(this.be)&&this.be,fillStyleImage:()=>cd(this.be)&&this.be,strokeStyleSolid:()=>vh(this.xe)&&this.xe,strokeFillSolid:()=>{const t=this.xe.getFillStyle();return co(t)&&t},strokeFillLinearGradient:()=>{const t=this.xe.getFillStyle();return ko(t)&&t},strokeFillRadialGradient:()=>{const t=this.xe.getFillStyle();return wo(t)&&t}}),this.rU=(t,e,i)=>{const s=Lo(this.Fa(),this.dt,this.us.dt),n=Rl(Lo(kl(this.Fa(),this.oi()),this.dt,this.us.dt),s);return RS(t,e,n.x,n.y,i)},this.rN=t,this.nN=e,this.gN=r,this.mN=o,this.RR=t.oN(),this.nN=e}Ps(){super.Ps();const t=this.Bo.M(),e=this.ta(),i=this.ua.i||this.X.i||this.Aa.i||this.ma.i,s=this.xe,n=this.ra(),r=s.getThickness(),o=this.Aa.M();this.aE.mV(this.dt);const a=this.dt.Ni();if(i){const t=this.X.M();this.Oa=function(t,e,i,s,n){const r=((t,e,i)=>[t,Lr(t.x+e,t.y),Lr(t.x+e,t.y+i),Lr(t.x,t.y+i)])(t,e,i);if(0!==s||s%360!=0){const t=s*Math.PI/180;r[0]=xl(r[0],n,t),r[1]=xl(r[1],n,t),r[2]=xl(r[2],n,t),r[3]=xl(r[3],n,t)}return r}(this.ua.M(),t.x,t.y,o,this.ma.M());const e=ya(this.Oa,this.dt._i());this.SN=this.RR.nV(e,!1,this.SN),this.bN=this.Oa.length,this.nU=gl(this.Oa)}const l=this.AN.fillStyleSolid(e),h=this.AN.fillStyleRadialGradient(e),c=this.AN.fillStyleLinearGradient(e),u=this.AN.fillStyleImage(e),d=l||h||c||u;e&&(this.wN=d?this.RR.oz(jx["2D"],l&&jx.Color({dataType:"uniform"}),c&&jx.Color({dataType:["gradient",c]}),h&&jx.Color({dataType:["gradient",h]}),u&&jx.Color({dataType:["image",u]}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0),h?this.MN=AS(this.Eo||this.nU,this.dt,h.getPosition(),h.getExtent(),h.getShape(),this.RR.$z()):c?this._N=wS(this.Eo||this.nU,this.dt,c.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0),this.hU=this.RR.RO(this,this.hU,u,void 0,a||i,this.rU);const f=this.AN.strokeStyleSolid(n),p=this.AN.strokeFillSolid(n),g=this.AN.strokeFillLinearGradient(n),m=this.AN.strokeFillRadialGradient(n),y=f,v=p||g||m;if(y&&(i||n||a&&1!==r)){if(1===r||-1===r)[this.CN,this.oU]=[this.Oa,void 0];else{const t=this.dt;[this.CN,this.oU]=t instanceof ih?((t,e,i)=>{const s=t[0],n=t[1],r=t[2],o=t[3],a=e/2;return[[i.Ui(s,n,a,-a),i.Ui(n,s,-a,-a),i.Ui(o,r,-a,-a),i.Ui(r,o,a,-a),i.Ui(s,n,-a,a),i.Ui(n,s,a,a),i.Ui(o,r,a,a),i.Ui(r,o,-a,a)],[0,4,5,0,5,1,1,5,7,1,3,7,3,7,6,3,2,6,2,4,0,2,6,4]]})(this.Oa,r,t):((t,e,i)=>{const s=t[0],n=t[1],r=t[2],o=t[3],a=Lr(e.x*i*.5,e.y*i*.5),l=Al(Sl(n,s)),h=Al(Sl(o,s)),c=Il(l),u=Il(h);return[[kl(s,kl(Ml(c,a.x),Ml(u,a.y))),kl(n,kl(Ml(l,a.x),Ml(u,a.y))),kl(o,kl(Ml(c,a.x),Ml(h,a.y))),kl(r,kl(Ml(l,a.x),Ml(h,a.y))),kl(s,kl(Ml(l,a.x),Ml(h,a.y))),kl(n,kl(Ml(c,a.x),Ml(h,a.y))),kl(o,kl(Ml(l,a.x),Ml(u,a.y))),kl(r,kl(Ml(c,a.x),Ml(u,a.y)))],[0,4,5,0,5,1,1,5,7,1,3,7,3,7,6,3,2,6,2,4,0,2,6,4]]})(this.Oa,t.Wi(),r)}this.TN=this.RR.nV(ya(this.CN,this.dt._i()),!1,this.TN),this.oU?(this.uG=this.RR.OV(new Uint16Array(this.oU),this.uG),this.kN=this.oU.length):(this.uG&&this.RR.yV(this.uG),this.uG=void 0,this.kN=this.CN.length)}return n&&(this.RN=y&&v?this.RR.oz(jx["2D"],jx.Color({dataType:m?["gradient",m]:g?["gradient",g]:"uniform"}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0),m?this.DN=AS(this.nU,this.dt,m.getPosition(),m.getExtent(),m.getShape(),this.RR.$z()):g?this.LN=wS(this.nU,this.dt,g.getAngle(!0),this.RR.$z()):(this.DN=void 0,this.LN=void 0),this.EN=t&&d?this.EN||this.RR.oz(jx["2D"],jx.Color({dataType:"uniform"}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0,this.zN=t&&this.xe!==Eo?this.zN||this.RR.oz(jx["2D"],jx.Color({dataType:"uniform"}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0,this.ha(this.be),this.aa(s),this.ua.i=!1,this.Aa.i=!1,this.X.i=!1,this.ma.i=!1,this}lN(t){return this.gN===t&&{}}zL(t){const e=1===t?this.EN:this.wN,i=this.SN,s=this.bN,n=this.AN.fillStyleSolid(!1),r=this.AN.fillStyleRadialGradient(!1),o=this.AN.fillStyleLinearGradient(!1),a=this.AN.fillStyleImage(!1);e&&i&&s&&this.be!==ro&&(this.RR.jR(e),this.RR.aV(e,((e,l,h,c)=>{if(this.dt instanceof eh||this.dt instanceof nv?this.RR.uV(e("uScale"),this.aE.fV()).uV(e("uDisp"),this.aE.AV()).uV(c("uScaleStart_highpart"),this.aE.VO()).uV(c("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof ih&&this.RR.uV(c("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(c("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(c("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(c("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(e("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(e("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),1===t)this.RR.AR(e("uColor"),this.mN);else if(n)this.RR.AR(e("uColor"),n.getColor());else if(r){if(!this.MN)return!1;this.RR.mO(h,this.MN,r)}else if(o){if(!this._N)return!1;this.RR.yO(h,this._N,o)}else if(a){if(!this.hU)return!1;const t=this.hU&&this.hU.texture.Gz();this.RR.AR(c("uColor"),a.getSurroundingColor()).cV(e("uColorTexture"),t||this.hU.sourceMissingTexture,0).lV(this.hU.texCoordsBuffer,void 0,{location:l("aTextureCoord"),size:2}).LV(a.fitMode)}return this.RR.dV(e("uIsHighlighted"),1===t||2===t?0:this.zo).AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0).vO(h,i,this.dt._i(),void 0).Ky(this.RR.gl.TRIANGLE_FAN,s),!0})));const l=1===t?this.zN:this.RN,h=this.AN.strokeStyleSolid(!1),c=this.AN.strokeFillSolid(!1),u=this.AN.strokeFillLinearGradient(!1),d=this.AN.strokeFillRadialGradient(!1),f=this.TN;return l&&f&&h&&(this.RR.jR(l),this.RR.aV(l,((e,i,s,n)=>{if(this.dt instanceof eh||this.dt instanceof nv?this.RR.uV(e("uScale"),this.aE.fV()).uV(e("uDisp"),this.aE.AV()).uV(n("uScaleStart_highpart"),this.aE.VO()).uV(n("uScaleStart_lowpart"),this.aE.OO()):this.dt instanceof ih&&this.RR.uV(n("uScaleStart"),this.aE.MixedScaleXY.uScaleStart).uV(n("uScaleStartLog"),this.aE.MixedScaleXY.uScaleStartLog).uV(n("uScaleInterval"),this.aE.MixedScaleXY.uScaleInterval).uV(n("uScaleIntervalLog"),this.aE.MixedScaleXY.uScaleIntervalLog).uV(e("uViewportStart"),this.aE.MixedScaleXY.uViewportStart).uV(e("uViewportSize"),this.aE.MixedScaleXY.uViewportSize),1===t)this.RR.AR(e("uColor"),this.mN);else if(c)this.RR.AR(e("uColor"),c.getColor());else if(d){if(!this.DN)return!1;this.RR.mO(s,this.DN,d)}else if(u){if(!this.LN)return!1;this.RR.yO(s,this.LN,u)}return this.RR.dV(e("uIsHighlighted"),1===t||2===t?0:this.zo).AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0).vO(s,f,this.dt._i(),void 0),this.uG?this.RR.XV(this.uG).ZV(this.kN):this.RR.Ky(this.RR.gl.LINE_LOOP,this.kN),!0}))),this}VR(){return this.uG&&(this.RR.yV(this.uG),this.uG=void 0),this.SN&&(this.RR.yV(this.SN),this.SN=void 0),this.TN&&(this.RR.yV(this.TN),this.TN=void 0),this.hU=this.RR.EO(this,this.hU),this.wN=void 0,this.RN=void 0,this.EN=void 0,this.zN=void 0,this}bt(){return Math.max(this.ua.M().x,this.ua.M().x+this.X.M().x)}vt(){return Math.min(this.ua.M().x,this.ua.M().x+this.X.M().x)}Mt(){return Math.max(this.ua.M().y,this.ua.M().y+this.X.M().y)}xt(){return Math.min(this.ua.M().y,this.ua.M().y+this.X.M().y)}vl(){return ja(this.xe)}bl(){return ja(this.xe)}}class pA extends Mu{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n),this.aE=new DS,this.AN=mx({fillStyleSolid:()=>co(this.be)&&this.be,fillStylePaletted:()=>po(this.be)&&this.be,fillStyleRadialGradient:()=>wo(this.be)&&this.be,fillStyleLinearGradient:()=>ko(this.be)&&this.be,fillStyleImage:()=>cd(this.be)&&this.be,strokeLineStyleSolid:()=>vh(this.xe)&&this.xe,strokeLineSolidFill:()=>{const t=this.xe.getFillStyle();return co(t)&&t},strokeLinearGradientFill:()=>{const t=this.xe.getFillStyle();return ko(t)&&t},strokeRadialGradientFill:()=>{const t=this.xe.getFillStyle();return wo(t)&&t}}),this.rU=(t,e,i)=>{const s=Lo({x:this.Ya.min.x,y:this.Ya.min.y},this.dt,this.us.dt),n=Lo({x:this.Ya.max.x,y:this.Ya.max.y},this.dt,this.us.dt),r={x:Math.abs(s.x-n.x),y:Math.abs(s.y-n.y)},o=RS(t,e,r.x,r.y,i),a=o[1],l=o[4],h=o[6],c=o[7],u=new Float32Array(2*this.Oa.length),d=this.Ya.max.x-this.Ya.min.x,f=this.Ya.max.y-this.Ya.min.y,p=l-h,g=c-a;let m=0;for(const y of this.Oa){const t=h+p*((y.x-this.Ya.min.x)/d),e=a+g*((y.y-this.Ya.min.y)/f);u[m]=t,u[m+1]=e,m+=2}return u},this.rN=t,this.nN=e,this.gN=r,this.mN=o,this.RR=t.oN(),this.nN=e}Hc(t){let e,i=Number.MAX_VALUE;for(const s of this.Oa){const n=ul(Lo(s,this.dt,this.us.dt),t);n<i&&(i=n,e=s)}return e}Ps(){const t=this.Bo.M(),e=this.ta(),i=this.yl,s=this.Oa.length>=3,n=this.xe,r=this.ra(),o=n.getThickness(),a=this.oa(o);this.aE.mV(this.dt),this.FT=this.dt.Wi();const l=this.dt.Ni();if(i&&(this.Ya=gl(this.Oa)),i&&s){const t=ya(this.Oa,this.dt._i());this.SN=this.RR.nV(t,!1,this.SN),this.aU=new Uint16Array(Pr(t)),this.lU=this.RR.OV(this.aU,this.lU),this.bN=this.aU.length}const h=this.AN.fillStyleSolid(e),c=this.AN.fillStylePaletted(e),u=this.AN.fillStyleRadialGradient(e),d=this.AN.fillStyleLinearGradient(e),f=this.AN.fillStyleImage(e),p=h||c&&"value"!==c.getLookUpProperty()&&c||d||u||f;if(e&&(this.wN=p?this.RR.oz(jx["2D"],h&&jx.Color({dataType:"uniform"}),d&&jx.Color({dataType:["gradient",d]}),u&&jx.Color({dataType:["gradient",u]}),c&&jx.Color({dataType:["lookup",c.getLookUpProperty(),c.lut]}),f&&jx.Color({dataType:["image",f]}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0),u?this.MN=AS(this.Eo||this.Ya,this.dt,u.getPosition(),u.getExtent(),u.getShape(),this.RR.$z()):d?this._N=wS(this.Eo||this.Ya,this.dt,d.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0),this.hU=this.RR.RO(this,this.hU,f,void 0,l||i,this.rU),(i||a||l&&1!==o)&&s){const t=1===o||-1===o?this.Oa:VS(this.Oa,this.FT,o);this.CN=ya(t,this.dt._i()),this.TN=this.RR.nV(this.CN,!0,this.TN),this.kN=t.length}const g=this.AN.strokeLineStyleSolid(r),m=this.AN.strokeLineSolidFill(r),y=this.AN.strokeLinearGradientFill(r),v=this.AN.strokeRadialGradientFill(r),b=g,x=m||y||v;return r&&(this.RN=b&&x?this.RR.oz(jx["2D"],jx.Color({dataType:v?["gradient",v]:y?["gradient",y]:"uniform"}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0),v?this.DN=AS(this.Eo||this.Ya,this.dt,v.getPosition(),v.getExtent(),v.getShape(),this.RR.$z()):y?this.LN=wS(this.Eo||this.Ya,this.dt,y.getAngle(!0),this.RR.$z()):(this.DN=void 0,this.LN=void 0),this.EN=t&&p?this.EN||this.RR.oz(jx["2D"],jx.MousePicking,jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0,this.zN=t&&this.xe!==Eo?this.EN||this.RR.oz(jx["2D"],jx.MousePicking,jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})):void 0,this.yl=!1,this.ha(this.be),this.aa(n),this}zL(t){const e=1===t?this.EN:this.wN,i=this.SN,s=this.bN,n=this.AN.fillStyleSolid(!1),r=this.AN.fillStyleRadialGradient(!1),o=this.AN.fillStyleLinearGradient(!1),a=this.AN.fillStylePaletted(!1),l=this.AN.fillStyleImage(!1);e&&i&&s&&this.RR.jR(e).aV(e,((e,s,h,c)=>{if(this.RR.uV(e("uScale"),this.aE.fV()).uV(e("uDisp"),this.aE.AV()).uV(c("uScaleStart_highpart"),this.aE.VO()).uV(c("uScaleStart_lowpart"),this.aE.OO()).vO(h,i,this.dt._i(),void 0).XV(this.lU).dV(e("uIsHighlighted"),1===t||2===t?0:this.zo).AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0),1===t)this.RR.AR(e("uColor"),this.mN);else if(n)this.RR.AR(e("uColor"),n.getColor());else if(r){if(!this.MN)return!1;this.RR.mO(h,this.MN,r)}else if(o){if(!this._N)return!1;this.RR.yO(h,this._N,o)}else if(a){const t=yx(a,this,void 0);if(!t&&a.lut.percentageValues)return!1;this.RR.LO(h,a.lut,t)}else if(l){if(!this.hU)return!1;this.RR.AR(c("uColor"),l.getSurroundingColor()).cV(e("uColorTexture"),this.hU.texture.Gz()||this.hU.sourceMissingTexture,0).lV(this.hU.texCoordsBuffer,void 0,{location:s("aTextureCoord"),size:2}).LV(l.fitMode)}return this.RR.ZV(this.bN),!0}));const h=1===t?this.zN:this.RN,c=this.xe,u=this.TN,d=this.kN;return h&&u&&d&&this.RR.jR(h).aV(h,((e,i,s,n)=>{this.RR.dV(e("uIsHighlighted"),1===t||2===t?0:this.zo).AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0).uV(e("uScale"),this.aE.fV()).uV(e("uDisp"),this.aE.AV()).vO(s,u,this.dt._i(),void 0);const r=c.getFillStyle();if(1===t)this.RR.AR(e("uColor"),this.mN);else if(co(r))this.RR.AR(e("uColor"),r.getColor());else if(wo(r)){if(!this.DN)return!1;this.RR.mO(s,this.DN,r)}else if(ko(r)){if(!this.LN)return!1;this.RR.yO(s,this.LN,r)}const o=c.getThickness(),a=-1===o||1===o;return this.RR.Ky(a?this.RR.gl.LINE_LOOP:this.RR.gl.TRIANGLE_STRIP,this.kN),!0})),this}lN(t){return this.gN===t&&{}}VR(){return this.lU&&(this.RR.yV(this.lU),this.lU=void 0),this.SN&&(this.RR.yV(this.SN),this.SN=void 0),this.TN&&(this.RR.yV(this.TN),this.TN=void 0),this.wN=void 0,this.RN=void 0,this.EN=void 0,this.zN=void 0,this.hU=this.RR.EO(this,this.hU),this}}const gA=(t,e)=>{let i=0;const s=[];for(;i<t;){const n=i;let r=e;const o=i>0;r-=o?1:0,r-=i+r<t?1:0;const a=Math.min(r,t-n),l=i-(o?1:0),h={start:l,startUnique:n,sizeData:Math.min(e,t-l),sizeUniqueData:a};s.push(h),i+=a}return s},mA=(t,e)=>{let i=0;const s=[];for(;i<t;){const n=i;let r=e;const o=i>0;r-=o?1:0,r-=0;const a=Math.min(r,t-n),l=i-(o?1:0),h={start:l,startUnique:n,sizeData:Math.min(e,t-l),sizeUniqueData:a};s.push(h),i+=a}return s},yA=(t,e,i,s)=>{if(i){const t=new Map;return e.gridTiles.forEach((e=>{t.set(e,{type:i,dataInvalidationRanges:[{tileInvalidationOffset:{primary:0,secondary:0},tileInvalidationLength:e.sizeHeatmapDataVectors}]})})),t}const n=new Map;for(let r=0;r<t.length;r+=1){const i=t[r],o={x:i.startPrimary,y:i.startSecondary},a={x:o.x+i.lengthPrimary-1,y:o.y+i.lengthSecondary-1},l=[o,{x:a.x,y:o.y},a,{x:o.x,y:a.y}];e.gridTiles.forEach((t=>{const e=t.iFirstVector,r=s(t),o={x:e.primary+r.primary-1,y:e.secondary+r.secondary-1},a=[{x:e.primary,y:e.secondary},{x:o.x,y:e.secondary},o,{x:e.primary,y:o.y}];if(!rl(l,a))return;let h=n.get(t);h||(h={type:i.type,dataInvalidationRanges:[]},n.set(t,h));const c=ol(l,a),u={primary:c.min.x-e.primary,secondary:c.min.y-e.secondary},d={primary:1+c.max.x-c.min.x,secondary:1+c.max.y-c.min.y};let f=!1;const p=[{x:u.primary,y:u.secondary},{x:u.primary+d.primary,y:u.secondary},{x:u.primary+d.primary,y:u.secondary+d.secondary},{x:u.primary,y:u.secondary+d.secondary}];for(let i=0;i<h.dataInvalidationRanges.length;i+=1)if(!f){const t=h.dataInvalidationRanges[i],e=[{x:t.tileInvalidationOffset.primary,y:t.tileInvalidationOffset.secondary},{x:t.tileInvalidationOffset.primary+t.tileInvalidationLength.primary,y:t.tileInvalidationOffset.secondary},{x:t.tileInvalidationOffset.primary+t.tileInvalidationLength.primary,y:t.tileInvalidationOffset.secondary+t.tileInvalidationLength.secondary},{x:t.tileInvalidationOffset.primary,y:t.tileInvalidationOffset.secondary+t.tileInvalidationLength.secondary}];if(rl(p,e)){const i=(g=p,m=e,{min:{x:Math.min(g[0].x,m[0].x),y:Math.min(g[0].y,m[0].y)},max:{x:Math.max(g[2].x,m[2].x),y:Math.max(g[2].y,m[2].y)}});t.tileInvalidationOffset.primary=i.min.x,t.tileInvalidationOffset.secondary=i.min.y,t.tileInvalidationLength.primary=i.max.x-i.min.x,t.tileInvalidationLength.secondary=i.max.y-i.min.y,f=!0}}var g,m;f||h.dataInvalidationRanges.push({tileInvalidationLength:d,tileInvalidationOffset:u})}))}return n},vA=(t,e,i)=>{if(1!==t.length||0!==e.startPrimary||0!==e.startSecondary||e.lengthPrimary!==t[0].sizeHeatmapDataVectors.primary||e.lengthSecondary!==t[0].sizeHeatmapDataVectors.secondary)t.forEach((t=>{const s=i(t),n=Math.max(e.startPrimary,t.iFirstVector.primary),r=Math.min(e.startPrimary+e.lengthPrimary-1,t.iFirstVector.primary+t.sizeHeatmapDataVectors.primary-1),o=Math.max(e.startSecondary,t.iFirstVector.secondary),a=Math.min(e.startSecondary+e.lengthSecondary-1,t.iFirstVector.secondary+t.sizeHeatmapDataVectors.secondary-1);for(let i=n;i<=r;i+=1){const n=i-e.startPrimary,r=e.values[n],l=(i-t.iFirstVector.primary)*t.sizeHeatmapDataVectors.secondary;for(let i=o;i<=a;i+=1){const n=i-e.startSecondary,o=i-t.iFirstVector.secondary,a=r[n];s[l+o]=a}}}));else{const s=t[0],n=i(s);for(let t=0;t<e.lengthPrimary;t+=1){const i=t*s.sizeHeatmapDataVectors.secondary;n.set(e.values[t],i)}}},bA=(t,e,i)=>{var s,n;const r=null===(s=t.gl2)||void 0===s?void 0:s.ctx;if(r)return t.fO(null,r.RED,!1,!0,{x:e,y:i},!1,r.FLOAT,r.R32F);const o=t.gl;return(null===(n=t.gl1)||void 0===n?void 0:n.optional.OES_texture_float)?t.fO(null,o.LUMINANCE,!1,!0,{x:e,y:i},!1,o.FLOAT):t.fO(null,o.RGBA,!1,!0,{x:e,y:i},!1,o.UNSIGNED_BYTE)},xA=(t,e,i,s)=>{e.forEach(((e,n)=>{var r,o;const a=i(n),l=s(n),h=t.gl;h.bindTexture(h.TEXTURE_2D,l),h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);const c=null===(r=t.gl2)||void 0===r?void 0:r.ctx,u=e.dataInvalidationRanges.length,d=e.dataInvalidationRanges.reduce(((t,e)=>t+e.tileInvalidationLength.primary),0)/n.sizeHeatmapDataVectors.primary;1===u&&d<1||d<.5&&u<10?e.dataInvalidationRanges.forEach((e=>{var i;const s=e.tileInvalidationOffset.primary*n.sizeHeatmapDataVectors.secondary,r=s+e.tileInvalidationLength.primary*n.sizeHeatmapDataVectors.secondary;if(c)c.texSubImage2D(h.TEXTURE_2D,0,0,e.tileInvalidationOffset.primary,n.sizeHeatmapDataVectors.secondary,e.tileInvalidationLength.primary,c.RED,c.FLOAT,a.subarray(s,r));else if(null===(i=t.gl1)||void 0===i?void 0:i.optional.OES_texture_float)h.texSubImage2D(h.TEXTURE_2D,0,0,e.tileInvalidationOffset.primary,n.sizeHeatmapDataVectors.secondary,e.tileInvalidationLength.primary,h.LUMINANCE,h.FLOAT,a.subarray(s,r));else{const t=new Uint8Array(a.buffer).subarray(4*s,4*r);h.texSubImage2D(h.TEXTURE_2D,0,0,e.tileInvalidationOffset.primary,n.sizeHeatmapDataVectors.secondary,e.tileInvalidationLength.primary,h.RGBA,h.UNSIGNED_BYTE,t)}})):c?c.texImage2D(h.TEXTURE_2D,0,c.R32F,n.sizeHeatmapDataVectors.secondary,n.sizeHeatmapDataVectors.primary,0,c.RED,c.FLOAT,a):(null===(o=t.gl1)||void 0===o?void 0:o.optional.OES_texture_float)?h.texImage2D(h.TEXTURE_2D,0,h.LUMINANCE,n.sizeHeatmapDataVectors.secondary,n.sizeHeatmapDataVectors.primary,0,h.LUMINANCE,h.FLOAT,a):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,n.sizeHeatmapDataVectors.secondary,n.sizeHeatmapDataVectors.primary,0,h.RGBA,h.UNSIGNED_BYTE,new Uint8Array(a.buffer)),h.bindTexture(h.TEXTURE_2D,null)}))};class SA extends vu{constructor(t,e,i,s,n,r){super(t,e,i,s,n),this.uU=Ur("bilinear"),this.Pi={x:0,y:0},this.$w={x:1,y:1},this.gv=Wc.lineStyle,this.engine=t;const o="columns"===r.dataOrder?r.columns:r.rows,a="columns"===r.dataOrder?r.rows:r.columns;this.Un={...r,primaryDimensionVectorsCount:o,secondaryDimensionVectorsCount:a}}xv(t){return this.uU.S(t),this}Mv(){return this.uU.M()}Sv(t,e){return this.Pi=t,this.$w=e,this}vv(){return{start:this.Pi,step:this.$w,end:{x:this.Pi.x+this.$w.x*this.Un.columns,y:this.Pi.y+this.$w.y*this.Un.rows}}}mv(t){return this.gv="function"==typeof t?t(this.gv):t,this}bv(){return this.gv}}class AA extends SA{constructor(t,e,i,s,n,r,o,a){super(t,e,i,s,n,r),this.aE=new DS,this.bG={},this.cU=[],this.dU=!1,this.Qa=!1,this.AN=mx({fillStyleSolid:()=>co(this.be)&&this.be,fillStylePaletted:()=>po(this.be)&&this.be,wireframeStyleLine:()=>vh(this.gv)&&this.gv,wireframeStyleFill:()=>{const t=this.gv&&this.gv.getFillStyle();return co(t)&&t}}),this.fU=gA,this.rN=t,this.nN=e,this.gN=o,this.mN=a,this.RR=t.oN(),this.nN=e;const l=Math.min(this.RR.zR,void 0!==r.AU?r.AU:2048),h={x:Math.min(l,this.Un.primaryDimensionVectorsCount),y:Math.min(l,this.Un.secondaryDimensionVectorsCount)},c=((t,e,i)=>{const s=[],n=i(t.primaryDimensionVectorsCount,e.x),r=i(t.secondaryDimensionVectorsCount,e.y);let o;return n.forEach((t=>r.forEach((e=>{const i={iFirstVector:{primary:t.start,secondary:e.start},iFirstUniqueVector:{primary:t.startUnique,secondary:e.startUnique},sizeHeatmapDataVectors:{primary:t.sizeData,secondary:e.sizeData},sizeUniqueHeatmapDataVectors:{primary:t.sizeUniqueData,secondary:e.sizeUniqueData}};s.push(i)})))),o=[],s.forEach((t=>{let e=o.find((e=>e.sizeHeatmapData.primary===t.sizeHeatmapDataVectors.primary&&e.sizeHeatmapData.secondary===t.sizeHeatmapDataVectors.secondary));e||(e={sizeHeatmapData:t.sizeHeatmapDataVectors,tiles:[]},o.push(e)),e.tiles.push(t)})),{gridTiles:s,gridTileSizes:o}})(this.Un,h,this.fU),u=c.gridTiles.map((t=>{const e=new Float32Array(t.sizeHeatmapDataVectors.primary*t.sizeHeatmapDataVectors.secondary);return{...t,intensityData:e,hasIntensityData:!1}})),d=c.gridTileSizes.map((t=>({...t,tiles:u.filter((e=>e.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&e.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary))})));this.gU={gridTiles:u,gridTileSizes:d},this.Sv(this.Pi,this.$w)}Ps(){const t=this.cU,e=this.be,i=this.ta(),s=this.gv,n=s!==this.mU,r=this.AN.fillStylePaletted(i),o=this.AN.fillStyleSolid(i),a=this.uU.i,l=this.uU.M(),h=this.Qa,c=this.Bo.M();this.yU=this.yU||this.pU();const u=this.yU,d=yA(t,u,h?"intensity":void 0,(t=>t.sizeHeatmapDataVectors));d.size>0&&(xA(this.RR,d,(t=>t.intensityData),(t=>t.intensityDataTexture)),this.dU=!0),this.aE.mV(this.dt);const f=this.bG;if((i||a)&&(f.tile=r?{renderMode:"paletted",fillStylePaletted:r,shader:this.RR.oz(jx["2D"],jx.ColorGrid2D({heatmapType:"intensity",interpolation:"bilinear"===l&&"bilinear",flipXY:"rows"===this.Un.dataOrder,intensityTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN,lut:r.lut}),jx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:gx(this.dt),flipXY:"rows"===this.Un.dataOrder,normalSource:void 0}))}:o?{renderMode:"solid",fillStyleSolid:o,shader:this.RR.oz(jx["2D"],jx.Color({dataType:"uniform"}),jx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:gx(this.dt),flipXY:"rows"===this.Un.dataOrder,normalSource:void 0}))}:void 0),n){const t=this.AN.wireframeStyleLine(n),e=this.AN.wireframeStyleFill(n);f.wireframe=t&&e?-1===t.getThickness()?{renderMode:"primitive",shader:this.RR.oz(jx["2D"],jx.Color({dataType:"uniform"}),jx.VertexLocation({translation:{dataType:"uniform",sizeUnit:"axis"},scaling:{dataType:"uniform"},flipXY:"rows"===this.Un.dataOrder,axisWorldTranslation:gx(this.dt),normalSource:void 0})),fillStyleSolid:e}:{renderMode:"triangulated",shader:this.RR.oz(jx["2D"],jx.Color({dataType:"uniform"}),jx.LineInstanced2D({translation:{dataType:"uniform",sizeUnit:"axis"},scaling:{dataType:"uniform"},flipXY:"rows"===this.Un.dataOrder,axisWorldTranslation:gx(this.dt),normalSource:void 0})),geometry:JS(this.RR,1),solidLine:t,fillStyleSolid:e}:void 0,f.wireframe?this.SU=this.SU||this.vU():this.SU&&(this.RR.yV(this.SU.wireframeCoordinatesBuffer),this.SU=void 0)}if(f.mousePicking=c?this.bG.mousePicking||{shader:this.RR.oz(jx["2D"],jx.MousePicking,jx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:gx(this.dt),flipXY:"rows"===this.Un.dataOrder,normalSource:void 0}))}:void 0,this.bG=f,void 0===this.Ja&&r&&"value"===r.lookUpProperty&&r.lut.percentageValues){let t=$a,e=tl;this.yU.gridTiles.forEach((i=>{for(let s=0;s<i.intensityData.length;s+=1){const n=i.intensityData[s];n<t&&(t=n),n>e&&(e=n)}})),this.Ja={min:t,max:e}}return this.Qa=!1,this.cU.length=0,this.ha(e),this.mU=s,this.uU.i=!1,this}pU(){const t=this.gU.gridTiles.map((t=>{const e=bA(this.RR,t.sizeHeatmapDataVectors.secondary,t.sizeHeatmapDataVectors.primary);return{...t,intensityDataTexture:e,tileData:t}})),e=this.gU.gridTileSizes.map((e=>({...e,tiles:t.filter((t=>t.sizeHeatmapDataVectors.primary===e.sizeHeatmapData.primary&&t.sizeHeatmapDataVectors.secondary===e.sizeHeatmapData.secondary))}))),i=this.RR.nV([0,0,1,0,0,1,1,1]),s=this.RR.gl.TRIANGLE_STRIP;return{gridTiles:t,gridTileSizes:e,rectangleLocationsBuffer:i,rectangleLocationsDrawMode:s,rectangleLocationsDrawLength:4}}vU(){const t=this.Un.primaryDimensionVectorsCount+1+this.Un.secondaryDimensionVectorsCount+1,e=new Float32Array(4*t);let i=0;for(let s=0;s<this.Un.primaryDimensionVectorsCount+1;s+=1)e[i+0]=s,e[i+1]=0,e[i+2]=s,e[i+3]=this.Un.secondaryDimensionVectorsCount,i+=4;for(let s=0;s<this.Un.secondaryDimensionVectorsCount+1;s+=1)e[i+0]=0,e[i+1]=s,e[i+2]=this.Un.primaryDimensionVectorsCount,e[i+3]=s,i+=4;return{wireframeCoordinatesBuffer:this.RR.nV(e),wireframeSegmentsLength:t}}Sv(t,e){super.Sv(t,e);const i=this.Un,s=Br({x:Math.min(this.Pi.x,this.Pi.x+i.columns*this.$w.x),y:Math.min(this.Pi.y,this.Pi.y+i.rows*this.$w.y)},{x:Math.max(this.Pi.x,this.Pi.x+i.columns*this.$w.x),y:Math.max(this.Pi.y,this.Pi.y+i.rows*this.$w.y)}),n=new Map;return this.gU.gridTiles.forEach((t=>{const e="columns"===this.Un.dataOrder?{x:this.Pi.x+this.$w.x*t.iFirstVector.primary,y:this.Pi.y+this.$w.y*t.iFirstVector.secondary}:{x:this.Pi.x+this.$w.x*t.iFirstVector.secondary,y:this.Pi.y+this.$w.y*t.iFirstVector.primary},i="columns"===this.Un.dataOrder?{x:this.$w.x*t.sizeHeatmapDataVectors.primary,y:this.$w.y*t.sizeHeatmapDataVectors.secondary}:{x:this.$w.x*t.sizeHeatmapDataVectors.secondary,y:this.$w.y*t.sizeHeatmapDataVectors.primary},s="columns"===this.Un.dataOrder?{x:this.Pi.x+this.$w.x*t.iFirstUniqueVector.primary,y:this.Pi.y+this.$w.y*t.iFirstUniqueVector.secondary}:{x:this.Pi.x+this.$w.x*t.iFirstUniqueVector.secondary,y:this.Pi.y+this.$w.y*t.iFirstUniqueVector.primary},r="columns"===this.Un.dataOrder?{x:this.$w.x*t.sizeUniqueHeatmapDataVectors.primary,y:this.$w.y*t.sizeUniqueHeatmapDataVectors.secondary}:{x:this.$w.x*t.sizeUniqueHeatmapDataVectors.secondary,y:this.$w.y*t.sizeUniqueHeatmapDataVectors.primary};n.set(t,{startLocationAxis:e,sizeAxis:i,startRenderLocationAxis:s,renderSizeAxis:r})})),this.bU={boundaries:s,tilesInfo:n},this}zL(t){var e,i;const s=this.yU,n=this.bU,r=1===t?null===(e=this.bG.mousePicking)||void 0===e?void 0:e.shader:null===(i=this.bG.tile)||void 0===i?void 0:i.shader;if(this.bG.tile&&r&&s&&n){const e=r,i=this.bG.tile,o={x:(n.boundaries.max.x-n.boundaries.min.x)*Math.sign(this.$w.x),y:(n.boundaries.max.y-n.boundaries.min.y)*Math.sign(this.$w.y)},a={x:o.x/this.Un.columns,y:o.y/this.Un.rows},l=this.dt.Wi(),h={x:a.x/l.x,y:a.y/l.y};if("solid"===i.renderMode||1===t)this.RR.jR(e).aV(e,((e,n,r)=>{if(1===t)this.RR.AR(e("uColor"),this.mN);else if("solid"===i.renderMode){const{fillStyleSolid:t}=i;this.RR.AR(e("uColor"),t.getColor())}return this.RR.dV(e("uIsHighlighted"),1===t||2===t?0:this.zo).AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0).uV(e("uScale"),this.aE.fV()).uV(e("uDisp"),this.aE.AV()).lV(s.rectangleLocationsBuffer,void 0,{location:n("aPos"),size:2}).uV(e("uScaling"),[this.$w.x*this.Un.columns,this.$w.y*this.Un.rows]).uV(e("uTranslationAxis"),[this.Pi.x,this.Pi.y]).Ky(s.rectangleLocationsDrawMode,s.rectangleLocationsDrawLength),!0}));else if("paletted"===i.renderMode){const{fillStylePaletted:r}=i,o=this.Ja;this.RR.aV(e,((i,a,l)=>{let c=!1;var u,d;return this.RR.jR(e).uV(i("uScale"),this.aE.fV()).uV(i("uDisp"),this.aE.AV()).LO(l,r.lut,o).lV(s.rectangleLocationsBuffer,void 0,{location:a("aPos"),size:2}).dV(i("uIsHighlighted"),this.zo).AR(i("uHighlightColorOffset"),2===t?$r:this.Go).dV(i("uRenderEffectMask"),2===t?1:0),u=t=>{this.RR.uV(i("uTileDimensions"),["columns"===this.Un.dataOrder?t.sizeHeatmapData.primary:t.sizeHeatmapData.secondary,"columns"===this.Un.dataOrder?t.sizeHeatmapData.secondary:t.sizeHeatmapData.primary])},d=(t,e)=>{const r=n.tilesInfo.get(t.tileData);if(!r)return;let o;const a=this.RR.$z();if("bilinear"===this.uU.M()){const t=(this.dt.x.ct(r.startLocationAxis.x)+h.x/2)*a,e=(this.dt.y.ct(r.startLocationAxis.y)+h.y/2)*a;o=[t,e,(this.dt.x.ct(r.startLocationAxis.x+r.sizeAxis.x)-h.x/2)*a-t,(this.dt.y.ct(r.startLocationAxis.y+r.sizeAxis.y)-h.y/2)*a-e]}else{const t=this.dt.x.ct(r.startLocationAxis.x)*a,e=this.dt.y.ct(r.startLocationAxis.y)*a;o=[t,e,this.dt.x.ct(r.startLocationAxis.x+r.sizeAxis.x)*a-t,this.dt.y.ct(r.startLocationAxis.y+r.sizeAxis.y)*a-e]}this.RR.FV(i("uTileBounds"),o).uV(i("uScaling"),[r.renderSizeAxis.x,r.renderSizeAxis.y]).uV(i("uTranslationAxis"),[r.startRenderLocationAxis.x,r.startRenderLocationAxis.y]).cV(i("uTileIntensityValues"),t.intensityDataTexture,1).Ky(s.rectangleLocationsDrawMode,s.rectangleLocationsDrawLength),c=!0},s.gridTileSizes.forEach((t=>{u(t),t.tiles.forEach((t=>{d(t)}))})),c}))}}const o=this.SU,a=this.bG.wireframe,l=1===t||null==a?void 0:a.shader;if(o&&a&&l&&"primitive"===a.renderMode){const{fillStyleSolid:e}=a;this.RR.jR(l).aV(l,((i,s,n)=>((this.dt instanceof eh||this.dt instanceof nv)&&this.RR.uV(i("uScale"),this.aE.fV()).uV(i("uDisp"),this.aE.AV()),this.RR.dV(i("uIsHighlighted"),1===t||2===t?0:this.zo).AR(i("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(i("uRenderEffectMask"),2===t?1:0).AR(i("uColor"),e.getColor()).lV(o.wireframeCoordinatesBuffer,void 0,{location:s("aPos"),size:2}).uV(i("uScaling"),[this.$w.x,this.$w.y]).uV(i("uTranslationAxis"),[this.Pi.x,this.Pi.y]).Ky(this.RR.gl.LINES,2*o.wireframeSegmentsLength),!0)))}else if(o&&a&&l&&"triangulated"===a.renderMode){const{geometry:e,solidLine:i,fillStyleSolid:s}=a;this.RR.jR(l).aV(l,((n,r,a)=>((this.dt instanceof eh||this.dt instanceof nv)&&this.RR.uV(n("uScale"),this.aE.fV()).uV(n("uDisp"),this.aE.AV()),this.RR.dV(n("uIsHighlighted"),1===t||2===t?0:this.zo).AR(n("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(n("uRenderEffectMask"),2===t?1:0).AR(n("uColor"),s.getColor()).dV(n("uThicknessPixels"),i.getThickness()).uV(n("uRatioPxClip"),[2/this.us.oi().x,2/this.us.oi().y]).lV(o.wireframeCoordinatesBuffer,1,{location:r("aLocationA"),size:2},{location:r("aLocationB"),size:2}).uV(n("uScaling"),[this.$w.x,this.$w.y]).uV(n("uTranslationAxis"),[this.Pi.x,this.Pi.y]),e.jR(a,!1).Ky(o.wireframeSegmentsLength),!0)))}return this}_v(t){return this.cU.push(t),vA(this.gU.gridTiles,t,(t=>(t.hasIntensityData=!0,t.intensityData))),this.Ja=void 0,this}Nt(){return this.dU&&(this.gU.gridTiles.forEach((t=>{t.intensityData.fill(0),t.hasIntensityData=!1})),this.Qa=!0,this.dU=!1,this.Ja=void 0),this}dispose(){super.dispose();const t=this.yU;t&&(t.gridTiles.forEach((t=>{this.RR.OR(t.intensityDataTexture)})),t.gridTiles.length=0,t.gridTileSizes.forEach((t=>{})),t.gridTileSizes.length=0,this.RR.yV(t.rectangleLocationsBuffer)),this.yU=void 0;const e=this.SU;return e&&this.RR.yV(e.wireframeCoordinatesBuffer),this.SU=void 0,this.bG={},this}VR(){return this.dispose(),this}lN(t){return this.gN===t&&{}}Hc(t){const e=t,i="columns"===this.Un.dataOrder?e.x:e.y,s="columns"===this.Un.dataOrder?e.y:e.x,n="columns"===this.Un.dataOrder?this.Pi.x:this.Pi.y,r="columns"===this.Un.dataOrder?this.Pi.y:this.Pi.x;let o=(i-n)/("columns"===this.Un.dataOrder?this.$w.x:this.$w.y),a=(s-r)/("columns"===this.Un.dataOrder?this.$w.y:this.$w.x);o=Math.floor(Jo(o,0,this.Un.primaryDimensionVectorsCount-1)),a=Math.floor(Jo(a,0,this.Un.secondaryDimensionVectorsCount-1));const l=this.xU(o,a),h="columns"===this.Un.dataOrder?{x:this.Pi.x+(o+.5)*this.$w.x,y:this.Pi.y+(a+.5)*this.$w.y}:{x:this.Pi.x+(a+.5)*this.$w.x,y:this.Pi.y+(o+.5)*this.$w.y},c="columns"===this.Un.dataOrder?o:a,u="columns"===this.Un.dataOrder?a:o;return{x:h.x,y:h.y,column:c,row:u,cellValue:l}}zx(t){const e=this.bU;if(!e||t.x<e.boundaries.min.x||t.x>e.boundaries.max.x||t.y<e.boundaries.min.y||t.y>e.boundaries.max.y)return;const i=t,s="columns"===this.Un.dataOrder?i.x:i.y,n="columns"===this.Un.dataOrder?i.y:i.x,r="columns"===this.Un.dataOrder?this.Pi.x:this.Pi.y,o="columns"===this.Un.dataOrder?this.Pi.y:this.Pi.x,a="columns"===this.Un.dataOrder?this.$w.x:this.$w.y,l="columns"===this.Un.dataOrder?this.$w.y:this.$w.x,h=Jo((s-r)/a-.5,0,this.Un.primaryDimensionVectorsCount-1),c=Jo((n-o)/l-.5,0,this.Un.secondaryDimensionVectorsCount-1),u=Jo(Math.ceil(h)-1,0,this.Un.primaryDimensionVectorsCount-1),d=Jo(Math.ceil(c)-1,0,this.Un.secondaryDimensionVectorsCount-1),f={point:{x:u,y:d},value:this.xU(u,d)},p={point:{x:u,y:d+1},value:this.xU(u,d+1)},g={point:{x:u+1,y:d},value:this.xU(u+1,d)},m={point:{x:u+1,y:d+1},value:this.xU(u+1,d+1)},y=ed({x:h,y:c},f,p,g,m);if(void 0===y)return;const v=Jo(Math.floor(h+.5),0,this.Un.primaryDimensionVectorsCount-1),b=Jo(Math.floor(c+.5),0,this.Un.secondaryDimensionVectorsCount-1),x="columns"===this.Un.dataOrder?v:b,S="columns"===this.Un.dataOrder?b:v,A=t;return{x:A.x,y:A.y,column:x,row:S,cellValue:y}}xU(t,e){for(let i=0;i<this.gU.gridTiles.length;i+=1){const s=this.gU.gridTiles[i];if(t>=s.iFirstVector.primary&&t<=s.iFirstVector.primary+s.sizeHeatmapDataVectors.primary-1&&e>=s.iFirstVector.secondary&&e<=s.iFirstVector.secondary+s.sizeHeatmapDataVectors.secondary-1){const i=t-s.iFirstVector.primary,n=e-s.iFirstVector.secondary,r=i*s.sizeHeatmapDataVectors.secondary+n;return s.intensityData[r]}}return 0}bt(){var t;return(null===(t=this.bU)||void 0===t?void 0:t.boundaries.max.x)||0}vt(){var t;return(null===(t=this.bU)||void 0===t?void 0:t.boundaries.min.x)||0}Mt(){var t;return(null===(t=this.bU)||void 0===t?void 0:t.boundaries.max.y)||0}xt(){var t;return(null===(t=this.bU)||void 0===t?void 0:t.boundaries.min.y)||0}vl(){return 0}bl(){return 0}D_(){const t=[];return this.gU.gridTiles.forEach((e=>{if(!e.hasIntensityData)return;const i=new Array(e.sizeUniqueHeatmapDataVectors.primary).fill(0).map((t=>new Array(e.sizeUniqueHeatmapDataVectors.secondary).fill(0)));for(let t=0;t<e.sizeUniqueHeatmapDataVectors.primary;t+=1){const s=t*e.sizeHeatmapDataVectors.secondary,n=i[t];for(let t=0;t<e.sizeUniqueHeatmapDataVectors.secondary;t+=1){const i=e.intensityData[s+t];n[t]=i}}t.push({type:"intensity",startPrimary:e.iFirstUniqueVector.primary,startSecondary:e.iFirstUniqueVector.secondary,lengthPrimary:e.sizeUniqueHeatmapDataVectors.primary,lengthSecondary:e.sizeUniqueHeatmapDataVectors.secondary,values:i})})),t}}class wA extends vu{constructor(t,e,i,s,n,r){super(t,e,i,s,n),this.Pi={x:0,y:0},this.$w={x:1,y:1},this.gv=Wc.lineStyle,this.pu=Ur(void 0),this.uU=Ur("bilinear"),this.engine=t,this.Un=r}Sv(t,e){return this.Pi=t,this.$w=e,this}vv(){return{start:this.Pi,step:this.$w}}mv(t){return this.gv="function"==typeof t?t(this.gv):t,this}bv(){return this.gv}Su(t){return this.pu.S(t),this}vu(){return this.pu.M()}xv(t){return this.uU.S(t),this}Mv(){return this.uU.M()}}class CA extends wA{constructor(t,e,i,s,n,r,o,a){super(t,e,i,s,n,a),this.MU=0,this.QM=[],this.rN=t,this.nN=e,this.gN=r,this.mN=o,this.RR=t.oN(),this.nN=e,this.Ya="columns"===a.scrollDimension?Br({x:this.Pi.x,y:this.Pi.y},{x:this.Pi.x,y:this.Pi.y+a.resolution*this.$w.y}):Br({x:this.Pi.x,y:this.Pi.y},{x:this.Pi.x+a.resolution*this.$w.x,y:this.Pi.y}),this._U={dataPerSegment:2048}}Ps(){this.bW||(this.Oo.push({type:"DataPattern",args:{pattern:"columns"===this.Un.scrollDimension?this.$w.x>0?"ProgressiveX":"RegressiveX":this.$w.y>0?"ProgressiveY":"RegressiveY",regularProgressiveStep:!0}}),this.bW=new rA(this.dt,this));const t=this.bW.fW(this.QM,this.pu.M());if(t>0){for(let e=0;e<t;e+=1)this.QM[0].shape.dispose().VR(),this.QM.shift();"columns"===this.Un.scrollDimension?this.Ya.min.x=this.QM.length>0?this.QM[0].boundaries.min.x:$a:this.Ya.min.y=this.QM.length>0?this.QM[0].boundaries.min.y:$a}this.QM.forEach((t=>t.shape.Ps()));const e=this.QM.reduce(((t,e)=>{var i,s;return t.min=Math.min(t.min,Zo(null===(i=e.shape.Ja)||void 0===i?void 0:i.min,$a)),t.max=Math.max(t.max,Zo(null===(s=e.shape.Ja)||void 0===s?void 0:s.max,tl)),t}),{min:$a,max:tl});return this.QM.forEach((t=>{t.shape.Ja=e})),this.pu.i=!1,this}zL(t){return this.QM.forEach((e=>e.shape.zL(t))),this}Fv(t){if(0===t.length)return this;let e=0;const i=this._U.dataPerSegment,s=t.length;do{let n=this.QM[this.QM.length-1],r=n?i-(n.existingDataPointsCount+(n.hasJoint?1:0)):0,o=!1;if(!n||0===r){const t={columns:"columns"===this.Un.scrollDimension?i:this.Un.resolution,rows:"rows"===this.Un.scrollDimension?i:this.Un.resolution,heatmapDataType:this.Un.heatmapDataType,dataOrder:this.Un.scrollDimension};let e="columns"===this.Un.scrollDimension?{x:this.Pi.x+this.$w.x*this.MU,y:this.Pi.y}:{x:this.Pi.x,y:this.Pi.y+this.$w.y*this.MU};this.QM.length>0&&(e="columns"===this.Un.scrollDimension?{x:e.x-1*this.$w.x,y:e.y}:{x:e.x,y:e.y-1*this.$w.y},o=!0);const s=new AA(this.rN,this.nN,this.dt,Xo,[],t,this.gN,this.mN).xv(this.uU.M()).Ce(this.be).mv(this.gv).Sv(e,this.$w);n={shape:s,existingDataPointsCount:0,existingCoordinatesCount:0,allocatedCoordinatesCount:i,dataStartIndex:this.MU,hasJoint:!1,boundaries:{min:{x:s.vt(),y:s.xt()},max:{x:s.bt(),y:s.Mt()}}},this.QM.push(n),r=i-(o?1:0)}const a=s-e,l=Math.min(r,a),h=t.slice(e,e+l),c={type:"intensity",values:h,startPrimary:n.existingDataPointsCount+(n.hasJoint?1:0),startSecondary:0,lengthPrimary:l,lengthSecondary:this.Un.resolution};o&&(c.values.unshift(this.wU),c.lengthPrimary+=1,n.hasJoint=!0),n.shape._v(c),n.existingDataPointsCount+=l,n.existingCoordinatesCount+=l+(o?1:0),this.wU=h[h.length-1],this.MU+=l,e+=l}while(e<s);return this.Ya.max="columns"===this.Un.scrollDimension?{...this.Ya.max,x:this.Pi.x+this.MU*this.$w.x}:{...this.Ya.max,y:this.Pi.y+this.MU*this.$w.y},this}_v(t,e){const i=t,s=t+e.length-1,n=e[0].length;this.QM.forEach((t=>{const r=t.dataStartIndex,o=t.dataStartIndex+t.existingDataPointsCount-1;if(s<r||i>o)return;const a=i-r,l=Math.min(s,o),h=l-a+1,c=e.slice(a-i,l-i+1),u={type:"intensity",startSecondary:0,lengthSecondary:n,startPrimary:a,lengthPrimary:h,values:c};t.shape._v(u)}));const r=this.MU-1;if(s>r){const t=s-r,i=e.slice(-t);if(i.length<t){const e=this.wU||new Array(n).fill(0);for(let s=i.length;s<t;s+=1)i.unshift(e)}this.Fv(i)}return this}O_(){return this.MU}Nt(){return this.QM.forEach((t=>{t.shape.dispose().VR()})),this.QM.length=0,this.Ya="columns"===this.Un.scrollDimension?Br({x:this.Pi.x,y:this.Pi.y},{x:this.Pi.x,y:this.Pi.y+this.Un.resolution*this.$w.y}):Br({x:this.Pi.x,y:this.Pi.y},{x:this.Pi.x+this.Un.resolution*this.$w.x,y:this.Pi.y}),this.MU=0,this.wU=void 0,this}Sv(t,e){return super.Sv(t,e),this.QM.forEach(((i,s)=>{const n={x:t.x+i.dataStartIndex*e.x,y:t.y+i.dataStartIndex*e.y};i.shape.Sv(n,e),i.boundaries={min:{x:i.shape.vt(),y:i.shape.xt()},max:{x:i.shape.bt(),y:i.shape.Mt()}}})),this.QM.length>0?this.Ya=yl(...this.QM.map((t=>t.boundaries))):this.Ya="columns"===this.Un.scrollDimension?Br({x:this.Pi.x,y:this.Pi.y},{x:this.Pi.x,y:this.Pi.y+this.Un.resolution*this.$w.y}):Br({x:this.Pi.x,y:this.Pi.y},{x:this.Pi.x+this.Un.resolution*this.$w.x,y:this.Pi.y}),this}Ce(t){return super.Ce(t),this.QM.forEach((t=>t.shape.Ce(this.be))),this}mv(t){return super.mv(t),this.QM.forEach((t=>t.shape.mv(this.gv))),this}xv(t){return super.xv(t),this.QM.forEach((e=>e.shape.xv(t))),this}dispose(){return super.dispose(),this.QM.forEach((t=>t.shape.dispose())),this}setVisible(t){return super.setVisible(t),this.QM.forEach((e=>e.shape.setVisible(t))),this}VR(){return this.QM.forEach((t=>t.shape.VR())),this}lN(t){return this.gN===t&&{}}Hc(t){const e=Lo(t,this.dt,this.engine.dt),i=this.QM.reduce(((i,s)=>{const n=s.shape.Hc(t);if(n){const t=dl(Lo(n,this.dt,this.engine.dt),e);if(void 0===i||t<i.distance)return{result:n,distance:t,segment:s}}return i}),void 0);if(i&&i.result){const t="columns"===this.Un.scrollDimension?i.result.column+i.segment.dataStartIndex:i.result.column,e="rows"===this.Un.scrollDimension?i.result.row+i.segment.dataStartIndex:i.result.row;if("columns"===this.Un.scrollDimension&&t>=this.MU||"rows"===this.Un.scrollDimension&&e>=this.MU)return;return{x:i.result.x,y:i.result.y,column:t,row:e,cellValue:i.result.cellValue}}}zx(t){const e=Lo(t,this.dt,this.engine.dt),i=this.QM.reduce(((i,s)=>{const n=s.shape.zx(t);if(n){const t=dl(Lo(n,this.dt,this.engine.dt),e);if(void 0===i||t<i.distance)return{result:n,distance:t,segment:s}}return i}),void 0);if(i&&i.result){const t="columns"===this.Un.scrollDimension?i.result.column+i.segment.dataStartIndex:i.result.column,e="rows"===this.Un.scrollDimension?i.result.row+i.segment.dataStartIndex:i.result.row;if("columns"===this.Un.scrollDimension&&t>=this.MU||"rows"===this.Un.scrollDimension&&e>=this.MU)return;return{x:i.result.x,y:i.result.y,column:t,row:e,cellValue:i.result.cellValue}}}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}vl(){return 0}bl(){return 0}cs(t){return super.cs(t),this.QM.forEach((e=>e.shape.cs(t))),this}}class MA extends vu{constructor(t,e,i,s,n,r){super(t,e,i,s,n),this.uU=Ur("bilinear"),this.gv=Wc.lineStyle,this.Un=r}xv(t){return this.uU.S(t),this}Mv(){return this.uU.M()}mv(t){return this.gv="function"==typeof t?t(this.gv):t,this}bv(){return this.gv}}class kA extends MA{constructor(t,e,i,s,n,r,o,a){super(t,e,i,s,n,r),this.aE=new DS,this.bG={},this.AN=mx({fillStyleSolid:()=>co(this.be)&&this.be,fillStylePaletted:()=>po(this.be)&&this.be}),this.rN=t,this.nN=e,this.gN=o,this.mN=a,this.RR=t.oN(),this.nN=e,this.I_=new AA(this.rN,t.CU,t.dt,Xo,[],{columns:r.sectors,rows:r.annuli,heatmapDataType:"intensity",dataOrder:"annuli"===r.dataOrder?"rows":"columns",AU:this.RR.zR},-1,Qr).mv(Eo);const l=2*Math.PI/360,h=new Float32Array(724);let c=0;h[c+0]=0,h[c+1]=0,c+=2;for(let u=0;u<=360;u+=1){const t=u*l,e=Math.cos(t),i=Math.sin(t);h[c+0]=e,h[c+1]=i,c+=2}this.kU={vertexBuffer:this.RR.nV(h),drawMode:this.RR.gl.TRIANGLE_FAN,drawLength:362}}Ps(){const t=this.ta(),e=this.be,i=this.AN.fillStyleSolid(t),s=this.AN.fillStylePaletted(t),n=i||s,r=this.uU.M(),o=this.uU.i,a=this.Bo.M(),l=this.Bo.i;return this.aE.mV(this.dt),this.I_.Ps(),this.I_.yU?((t||o)&&(this.bG.fill=n?{shader:this.RR.oz(jx["2D"],jx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:gx(this.dt),normalSource:void 0}),s&&jx.PolarHeatmap({interpolation:"bilinear"===r&&"bilinear",intensityTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN,flipXY:"sectors"===this.Un.dataOrder,lut:s.lut}),i&&jx.PolarHeatmap({dataType:"uniform"})),fillStylePaletted:s,fillStyleSolid:i}:void 0),l&&(this.bG.mousePicking=a?{shader:this.RR.oz(jx["2D"],jx.VertexLocation({scaling:{dataType:"uniform"},translation:{dataType:"uniform",sizeUnit:"axis"},axisWorldTranslation:gx(this.dt),normalSource:void 0}),jx.Color({dataType:"uniform"}))}:void 0),this.ha(e),this.uU.i=!1,this.Bo.i=!1,this):this}zL(t){var e;const{vertexBuffer:i,drawLength:s,drawMode:n}=this.kU,r=this.I_.yU;if(!this.bG.fill||!r)return this;const{fillStylePaletted:o,fillStyleSolid:a}=this.bG.fill,l=1===t?null===(e=this.bG.mousePicking)||void 0===e?void 0:e.shader:this.bG.fill.shader;if(!l)return this;const h=this.dt.mx(),c=Math.min(h.start,h.end),u=Math.max(h.start,h.end),d=Math.min(this.Un.amplitudeStart,this.Un.amplitudeStart+(this.Un.annuli-1)*this.Un.amplitudeStep),f=Math.max(this.Un.amplitudeStart,this.Un.amplitudeStart+(this.Un.annuli-1)*this.Un.amplitudeStep);let p;return p=h.end>h.start?Math.min(f,u)-h.start:Math.max(d,c)-h.start,this.RR.jR(l).aV(l,((e,l,h,c)=>{if(this.RR.uV(e("uScale"),this.aE.fV()).uV(e("uDisp"),this.aE.AV()).dV(e("uIsHighlighted"),1===t||2===t?0:this.zo).AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0).uV(c("uViewportSize"),[this.rN.oi().x*this.RR.$z(),this.rN.oi().y*this.RR.$z()]).uV(e("uScaling"),[p,p]).uV(e("uTranslationAxis"),[0,0]).lV(i,void 0,{location:l("aPos"),size:2}).dV(c("uAngleOffset"),this.dt.xx()%(2*Math.PI)).dV(c("uAngleDirection"),this.dt.kx()?1:-1).dV(c("uSectors"),this.Un.sectors).dV(c("uAnnuli"),this.Un.annuli),1===t)this.RR.AR(e("uColor"),this.mN);else{if(this.RR.dV(e("uAmplitudeStart"),this.Un.amplitudeStart).dV(e("uAmplitudeStep"),this.Un.amplitudeStep).dV(e("uAmplitudeAxisStart"),this.dt.mx().start).dV(e("uAmplitudeAxisEnd"),this.dt.mx().end),o){const t=this.I_.Ja;this.RR.LO(h,o.lut,t).cV(e("uTileIntensityValues"),r.gridTiles[0].intensityDataTexture,0)}a&&this.RR.AR(e("uColor"),a.getColor())}return this.RR.Ky(n,s),!0})),this}_v(t){return this.I_._v(t),this}Nt(){return this.I_.Nt(),this}dispose(){return super.dispose(),this.I_.dispose(),this.bG={},this.RR.yV(this.kU.vertexBuffer),this}VR(){return this.dispose(),this}Ce(t){return super.Ce(t),this.I_.Ce(this.be),this}lN(t){return this.gN===t&&{}}Hc(t){const e=this.Un.amplitudeStart,i=this.Un.amplitudeStart+(this.Un.annuli-1)*this.Un.amplitudeStep,s=Math.min(e,i),n=Math.max(e,i);if(t.angle<0||t.angle>360||t.amplitude<s||t.amplitude>n)return;let r=Math.round((t.angle-0)/360*this.Un.sectors);r>=this.Un.sectors&&(r=0);const o=Math.round((t.amplitude-e)/(i-e)*(this.Un.annuli-1));return{iAnnulus:o,iSector:r,cellValue:this.xU(o,r),angle:r*(360/this.Un.sectors),amplitude:e+o*(i-e)/(this.Un.annuli-1)}}zx(t){const e=this.Un.amplitudeStart,i=this.Un.amplitudeStart+(this.Un.annuli-1)*this.Un.amplitudeStep,s=Math.min(e,i),n=Math.max(e,i);if(t.angle<0||t.angle>360||t.amplitude<s||t.amplitude>n)return;const r=(t.angle-0)/360*this.Un.sectors,o=(t.amplitude-e)/(i-e)*(this.Un.annuli-1),a=Math.floor(r),l=Math.floor(o),h={point:{x:l,y:a},value:this.xU(l,a)},c={point:{x:l,y:a+1},value:this.xU(l,a+1)},u={point:{x:l+1,y:a},value:this.xU(l+1,a)},d={point:{x:l+1,y:a+1},value:this.xU(l+1,a+1)},f=ed({x:o,y:r},h,c,u,d);return void 0!==f?{iAnnulus:l,iSector:a,cellValue:f,angle:t.angle,amplitude:t.amplitude}:void 0}xU(t,e){const i="annuli"===this.Un.dataOrder?t:e,s="annuli"===this.Un.dataOrder?e:t;for(let n=0;n<this.I_.gU.gridTiles.length;n+=1){const t=this.I_.gU.gridTiles[n];if(i>=t.iFirstVector.primary&&i<=t.iFirstVector.primary+t.sizeHeatmapDataVectors.primary-1&&s>=t.iFirstVector.secondary&&s<=t.iFirstVector.secondary+t.sizeHeatmapDataVectors.secondary-1){const e=i-t.iFirstVector.primary,n=s-t.iFirstVector.secondary,r=e*t.sizeHeatmapDataVectors.secondary+n;return t.intensityData[r]}}return 0}bt(){return 0}vt(){return 0}Mt(){return 0}xt(){return 0}vl(){return 0}bl(){return 0}}class RA extends CS{constructor(t){super(t);const{vertices:e,drawMode:i,drawSize:s}=this.aG();this.lG=t.nV(e),this.cG=s,this.dG=i}jR(t){return this.RR.lV(this.lG,0,{location:t.attribute("aCurveOrBaseline"),size:1},{location:t.attribute("aSegmentSide"),size:1}),this}Ky(t,e,i){return this.RR.QV(void 0!==e?e:this.dG,i||0,this.cG,t),this}aG(){return{vertices:new Float32Array([1,0,0,0,0,1,0,1,1,1,1,0]),drawMode:this.RR.gl.TRIANGLES,drawSize:6}}kz(){this.RR.yV(this.lG)}}const EA=t=>{let e=t._V.Mz.get(void 0);return e||(e=new RA(t),t._V.Mz.set(void 0,e),e)};class TA extends Tu{constructor(t,e,i,s){super(t,e,i,s,[{type:"DataPattern",args:{pattern:"ProgressiveX"}}]),this.TU=Wc.fillStyle,this.FU=Wc.fillStyle,this.IU=Ur(Kc.Circle),this.PU=Ur(5),this.DU=Ur(0),this.BU=Ur(void 0),this.XC=!0,this.LU={x:0,y:0}}ud(t){return this.TU=gu(this.TU,t),this}ZC(){return this.TU}RU(){return mu(this.EU,this.TU)}zU(){return mu(this.VU,this.FU)}ld(t){return this.FU=gu(this.FU,t),cd(this.FU)&&(this.fd(Kc.Square),this.pd(1)),this}yd(){return this.FU}fd(t){return this.IU.S(t),yd(this.IU.M())&&this.pd(1),this}Ad(){return this.IU.M()}pd(t){return this.PU.S(t),this}QC(){return this.PU.M()}gd(t){return this.DU.S(t),this}md(){return this.DU.M()}JC(t){return this.LU=t,this}KC(){return this.LU}$C(t){return this.BU.S(t),this}qC(){return this.BU.M()}}class IA extends tA{constructor(t,e){super(t,e),this.HG=!1,this.$G={enabled:!1,totalDataPointsAtTime:0},this.jG=t instanceof eh?{type:"linear",scale:t}:{type:"unknown"},this.YG.Uo("DataPattern",(t=>{!1===t.allowDataGrouping&&(this.HG=!0)}))}OU(t,e){var i,s;const n=null==t?void 0:t.Cc,r=null==t?void 0:t.kc,o=null==t?void 0:t.lc,a=null==t?void 0:t.ac;if(!t||this.HG||!this.GG||"linear"!==this.jG.type||!n||!r||void 0===o||void 0===a||!e)return{cpStateChanged:!1,cpActive:!1};const l=null===(i=t.wc())||void 0===i?void 0:i.x,h=null===(s=t.Yc())||void 0===s?void 0:s.x;if(o<2||void 0===l||void 0===h)return{cpStateChanged:!1,cpActive:!1};const c=this.calculateAvgStepBetweenDataPoints(h,l,o),u=this.jG.scale,d=Math.abs("x"===this.GG?u.Wi().x:u.Wi().y),f=d/c,p=Math.floor(.8*f),g=p*c,m=p>=4,y=this.$G.enabled?this.$G.columnWidthAxis/d<1.5:void 0,v=this.$G.enabled&&p>this.$G.dataPointsPerColumn?p/this.$G.dataPointsPerColumn>=2:void 0;let b;return!0===this.$G.enabled?y?v&&(b={enabled:!0,columnWidthAxis:g,dataPointsPerColumn:p,totalDataPointsAtTime:o}):b=m?{enabled:!0,columnWidthAxis:g,dataPointsPerColumn:p,totalDataPointsAtTime:o}:{enabled:!1,totalDataPointsAtTime:o}:m&&(b={enabled:!0,columnWidthAxis:g,dataPointsPerColumn:p,totalDataPointsAtTime:o}),this.$G=b||{...this.$G,totalDataPointsAtTime:o},!!b&&this.Qm(),{cpStateChanged:!!b,cpActive:this.$G.enabled}}NU(t,e){var i,s,n;const r=t.Cc,o=t.kc,a=t.uc,l=t.lc,h=t.ac;if(this.HG||!this.$G.enabled||!r||!o||void 0===e)return;const c=r.length,u=this.$G.columnWidthAxis,d=this.dt.x.getInnerStart(),f=this.dt.x.getInnerEnd(),p=Ad(d,f,r,a,l,h,e,1);if(!p)return;const g=r[p.iFirstSampleDataArray];if(this.GU){if(this.GU.iFirstPackedSample<p.iFirstSample){const t=Math.min(Math.floor((g-this.GU.origin)/u),this.GU.packedColumnsCount);if(t>0)if(this.GU.packedColumnsCount-=t,this.GU.packedColumnsCount>0){this.GU.packedDataX.splice(0,2*t),this.GU.packedDataY.splice(0,2*t),this.GU.packedDataColors&&this.GU.packedDataColors.splice(0,2*t),this.GU.packedDataLookupValues&&this.GU.packedDataLookupValues.splice(0,2*t),this.GU.origin+=t*u;const e=wd(this.GU.origin,Math.max(a-1-c+1,0),a-1,(t=>r[Sd(t,a,c)])),i=Sd(e,a,c);this.GU.iFirstPackedSample=r[i]>=this.GU.origin?e:e+1}else this.GU=void 0}if(void 0!==(null===(i=this.GU)||void 0===i?void 0:i.iLastPackedSample)&&this.GU.iLastPackedSample>p.iLastSample){const t=r[p.iLastSampleDataArray],e=Math.min(Math.floor((this.GU.origin+this.GU.packedColumnsCount*u-t)/u),this.GU.packedColumnsCount);if(e>0)if(this.GU.packedColumnsCount-=e,this.GU.packedColumnsCount>0){for(let s=0;s<2*e;s+=1)this.GU.packedDataX.pop(),this.GU.packedDataY.pop(),this.GU.packedDataColors&&this.GU.packedDataColors.pop(),this.GU.packedDataLookupValues&&this.GU.packedDataLookupValues.pop();const t=wd(this.GU.origin+this.GU.packedColumnsCount*u,Math.max(a-1-c+1,0),a-1,(t=>r[Sd(t,a,c)])),i=Sd(t,a,c);this.GU.iLastPackedSample=r[i]<=this.GU.origin+this.GU.packedColumnsCount*u?t:t-1}else this.GU=void 0}}const m=this.GU||{origin:g,packedColumnsCount:0,packedDataX:[],packedDataY:[],packedDataColors:t.Rc?[]:void 0,packedDataLookupValues:t.Lc?[]:void 0,packedDataSize:t.Ec?[]:void 0,packedDataRotation:t.zc?[]:void 0,iFirstPackedSample:p.iFirstSample,iLastPackedSample:void 0},y=(t,e,i)=>{let s=Math.min(t,t+e*u),n=Math.max(t,t+e*u),l=i;const h=[];let g=tl,y=tl,v=-1,b=$a,x=$a,S=-1,A=0;for(;l<=p.iLastSample&&l>=p.iFirstSample;){const i=l%c,p=r[i],w=o[i];if(s<=p&&p<=n)A+=1,Number.isNaN(w)||(w>y&&(g=p,y=w,v=l),w<x&&(b=p,x=w,S=l)),l+=e;else{if(A>0)g=g===tl?Number.NaN:g,y=y===tl?Number.NaN:y,b=b===$a?Number.NaN:b,x=x===$a?Number.NaN:x,v<S?(h.push({iFirst:v,iSecond:S}),e>0?(m.packedDataX.push(g),m.packedDataY.push(y),m.packedDataX.push(b),m.packedDataY.push(x)):(m.packedDataX.unshift(b),m.packedDataY.unshift(x),m.packedDataX.unshift(g),m.packedDataY.unshift(y))):(h.push({iFirst:S,iSecond:v}),e>0?(m.packedDataX.push(b),m.packedDataY.push(x),m.packedDataX.push(g),m.packedDataY.push(y)):(m.packedDataX.unshift(g),m.packedDataY.unshift(y),m.packedDataX.unshift(b),m.packedDataY.unshift(x)));else{const t=e>0?m.iLastPackedSample:m.iFirstPackedSample;if(void 0===t)h.push({iFirst:0,iSecond:0}),e>0?(m.packedDataX.push(Number.NaN),m.packedDataY.push(Number.NaN),m.packedDataX.push(Number.NaN),m.packedDataY.push(Number.NaN)):(m.packedDataX.unshift(Number.NaN),m.packedDataY.unshift(Number.NaN),m.packedDataX.unshift(Number.NaN),m.packedDataY.unshift(Number.NaN));else{const i=Sd(t,a,c),l=r[i],d=o[i],f=(s+n)/2,g=f-e*u/6,y=d+(g-l)/(p-l)*(w-d),v=f+e*u/6,b=d+(v-l)/(p-l)*(w-d);h.push({iFirst:t,iSecond:t}),e>0?(m.packedDataX.push(g),m.packedDataY.push(y),m.packedDataX.push(v),m.packedDataY.push(b)):(m.packedDataX.unshift(g),m.packedDataY.unshift(y),m.packedDataX.unshift(v),m.packedDataY.unshift(b))}}if(m.packedColumnsCount+=1,e>0?m.iLastPackedSample=l-1:(m.iFirstPackedSample=l+1,m.origin=s),s=Math.min(t+h.length*e*u,t+(h.length+1)*e*u),n=Math.max(t+h.length*e*u,t+(h.length+1)*e*u),A=0,g=tl,y=tl,v=-1,b=$a,x=$a,S=-1,s<d||n>f)break}}return h},v=y(m.origin+m.packedColumnsCount*u,1,void 0!==(null===(s=this.GU)||void 0===s?void 0:s.iLastPackedSample)?this.GU.iLastPackedSample+1:p.iFirstSample),b=y(m.origin,-1,void 0!==(null===(n=this.GU)||void 0===n?void 0:n.iFirstPackedSample)?this.GU.iFirstPackedSample-1:p.iFirstSample),x=t.Rc&&m.packedDataColors?[t.Rc,m.packedDataColors]:void 0,S=t.Lc&&m.packedDataLookupValues?[t.Lc,m.packedDataLookupValues]:void 0,A=t.Ec&&m.packedDataSize?[t.Ec,m.packedDataSize]:void 0,w=t.zc&&m.packedDataRotation?[t.zc,m.packedDataRotation]:void 0;if(x||S||A||w){for(const t of v){const e=Sd(t.iFirst,a,c),i=Sd(t.iSecond,a,c);x&&x[1].push(x[0][e],x[0][i]),S&&S[1].push(S[0][e],S[0][i]),A&&A[1].push(A[0][e],A[0][i]),w&&w[1].push(w[0][e],w[0][i])}for(const t of b){const e=Sd(t.iFirst,a,c),i=Sd(t.iSecond,a,c);x&&x[1].unshift(x[0][i],x[0][e]),S&&S[1].unshift(S[0][i],S[0][e]),A&&A[1].unshift(A[0][i],A[0][e]),w&&w[1].unshift(w[0][i],w[0][e])}}return this.GU=m.packedColumnsCount>0?m:void 0,{x:m.packedDataX,y:m.packedDataY,color:m.packedDataColors,lookup:m.packedDataLookupValues,size:m.packedDataSize,rotation:m.packedDataRotation}}Qm(){this.GU=void 0}tW(t){if(this.GG&&"linear"===this.jG.type){const e="x"===this.GG?this.jG.scale.x.ig:this.jG.scale.y.ig;if(!e)throw new Error("CP helper has no information about Axis state.");if(e.Je===sc.progressive||e.Je===sc.regressive){const e=Math.abs("x"===this.GG?this.jG.scale.x.getInnerInterval():this.jG.scale.y.getInnerInterval());if(this.$G.enabled)return 2*e/this.$G.columnWidthAxis;const i=t.length,s=t[0],n=t[i-1];return e/this.calculateAvgStepBetweenDataPoints("x"===this.GG?s.x:s.y,"x"===this.GG?n.x:n.y,i)}}}iW(t,e,i){if(!this.GG)return e;const s=i.length;let n=au(i,t.min,this.GG,this.WG,0,s-1);void 0===n&&(n=this.WG?s-1:0);let r=au(i,t.max,this.GG,this.WG,0,s-1);return void 0===r&&(r=this.WG?0:s-1),1+Math.abs(r-n)}sW(){}}class PA extends TA{constructor(t,e,i,s,n,r){super(t,e,i,s),this.aE=new DS,this.SW=new IA(this.dt,this),this.AN=mx({lineStyleSolid:()=>vh(this.lu)&&this.lu,lineStyleDashed:()=>pd(this.lu)&&this.lu,strokeFillSolid:()=>{const t=this.lu.getFillStyle();return co(t)&&t},strokeFillLinearGradient:()=>{const t=this.lu.getFillStyle();return ko(t)&&t},strokeFillRadialGradient:()=>{const t=this.lu.getFillStyle();return wo(t)&&t},strokeFillIndividual:()=>{const t=this.lu.getFillStyle();return fo(t)&&t},strokeFillPaletted:()=>{const t=this.lu.getFillStyle();return po(t)&&t},areaFillSolid:()=>co(this.TU)&&this.TU,areaFillLinearGradient:()=>ko(this.TU)&&this.TU,areaFillRadialGradient:()=>wo(this.TU)&&this.TU,areaFillIndividual:()=>fo(this.TU)&&this.TU,areaFillPaletted:()=>po(this.TU)&&this.TU,markerFillSolid:()=>co(this.FU)&&this.FU,markerFillLinearGradient:()=>ko(this.FU)&&this.FU,markerFillRadialGradient:()=>wo(this.FU)&&this.FU,markerFillPaletted:()=>po(this.FU)&&this.FU,markerFillIndividual:()=>fo(this.FU)&&this.FU,markerFillImage:()=>cd(this.FU)&&this.FU,markerShapeIcon:()=>{const t=this.IU.M();return yd(t)&&t}}),this.od=Ur(void 0),this.WU=[],this.Qa=!1,this.UU=[],this.YU=void 0,this.rU=(t,e,i)=>{var s;const n=null===(s=this.HU)||void 0===s?void 0:s.shapeIcon;let r=t,o=e;return n&&(r=n.oi().x,o=n.oi().y),RS(t,e,r*this.PU.M(),o*this.PU.M(),i)},this.nN=e,this.bG={type:"none"},this.RR=t.oN(),this.rN=t,this.SG=this.RR.eO,this.gN=n,this.mN=r}ad(t){return this.od.S(Za(t,this.od.M(),(()=>[t.$c(((e,i)=>{this.WU.push({min:e,max:i}),void 0===t.Gc()&&this.$U&&this.UU.push({min:e,max:i})})),t.Xc((()=>{this.Qa=!0,this.$U=void 0,this.YU=void 0,this.SW.Qm()}))]))),this.YU=void 0,this}Ps(){var t,e,i,s,n,r,o,a,l,h,c,u,d,f,p;const g=null===(t=this.od.M())||void 0===t?void 0:t.Wt,m=this.od.i,y=null==g?void 0:g.Cc,v=null==g?void 0:g.kc;if(!g||!y||!v)return this;const b=g.Lc,x=g.Rc,S=g.Ec,A=g.zc,w=g.uc,C=g.lc,M=g.ac,k=this.lu,R=this.TU,E=m||this.ra()||this.RU()||this.zU(),T=this.AN.lineStyleSolid(E),I=this.AN.lineStyleDashed(E),P=T||I,F=P&&P.getThickness(),D=this.AN.strokeFillSolid(E),L=this.AN.strokeFillLinearGradient(E),z=this.AN.strokeFillRadialGradient(E),N=this.AN.strokeFillIndividual(E),_=this.AN.strokeFillPaletted(E),V=D||L||z||N||_,B=this.AN.areaFillSolid(E),O=this.AN.areaFillLinearGradient(E),U=this.AN.areaFillRadialGradient(E),H=this.AN.areaFillIndividual(E),G=this.AN.areaFillPaletted(E),W=B||O||U||H||G,j=this.AN.markerFillSolid(E),Y=this.AN.markerFillLinearGradient(E),X=this.AN.markerFillRadialGradient(E),q=this.AN.markerFillPaletted(E),J=this.AN.markerFillIndividual(E),K=this.AN.markerFillImage(E),Z=j||Y||X||q||J||K,Q=this.IU.M(),$=this.IU.i,tt=this.AN.markerShapeIcon($),et=this.PU.M(),it=this.PU.i,st=this.BU.i,nt=this.WU.length>0||st,rt=this.Qa,ot=rt?[g.Wc()]:(t=>{const e=[];for(const i of t){let t=!1;for(const s of e)if(i.min>=s.min&&i.min<=s.max||i.max>=s.min&&i.max<=s.max){s.min=Math.min(s.min,i.min),s.max=Math.min(s.max,i.max),t=!0;break}t||e.push(i)}return e})(this.WU),at=this.dt.x.Yt,lt=this.dt.x.getInnerStart(),ht=this.dt.x.getInnerEnd(),ct=g.Gc(),ut=!!I,dt=this.Bo.M(),ft=this.Bo.i,{cpStateChanged:pt,cpActive:gt}=this.SW.OU(g,this.XC);if(ct&&gt&&(pt||rt||nt||at||E)){const t=this.SW.NU(g,ct);if(t){const i=!pt&&!rt&&!E;this.XU=FA(this.RR,[t.x,t.y],t.color,t.lookup,t.size,t.rotation,ut,this.XU,i,ct,1e3,this.dt._i(),(t=>ma(t,this.dt._i()))),this.jU={min:$a,max:tl};const s=t.y.length;for(let e=0;e<s;e+=1){const i=t.y[e];Number.isNaN(i)||(this.jU.min=Math.min(this.jU.min,i),this.jU.max=Math.max(this.jU.max,i))}null===(e=this.dt.y.ig)||void 0===e||e.uh()}}if(ct&&!gt&&(pt||rt||nt||at||st||E)){const t=Ad(lt,ht,y,w,C,M,ct,1);if(!this.ZU||(null==t?void 0:t.iFirstSample)!==this.ZU.iFirstSample||t.iLastSample!==this.ZU.iLastSample||rt){this.jU={min:$a,max:tl};for(const e of(null==t?void 0:t.dataRanges)||[])for(let t=e.offset;t<e.offset+e.count;t+=1){const e=v[t];Number.isNaN(e)||(this.jU.min=Math.min(this.jU.min,e),this.jU.max=Math.max(this.jU.max,e))}null===(i=this.dt.y.ig)||void 0===i||i.uh()}if(this.ZU=t,void 0===t)this.RR.yV(null===(s=this.XU)||void 0===s?void 0:s.bufferX),this.RR.yV(null===(n=this.XU)||void 0===n?void 0:n.bufferY),this.XU=void 0,this.RR.yV(null===(r=this.QU)||void 0===r?void 0:r.bufferX),this.RR.yV(null===(o=this.QU)||void 0===o?void 0:o.bufferY),this.QU=void 0,this.JU=t;else if(pt||rt||!this.JU||t.iFirstSample<this.JU.iFirstSample||t.iLastSample>this.JU.iLastSample||E){let e,i,s,n,r,o;if(1===t.dataRanges.length){const a=t.dataRanges[0];e=y.subarray(a.offset,a.offset+a.count),i=v.subarray(a.offset,a.offset+a.count),s=x?x.subarray(a.offset,a.offset+a.count):void 0,n=b?b.subarray(a.offset,a.offset+a.count):void 0,r=S?S.subarray(a.offset,a.offset+a.count):void 0,o=A?A.subarray(a.offset,a.offset+a.count):void 0}else{const a=t.dataRanges[0],l=t.dataRanges[1],h=a.count+l.count;e=new Float32Array(h),e.set(y.subarray(a.offset),0),e.set(y.subarray(l.offset,l.offset+l.count),a.count),i=new Float32Array(h),i.set(v.subarray(a.offset),0),i.set(v.subarray(l.offset,l.offset+l.count),a.count),x&&(s=new Uint32Array(h),s.set(x.subarray(a.offset),0),s.set(x.subarray(l.offset,l.offset+l.count),a.count)),b&&(n=new Float32Array(h),n.set(b.subarray(a.offset),0),n.set(b.subarray(l.offset,l.offset+l.count),a.count)),S&&(r=new Float32Array(h),r.set(S.subarray(a.offset),0),r.set(S.subarray(l.offset,l.offset+l.count),a.count)),A&&(o=new Float32Array(h),o.set(A.subarray(a.offset),0),o.set(A.subarray(l.offset,l.offset+l.count),a.count))}const l=!pt&&!rt&&!E;this.QU=FA(this.RR,[e,i],s,n,r,o,ut,this.QU,l,ct,1e3,this.dt._i(),(t=>ma(t,this.dt._i())));let h=e,c=i,u=s,d=n;const f=this.BU.M();if(f){const t="spline"===f.type?((t,e)=>{const{xValues:i,yValues:s,lookupValues:n,colors:r}=t;if(i.length<=2)return{xValues:Array.from(i),yValues:Array.from(s),lookupValues:n?Array.from(n):void 0,colors:r?Array.from(r):void 0};const o=((t,e)=>{const i=1e-5,s=t.length-1,n=Array(s);if(s>1){let r=Lr(0,0),o=Lr(0,0),a=Lr(0,0),l=Al(Rl({x:t[1],y:e[1]},{x:t[0],y:e[0]}));const h=3;let c=0,u=0;for(let d=0;d<s;d+=1){const f=Array(4);if(f[0]={x:t[d],y:e[d]},f[1]={x:t[d],y:e[d]},f[3]={x:t[d+1],y:e[d+1]},f[2]={x:t[d+1],y:e[d+1]},a=l,r=o,d+1<s?(l=t[d+2]===t[d+1]&&e[d+2]===e[d+1]?Lr(0,0):Al(Rl({x:t[d+2],y:e[d+2]},{x:t[d+1],y:e[d+1]})),o=Al(kl(a,l))):o=Lr(0,0),e[d+1]===e[d])c=0,u=0;else{const e=t[d+1]-t[d];c=Math.abs(r.x)>i?Math.abs(e/(h*r.x)):1,u=Math.abs(o.x)>i?Math.abs(e/(h*o.x)):1}f[1]=kl(Ml(r,c),f[1]),f[2]=Rl(f[2],Ml(o,u)),n[d]=f}}return n.length>0?n:[]})(i,s),a=o.length,l=[],h=[],c=[],u=[];for(let d=0;d<a;d+=1){const t=o[d];for(let i=0;i<e;i+=1){const s=i/(e-1),n=s*s,r=n*s,o=1-s,a=o*o,c=a*o;l.push(c*t[0].x+3*s*a*t[1].x+3*n*o*t[2].x+r*t[3].x),h.push(c*t[0].y+3*s*a*t[1].y+3*n*o*t[2].y+r*t[3].y)}}if(n)for(let d=0;d<l.length;d+=1){const t=n[Math.round(d/e)];u[d]=t}if(r)for(let d=0;d<l.length;d+=1){const t=r[Math.round(d/e)];c[d]=t}return{xValues:l,yValues:h,lookupValues:n?u:void 0,colors:r?c:void 0}})({xValues:e,yValues:i,lookupValues:n,colors:s},f.resolution||20):"step"===f.type?((t,e)=>{const{xValues:i,yValues:s,lookupValues:n,colors:r}=t,o=[],a=[],l=[],h=[],c=i.length,u=e;if(c>0){let t=0,e=i[0],n=s[0];o[t]=e,a[t]=n,t+=1;for(let r=1;r<c;r+=1){const l=i[r],h=s[r];if(u<=0)o[t]=e,a[t]=h,t+=1;else{const i=e*(1-u)+l*u;o[t]=i,a[t]=n,t+=1,o[t]=i,a[t]=h,t+=1}o[t]=l,a[t]=h,t+=1,e=l,n=h}}if(n)if(u===ay.before){h[0]=n[0];for(let t=1;t<c;t+=1)h[2*t-1]=n[t],h[2*t]=n[t]}else if(u===ay.middle||u===ay.after){h[0]=n[0],h[1]=n[0];for(let t=1;t<c;t+=1)h[3*t-1]=n[t],h[3*t]=n[t],h[3*t+1]=n[t]}if(r)if(u===ay.before){l[0]=r[0];for(let t=1;t<c;t+=1)l[2*t-1]=r[t],l[2*t]=r[t]}else if(u===ay.middle||u===ay.after){l[0]=r[0],l[1]=r[0];for(let t=1;t<c;t+=1)l[3*t-1]=r[t],l[3*t]=r[t],l[3*t+1]=r[t]}return{xValues:o,yValues:a,lookupValues:n?h:void 0,colors:r?l:void 0}})({xValues:e,yValues:i,lookupValues:n,colors:s},"before"===f.step?0:"after"===f.step?1:.5):void 0;h=t?t.xValues:h,c=t?t.yValues:c,u=(null==t?void 0:t.colors)?t.colors:u,d=(null==t?void 0:t.lookupValues)?t.lookupValues:d}this.XU=h===e&&c===i?this.QU:FA(this.RR,[h,c],u,d,void 0,void 0,ut,(null===(a=this.XU)||void 0===a?void 0:a.bufferX)===this.QU.bufferX?void 0:this.XU,!(!l||st||f),ct,1e3,this.dt._i(),(t=>ma(t,this.dt._i()))),this.JU=t}}if(!ct&&(rt||nt||E)){if(!this.XU||this.XU.bufferSize<g.lc||ut){const t=void 0!==g.Vc?g.Vc:g.lc;let e,i=0,s=0;if(ut){const n=DA(y,v,y[0],v[0],0,0);e=this.RR.EV(2*t,n[0],null===(l=this.XU)||void 0===l?void 0:l.bufferLengthSoFar,Float32Array),i=n[1],s=n[2]}this.XU={bufferX:this.RR.EV(t*(this.dt._i()?2:1),ma(y,this.dt._i()),null===(h=this.XU)||void 0===h?void 0:h.bufferX),bufferY:this.RR.EV(t*(this.dt._i()?2:1),ma(v,this.dt._i()),null===(c=this.XU)||void 0===c?void 0:c.bufferY),bufferColors:x?this.RR.EV(t,x,null===(u=this.XU)||void 0===u?void 0:u.bufferColors,Uint32Array):void 0,bufferLookupValues:b?this.RR.EV(t,b,null===(d=this.XU)||void 0===d?void 0:d.bufferLookupValues,Float32Array):void 0,bufferSizes:S?this.RR.EV(t,S,null===(f=this.XU)||void 0===f?void 0:f.bufferSizes,Float32Array):void 0,bufferRotations:A?this.RR.EV(t,A,null===(p=this.XU)||void 0===p?void 0:p.bufferRotations,Float32Array):void 0,bufferLengthSoFar:e,lengthSoFarX:i,lengthSoFarY:s,bufferSize:t,valueCount:g.lc}}else{const t=this.XU.bufferX,e=this.XU.bufferY;ot.forEach((i=>{var s,n,r,o;const a=y.subarray(i.min,i.max+1),l=v.subarray(i.min,i.max+1);if(this.RR.zV(t,i.min*(this.dt._i()?2:1),ma(a,this.dt._i())),this.RR.zV(e,i.min*(this.dt._i()?2:1),ma(l,this.dt._i())),x&&(null===(s=this.XU)||void 0===s?void 0:s.bufferColors)){const t=x.subarray(i.min,i.max+1);this.RR.zV(this.XU.bufferColors,i.min,t,Uint32Array)}if(b&&(null===(n=this.XU)||void 0===n?void 0:n.bufferLookupValues)){const t=b.subarray(i.min,i.max+1);this.RR.zV(this.XU.bufferLookupValues,i.min,t,Float32Array)}if(A&&(null===(r=this.XU)||void 0===r?void 0:r.bufferRotations)){const t=A.subarray(i.min,i.max+1);this.RR.zV(this.XU.bufferRotations,i.min,t,Float32Array)}if(S&&(null===(o=this.XU)||void 0===o?void 0:o.bufferSizes)){const t=S.subarray(i.min,i.max+1);this.RR.zV(this.XU.bufferSizes,i.min,t,Float32Array)}})),this.XU.valueCount=g.lc}this.QU=this.XU}if(this.aE.mV(this.dt),E||it||$||ft){if(V&&P&&!1!==F){const t=-1===F?"primitive":"triangulated",e=_?["lookup",_.lookUpProperty,_.lut]:N?"attribute":L?["gradient",L]:z?["gradient",z]:"uniform";this.bG="primitive"===t?{type:t,shader:this.RR.oz(jx["2D"],jx.Color({dataType:e}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0,splitPosAttribute:!0}),I&&jx.StippleTexture),lineStyleSolid:T,lineStyleDashed:I,fillStyleSolid:D,fillStyleLinearGradient:L,fillStyleRadialGradient:z,fillStyleIndividual:N,fillStylePaletted:_,mousePickingShader:dt&&this.RR.oz(jx["2D"],jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0,splitPosAttribute:!0}),I&&jx.StippleTexture,jx.MousePicking)}:"triangulated"===t?{type:t,shader:this.RR.oz(jx["2D"],jx.Color({dataType:e}),jx.LineInstanced2D({axisWorldTranslation:gx(this.dt),normalSource:void 0,splitPosAttribute:!0}),this.SG?jx.AliasedEdge:void 0,I&&jx.StippleTextureInstanced),geometry:JS(this.RR,F),thickness:F,lineStyleSolid:T,lineStyleDashed:I,fillStyleSolid:D,fillStyleLinearGradient:L,fillStyleRadialGradient:z,fillStyleIndividual:N,fillStylePaletted:_,mousePickingShader:dt&&this.RR.oz(jx["2D"],jx.LineInstanced2D({axisWorldTranslation:gx(this.dt),normalSource:void 0,splitPosAttribute:!0}),I&&jx.StippleTextureInstanced,jx.MousePicking)}:{type:"none"}}else this.bG={type:"none"};if(this.KU=W?{shader:this.RR.oz(jx["2D"],G&&jx.Color({dataType:["lookup",G.lookUpProperty,G.lut]}),H&&jx.Color({dataType:"attribute"}),B&&jx.Color({dataType:"uniform"}),O&&jx.Color({dataType:["gradient",O]}),U&&jx.Color({dataType:["gradient",U]}),jx.Area2D({axisWorldTranslation:gx(this.dt),normalSource:void 0,splitPosAttribute:!0})),geometry:EA(this.RR),fillStyleSolid:B,fillStyleLinearGradient:O,fillStyleRadialGradient:U,fillStyleIndividual:H,fillStylePaletted:G,mousePickingShader:dt&&this.RR.oz(jx["2D"],jx.Area2D({axisWorldTranslation:gx(this.dt),normalSource:void 0,splitPosAttribute:!0}),jx.MousePicking)}:void 0,Z){const t=!(!K&&!tt),e=et>1||t,i=S?"attribute":"uniform",s=!e&&jx.PointSize("uniform"),n=jx.VertexLocation({offset:e&&!t?{dataType:i,sizeUnit:"px",symmetric:!0,rotation:{dataType:A?"attribute-deg":"uniform"},useAlignment:!0}:e&&t?{dataType:i,sizeUnit:"scale",rotation:{dataType:A?"attribute-deg":"uniform"},useAlignment:!0}:void 0,axisWorldTranslation:gx(this.dt),normalSource:void 0,splitPosAttribute:!0});this.HU={shader:this.RR.oz(jx["2D"],s,n,j&&jx.Color({dataType:"uniform",overrideOpacity:!0,maskTexture:!!tt}),Y&&jx.Color({dataType:["gradient",Y],overrideOpacity:!0,maskTexture:!!tt}),X&&jx.Color({dataType:["gradient",X],overrideOpacity:!0,maskTexture:!!tt}),q&&jx.Color({dataType:["lookup",q.getLookUpProperty(),q.getPalette()],overrideOpacity:!0,maskTexture:!!tt}),J&&jx.Color({dataType:"attribute",overrideOpacity:!0,maskTexture:!!tt}),K&&jx.Color({dataType:["image",K],overrideOpacity:!0,maskTexture:!!tt})),geometry:cA(Q,this.RR,"uniform"===i?et:25),fillStyleSolid:j,fillStyleLinearGradient:Y,fillStyleRadialGradient:X,fillStylePaletted:q,fillStyleIndividual:J,fillStyleImage:K,mousePickingShader:dt&&this.RR.oz(jx["2D"],s,n,jx.MousePicking),shapeIcon:tt,pointSizeAsScale:t,instancedRendering:e}}else this.HU=void 0}const mt=pu({min:{x:this.vt(),y:this.dt.y.getInnerStart()},max:{x:this.bt(),y:this.Mt()}},{x:this.vl(),y:this.bl()},this.dt),yt=pu({min:{x:this.vt(),y:this.xt()},max:{x:this.bt(),y:this.Mt()}},{x:this.vl(),y:this.bl()},this.dt);if(this.qU=this.RR.NO(L,this,yt),this.tY=this.RR.GO(z,this,yt),this.iY=this.RR.NO(O,this,mt),this.sY=this.RR.GO(U,this,mt),this.eY=this.RR.NO(Y,this,yt),this.hY=this.RR.GO(X,this,yt),(void 0===this.YU||nt)&&b&&(vx(_)||vx(G)||vx(q))){const t=this.YU?ot:[g.Wc()];let e=this.YU?this.YU.max:tl,i=this.YU?this.YU.min:$a;const s=b;t.forEach((t=>{for(let n=t.min;n<=t.max;n+=1){const t=s[n];i=t<i?t:i,e=t>e?t:e}})),this.YU={min:i,max:e}}return this.MG=I?this.RR.IO(I.getPattern()):void 0,this.hU=this.RR.RO(this,this.hU,K,tt,it,this.rU),this.fu(k),this.EU=R,this.VU=this.FU,this.IU.i=!1,this.PU.i=!1,this.WU.length=0,this.Qa=!1,this.BU.i=!1,this.od.i=!1,this.Bo.i=!1,this}zL(t){var e,i,s,n,r,o,a,l,h,c,u,d,f,p,g,m,y;const v=this.RR.gl,b=null===(e=this.XU)||void 0===e?void 0:e.bufferX,x=null===(i=this.XU)||void 0===i?void 0:i.bufferY,S=null===(s=this.XU)||void 0===s?void 0:s.bufferColors,A=null===(n=this.XU)||void 0===n?void 0:n.bufferLookupValues,w=null===(r=this.XU)||void 0===r?void 0:r.valueCount,C=null===(o=this.QU)||void 0===o?void 0:o.valueCount,M=null===(a=this.od.M())||void 0===a?void 0:a.Wt,k=null==M?void 0:M.Gc();if(!b||!x||!M)return this;const R=(e,i,s)=>{if(LA(this.RR,e,this.dt._i(),b,"aLocation","X",1,!1,v.FLOAT,Float32Array.BYTES_PER_ELEMENT),LA(this.RR,e,this.dt._i(),x,"aLocation","Y",1,!1,v.FLOAT,Float32Array.BYTES_PER_ELEMENT),i&&1!==t){if(!S)return!1;LA(this.RR,e,!1,S,"aColor","",4,!0,v.UNSIGNED_BYTE,1)}if(s&&"value"===s.lookUpProperty&&1!==t){if(!A)return!1;LA(this.RR,e,!1,A,"aLookupValue","",1,!1,v.FLOAT,Float32Array.BYTES_PER_ELEMENT)}return!0},E=1===t?null===(l=this.KU)||void 0===l?void 0:l.mousePickingShader:null===(h=this.KU)||void 0===h?void 0:h.shader;if(this.KU&&E&&void 0!==w&&w>0&&k){const e=this.KU;this.RR.jR(E).aV(E,((i,s,n,r)=>!!this.RR.zO(n,t,this,{uniforms:this.aE,mousePickingColor:this.mN,fillStyleSolid:e.fillStyleSolid,fillStyleLinearGradient:e.fillStyleLinearGradient,fillStyleRadialGradient:e.fillStyleRadialGradient,fillStylePaletted:e.fillStylePaletted,linearGradientInfo:this.iY,radialGradientInfo:this.sY,lookupValueRange:e.fillStylePaletted?yx(e.fillStylePaletted,this,this.YU):void 0,lookupValueBuffer:null})&&!!R(n,e.fillStyleIndividual,e.fillStylePaletted)&&(null==e||e.geometry.jR(n).Ky(w-1),!0)))}const T="none"===this.bG.type?void 0:1===t?this.bG.mousePickingShader:this.bG.shader;if("none"!==this.bG.type&&T&&void 0!==w&&w>0){const e=this.bG;this.RR.jR(T).aV(T,((i,s,n,r)=>{var o,a;if(!this.RR.zO(n,t,this,{uniforms:this.aE,mousePickingColor:this.mN,fillStyleSolid:e.fillStyleSolid,fillStylePaletted:e.fillStylePaletted,fillStyleLinearGradient:e.fillStyleLinearGradient,fillStyleRadialGradient:e.fillStyleRadialGradient,fillStyleIndividual:e.fillStyleIndividual,linearGradientInfo:this.qU,radialGradientInfo:this.tY,lookupValueRange:e.fillStylePaletted?yx(e.fillStylePaletted,this,this.YU):void 0,lookupValueBuffer:"primitive"===e.type?A:null,colorBuffer:"primitive"===e.type?S:null,coordsX:"primitive"===e.type?b:void 0,coordsY:"primitive"===e.type?x:void 0,coordsHighPrecision:this.dt._i()}))return!1;if(e.lineStyleDashed){if(!this.MG)return!1;this.RR.uV(i("uStippleCount"),[this.us.oi().x/this.MG.BO,this.us.oi().y/this.MG.BO]).dV(r("uStippleTextureWidthLimiter"),this.MG.DO/this.MG.BO).dV(i("uStippleScale"),e.lineStyleDashed.getPatternScale()).cV(i("uStippleTexture"),this.MG.PO,1)}if("primitive"===e.type){if(e.lineStyleDashed){if(!(null===(o=this.XU)||void 0===o?void 0:o.bufferLengthSoFar))return!1;this.RR.GV(s("aLengthSoFar"),this.XU.bufferLengthSoFar)}ZS.yG(this.rN,w)}else{if(!R(n,e.fillStyleIndividual,e.fillStylePaletted))return!1;if(e.lineStyleDashed){if(!(null===(a=this.XU)||void 0===a?void 0:a.bufferLengthSoFar))return!1;LA(this.RR,n,!1,this.XU.bufferLengthSoFar,"aLengthSoFar","",2,!1,v.FLOAT,Float32Array.BYTES_PER_ELEMENT)}KS.zL(this.rN,e.geometry,n,this.SG&&1!==t,1===t,e.thickness,w-1)}return!0}))}const I=null===(c=this.QU)||void 0===c?void 0:c.bufferX,P=null===(u=this.QU)||void 0===u?void 0:u.bufferY,F=null===(d=this.QU)||void 0===d?void 0:d.bufferColors,D=null===(f=this.QU)||void 0===f?void 0:f.bufferLookupValues,L=null===(p=this.QU)||void 0===p?void 0:p.bufferSizes,z=null===(g=this.QU)||void 0===g?void 0:g.bufferRotations,N=1===t?null===(m=this.HU)||void 0===m?void 0:m.mousePickingShader:null===(y=this.HU)||void 0===y?void 0:y.shader,_=this.HU;let V=1;if(k){const t=this.od?Math.abs((this.bt()-this.vt())/M.getSampleCount()):0,e=this.dt.x.getInnerInterval()/t,i=this.PU.M(),s=this.dt.x.ri()/i/1,n=2*s;V=e<=s?1:Math.max(1-(e-s)/(n-s),0)}if(N&&_&&I&&P&&V>0&&void 0!==C&&C>0){const e=_,i=e.instancedRendering?1:0;this.RR.jR(N).aV(N,((s,n,r,o)=>{if(!this.RR.zO(r,t,this,{uniforms:this.aE,mousePickingColor:this.mN,fillStyleSolid:e.fillStyleSolid,fillStyleLinearGradient:e.fillStyleLinearGradient,fillStyleRadialGradient:e.fillStyleRadialGradient,linearGradientInfo:this.eY,radialGradientInfo:this.hY,fillStylePaletted:e.fillStylePaletted,fillStyleIndividual:e.fillStyleIndividual,lookupValueRange:e.fillStylePaletted?yx(e.fillStylePaletted,this,this.YU):void 0,lookupValueBuffer:D,lookupValueAttribDivisor:i,colorBuffer:F,colorAttribDivisor:i,fillStyleImage:e.fillStyleImage,texturedFillGLInfo:this.hU,texCoordAttribDivisor:0,maskTexture:e.shapeIcon&&this.hU,maskTextureCoordsAttribDivisor:0}))return!1;if(this.dt._i()?this.RR.lV(I,i,{location:n("aPos_highpartX"),size:1},{location:n("aPos_lowpartX"),size:1}).lV(P,i,{location:n("aPos_highpartY"),size:1},{location:n("aPos_lowpartY"),size:1}):this.RR.$V(n("aPosX"),I,i).$V(n("aPosY"),P,i),1!==t&&this.RR.dV(s("uOpacity"),V),e.instancedRendering)if(z)this.RR.$V(n("aRotDeg"),z,i).dV(s("uBaseRotDeg"),e.geometry.DW);else{const t=Ll(this.DU.M()+e.geometry.DW),i=Math.sin(t),n=Math.cos(t);this.RR.uV(s("uRot"),[i,n])}return this.RR.uV(o("uOffsetAlignment"),[-this.LU.x/2,-this.LU.y/2]),e.geometry.Ky(r,L,C,e.pointSizeAsScale&&this.hU?{scale:this.PU.M(),width:e.shapeIcon?e.shapeIcon.oi().x:this.hU.texture.Fz,height:e.shapeIcon?e.shapeIcon.oi().y:this.hU.texture.Iz}:this.PU.M(),e.instancedRendering),!0}))}return this}lN(t){return this.gN===t&&{}}dispose(){var t,e,i,s,n,r,o,a,l;return super.dispose(),this.RR.yV(null===(t=this.XU)||void 0===t?void 0:t.bufferX),this.RR.yV(null===(e=this.XU)||void 0===e?void 0:e.bufferY),this.RR.yV(null===(i=this.XU)||void 0===i?void 0:i.bufferColors),this.RR.yV(null===(s=this.XU)||void 0===s?void 0:s.bufferLookupValues),this.RR.yV(null===(n=this.QU)||void 0===n?void 0:n.bufferX),this.RR.yV(null===(r=this.QU)||void 0===r?void 0:r.bufferY),this.RR.yV(null===(o=this.QU)||void 0===o?void 0:o.bufferColors),this.RR.yV(null===(a=this.QU)||void 0===a?void 0:a.bufferLookupValues),this.bG={type:"none"},this.KU=void 0,this.HU=void 0,this.SW.Qm(),null===(l=this.od.M())||void 0===l||l.Gt(),this.XU=void 0,this.QU=void 0,this.qU=void 0,this.tY=void 0,this.iY=void 0,this.sY=void 0,this.eY=void 0,this.hY=void 0,this.RR.EO(this,this.hU),this}VR(){return this.dispose(),this}rY(t){if(!this.$U){const{xValues:e,yValues:i}=t.readBack();this.$U={min:{x:$a,y:$a},max:{x:tl,y:tl}};const s=e.length;for(let t=0;t<s;t+=1){const s=e[t],n=i[t];this.$U.min.x=s<this.$U.min.x?s:this.$U.min.x,this.$U.min.y=n<this.$U.min.y?n:this.$U.min.y,this.$U.max.x=s>this.$U.max.x?s:this.$U.max.x,this.$U.max.y=n>this.$U.max.y?n:this.$U.max.y}return this.UU.length=0,this.$U}const e=t.Cc,i=t.kc;if(this.UU.length>0&&e&&i){for(const t of this.UU){for(let s=t.min;s<=t.max;s+=1){const t=e[s],n=i[s];this.$U.min.x=t<this.$U.min.x?t:this.$U.min.x,this.$U.min.y=n<this.$U.min.y?n:this.$U.min.y,this.$U.max.x=t>this.$U.max.x?t:this.$U.max.x,this.$U.max.y=n>this.$U.max.y?n:this.$U.max.y}this.UU.length=0}return this.$U}return this.$U}bt(){var t,e,i,s,n;const r=null===(t=this.od.M())||void 0===t?void 0:t.Wt;if(!r)return 0;const o=r.Gc();return"ProgressiveX"===o?(null===(e=r.wc())||void 0===e?void 0:e.x)||0:"RegressiveX"===o?(null===(i=r.Yc())||void 0===i?void 0:i.x)||0:"ProgressiveY"===o?(null===(s=this.jU)||void 0===s?void 0:s.max)||0:"RegressiveY"===o?(null===(n=this.jU)||void 0===n?void 0:n.max)||0:this.rY(r).max.x}vt(){var t,e,i,s,n;const r=null===(t=this.od.M())||void 0===t?void 0:t.Wt;if(!r)return 0;const o=r.Gc();return"ProgressiveX"===o?(null===(e=r.Yc())||void 0===e?void 0:e.x)||0:"RegressiveX"===o?(null===(i=r.wc())||void 0===i?void 0:i.x)||0:"ProgressiveY"===o?(null===(s=this.jU)||void 0===s?void 0:s.min)||0:"RegressiveY"===o?(null===(n=this.jU)||void 0===n?void 0:n.min)||0:this.rY(r).min.x}Mt(){var t,e,i,s,n;const r=null===(t=this.od.M())||void 0===t?void 0:t.Wt;if(!r)return 0;const o=r.Gc();return"ProgressiveX"===o?Zo(null===(e=this.jU)||void 0===e?void 0:e.max,0):"RegressiveX"===o?Zo(null===(i=this.jU)||void 0===i?void 0:i.max,0):"ProgressiveY"===o?Zo(null===(s=r.wc())||void 0===s?void 0:s.y,0):"RegressiveY"===o?Zo(null===(n=r.Yc())||void 0===n?void 0:n.y,0):this.rY(r).max.y}xt(){var t,e,i,s,n;const r=null===(t=this.od.M())||void 0===t?void 0:t.Wt;if(!r)return 0;const o=r.Gc();return"ProgressiveX"===o?Zo(null===(e=this.jU)||void 0===e?void 0:e.min,0):"RegressiveX"===o?Zo(null===(i=this.jU)||void 0===i?void 0:i.min,0):"ProgressiveY"===o?Zo(null===(s=r.Yc())||void 0===s?void 0:s.y,0):"RegressiveY"===o?Zo(null===(n=r.wc())||void 0===n?void 0:n.y,0):this.rY(r).min.y}vl(){var t,e;let i=this.PU.M();this.hU&&(i=Math.max(this.hU.texture.Fz,this.hU.texture.Iz)*this.PU.M());const s=Math.max(ja(this.lu),(null===(t=this.od.M())||void 0===t?void 0:t.Wt.vc)?25:i),n=null===(e=this.od.M())||void 0===e?void 0:e.Wt.Gc();return!n||"ProgressiveX"!==n&&"RegressiveX"!==n?s:0}bl(){var t,e;let i=this.PU.M();this.hU&&(i=Math.max(this.hU.texture.Fz,this.hU.texture.Iz)*this.PU.M());const s=Math.max(ja(this.lu),(null===(t=this.od.M())||void 0===t?void 0:t.Wt.vc)?25:i),n=null===(e=this.od.M())||void 0===e?void 0:e.Wt.Gc();return!n||"ProgressiveY"!==n&&"RegressiveY"!==n?s:0}}const FA=(t,e,i,s,n,r,o,a,l,h,c,u,d)=>{if("ProgressiveX"!==h)throw new Error("Unimplemented data pattern");const f=e[0],p=e[1],g=f.length,m=f[0],y=f[g-1],v=p[0],b=p[g-1],x=u?2:1;if(a&&l&&a.firstX&&a.lastX&&m>=a.firstX){const e=wd(a.lastX,0,g-1,(t=>f[t]));if(f[e]===a.lastX){const l=a.bufferSize-a.valueCount,h=e+1,c=g-h;if(0===c)return a;if(l>=c){const e=kd(f,h,void 0),l=kd(p,h,void 0);if(t.zV(a.bufferX,a.valueCount*x,d(e)),t.zV(a.bufferY,a.valueCount*x,d(l)),i&&a.bufferColors){const e=i.slice(h);t.zV(a.bufferColors,a.valueCount,e,Uint32Array)}if(s&&a.bufferLookupValues){const e=s.slice(h);t.zV(a.bufferLookupValues,a.valueCount,e,Float32Array)}if(n&&a.bufferSizes){const e=n.slice(h);t.zV(a.bufferSizes,a.valueCount,e,Float32Array)}if(r&&a.bufferRotations){const e=r.slice(h);t.zV(a.bufferRotations,a.valueCount,e,Float32Array)}if(o&&a.bufferLengthSoFar){const[i,s,n]=DA(e,l,a.lastX||0,a.lastY||0,a.lengthSoFarX,a.lengthSoFarY);t.zV(a.bufferLengthSoFar,2*a.valueCount,i,Float32Array),a.lengthSoFarX=s,a.lengthSoFarY=n}return a.valueCount+=c,a.lastX=y,a.lastY=b,a}}}const S=g+c,A=t.EV(S*x,d(f),null==a?void 0:a.bufferX),w=t.EV(S*x,d(p),null==a?void 0:a.bufferY),C=i?t.EV(S,i,null==a?void 0:a.bufferColors,Uint32Array):void 0,M=s?t.EV(S,s,null==a?void 0:a.bufferLookupValues,Float32Array):void 0,k=n?t.EV(S,n,null==a?void 0:a.bufferSizes,Float32Array):void 0,R=r?t.EV(S,r,null==a?void 0:a.bufferRotations,Float32Array):void 0;let E,T=0,I=0;if(o){const e=DA(f,p,f[0],p[0],0,0);E=t.EV(2*S,e[0],null==a?void 0:a.bufferLengthSoFar,Float32Array),T=e[1],I=e[2]}return{bufferX:A,bufferY:w,bufferColors:C,bufferLookupValues:M,bufferSizes:k,bufferRotations:R,bufferSize:S,bufferLengthSoFar:E,valueCount:g,firstX:m,lastX:y,firstY:v,lastY:b,lengthSoFarX:T,lengthSoFarY:I}},DA=(t,e,i,s,n,r)=>{const o=t.length,a=new Float32Array(2*o);if(0===o)return[a,0,0];let l=0,h=i,c=s,u=n,d=r;for(let f=0;f<o;f+=1){const i=t[f],s=e[f];u+=Math.abs(h-i),d+=Math.abs(c-s),a[l]=u,a[l+1]=d,l+=2,h=i,c=s}return[a,u,d]},LA=(t,e,i,s,n,r,o,a,l,h)=>{const c=t.gl;if(i){const i=e.attribute("".concat(n,"A_highpart").concat(r)),u=e.attribute("".concat(n,"A_lowpart").concat(r)),d=e.attribute("".concat(n,"B_highpart").concat(r)),f=e.attribute("".concat(n,"B_lowpart").concat(r));c.bindBuffer(c.ARRAY_BUFFER,s),c.vertexAttribPointer(i,o,l,a,2*o*h,0*h),c.vertexAttribPointer(u,o,l,a,2*o*h,o*h),t.UV(i,1),t.UV(u,1),c.enableVertexAttribArray(i),c.enableVertexAttribArray(u),c.vertexAttribPointer(d,o,l,a,2*o*h,2*o*h),c.vertexAttribPointer(f,o,l,a,2*o*h,3*o*h),t.UV(d,1),t.UV(f,1),c.enableVertexAttribArray(d),c.enableVertexAttribArray(f),c.bindBuffer(c.ARRAY_BUFFER,null)}else{const i=e.attribute("".concat(n,"A").concat(r)),u=e.attribute("".concat(n,"B").concat(r));c.bindBuffer(c.ARRAY_BUFFER,s),c.vertexAttribPointer(i,o,l,a,o*h,0*h),c.vertexAttribPointer(u,o,l,a,o*h,o*h),t.UV(i,1),t.UV(u,1),c.enableVertexAttribArray(i),c.enableVertexAttribArray(u),c.bindBuffer(c.ARRAY_BUFFER,null)}},zA={translation:(t,e)=>[1,0,0,0,1,0,t,e,1],rotation(t){const e=Math.cos(t),i=Math.sin(t);return[e,-i,0,i,e,0,0,0,1]},scaling:(t,e)=>[t,0,0,0,e,0,0,0,1],translate:(t,e,i)=>zA.multiply(t,zA.translation(e,i)),rotate:(t,e)=>zA.multiply(t,zA.rotation(e)),scale:(t,e,i)=>zA.multiply(t,zA.scaling(e,i)),multiply(t,e){const i=t[0],s=t[1],n=t[2],r=t[3],o=t[4],a=t[5],l=t[6],h=t[7],c=t[8],u=e[0],d=e[1],f=e[2],p=e[3],g=e[4],m=e[5],y=e[6],v=e[7],b=e[8];return[u*i+d*r+f*l,u*s+d*o+f*h,u*n+d*a+f*c,p*i+g*r+m*l,p*s+g*o+m*h,p*n+g*a+m*c,y*i+v*r+b*l,y*s+v*o+b*h,y*n+v*a+b*c]},projection:(t,e,i)=>[2/t,0,0,0,-2*i/e,0,-1,1*i,1]};class NA extends Su{constructor(t,e,i,s,n,r,o){super(t,e,i,s,n),this.nY=[],this.aE=new DS,this.oY=[Lr(0,0),Lr(0,0),Lr(0,0),Lr(0,0)],this.aY=Br(Lr(0,0),Lr(0,0)),this.lY=Br(Lr(0,0),Lr(0,0)),this.uY=Lr(0,0),this.cY=Lr(0,0),this.FT=Lr(0,0),this.dY=Lr(0,0),this.fY=0,this.AY=0,this.AN=mx({fillStyleSolid:()=>co(this.be)&&this.be,fillStyleRadialGradient:()=>wo(this.be)&&this.be,fillStyleLinearGradient:()=>ko(this.be)&&this.be}),this.rN=t,this.nN=e,this.gN=r,this.mN=o,this.RR=t.oN(),this.nN=e,this.IG=t.Un.jn}Ps(){const t=this.ea(),e=this.sa(),i=this.Bo.M();if(t){const t=this.ta(),s=this.AN.fillStyleSolid(t),n=this.AN.fillStyleRadialGradient(t),r=this.AN.fillStyleLinearGradient(t),o=s||n||r,a=this.RR,l=this.RR.$z(),h=l!==this.AY;if(this.AY=l,this.aE.mV(this.dt),this.ga.i||h){this.gY&&this.gY.ZR(this),this.font.S(Nc(this.ga.M(),l));const t=this.font.M();this.gY=this.RR.Vh(t.properties.family),this.gY.jR(this)}const c=this.font.i,u=c||this.la.i;if(u&&this.gY){const t=this.font.M();[this.mY,this.lY]=this.gY.JR(this.la.M(),t,this.rN.qi.isDark),this.nY.forEach((t=>{t.texCoordBuff&&a.yV(t.texCoordBuff),t.vertexBuff&&a.yV(t.vertexBuff)})),this.nY=this.mY.map((t=>({texCoordBuff:a.nV(t.texCoords,!1),texture:t.texture,info:t}))),this.ga.i=!1,this.font.i=!1,this.la.i=!1}const d=this.dt.Ni()||e,f=this.ua.i||this.da.i||this.ca.i||this.fa.i||this.ya.i||this.Xt.i||u||d,p=this.ya.M(),g=Ml(Lr(this.da.M()+1,this.ca.M()+1),.5);if(f&&this.mY&&(this.uY=Lr(-(p.left*l+this.lY.max.x-this.lY.min.x+p.right*l)*g.x-this.lY.min.x+p.right*l,-(p.bottom*l+this.lY.max.y-this.lY.min.y+p.top*l)*g.y-this.lY.min.y+p.top*l)),(f||d||this.Aa.i||this.ta())&&this.be!==ro){if(this.mY){const t=kl(this.ua.M(),this.fa.M()),e=Lo(t,this.dt,this.us.dt),i=Ml(e,l);this.dY=i;const s=Ll(this.Aa.M());this.fY=s,u&&this.nY.forEach((t=>{const e=t.info;e&&(t.vertexBuffLen=e.vertices.length/2,t.vertexBuff=a.nV(e.vertices,!0,t.vertexBuff))}));const n=this.Xt.M(),r=[kl(xl(Lr((this.lY.min.x+(-n.left-p.left)*l+this.uY.x)/l,(this.lY.max.y+(n.top+p.top)*l+this.uY.y)/l),this.ma,s),e),kl(xl(Lr((this.lY.max.x+(n.right+p.right)*l+this.uY.x)/l,(this.lY.max.y+(n.top+p.top)*l+this.uY.y)/l),this.ma,s),e),kl(xl(Lr((this.lY.max.x+(n.right+p.right)*l+this.uY.x)/l,(this.lY.min.y+(-n.bottom-p.bottom)*l+this.uY.y)/l),this.ma,s),e),kl(xl(Lr((this.lY.min.x+(-n.left-p.left)*l+this.uY.x)/l,(this.lY.min.y+(-n.bottom-p.bottom)*l+this.uY.y)/l),this.ma,s),e)];this.oY=[Lo(r[0],this.us.dt,this.dt),Lo(r[1],this.us.dt,this.dt),Lo(r[2],this.us.dt,this.dt),Lo(r[3],this.us.dt,this.dt)];const o=gl(r);this.cY=Lr(-(o.max.x-o.min.x)*l*g.x-o.min.x*l+this.dY.x,-(o.max.y-o.min.y)*l*g.y-o.min.y*l+this.dY.y),this.Fg=Rl(o.max,o.min);const h=gl(this.oY),c=this.dt.mi(h.min,this.cY),d=this.dt.mi(h.max,this.cY);this.aY=gl([c,d])}n?this.MN=AS(this.aY,this.dt,n.getPosition(),n.getExtent(),n.getShape(),this.RR.$z()):r?this._N=wS(this.aY,this.dt,r.getAngle(!0),this.RR.$z()):(this.MN=void 0,this._N=void 0)}(this.ta()||c)&&(this.cE=o?this.RR.oz(jx["2D"],jx.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.IG}),jx.Color({dataType:n?["gradient",n]:r?["gradient",r]:"uniform",maskTextureText:!0})):void 0),this.yY=i&&o?this.yY||this.RR.oz(jx["2D"],jx.MousePicking,jx.VertexLocation({axisWorldTranslation:"matrix",normalSource:void 0,snapToNearestPixel:this.IG})):void 0,this.ua.i=!1,this.da.i=!1,this.ca.i=!1,this.fa.i=!1,this.Aa.i=!1,this.ha(this.be)}return this.pa=t,this}zL(t){if(this.ea()){const e=1===t?this.yY:this.cE;if(!e||0===this.nY.length)return this;const i=this.AN.fillStyleSolid(!1),s=this.AN.fillStyleRadialGradient(!1),n=this.AN.fillStyleLinearGradient(!1),r=this.us.OE(),o=r.x,a=r.y;let l=zA.projection(o,a,-1);const h=zA.translation(this.uY.x,this.uY.y),c=zA.translation(this.cY.x,this.cY.y);l=zA.translate(l,this.dY.x,this.dY.y),l=zA.multiply(l,c),l=zA.rotate(l,this.fY),l=zA.multiply(l,h),1===t&&(l=zA.scale(l,this.lY.max.x,this.lY.max.y)),this.RR.jR(e).aV(e,((e,o,a,h)=>{if(this.RR.PV(e("uMatrix"),l).dV(e("uIsHighlighted"),1===t||2===t?0:this.zo).AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0),this.IG&&this.RR.uV(h("uViewportSizePx"),[r.x*this.RR.$z(),r.y*this.RR.$z()]),1===t)this.RR.AR(e("uColor"),this.mN);else if(i)this.RR.AR(e("uColor"),i.getColor());else if(s&&this.MN){this.RR.uV(e("uCenter"),this.MN.center).uV(e("uDistance"),this.MN.distance).FV(e("uBounds"),this.MN.bounds).dV(e("uAspect"),this.MN.aspectRatio);const t=s.getColorStops();for(let i=0;i<t.length;i+=1)this.RR.AR(e("color_".concat(i)),t[i].color).dV(e("stop_".concat(i)),t[i].offset)}else if(n&&this._N){this.RR.uV(e("uStartPoint"),this._N.startPoint).uV(e("uEndPoint"),this._N.endPoint).FV(e("uBounds"),this._N.bounds);const t=n.getColorStops();for(let i=0;i<t.length;i+=1)this.RR.AR(e("color_".concat(i)),t[i].color).dV(e("stop_".concat(i)),t[i].offset)}return 1===t&&this.RR.GV(o("aPos"),this.RR.uO).Ky(this.RR.gl.TRIANGLES,6),1!==t&&this.nY.forEach((t=>{this.RR.GV(o("aPos"),t.vertexBuff).GV(o("aMaskTextureCoord"),t.texCoordBuff).cV(e("uMaskTexture"),t.texture,0).Ky(this.RR.gl.TRIANGLES,t.vertexBuffLen)})),!0}))}return this}lN(t){return this.gN===t&&{}}We(){return this.ea()?this.oY:[]}jc(){return this.ea()&&this.Fg?this.Fg:Lr(0,0)}oi(){if(this.ea()&&this.aY){const t=this.aY;return Lr(t.max.x-t.min.x,t.max.y-t.min.y)}return Lr(0,0)}VR(){return this.nY.forEach((t=>{t.texCoordBuff&&this.RR.yV(t.texCoordBuff),t.vertexBuff&&this.RR.yV(t.vertexBuff)})),this.nY=[],this.gY&&this.gY.ZR(this),this}bt(){return this.aY.max.x}vt(){return this.aY.min.x}Mt(){return this.aY.max.y}xt(){return this.aY.min.y}vl(){return 0}bl(){return 0}}class _A{constructor(t,e,i){this.pY=new Set,this.SY=t=>(this.pY.add(t),t),this.vY=t=>(this.pY.delete(t),t.VR(),this),this.us=t,this.Zo=e,this.bY=i}EL(t){this.pY.delete(t)&&this.pY.add(t)}W(){for(const t of this.pY)t.VR().dispose();this.us.xn(this.Zo)}Ss(){return this.us.Ss(),this}bn(){return this.Zo}}class VA extends _A{constructor(){super(...arguments),this.xY=Ur(void 0),this.Qo=!1}qv(t){return this.xY.S(t),this}km(){return this.xY.M()}}class BA extends VA{constructor(t,e,i){super(t,e,i),this.rN=t,this.gl=t.oN(),this.MY=this.pY}rV(t){const e=t instanceof fu&&t;if(!e)return el;const i=e.vt(),s=e.bt(),n=e.xt(),r=e.Mt();if(i===$a||s===tl||n===$a||r===tl)return el;const o=e.vl(),a=e.bl(),l=pu({min:{x:i,y:n},max:{x:s,y:r}},{x:o,y:a},e.dt),h={min:Lo(l.min,e.dt,t.us.dt),max:Lo(l.max,e.dt,t.us.dt)},c=this.xY.M();let u;if(c){if(u={min:{x:Math.max(h.min.x,c.x),y:Math.max(h.min.y,c.y)},max:{x:Math.min(h.max.x,c.x+c.width),y:Math.min(h.max.y,c.y+c.height)}},u.max.x<u.min.x||u.max.y<u.min.y)return el}else u=h;return u}_Y(t){const e=Array.from(this.MY.values());for(let i=0;i<e.length;i+=1){const s=e[i],n=s.lN(t);if(n)return{entity:s,index:i,collectionMember:n.collectionMember}}}Ee(t){const e=this.rN.wY();return this.SY(new QS(this.rN,this,t,this.vY,[],e,this.rN.CY(e)))}Lg(t){return this.SY(new $S(this.rN,this,t,this.vY,[],(()=>{const t=this.rN.wY();return{id:t,color:this.rN.CY(t)}})))}rp(t,e,i){const s=this.rN.wY();return this.SY(new oA(this.rN,this,t,this.vY,i,s,this.rN.CY(s),e))}dd(t){const e=this.rN.wY();return this.SY(new PA(this.rN,this,t,this.vY,e,this.rN.CY(e)))}Pr(t){const e=this.rN.wY();return this.SY(new NA(this.rN,this,t,this.vY,[],e,this.rN.CY(e)))}bS(t){const e=this.rN.wY();return this.SY(new uA(this.rN,this,t,this.vY,[],e,this.rN.CY(e)))}ic(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Eu.Simple;const i=this.rN.wY();if(e===Eu.Simple)return this.SY(new pA(this.rN,this,t,this.vY,[],i,this.rN.CY(i)));throw new Error("GlEngine.addPolygon | No such polygon type!")}Ob(t){return this.SY(new dA(this.rN,this,t,this.vY,[],(()=>{const t=this.rN.wY();return{id:t,color:this.rN.CY(t)}})))}ke(t){const e=this.rN.wY();return this.SY(new fA(this.rN,this,t,this.vY,[],e,this.rN.CY(e)))}lw(t){const e=this.rN.wY();return this.SY(new XS(this.rN,this,t,this.vY,[],e,this.rN.CY(e)))}Jc(t){const e=this.rN.wY();return this.SY(new BS(this.rN,this,t,this.vY,[],e,this.rN.CY(e)))}V_(t,e,i){if("intensity"===i.heatmapDataType){const s=this.rN.wY();return this.SY(new CA(this.rN,this,t,this.vY,e,s,this.rN.CY(s),i))}throw new No("Unimplemented Heatmap Grid Static type")}P_(t,e,i){const s=this.rN.wY();return this.SY(new AA(this.rN,this,t,this.vY,e,i,s,this.rN.CY(s)))}Ex(t,e,i){const s=this.rN.wY();return this.SY(new kA(this.rN,this,t,this.vY,e,i,s,this.rN.CY(s)))}kY(t){return this.SY(new _S(this.rN,this,this.vY,[],t))}Ps(){if(this.Qo){this.Qo=!1;const t=Array.from(this.pY).sort(((t,e)=>t.Ko()-e.Ko()));this.pY.clear();for(const e of t)this.pY.add(e)}for(const t of this.pY)t.Ps();return this}zL(t,e){const i=this.xY.M();if(i&&this.gl.hV(i.x*this.gl.$z()*e,i.y*this.gl.$z()*e,i.width*this.gl.$z()*e,i.height*this.gl.$z()*e),1!==t)for(const s of this.pY)s.getVisible()&&s.zL(t);else for(const s of this.pY)s.getMouseInteractions()&&s.getVisible()&&s.zL(t);return this.gl.qz(!1),this}}class OA extends CS{constructor(t){super(t)}}class UA extends OA{constructor(t){super(t),this.TY="attribute";const{vertices:e,drawSize:i,drawMode:s}=HA(t.gl);this.wR=t.nV(e),this.cG=i,this.dG=s}Ky(t,e,i,s){return this.RR.lV(this.wR,0,{location:t.attribute("aInstanceGeo"),size:3},{location:i?t.attribute("aNormal"):void 0,size:3},{location:s?t.attribute("aTriangleBary"):void 0,size:3}).QV(this.dG,0,this.cG,e),this}kz(){this.RR.yV(this.wR)}}const HA=t=>{const e=new Float32Array(324);let i=0;return e[i+0]=-1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=1,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=0,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=-1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=0,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=1,e[i+3]=-1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=0,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=-1,e[i+3]=1,e[i+4]=0,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=1,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=0,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=0,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=1,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=1,e[i+3]=0,e[i+4]=0,e[i+5]=1,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=1,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=0,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=0,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=1,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=-1,e[i+1]=1,e[i+2]=-1,e[i+3]=0,e[i+4]=0,e[i+5]=-1,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=1,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=-1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=0,e[i+7]=1,e[i+8]=0,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=-1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=1,i+=9,e[i+0]=1,e[i+1]=-1,e[i+2]=1,e[i+3]=0,e[i+4]=-1,e[i+5]=0,e[i+6]=1,e[i+7]=0,e[i+8]=0,i+=9,{vertices:e,drawSize:i/9,drawMode:t.TRIANGLES}};class GA extends OA{constructor(t,e){super(t),this.TY="attribute",this.FY=e;const{vertices:i,indices:s}=WA();this.wR=t.nV(i),this.uG=t.OV(s),this.cG=s.length,this.dG=t.gl.TRIANGLES}Ky(t,e,i,s){return this.RR.lV(this.wR,0,{location:t.attribute("aEdge"),size:3},{location:i?t.attribute("aNormal"):void 0,size:3},{location:t.attribute("aInstanceGeo"),size:3}).XV(this.uG).dV(t.uniform("uEdgeRoundness"),this.FY/2).JV(this.dG,this.cG,0,e),this}kz(){this.RR.yV(this.wR),this.RR.yV(this.uG)}IY(t){return this.FY=t,this}PY(){return this.FY}}const WA=()=>{const t=[{normal:{x:0,y:1,z:0},perpendA:{x:0,y:0,z:1},perpendB:{x:-1,y:0,z:0}},{normal:{x:0,y:0,z:-1},perpendA:{x:0,y:1,z:0},perpendB:{x:-1,y:0,z:0}},{normal:{x:-1,y:0,z:0},perpendA:{x:0,y:1,z:0},perpendB:{x:0,y:0,z:1}},{normal:{x:1,y:0,z:0},perpendA:{x:0,y:1,z:0},perpendB:{x:0,y:0,z:-1}},{normal:{x:0,y:0,z:1},perpendA:{x:0,y:1,z:0},perpendB:{x:1,y:0,z:0}},{normal:{x:0,y:-1,z:0},perpendA:{x:0,y:0,z:-1},perpendB:{x:-1,y:0,z:0}}],e=[];let i=0;const s=[];let n=0;for(const u of t){const{normal:t,perpendA:r,perpendB:o}=u,a=Qa.multiply(r,-1),l=Qa.multiply(o,-1),h=i;e[i]={thicknessDirection:Qa.addVec(t,r,o),edge:Qa.addVec(a,l),normal:t},i+=1;const c=i;e[i]={thicknessDirection:Qa.addVec(t,a,o),edge:Qa.addVec(r,l),normal:t},i+=1;const d=i;e[i]={thicknessDirection:Qa.addVec(t,a,l),edge:Qa.addVec(r,o),normal:t},i+=1;const f=i;e[i]={thicknessDirection:Qa.addVec(t,r,l),edge:Qa.addVec(a,o),normal:t},i+=1,s[n+0]=d,s[n+1]=h,s[n+2]=f,s[n+3]=d,s[n+4]=c,s[n+5]=h,n+=6;const p=[{A:r,B:o},{A:a,B:o},{A:a,B:l},{A:r,B:l}];for(const s of p){s.thicknessDirection=Qa.addVec(t,s.A,s.B),s.stripVerticesA=[],s.stripVerticesB=[];const n=[{direction:s.A,other:s.B,vertices:s.stripVerticesA},{direction:s.B,other:s.A,vertices:s.stripVerticesB}];for(const r of n)for(let n=0;n<8;n+=1){const o=.5*n/7,a=Qa.normalize(Qa.lerp(t,r.direction,o)),l=Math.PI/2-Qa.angle(a,t),h=Qa.addVec(Qa.multiply(Qa.multiply(r.direction,-1),1-Math.cos(l)),Qa.multiply(Qa.multiply(t,-1),1-Math.sin(l)),Qa.multiply(r.other,-1)),c=i;e[i]={thicknessDirection:s.thicknessDirection,normal:a,edge:h};const u=e[i];i+=1,r.vertices.push({index:c,vertex:u})}}for(let e=0;e<p.length;e+=1){const t=p[e],i=p[e<p.length-1?e+1:0],r=e%2==0?t.stripVerticesB:t.stripVerticesA,o=e%2==0?i.stripVerticesB:i.stripVerticesA;for(let e=1;e<r.length;e+=1){const t=r[e-1],i=o[e-1],a=r[e],l=o[e];s[n+0]=t.index,s[n+1]=i.index,s[n+2]=l.index,s[n+3]=a.index,s[n+4]=t.index,s[n+5]=l.index,n+=6}}}const r=[{x:-1,y:1,z:-1,flipVertexOrder:!1},{x:-1,y:1,z:1,flipVertexOrder:!0},{x:1,y:1,z:1,flipVertexOrder:!1},{x:1,y:1,z:-1,flipVertexOrder:!0},{x:-1,y:-1,z:-1,flipVertexOrder:!0},{x:-1,y:-1,z:1,flipVertexOrder:!1},{x:1,y:-1,z:1,flipVertexOrder:!0},{x:1,y:-1,z:-1,flipVertexOrder:!1}],o=Math.PI/15,a=2*Math.PI/15;let l=i;for(const u of r){let t=0;e[i]={thicknessDirection:u,normal:{x:0,y:u.y,z:0},edge:{x:-u.x,y:0,z:-u.z}},i+=1,t+=1;for(let s=1;s<8.5;s+=1){const n=15===s?Math.PI:s*o,r=1*Math.cos(n)*u.y,l=Math.sin(n);for(let s=0;s<Math.ceil(3.75)+1;s+=1){const n=15===s?0:s*a,o=l*Math.cos(n)*1*u.x,h=l*Math.sin(n)*1*u.z,c={x:o,y:r,z:h},d=Qa.normalize({x:o,y:r,z:h});e[i]={thicknessDirection:u,normal:d,edge:{x:c.x-u.x,y:c.y-u.y,z:c.z-u.z}},i+=1,t+=1}}const n=[];for(let e=1;e<=Math.ceil(3.75);e+=1)n.push(l),15===e?n.push(l+1):n.push(l+e+1),n.push(l+e);const r=l+1,h=Math.ceil(3.75)+1;for(let e=0;e<6.5;e+=1)for(let t=0;t<Math.ceil(3.75);t+=1){let i=0;const s=r+(e+1)*h+t;let o=0;14===t?(i=r+e*h,o=r+(e+1)*h):(i=r+e*h+t+1,o=r+(e+1)*h+t+1),n.push(r+e*h+t),n.push(i),n.push(s),n.push(s),n.push(i),n.push(o)}s.push.apply(s,u.flipVertexOrder?n.reverse():n),l+=t}const h=new Float32Array(9*e.length);let c=0;for(const u of e)h[c+0]=u.edge.x,h[c+1]=u.edge.y,h[c+2]=u.edge.z,h[c+3]=u.normal.x,h[c+4]=u.normal.y,h[c+5]=u.normal.z,h[c+6]=u.thicknessDirection.x,h[c+7]=u.thicknessDirection.y,h[c+8]=u.thicknessDirection.z,c+=9;return{vertices:h,indices:new Uint16Array(s)}},jA=(t,e)=>{let i=t._V.Cz.get(e);return i||(i=void 0!==e&&e>0?new GA(t,Jo(e,0,1)):new UA(t),t._V.Cz.set(e,i),i)};class YA extends TS{rS(t){return this.Uz=this.qp.M(),this.qp.S(t),this}Cv(t){return this.DY=t,this}kv(){return this.DY}}class XA extends YA{constructor(t,e,i,s,n){super(t,e,i),this.BY=t,this.gN=s,this.mN=n,this.rN=t.rN,this.RR=this.rN.oN()}lN(t){return t===this.gN&&{}}}class qA extends XA{constructor(t,e,i,s,n){super(t,e,i,s,n),this.DY="cull-back",this.Ya=il,this.LY={},this.RY=[],this.AN=mx({fillStyleSolid:()=>co(this.be)&&this.be,fillStyleIndividual:()=>fo(this.be)&&this.be,fillStylePaletted:()=>po(this.be)&&this.be}),this.be=Wc.fillStyle,this.qp.S(rd)}Ps(t){const e=this.RY,i=this.be,s=i!==ro,n=this.EY,r=this.ta()||this.zY!==n,o=this.Wz(),a=this.Bo.M(),l=this.Bo.i;if(s){for(const i of e)i.id=void 0!==i.id?String(i.id):void 0,i.xSize=void 0!==i.xSize&&i.xSize<0?-i.xSize:i.xSize,i.ySize=void 0!==i.ySize&&i.ySize<0?-i.ySize:i.ySize,i.zSize=void 0!==i.zSize&&i.zSize<0?-i.zSize:i.zSize;const t=11,s=this.VY||0;let n=s;for(const i of e){const t=i.id;void 0!==t&&void 0!==this.LY[t]||(n+=1)}let h,c=!1,u=!1;if(c=n!==s,u=c,h=!u&&(e.length<100?"chunks":"all"),c){const e=n*t,i=new Float32Array(e);this.IW&&i.set(this.IW),this.IW=i,this.OY=e,this.NY=s*t}const d=fo(i)?i.getFallbackColor():void 0;for(const i of e){const e=i.id,s=void 0!==e&&this.LY[e],n=[i.xCenter,i.yCenter,i.zCenter,i.xSize,i.ySize,i.zSize,i.color?i.color.r:d?d.r:void 0,i.color?i.color.g:d?d.g:void 0,i.color?i.color.b:d?d.b:void 0,i.color?i.color.a:d?d.a:void 0,i.value];if(s){for(let e=0;e<t;e+=1)n[e]=void 0!==n[e]?n[e]:s.buffer[e];s.buffer.set(n)}else{const i=this.NY,s=new Float32Array(this.IW.buffer,i*Float32Array.BYTES_PER_ELEMENT,t);s.set(n),void 0!==e&&(this.LY[e]={location:i,buffer:s}),this.NY+=t}}if(u&&(this.lG=this.RR.nV(this.IW,!0)),"all"===h)this.RR.zV(this.lG,0,this.IW);else if("chunks"===h)for(const i of e){const t=i.id;if(void 0!==t){const e=this.LY[t];this.RR.zV(this.lG,e.location,e.buffer)}}if(r||o||l){const t=this.AN.fillStyleSolid(r),e=this.AN.fillStyleIndividual(r),i=this.AN.fillStylePaletted(r);t||e||i?(this.GY=jA(this.RR,this.WY()),this.cE=this.RR.oz(jx["3D"],jx.ColorShaded3D({dataType:e?"attribute":i?["lookup",i.getLookUpProperty(),i.lut]:"uniform",shadingStyle:this.qp.M().type}),jx.VertexLocation({offset:{sizeUnit:"axis",dataType:"attribute",halved:!0},axisWorldTranslation:gx(this.dt),normalSource:this.GY.TY}),void 0!==this.EY&&jx.RoundedEdges3D),this.yY=a?this.RR.oz(jx["3D"],jx.VertexLocation({offset:{sizeUnit:"axis",dataType:"attribute",halved:!0},axisWorldTranslation:gx(this.dt),normalSource:void 0}),jx.MousePicking,void 0!==this.EY&&jx.RoundedEdges3D):void 0):(this.GY=void 0,this.cE=void 0,this.yY=void 0)}if(e.length>0){const e=Br({x:$a,y:$a,z:$a},{x:tl,y:tl,z:tl});for(let i=0;i<this.NY;i+=t){const t=this.IW[i+0],s=this.IW[i+3]/2,n=t-s,r=t+s,o=this.IW[i+1],a=this.IW[i+4]/2,l=o-a,h=o+a,c=this.IW[i+2],u=this.IW[i+5]/2,d=c-u,f=c+u;e.min.x=e.min.x<n?e.min.x:n,e.min.y=e.min.y<l?e.min.y:l,e.min.z=e.min.z<d?e.min.z:d,e.max.x=e.max.x>r?e.max.x:r,e.max.y=e.max.y>h?e.max.y:h,e.max.z=e.max.z>f?e.max.z:f}this.Ya=e}this.VY=n,this.RY.length=0}return this.ha(i),this.zY=n,this.qp.i=!1,this.Bo.i=!1,this}zL(t){const e=1===t?this.yY:this.cE,i=this.GY,s=this.lG,n=this.be,r=this.VY,o=this.qp.M();return e&&s&&void 0!==r&&this.RR.aV(e,((a,l,h)=>{let c=!1;const u=l("aPos"),d=l("aOffsetAxis");this.RR.jR(e).IV(a("uScale"),this.BY.aE.fV()).IV(a("uDisp"),this.BY.aE.AV()).DV(a("uViewProjectionMatrix"),this.UY).dV(a("uIsHighlighted"),1===t||2===t?0:this.zo).AR(a("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(a("uRenderEffectMask"),2===t?1:0);const f={location:u,size:3},p={location:d,size:3},g={location:void 0,size:4};if(1!==t&&"phong"===o.type&&this.RR.IV(a("uCameraLoc"),this.YY).IV(a("uLightLoc"),this.HY).dV(a("uAmbientReflection"),o.ambientReflection).dV(a("uSpecularReflection"),o.specularReflection).dV(a("uDiffuseReflection"),o.diffuseReflection).dV(a("uShininess"),o.shininess).AR(a("uLightColor"),o.specularColor).AR(a("uAmbientColor"),o.ambientColor),1===t)this.RR.AR(a("uColor"),this.mN);else if(co(n))this.RR.AR(a("uColorDiffuse"),n.getColor());else if(fo(n)){const t=l("aColor");g.location=t}else if(po(n)){const t=yx(n,this,void 0);if(!t&&n.lut.percentageValues)return!1;this.RR.LO(h,n.lut,t)}return s&&(this.RR.lV(s,1,f,p,g,{location:void 0,size:1}),i.Ky(h,r,"phong"===o.type&&1!==t,!1),c=!0),c})),this}dispose(){return super.dispose(),this.lG&&(this.RR.yV(this.lG),this.lG=void 0),this.cE=void 0,this}VR(){return this.dispose(),this}gS(t){this.RY=Ma(this.RY,t,{canReturnB:!0})}Ce(t){return this.be=gu(this.be,t),this}Eh(){return this.be}fS(t){return this.EY=void 0!==t&&t>0?Jo(t,0,1):void 0,this}WY(){return this.EY}bt(){return this.Ya.max.x}vt(){return this.Ya.min.x}Mt(){return this.Ya.max.y}xt(){return this.Ya.min.y}aS(){return this.Ya.max.z}lS(){return this.Ya.min.z}vl(){return 0}bl(){return 0}uS(){return 0}ta(){return mu(this.ia,this.be)}ha(t){this.ia=t}}class JA extends CS{constructor(t,e){super(t),this.TY="custom",this.oG=e;const{vertices:i,drawSize:s}=this.aG();this.lG=t.nV(i),this.cG=s}jR(t){return this.RR.lV(this.lG,0,{location:t.attribute("aSegmentPosition"),size:1},{location:t.attribute("aPerpendHorizontal"),size:1},{location:t.attribute("aPerpendVertical"),size:1}),this}Ky(t){return this.RR.QV(this.RR.gl.TRIANGLE_STRIP,0,this.cG,t),this}aG(){const t=this.oG,e=new Float32Array(2*(t+1)*3);let i=0;for(let s=0;s<=t;s+=1){const n=2*Math.PI*s/t,r=Math.cos(n),o=Math.sin(n);for(const t of[0,1])e[i+0]=t,e[i+1]=r,e[i+2]=o,i+=3}return{vertices:e,drawSize:i/3}}kz(){this.RR.yV(this.lG)}}const KA=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=t._V._z.get(e);return i||(i=new JA(t,e),t._V._z.set(e,i),i)};class ZA extends XA{constructor(t,e,i,s,n){super(t,e,i,s,n),this.DY="cull-back",this.$Y=il,this.jY=[],this.ZY=!1,this.lu=Wc.lineStyle,this.qp.S(sd)}Ps(t){const e=this.ZY,i=this.lu,s=this.cu!==i,n=this.Wz(),r=e;if(e){const t=va(this.jY);this.QY=this.RR.nV(t,!1,this.QY)}if(r&&(this.$Y=ml(this.jY)),s||n){const t=8,e=vh(i)&&i.getFillStyle(),s=1===i.getThickness()?"primitive":"instanced";this.bG=void 0,co(e)&&("primitive"===s?this.bG={type:s,shader:this.RR.oz(jx["3D"],jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0}),jx.Color({dataType:"uniform"})),fillStyle:e}:"instanced"===s&&(this.bG={type:s,shader:this.RR.oz(jx["3D"],jx.ColorShaded3D({dataType:"uniform",shadingStyle:this.qp.M().type}),jx.LineInstanced3D({axisWorldTranslation:gx(this.dt)})),geometry:KA(this.RR,t),fillStyle:e}))}return this.ZY=!1,this.cu=i,this.qp.i=!1,this}zL(t){if(1===t)return this;const e=this.RR.gl,i=this.bG,s=this.QY,n=this.lu,r=this.qp.M();if(i&&s&&vh(n))switch(i.type){case"instanced":{const o=.5*this.ks.Op(n.thickness),a=i.fillStyle.getColor(),l=i.shader,h=i.geometry;this.RR.aV(l,((i,n,c)=>{this.RR.jR(l).IV(i("uScale"),this.BY.aE.fV()).IV(i("uDisp"),this.BY.aE.AV()).DV(i("uViewProjectionMatrix"),this.UY).AR(i("uColorDiffuse"),a).dV(i("uOffsetWU"),o).dV(i("uIsHighlighted"),this.zo).AR(i("uHighlightColorOffset"),2===t?$r:this.Go).dV(i("uRenderEffectMask"),2===t?1:0),"phong"===r.type&&this.RR.IV(i("uCameraLoc"),this.YY).IV(i("uLightLoc"),this.HY).dV(i("uAmbientReflection"),r.ambientReflection).dV(i("uSpecularReflection"),r.specularReflection).dV(i("uDiffuseReflection"),r.diffuseReflection).dV(i("uShininess"),r.shininess).AR(i("uLightColor"),r.specularColor).AR(i("uAmbientColor"),r.ambientColor),e.bindBuffer(e.ARRAY_BUFFER,s);const u=n("aLocationA"),d=n("aLocationB");return e.vertexAttribPointer(u,3,e.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.RR.UV(u,1),e.enableVertexAttribArray(u),e.vertexAttribPointer(d,3,e.FLOAT,!1,6*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),this.RR.UV(d,1),e.enableVertexAttribArray(d),h.jR(c).Ky(this.jY.length/2),!0}));break}case"primitive":{const r=vh(n)?n.getFillStyle():void 0,o=r&&co(r)?r.getColor():void 0;if(o){const n=i.shader;this.RR.aV(n,((i,r)=>(this.RR.jR(n).IV(i("uScale"),this.BY.aE.fV()).IV(i("uDisp"),this.BY.aE.AV()).DV(i("uViewProjectionMatrix"),this.UY).AR(i("uColor"),o).dV(i("uIsHighlighted"),this.zo).AR(i("uHighlightColorOffset"),2===t?$r:this.Go).dV(i("uRenderEffectMask"),2===t?1:0).lV(s,void 0,{location:r("aPos"),size:3}).Ky(e.LINES,this.jY.length),!0)))}break}}return this}nl(t){for(let e=0;e<t.length-1;e+=1){const i=t[e],s=t[e+1];this.jY.push(i),this.jY.push(s)}return this.ZY=!0,{cs(){return this},ys(){return this}}}Nt(){return this.jY.length=0,this.ZY=!0,this}Ap(){return[]}bd(t){}Re(t){return this.lu="function"==typeof t?t(this.lu):t,this}uu(){return this.lu}VR(){return this.QY&&(this.RR.yV(this.QY),this.QY=void 0),this}bt(){return this.$Y.max.x}vt(){return this.$Y.min.x}Mt(){return this.$Y.max.y}xt(){return this.$Y.min.y}aS(){return this.$Y.max.z}lS(){return this.$Y.min.z}vl(){const t=this.lu;return t===Eo?0:t.getThickness()}bl(){const t=this.lu;return t===Eo?0:t.getThickness()}uS(){const t=this.lu;return t===Eo?0:t.getThickness()}}class QA extends CS{constructor(t,e,i){super(t),this.TY="gpu-calculate",this.JY=e,this.KY=i;const{vertices:s,drawSize:n}=this.aG();this.lG=t.nV(s),this.cG=n}Ky(t,e,i,s){return this.RR.lV(this.lG,0,{location:t.attribute("aInstanceGeo"),size:3},{location:s?t.attribute("aTriangleBary"):void 0,size:3}).QV(this.RR.gl.TRIANGLES,0,this.cG,e),this}aG(){const t=this.KY,e=this.JY,i=new Float32Array(6*(6*e+6*(t-2)*e));let s=0;const n=2*Math.PI/e,r=Math.PI/t,o=(t,e,o,a,l)=>{const h=e*n,c=Math.PI/2-t*r,u=Math.cos(c),d=u*Math.cos(h),f=u*Math.sin(h),p=Math.sin(c);i[s]=d,i[s+1]=p,i[s+2]=f,i[s+3]=o,i[s+4]=a,i[s+5]=l,s+=6};for(let a=0;a<t;a+=1)for(let i=0;i<e;i+=1)a>0&&(o(a,i,1,0,0),o(a,i+1,1,1,0),o(a+1,i,0,0,1)),a<t-1&&(o(a,i+1,1,1,0),o(a+1,i+1,0,1,0),o(a+1,i,0,0,1));return s!==i.length&&za(0,(()=>{this.RR.cA.Hn&&s>i.length&&Ho.console.warn("LightningChart JS unexpected error scenario, sphere geometry buffer size mismatch.\nA point series 3D component might have missing points.\n\nThis warning can be omitted with LightningChartOptions.warnings")})),{vertices:i,drawSize:s/6}}kz(){this.RR.yV(this.lG)}}const $A=(t,e)=>{const i=Math.round(e);i<3&&za(0,Xo);const s=i;let n=t._V.wz.get(Array.from(t._V.wz.keys()).find((t=>t.sectors===i&&t.stacks===s)));return n||(n=new QA(t,i,s),t._V.wz.set({sectors:i,stacks:s},n),n)};class tw extends XA{constructor(t,e,i,s,n){super(t,e,i,s,n),this.DY="cull-back",this.QM=[],this.bG={},this.vW=new nA(this.QM,(t=>t.vertexBuffer&&this.RR.yV(t.vertexBuffer)),!0),this.yu=[],this.Ha=0,this.$a=[],this.Xa=0,this.Ya=il,this.ja=il,this.AN=mx({lineStyleSolid:()=>{const t=this.lu;return vh(t)&&t},lineFillSolid:()=>{const t=this.lu.getFillStyle();return co(t)&&t},lineFillPaletted:()=>{const t=this.lu.getFillStyle();return po(t)&&t},jointStyleTriangulatedPoints:()=>Ic(this.mS)&&this.mS,jointSizeTriangulated:()=>{const t=this.mS;return Ic(t)&&t.getSize()},jointFillSolid:()=>{const t=this.mS.getFillStyle();return co(t)&&t},jointFillPaletted:()=>{const t=this.mS.getFillStyle();return po(t)&&t},wireframeLineStyleSolid:()=>{const t=Ic(this.mS)&&this.mS.getWireframeStyle();return vh(t)&&t},wireframeFillSolid:()=>{const t=Ic(this.mS)&&this.mS.getWireframeStyle(),e=t&&t.getFillStyle();return co(e)&&e}}),this.Qa=!1,this.lu=Wc.lineStyle,this.mS=Wc.pointStyle3D,this.qp.S(rd),this.wW={attributesPerVertex:3,prepareRenderData:(t,e)=>va(t)}}Ps(t){const e=this.Qa,i=this.$a,s=this.Xa,n=s>0,r=this.lu,o=r!==this.cu,a=this.mS,l=a!==this.qY,h=this.Wz(),c=this.Bo.i,u=this.Bo.M();this.ja&&(this.Ya=vl(this.Ya,this.ja),this.ja=void 0),n&&(this.yu=Ma(this.yu,i,{canReturnB:!0}),this.Ha+=s);let d=i,f=s;if(e&&(this.QM.forEach((t=>{t.existingCoordinatesCount=0,t.existingDataPointsCount=0,t.boundaries=il})),this.vW.cW(),d=this.yu,f=this.Ha),f>0){const t=1e5,e=Math.floor(this.rN.tH/(this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT)),i=this.Uo("ApplicationType",(t=>"UserSeries"===t.type))?f:1e3,s=Jo(i,t,e);this.vW.oW(d,s,((t,e,i,s)=>({existingDataPointsCount:i-s,existingCoordinatesCount:i,allocatedCoordinatesCount:t,jointPointsCount:s,lastDataPoint:e[i-1],boundaries:il,vertexBuffer:this.RR.EV(t*this.wW.attributesPerVertex,this.wW.prepareRenderData(e,i))})),((t,e,i,s)=>{this.RR.zV(t.vertexBuffer,t.existingCoordinatesCount*this.wW.attributesPerVertex,this.wW.prepareRenderData(e,i)),t.existingDataPointsCount+=i-s,t.existingCoordinatesCount+=i,t.jointPointsCount+=s,t.lastDataPoint=e[i-1]}))}if(o||l||h||c){const t={},e=this.AN.lineStyleSolid(o),i=this.AN.lineFillSolid(o),s=this.AN.lineFillPaletted(o),n=i||s,a=this.AN.jointStyleTriangulatedPoints(l),h=this.AN.jointSizeTriangulated(l),c=this.AN.jointFillSolid(l),d=this.AN.jointFillPaletted(l),f=c||d,p=this.AN.wireframeLineStyleSolid(l),g=this.AN.wireframeFillSolid(l),m=r.getThickness()<0||1===r.getThickness()&&this.Uo("ApplicationType",(t=>"InternalUI"===t.type))?"primitive":"instanced",y=s?["lookup",s.getLookUpProperty(),s.lut]:"uniform";if("primitive"===m&&n?t.lines={type:"primitive",fillStyleSolid:i,fillStylePaletted:s,shader:this.RR.oz(jx["3D"],jx.Color({dataType:y}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})),mousePicking:u?{shader:this.RR.oz(jx["3D"],jx.MousePicking,jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0}))}:void 0}:"instanced"===m&&e&&n&&(t.lines={type:"instanced",lineStyleSolid:e,fillStyleSolid:i,fillStylePaletted:s,shader:this.RR.oz(jx["3D"],jx.ColorShaded3D({dataType:y,shadingStyle:this.qp.M().type}),jx.LineInstanced3D({axisWorldTranslation:gx(this.dt)})),geometry:ew(this.RR,e.getThickness()),mousePicking:u?{shader:this.RR.oz(jx["3D"],jx.MousePicking,jx.LineInstanced3D({axisWorldTranslation:gx(this.dt)}))}:void 0}),t.markers=void 0,f&&a){const e=wa(a.getShape(),{cube:()=>jA(this.RR),sphere:()=>iw(this.RR,a)});t.markers={geometry:e,pointStyle:a,pointSizeNWU:"number"==typeof h&&h,pointSizeAxis:"object"==typeof h&&h,fillStyleSolid:c,fillStylePaletted:d,shader:this.RR.oz(jx["3D"],jx.ColorShaded3D({dataType:d?["lookup",d.getLookUpProperty(),d.lut]:"uniform",shadingStyle:this.qp.M().type,wireframe:!1!==g}),jx.VertexLocation({offset:{dataType:"uniform",sizeUnit:"number"==typeof h?"nwu":"axis",symmetric:"number"==typeof h,halved:!0},axisWorldTranslation:gx(this.dt),normalSource:e.TY})),mousePicking:u?{shader:this.RR.oz(jx["3D"],jx.MousePicking,jx.VertexLocation({offset:{dataType:"uniform",sizeUnit:"number"==typeof h?"nwu":"axis",symmetric:"number"==typeof h,halved:!0},axisWorldTranslation:gx(this.dt),normalSource:void 0}))}:void 0,wireframe:p&&g&&{thickness:p.getThickness(),fillStyleSolid:g}}}this.bG=t}return this.Qa=!1,this.$a=[],this.Xa=0,this.cu=r,this.qY=a,this.qp.i=!1,this.Bo.i=!1,this}zL(t){var e,i;const s=this.RR.gl,{lines:n,markers:r}=this.bG,o=this.qp.M(),a=1===t?null===(e=null==n?void 0:n.mousePicking)||void 0===e?void 0:e.shader:null==n?void 0:n.shader;if(n&&a&&"instanced"===n.type){const e=a,{geometry:i,lineStyleSolid:r,fillStyleSolid:l,fillStylePaletted:h}=n;this.RR.aV(e,((n,a,c)=>{let u=!1;if(this.RR.jR(e).IV(n("uScale"),this.BY.aE.fV()).IV(n("uDisp"),this.BY.aE.AV()).DV(n("uViewProjectionMatrix"),this.UY).dV(n("uOffsetWU"),this.ks.Op(r.getThickness())).dV(n("uIsHighlighted"),1===t||2===t?0:this.zo).AR(n("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(n("uRenderEffectMask"),2===t?1:0),1!==t&&"phong"===o.type&&this.RR.IV(n("uCameraLoc"),this.YY).IV(n("uLightLoc"),this.HY).dV(n("uAmbientReflection"),o.ambientReflection).dV(n("uSpecularReflection"),o.specularReflection).dV(n("uDiffuseReflection"),o.diffuseReflection).dV(n("uShininess"),o.shininess).AR(n("uLightColor"),o.specularColor).AR(n("uAmbientColor"),o.ambientColor),1===t)this.RR.AR(n("uColor"),this.mN);else if(l)this.RR.AR(n("uColorDiffuse"),l.getColor());else if(h){const t=yx(h,this,void 0);if(!t&&h.lut.percentageValues)return!1;this.RR.LO(c,h.lut,t)}return this.QM.forEach((t=>{s.bindBuffer(s.ARRAY_BUFFER,t.vertexBuffer);const e=a("aLocationA"),n=a("aLocationB");s.vertexAttribPointer(e,3,s.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.RR.UV(e,1),s.enableVertexAttribArray(e),s.vertexAttribPointer(n,3,s.FLOAT,!1,3*Float32Array.BYTES_PER_ELEMENT,3*Float32Array.BYTES_PER_ELEMENT),this.RR.UV(n,1),s.enableVertexAttribArray(n),i.jR(c).Ky(t.existingCoordinatesCount-1),u=!0})),u}))}if(n&&a&&"primitive"===n.type){const e=a,{fillStyleSolid:i,fillStylePaletted:r}=n;this.RR.aV(e,((n,o,a)=>{let l=!1;if(this.RR.jR(e).IV(n("uScale"),this.BY.aE.fV()).IV(n("uDisp"),this.BY.aE.AV()).DV(n("uViewProjectionMatrix"),this.UY).dV(n("uIsHighlighted"),1===t||2===t?0:this.zo).AR(n("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(n("uRenderEffectMask"),2===t?1:0),1===t)this.RR.AR(n("uColor"),this.mN);else if(i)this.RR.AR(n("uColor"),i.getColor());else if(r){const t=yx(r,this,void 0);if(!t&&r.lut.percentageValues)return!1;this.RR.LO(a,r.lut,t)}return this.QM.forEach((t=>{this.RR.lV(t.vertexBuffer,void 0,{location:o("aPos"),size:3}).Ky(s.LINE_STRIP,t.existingCoordinatesCount),l=!0})),l}))}const l=1===t?null===(i=null==r?void 0:r.mousePicking)||void 0===i?void 0:i.shader:null==r?void 0:r.shader;if(r&&l){const e=l,{geometry:i,fillStyleSolid:s,fillStylePaletted:n,pointSizeAxis:a,pointSizeNWU:h,wireframe:c}=r;this.RR.aV(e,((r,l,u,d)=>{let f=!1;if(this.RR.jR(e).IV(r("uScale"),this.BY.aE.fV()).IV(r("uDisp"),this.BY.aE.AV()).DV(r("uViewProjectionMatrix"),this.UY).dV(d("uRatioNwuWu"),this.BY.iH()).dV(r("uIsHighlighted"),1===t||2===t?0:this.zo).AR(r("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(r("uRenderEffectMask"),2===t?1:0),1!==t&&"phong"===o.type&&this.RR.IV(r("uCameraLoc"),this.YY).IV(r("uLightLoc"),this.HY).dV(r("uAmbientReflection"),o.ambientReflection).dV(r("uSpecularReflection"),o.specularReflection).dV(r("uDiffuseReflection"),o.diffuseReflection).dV(r("uShininess"),o.shininess).AR(r("uLightColor"),o.specularColor).AR(r("uAmbientColor"),o.ambientColor),1===t)this.RR.AR(r("uColor"),this.mN);else if(s)this.RR.AR(r("uColorDiffuse"),s.getColor());else if(n){const t=yx(n,this,void 0);if(!t&&n.lut.percentageValues)return!1;this.RR.LO(u,n.lut,t)}return c&&1!==t&&this.RR.dV(r("uWireframeThickness"),c.thickness).AR(r("uWireframeColor"),c.fillStyleSolid.getColor()),!1!==a&&this.RR.IV(r("uOffsetAxis"),[a.x,a.y,a.z]),!1!==h&&this.RR.dV(r("uOffsetNWU"),h),this.QM.forEach((e=>{this.RR.lV(e.vertexBuffer,1,{location:l("aPos"),size:3}),i.Ky(u,e.existingCoordinatesCount,"phong"===o.type&&1!==t,Boolean(c)&&1!==t),f=!0})),f}))}return this}nl(t,e){Array.isArray(t)||(t=[t]),this.$a=Ma(this.$a,t,{canReturnB:!0}),this.Xa+=t.length;const i=e||ml(t);return this.ja=this.ja?vl(this.ja,i):i,this}Re(t){return this.lu="function"==typeof t?t(this.lu):t,this}uu(){return this.lu}Rp(t){return this.mS="function"==typeof t?t(this.mS):t,this}sH(){return this.mS}bt(){return this.ja?Math.max(this.ja.max.x,this.Ya.max.x):this.Ya.max.x}vt(){return this.ja?Math.min(this.ja.min.x,this.Ya.min.x):this.Ya.min.x}Mt(){return this.ja?Math.max(this.ja.max.y,this.Ya.max.y):this.Ya.max.y}xt(){return this.ja?Math.min(this.ja.min.y,this.Ya.min.y):this.Ya.min.y}aS(){return this.ja?Math.max(this.ja.max.z,this.Ya.max.z):this.Ya.max.z}lS(){return this.ja?Math.min(this.ja.min.z,this.Ya.min.z):this.Ya.min.z}vl(){return ja(this.lu)}bl(){return ja(this.lu)}uS(){return ja(this.lu)}tl(){return this.yu}qa(){return this.$a}ol(){return this.Ha}al(){return this.Xa}Nt(){return this.Qa=!0,this.yu.length=0,this.Ha=0,this.$a=[],this.Xa=0,this.Ya=il,this.ja=void 0,this}dispose(){return super.dispose(),this.vW.dW(),this.bG={},this}VR(){return this.dispose(),this}}const ew=(t,e)=>KA(t,e>50?20:e>20?16:e>10?12:e>5?8:6),iw=(t,e)=>{const i=e.getSize();return $A(t,"number"==typeof i?i>50?20:i>20?16:i>10?12:i>5?8:6:20)};class sw extends XA{constructor(t,e,i,s,n){super(t,e,i,s,n),this.DY="disabled",this.eH=!1,this.hH=!1,this.rH={x:1,y:1,z:1},this.Dv={x:0,y:0,z:0},this.Pv={x:0,y:0,z:0},this.Bv={x:0,y:0,z:0},this.Lv={x:1,y:1,z:1},this.nH=Mg.projectionOrthographic(-1,1,-1,1,1,-1),this.oH=Mg.projectionOrthographic(-1,1,-1,1,1,-1),this.aH=!1,this.AN=mx({fillStyleSolid:()=>co(this.be)&&this.be,fillStyleValuePalette:()=>po(this.be)&&"value"===this.be.lookUpProperty&&this.be}),this.be=Wc.fillStyle,this.qp.S(rd)}Ps(t){var e;const i=this.Wz(),s=this.Bo.M(),n=this.Bo.i,r=this.ta();this.AN.fillStyleSolid(r);const o=this.AN.fillStyleValuePalette(r),a=this.Bv,l=this.Lv;if(this.eH&&this.lH&&(this.lG=this.RR.nV(this.lH.vertices,void 0,this.lG),this.uG=this.RR.OV(this.lH.indices,this.uG),this.uH=this.lH.indices.length),"phong"===this.qp.M().type&&(i||this.eH)&&(null===(e=this.lH)||void 0===e?void 0:e.normals)&&(this.cH=this.RR.nV(this.lH.normals,void 0,this.cH)),!this.dH&&o&&"value"===o.lookUpProperty&&this.lH&&(this.dH=new Float32Array(this.lH.vertices.length/3),this.hH=!0),this.dH&&this.hH&&(this.fH=this.RR.nV(this.dH,void 0,this.fH)),i||r||n){if(o&&"value"!==o.lookUpProperty)throw new Error("LightningChart JS MeshModel3D does not support look up by x/y/z. Must be value");this.cE=this.RR.oz(jx["3D"],jx.ColorShaded3D({dataType:o?["lookup","value",o.lut]:"uniform",shadingStyle:this.qp.M().type,wireframe:!1}),jx.Model3D({normalSource:"phong"===this.qp.M().type?"attribute":void 0})),this.yY=s?this.RR.oz(jx["3D"],jx.MousePicking,jx.Model3D({normalSource:void 0})):void 0}if(this.aH){const t=Mg.projectionOrthographic(-1,1,-1,1,1,-1);this.oH=Mg.rotateXYZ(t,a),this.nH=Mg.translate(t,l.x/2,l.y/2,l.z/2),this.nH=Mg.rotateXYZ(this.nH,a),this.nH=Mg.translate(this.nH,-l.x/2,-l.y/2,-l.z/2),this.aH=!1}return this.qp.i=!1,this.ha(this.be),this.Bo.i=!1,this.eH=!1,this.hH=!1,this}zL(t){const e=1===t?this.yY:this.cE,i=1===t,s=this.uG,n=this.uH,r=this.lG,o=this.cH,a=this.fH,l=this.Dv,h=this.Pv,c=this.rH,u=this.Lv,d=this.nH,f=this.oH,p=this.AN.fillStyleValuePalette(!1),g=this.AN.fillStyleSolid(!1),m=this.qp.M(),y={location:void 0,size:1};return e&&r&&s&&n?(this.RR.aV(e,((v,b,x,S)=>{if(this.RR.jR(e).IV(v("uScale"),this.BY.aE.fV()).IV(v("uDisp"),this.BY.aE.AV()).DV(v("uViewProjectionMatrix"),this.UY).dV(v("uIsHighlighted"),1===t||2===t?0:this.zo).AR(v("uHighlightColorOffset"),this.Go).dV(v("uRenderEffectMask"),2===t?1:0),i)this.RR.AR(v("uColor"),this.mN);else{if(this.be===ro)return!1;if(g)this.RR.AR(v("uColorDiffuse"),g.getColor());else if(p){if(!a)return!1;const t=p.getPalette();y.location=b("aLookupValue"),this.RR.LO(x,t,void 0).lV(a,void 0,y)}}return"phong"!==m.type||i||(this.RR.IV(v("uCameraLoc"),this.YY).IV(v("uLightLoc"),this.HY).dV(v("uAmbientReflection"),m.ambientReflection).dV(v("uSpecularReflection"),m.specularReflection).dV(v("uDiffuseReflection"),m.diffuseReflection).dV(v("uShininess"),m.shininess).AR(v("uLightColor"),m.specularColor).AR(v("uAmbientColor"),m.ambientColor).DV(v("uModelRotationNormals"),f),o&&this.RR.lV(o,void 0,{location:x.attribute("aNormal"),size:3})),this.RR.DV(v("uModelRotation"),d).IV(v("uModelScale"),[c.x,c.y,c.z]).IV(v("uLocationAxis"),[l.x,l.y,l.z]).IV(v("uModelAlignment"),[h.x,h.y,h.z]).IV(v("uModelSize"),[u.x,u.y,u.z]),this.RR.lV(r,0,{location:x.attribute("aGeoPos"),size:3}).XV(s).ZV(n,this.RR.gl.TRIANGLES),!0})),this):this}dispose(){return super.dispose(),this.lG&&(this.RR.yV(this.lG),this.lG=void 0),this.uG&&(this.RR.yV(this.uG),this.uG=void 0),this.cH&&(this.RR.yV(this.cH),this.cH=void 0),this.fH&&(this.RR.yV(this.fH),this.fH=void 0),this.cE=void 0,this.yY=void 0,this.lH=void 0,this.dH=void 0,this}VR(){return this.dispose(),this}Ev(t){return this.lH=t,this.eH=!0,this.Lv=t.modelSize,this}Vv(t){return this.dH=t,this.hH=!0,this}Ce(t){return this.be=gu(this.be,t),this}Eh(){return this.be}Ov(t){return this.rH=t,this}fV(){return this.rH}Nv(t){return this.Dv=t,this}Gv(t){return this.Pv=t,this}Wv(t){return this.Bv=t,this.aH=!0,this}Uv(t){return this.DY=t,this}Yv(){return this.DY}bt(){return tl}vt(){return $a}Mt(){return tl}xt(){return $a}aS(){return tl}lS(){return $a}vl(){return 0}bl(){return 0}uS(){return 0}ta(){return mu(this.ia,this.be)}ha(t){this.ia=t}}class nw extends XA{constructor(t,e,i,s,n,r){super(t,e,i,s,n),this.DY="cull-back",this.QM=[],this.vW=new nA(this.QM,(t=>t.vertexBuffer&&this.RR.yV(t.vertexBuffer)),!1),this.yu=[],this.Ha=0,this.$a=[],this.Xa=0,this.Ya=il,this.ja=il,this.Qa=!1,this.AN=mx({fillStyleSolid:()=>{const t=this.SS.getFillStyle();return co(t)&&t},fillStyleIndividual:()=>{const t=this.SS.getFillStyle();return fo(t)&&t},fillStylePalette:()=>{const t=this.SS.getFillStyle();return po(t)&&t},triangulatedPointStyle:()=>{const t=this.SS;return Ic(t)&&t},wireframeLineStyleSolid:()=>{const t=Ic(this.SS)&&this.SS,e=t&&t.getWireframeStyle();return vh(e)&&e},wireframeFillStyleSolid:()=>{const t=Ic(this.SS)&&this.SS,e=t&&t.getWireframeStyle(),i=e&&e.getFillStyle();return co(i)&&i}}),this.Ja=void 0,this.Un=r,this.SS=Wc.pointStyle3D,this.qp.S(rd);const o=!0===(null==r?void 0:r.individualPointColorEnabled),a=!0===(null==r?void 0:r.individualPointSizeEnabled),l=!0===(null==r?void 0:r.individualLookupValuesEnabled),h=!0===(null==r?void 0:r.individualPointSizeAxisEnabled);let c,u,d,f,p=0;p+=3,o&&(c=p,p+=4),a&&(u=p,p+=1),l&&(d=p,p+=1),h&&(f=p,p+=3);const g=((t,e,i,s)=>t||e||i||s?!t||e||i||s?t||!e||i||s?t||e||!i||s?t||e||i||!s?(n,r,o)=>{const a=3+(t?4:0)+(e?1:0)+(i?1:0)+(s?3:0),l=n.length,h=new Float32Array(l*a);let c=0,u=c;for(let t=0;t<l;t+=1){const e=n[t];h[u+0]=e.x,h[u+1]=e.y,h[u+2]=e.z,u+=a}if(c+=3,t){const t=o&&fo(o)&&o.getFallbackColor()||Qr;u=c;for(let e=0;e<l;e+=1){const i=n[e].color||t;h[u+0]=i.r,h[u+1]=i.g,h[u+2]=i.b,h[u+3]=i.a,u+=a}c+=4}if(e){const t=r&&r.getSize();let e=1;"number"==typeof t&&(e=t),u=c;for(let i=0;i<l;i+=1){const t=n[i],s=void 0!==t.size?t.size:e;h[u+0]=s,u+=a}c+=1}if(i){u=c;for(let t=0;t<l;t+=1){const e=n[t];h[u+0]=void 0!==e.value?e.value:-34028234663852886e22,u+=a}c+=1}if(s){const t=r&&r.getSize();let e={x:1,y:1,z:1};"object"==typeof t&&(e=t),u=c;for(let i=0;i<l;i+=1){const t=n[i],s=void 0!==t.sizeAxisX?t.sizeAxisX:e.x,r=void 0!==t.sizeAxisY?t.sizeAxisY:e.y,o=void 0!==t.sizeAxisZ?t.sizeAxisZ:e.z;h[u+0]=s,h[u+1]=r,h[u+2]=o,u+=a}c+=3}return h}:(t,e,i)=>((t,e)=>{const i=e&&e.getSize();let s={x:1,y:1,z:1};"object"==typeof i&&(s=i);const n=t.length,r=new Float32Array(6*n);let o=0;for(let a=0;a<n;a+=1){const e=t[a];r[o+0]=e.x,r[o+1]=e.y,r[o+2]=e.z;const i=void 0!==e.sizeAxisX?e.sizeAxisX:s.x,n=void 0!==e.sizeAxisY?e.sizeAxisY:s.y,l=void 0!==e.sizeAxisZ?e.sizeAxisZ:s.z;r[o+3]=i,r[o+4]=n,r[o+5]=l,o+=6}return r})(t,e):(t,e,i)=>(t=>{const e=t.length,i=new Float32Array(4*e);for(let s=0,n=0;s<e;s+=1){const e=t[s];i[n+0]=e.x,i[n+1]=e.y,i[n+2]=e.z,i[n+3]=void 0!==e.value?e.value:-34028234663852886e22,n+=4}return i})(t):(t,e,i)=>((t,e)=>{const i=e&&e.getSize();let s=1;"number"==typeof i&&(s=i);const n=t.length,r=new Float32Array(4*n);for(let o=0,a=0;o<n;o+=1){const e=t[o];r[a+0]=e.x,r[a+1]=e.y,r[a+2]=e.z;const i=void 0!==e.size?e.size:s;r[a+3]=i,a+=4}return r})(t,e):(t,e,i)=>((t,e)=>{const i=e&&fo(e)&&e.getFallbackColor()||Qr,s=t.length,n=new Float32Array(7*s);for(let r=0,o=0;r<s;r+=1){const e=t[r];n[o+0]=e.x,n[o+1]=e.y,n[o+2]=e.z;const s=e.color||i;n[o+3]=s.r,n[o+4]=s.g,n[o+5]=s.b,n[o+6]=s.a,o+=7}return n})(t,i):(t,e,i)=>va(t))(o,a,l,h);this.wW={individualPointColorEnabled:o,individualPointSizeEnabled:a,individualLookupValuesEnabled:l,individualPointSizeAxisEnabled:h,attributesPerVertex:p,attributeOffsetCoordinate:0,attributeOffsetColor:c,attributeOffsetSize:u,attributeOffsetLookUpValue:d,attributeOffsetPointSize3D:f,prepareRenderData:(t,e)=>g(t,this.SS,this.SS.fillStyle)}}Ps(t){const e=this.Qa,i=this.$a,s=this.Xa,n=s>0,r=this.SS,o=this.SS!==this.AH,a=this.Bo.M(),l=this.Bo.i,h=this.Wz();this.ja&&(this.Ya=vl(this.Ya,this.ja),this.ja=void 0),n&&(this.yu=Ma(this.yu,i,{canReturnB:!0}),this.Ha+=s);let c=i,u=s;if(e&&(this.QM.forEach((t=>{t.existingDataPointsCount=0,t.existingCoordinatesCount=0,t.boundaries=il})),this.vW.cW(),c=this.yu,u=this.Ha),u>0){const t=Math.floor(this.rN.tH/(this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT)),e=Jo(u,1e5,t);this.vW.oW(c,e,((t,e,i)=>({existingDataPointsCount:i,existingCoordinatesCount:i,allocatedCoordinatesCount:t,boundaries:il,vertexBuffer:this.RR.EV(t*this.wW.attributesPerVertex,this.wW.prepareRenderData(e,i))})),((t,e,i)=>{this.RR.zV(t.vertexBuffer,t.existingCoordinatesCount*this.wW.attributesPerVertex,this.wW.prepareRenderData(e,i)),t.existingDataPointsCount+=i,t.existingCoordinatesCount=t.existingDataPointsCount}))}const d=r.getFillStyle(),f=this.AN.fillStyleSolid(o),p=this.AN.fillStyleIndividual(o),g=this.AN.fillStylePalette(o),m=d===ro&&ro;if(o||h||l){let t;const e=r.getSize(),i=this.wW.individualPointColorEnabled,s=this.wW.individualPointSizeEnabled,n=this.wW.individualPointSizeAxisEnabled,l=this.wW.individualLookupValuesEnabled;if(p&&!i){const t="LCJS misusage error: Series individualPointColorEnabled flag must be set if using IndividualPointFill !";throw Ho.alert(t),new Error(t)}if(g&&"value"===g.getLookUpProperty()&&!l){const t='LCJS misusage error: Series individualLookupValuesEnabled flag must be set if using PalettedFill with lookUpProperty="value" !';throw Ho.alert(t),new Error(t)}const h=this.AN.wireframeLineStyleSolid(o),c=this.AN.wireframeFillStyleSolid(o);if(f||p||g||c){const i=p?"attribute":g?["lookup",g.getLookUpProperty(),g.lut]:"uniform",o=s&&"number"==typeof e,l=n&&"object"==typeof e,u=o||l?"attribute":"uniform";if(Ic(r)){const n=wa(r.getShape(),{cube:()=>jA(this.RR),sphere:()=>rw(this.RR,r,s)});t={type:"instanced",shader:this.RR.oz(jx["3D"],jx.ColorShaded3D({dataType:i,shadingStyle:this.qp.M().type,wireframe:!1!==c}),jx.VertexLocation({offset:{dataType:u,sizeUnit:"number"==typeof e?"nwu":"axis",halved:!0,symmetric:"number"==typeof e},axisWorldTranslation:gx(this.dt),normalSource:n.TY})),pointStyle:r,useIndividualPointSize:o,useIndividualPointSize3D:l,pointSizeNWU:"number"==typeof e&&e,pointSizeAxis:"object"==typeof e&&e,fillStyleSolid:f,fillStyleIndividual:p,fillStylePaletted:g,fillStyleEmpty:m,mousePickingShader:a&&this.RR.oz(jx["3D"],jx.MousePicking,jx.VertexLocation({offset:{dataType:u,sizeUnit:"number"==typeof e?"nwu":"axis",halved:!0,symmetric:"number"==typeof e},axisWorldTranslation:gx(this.dt),normalSource:void 0})),geometry:n,wireframe:h&&c&&{thickness:h.getThickness()<0?1:h.getThickness(),fillStyleSolid:c}}}else Fc(r)&&"number"==typeof e&&(t={type:"primitive",shader:this.RR.oz(jx["3D"],jx.PointSize(u),jx.Color({dataType:i}),jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0})),pointStyle:r,pointSizePixels:e,useIndividualPointSize:o,fillStyleSolid:f,fillStyleIndividual:p,fillStylePaletted:g,mousePickingShader:a&&this.RR.oz(jx["3D"],jx.PointSize(u),jx.MousePicking,jx.VertexLocation({axisWorldTranslation:gx(this.dt),normalSource:void 0}))})}this.bG=t}if(void 0===this.Ja&&g&&"value"===g.lookUpProperty&&g.lut.percentageValues){let t=tl,e=$a;for(let i=0;i<this.yu.length;i+=1){const s=this.yu[i];void 0!==s.value&&s.value<e&&(e=s.value),void 0!==s.value&&s.value>t&&(t=s.value)}this.Ja={min:e,max:t}}return this.Qa=!1,this.$a=[],this.Xa=0,this.AH=r,this.qp.i=!1,this}zL(t){const e=this.RR.gl,i=this.bG;if(!i)return this;const s=1===t?i.mousePickingShader:i.shader;if(!s)return this;const n=this.qp.M(),{fillStyleSolid:r,fillStylePaletted:o,useIndividualPointSize:a}=i,l="instanced"===i.type&&i.useIndividualPointSize3D,h="instanced"===i.type&&i.wireframe;return this.RR.aV(s,((c,u,d,f)=>{let p=!1;if(this.RR.jR(s).IV(c("uScale"),this.BY.aE.fV()).IV(c("uDisp"),this.BY.aE.AV()).DV(c("uViewProjectionMatrix"),this.UY).dV(c("uIsHighlighted"),1===t||2===t?0:this.zo).AR(c("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(c("uRenderEffectMask"),2===t?1:0),"instanced"===i.type){const{pointSizeAxis:t,pointSizeNWU:e}=i;!1!==t&&!1===l&&this.RR.IV(c("uOffsetAxis"),[t.x,t.y,t.z]),!1!==e&&!1===a&&this.RR.dV(c("uOffsetNWU"),e).dV(f("uRatioNwuWu"),this.BY.iH())}else if("primitive"===i.type){const{pointSizePixels:t}=i;a||this.RR.dV(c("uPointSize"),t).dV(c("uDevicePixelRatio"),this.RR.$z())}if(1===t)this.RR.AR(c("uColor"),this.mN);else if("instanced"===i.type?("phong"===n.type&&this.RR.IV(c("uCameraLoc"),this.YY).IV(c("uLightLoc"),this.HY).dV(c("uAmbientReflection"),n.ambientReflection).dV(c("uSpecularReflection"),n.specularReflection).dV(c("uDiffuseReflection"),n.diffuseReflection).dV(c("uShininess"),n.shininess).AR(c("uLightColor"),n.specularColor).AR(c("uAmbientColor"),n.ambientColor),h&&this.RR.dV(c("uWireframeThickness"),h.thickness).AR(c("uWireframeColor"),h.fillStyleSolid.getColor()),r&&this.RR.AR(c("uColorDiffuse"),r.getColor()),i.fillStyleEmpty&&this.RR.AR(c("uColorDiffuse"),$r)):"primitive"===i.type&&r&&this.RR.AR(c("uColor"),r.getColor()),o){const t=yx(o,this,this.Ja);if(!t&&o.lut.percentageValues)return!1;this.RR.LO(d,o.lut,t)}return this.QM.forEach(((s,r)=>{e.bindBuffer(e.ARRAY_BUFFER,s.vertexBuffer);const o=u("aPos");if(e.vertexAttribPointer(o,3,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetCoordinate*Float32Array.BYTES_PER_ELEMENT),"instanced"===i.type&&this.RR.UV(o,1),e.enableVertexAttribArray(o),i.fillStyleIndividual&&void 0!==this.wW.attributeOffsetColor&&1!==t){const t=u("aColor");e.vertexAttribPointer(t,4,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetColor*Float32Array.BYTES_PER_ELEMENT),"instanced"===i.type&&this.RR.UV(t,1),e.enableVertexAttribArray(t)}if(a&&void 0!==this.wW.attributeOffsetSize){"instanced"===i.type?this.RR.dV(f("uRatioNwuWu"),this.BY.iH()):"primitive"===i.type&&this.RR.dV(c("uDevicePixelRatio"),this.RR.$z());const t=u("instanced"===i.type?"aOffsetNWU":"aPointSize");e.vertexAttribPointer(t,1,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetSize*Float32Array.BYTES_PER_ELEMENT),"instanced"===i.type&&this.RR.UV(t,1),e.enableVertexAttribArray(t)}if(l&&void 0!==this.wW.attributeOffsetPointSize3D&&"instanced"===i.type){const t=u("aOffsetAxis");e.vertexAttribPointer(t,3,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetPointSize3D*Float32Array.BYTES_PER_ELEMENT),"instanced"===i.type&&this.RR.UV(t,1),e.enableVertexAttribArray(t)}if(i.fillStylePaletted&&"value"===i.fillStylePaletted.getLookUpProperty()&&void 0!==this.wW.attributeOffsetLookUpValue&&1!==t){const t=u("aLookupValue");e.vertexAttribPointer(t,1,e.FLOAT,!1,this.wW.attributesPerVertex*Float32Array.BYTES_PER_ELEMENT,this.wW.attributeOffsetLookUpValue*Float32Array.BYTES_PER_ELEMENT),"instanced"===i.type&&this.RR.UV(t,1),e.enableVertexAttribArray(t)}"instanced"===i.type?(i.geometry.Ky(d,s.existingCoordinatesCount,"phong"===n.type&&1!==t,Boolean(h)&&1!==t),p=!0):"primitive"===i.type&&(this.RR.Ky(e.POINTS,s.existingCoordinatesCount),p=!0)})),p})),this}nl(t,e){Array.isArray(t)||(t=[t]),this.$a=Ma(this.$a,t,{canReturnB:!0}),this.Xa+=t.length;const i=e||ml(t);return this.ja=this.ja?vl(this.ja,i):i,this.Ja=void 0,this}vS(t){return this.SS="function"==typeof t?t(this.SS):t,this}gH(){return this.SS}bt(){return this.ja?Math.max(this.ja.max.x,this.Ya.max.x):this.Ya.max.x}vt(){return this.ja?Math.min(this.ja.min.x,this.Ya.min.x):this.Ya.min.x}Mt(){return this.ja?Math.max(this.ja.max.y,this.Ya.max.y):this.Ya.max.y}xt(){return this.ja?Math.min(this.ja.min.y,this.Ya.min.y):this.Ya.min.y}aS(){return this.ja?Math.max(this.ja.max.z,this.Ya.max.z):this.Ya.max.z}lS(){return this.ja?Math.min(this.ja.min.z,this.Ya.min.z):this.Ya.min.z}vl(){const t=this.SS,e=t.getSize();return"number"==typeof e?Ic(t)?e/2:Fc(t)?5:0:0}bl(){return this.vl()}uS(){return this.vl()}tl(){return this.yu}qa(){return this.$a}ol(){return this.Ha}al(){return this.Xa}Nt(){return this.Qa=!0,this.yu.length=0,this.Ha=0,this.$a=[],this.Xa=0,this.Ya=il,this.ja=void 0,this.Ja=void 0,this}dispose(){return super.dispose(),this.vW.dW(),this.bG=void 0,this}VR(){return this.dispose(),this}}const rw=(t,e,i)=>{const s=e.getSize();return $A(t,"number"==typeof s?i||s>=50?20:s>=10?10:s>=3?5:3:32)};class ow extends XA{constructor(t,e,i,s,n,r){super(t,e,i,n,r),this.DY="disabled",this.be=Wc.fillStyle,this.gv=Wc.lineStyle,this.uU=Ur("bilinear"),this.mH=[],this.yH=void 0,this.bG={},this.pH=!1,this.AN=mx({fillStyleSolid:()=>co(this.be)&&this.be,fillStylePaletted:()=>po(this.be)&&this.be,wireframeStyleLine:()=>vh(this.gv)&&this.gv,wireframeStyleFill:()=>{const t=this.gv&&this.gv.getFillStyle();return co(t)&&t}}),this.Pi={x:0,z:0},this.$w={x:1,z:1},this.qp.S(sd);const o="columns"===s.dataOrder?s.columns:s.rows,a="columns"===s.dataOrder?s.rows:s.columns;this.Un={...s,primaryDimensionVectorsCount:o,secondaryDimensionVectorsCount:a},this.SH=new Array(this.Un.primaryDimensionVectorsCount).fill(void 0),this.I_=new AA(this.rN,t.rN.CU,t.us.dt,Xo,[],this.Un,-1,Qr).mv(Eo),this.I_.fU=mA;const l=this.I_.gU.gridTiles.map((t=>{const e=t.sizeHeatmapDataVectors,i=t.sizeUniqueHeatmapDataVectors,s=t.iFirstVector,n=t.iFirstUniqueVector,r=new Float32Array(t.sizeHeatmapDataVectors.primary*t.sizeHeatmapDataVectors.secondary),o={primary:t.sizeHeatmapDataVectors.primary-1,secondary:t.sizeHeatmapDataVectors.secondary-1};return{iFirstVector:t.iFirstVector,iFirstUniqueVector:t.iFirstUniqueVector,sizeHeatmapDataVectors:t.sizeHeatmapDataVectors,sizeUniqueHeatmapDataVectors:t.sizeUniqueHeatmapDataVectors,iFirstGeometryVector:s,iFirstGeometryUniqueVector:n,sizeGeometryDataVectors:e,sizeUniqueGeometryDataVectors:i,heightmapData:r,normalmapSize:o}})),h=this.I_.gU.gridTileSizes.map((t=>{const e=l.filter((e=>e.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&e.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary)),i=e[0].sizeGeometryDataVectors;return{...t,tiles:e,sizeGeometryData:i}})),c=l.reduce(((t,e)=>{const i=e.sizeHeatmapDataVectors.primary,s=e.sizeHeatmapDataVectors.secondary,n=i*s;return n>t.cells?{primary:i,secondary:s,cells:n}:t}),{primary:0,secondary:0,cells:0});this.vH={gridTiles:l,gridTileSizes:h,largestGridTileSize:c},this.Sv(this.Pi,this.$w)}bH(t){this.xH=t,this.yH=void 0}Sv(t,e){this.Pi=t,this.$w=e;const i=this.Un,s={min:{x:Math.min(this.Pi.x,this.Pi.x+(i.columns-1)*this.$w.x),z:Math.min(this.Pi.z,this.Pi.z+(i.rows-1)*this.$w.z)},max:{x:Math.max(this.Pi.x,this.Pi.x+(i.columns-1)*this.$w.x),z:Math.max(this.Pi.z,this.Pi.z+(i.rows-1)*this.$w.z)}},n=new Map;return this.vH.gridTiles.forEach((t=>{const e="columns"===this.Un.dataOrder?{x:this.$w.x*(t.sizeHeatmapDataVectors.primary-1),z:this.$w.z*(t.sizeHeatmapDataVectors.secondary-1)}:{x:this.$w.x*(t.sizeHeatmapDataVectors.secondary-1),z:this.$w.z*(t.sizeHeatmapDataVectors.primary-1)},i="columns"===this.Un.dataOrder?{x:this.Pi.x+this.$w.x*t.iFirstVector.primary,z:this.Pi.z+this.$w.z*t.iFirstVector.secondary}:{x:this.Pi.x+this.$w.x*t.iFirstVector.secondary,z:this.Pi.z+this.$w.z*t.iFirstVector.primary};n.set(t,{sizeAxis:e,startLocationAxis:i})})),this.bU={MH:s,tilesInfo:n},this}vv(){return{start:this.Pi,step:this.$w,end:{x:this.Pi.x+this.$w.x*this.Un.columns,z:this.Pi.z+this.$w.z*this.Un.rows}}}Ps(t){const e=this.mH,i=mu(this.ia,this.be),s=this.AN.fillStyleSolid(i),n=this.AN.fillStylePaletted(i),r=this.gv,o=this.gv!==this.mU,a=this.AN.wireframeStyleLine(o),l=this.AN.wireframeStyleFill(o),h=!1!==l,c=this.uU.i,u=this.uU.M(),d=this.qp.M(),f=this.Wz(),p=this.Bo.M();this.I_.Ps();const g=this.I_.yU;if(!g)return this;this._H=this._H||this.wH(g);const m=this._H;this.CH(m);const y=yA(e,m,void 0,(t=>t.sizeGeometryDataVectors));if(y.size>0&&(xA(this.RR,y,(t=>t.heightmapData),(t=>t.heightmapDataTexture)),this.pH=!0),"phong"===d.type&&(y.size>0||f)){const t=this.RR.gl,e=this.RR.oz(jx["2D"],jx.DrawToNormalTexture({flipXZ:"rows"===this.Un.dataOrder,vertexIdSource:this.RR._O(),normalTextureType:this.RR.gl2?"uint":"ubyte",heightmapTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN}));m.gridTileSizes.forEach((i=>{i.tiles.forEach((s=>{var n;const r=s.normalmapTexture,o=null===(n=this.bU)||void 0===n?void 0:n.tilesInfo.get(s.tileData);if(!r||!o)return;const a={x:s.normalmapSize.secondary,y:s.normalmapSize.primary},l=a.x*a.y;this.RR.oO.zL((()=>{this.RR.aV(e,((n,r,a,h)=>(this.RR.jR(e).wO(a,l).uV(n("uTileDimensionsXZ"),["columns"===this.Un.dataOrder?i.sizeHeatmapData.primary:i.sizeHeatmapData.secondary,"columns"===this.Un.dataOrder?i.sizeHeatmapData.secondary:i.sizeHeatmapData.primary]).TV(n("uTileDimensions"),[i.sizeHeatmapData.primary,i.sizeHeatmapData.secondary]).uV(n("uTileStartLocationAxisXZ"),[o.startLocationAxis.x,o.startLocationAxis.z]).uV(n("uTileSizeAxisXZ"),[o.sizeAxis.x,o.sizeAxis.z]).cV(n("uHeightmapTexture"),s.heightmapDataTexture,1).Ky(t.POINTS,l),!0)))}),r,a,void 0,this.us.mn(),0)}))}))}const v=this.bG;if(i||o||c){const t=a&&l?{wireframeSolid:a,wireframeFillSolid:l}:void 0;s?v.surface={shader:this.RR.oz(jx["3D"],jx.SurfaceGrid({axisWorldTranslation:gx(this.dt),fillColor:"uniform",interpolation:"bilinear"===u&&"bilinear",flipXZ:"rows"===this.Un.dataOrder,shadingStyle:d.type,wireframe:h,instanceIdSource:this.RR.CO(),normalTextureType:this.RR.gl2?"uint":"ubyte",intensityTextureType:this.RR.sz?"float":"ubyte",heightmapTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"solid",fillStyleSolid:s},wireframe:t}:n&&"value"===n.getLookUpProperty()?v.surface={shader:this.RR.oz(jx["3D"],jx.SurfaceGrid({axisWorldTranslation:gx(this.dt),fillColor:["lookup","value",n.lut],interpolation:"bilinear"===u&&"bilinear",flipXZ:"rows"===this.Un.dataOrder,shadingStyle:d.type,wireframe:h,instanceIdSource:this.RR.CO(),normalTextureType:this.RR.gl2?"uint":"ubyte",intensityTextureType:this.RR.sz?"float":"ubyte",heightmapTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"intensity",fillStylePaletted:n},wireframe:t}:n?v.surface={shader:this.RR.oz(jx["3D"],jx.SurfaceGrid({axisWorldTranslation:gx(this.dt),fillColor:["lookup",n.getLookUpProperty(),n.lut],interpolation:"bilinear"===u&&"bilinear",flipXZ:"rows"===this.Un.dataOrder,shadingStyle:d.type,wireframe:h,instanceIdSource:this.RR.CO(),normalTextureType:this.RR.gl2?"uint":"ubyte",intensityTextureType:this.RR.sz?"float":"ubyte",heightmapTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN})),fill:{fillMode:"xyz",fillStylePaletted:n},wireframe:t}:h&&(v.surface={shader:this.RR.oz(jx["3D"],jx.SurfaceGrid({axisWorldTranslation:gx(this.dt),fillColor:void 0,interpolation:"bilinear"===u&&"bilinear",flipXZ:"rows"===this.Un.dataOrder,shadingStyle:d.type,wireframe:h,instanceIdSource:this.RR.CO(),normalTextureType:this.RR.gl2?"uint":"ubyte",intensityTextureType:this.RR.sz?"float":"ubyte",heightmapTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN})),fill:void 0,wireframe:t})}return v.mousePicking=p?this.bG.mousePicking||{shader:this.RR.oz(jx["3D"],jx.SurfaceGrid({axisWorldTranslation:gx(this.dt),fillColor:"uniform",interpolation:"bilinear"===u&&"bilinear",flipXZ:"rows"===this.Un.dataOrder,shadingStyle:"simple",wireframe:!1,instanceIdSource:this.RR.CO(),normalTextureType:this.RR.gl2?"uint":"ubyte",intensityTextureType:this.RR.sz?"float":"ubyte",heightmapTextureType:this.RR.sz?"float":"ubyte",littleEndian:this.RR.IS_MACHINE_LITTLE_ENDIAN}))}:void 0,this.bG=v,this.mH.length=0,this.ia=this.be,this.mU=r,this.qp.i=!1,this}wH(t){const e=this.vH.gridTiles.map((e=>{const i=bA(this.RR,e.sizeHeatmapDataVectors.secondary,e.sizeHeatmapDataVectors.primary),s=t.gridTiles.find((t=>t.iFirstUniqueVector.primary===e.iFirstUniqueVector.primary&&t.iFirstUniqueVector.secondary===e.iFirstUniqueVector.secondary));if(!s)throw new Error("Internal LC JS error prepare surface data 2D render data not found");return{...e,intensityDataTexture:s.intensityDataTexture,heightmapDataTexture:i,normalmap:void 0,tileData:e}})),i=this.vH.gridTileSizes.map((t=>{const i=e.filter((e=>e.sizeHeatmapDataVectors.primary===t.sizeHeatmapData.primary&&e.sizeHeatmapDataVectors.secondary===t.sizeHeatmapData.secondary));return{...t,tiles:i}})),s=this.RR.nV([0,0,1,0,0,1,0,1,1,0,0,1,0,0,1,0,1,0,1,0,1,0,1,0,1,1,1,1,0,0]),n=this.RR.gl.TRIANGLES;return{gridTiles:e,gridTileSizes:i,rectangleLocationsBuffer:s,rectangleLocationsDrawLength:6,rectangleLocationsDrawMode:n}}CH(t){var e;if("phong"===this.qp.M().type)for(let i=0;i<t.gridTiles.length;i+=1){const s=t.gridTiles[i];if(s.normalmapTexture)return;let n;const r=null===(e=this.RR.gl2)||void 0===e?void 0:e.ctx;if(r)n=this.RR.fO(null,r.RGBA_INTEGER,!1,!0,{x:s.normalmapSize.secondary,y:s.normalmapSize.primary},!1,r.UNSIGNED_INT,r.RGBA32UI);else{const t=this.RR.gl;n=this.RR.fO(null,t.RGBA,!1,!0,{x:s.normalmapSize.secondary,y:s.normalmapSize.primary},!1,t.UNSIGNED_BYTE)}s.normalmapTexture=n}else t.gridTiles.forEach((t=>{t.normalmapTexture&&(this.RR.OR(t.normalmapTexture),t.normalmapTexture=void 0)}))}zL(t){var e,i,s,n;const r=this.RR.gl,o=this._H;if(!o)return this;const a=this.qp.M(),l=this.bG,h=1===t?null===(e=l.mousePicking)||void 0===e?void 0:e.shader:null===(i=l.surface)||void 0===i?void 0:i.shader;if(!h)return this;const c=1!==t?null===(s=l.surface)||void 0===s?void 0:s.wireframe:void 0,u=1!==t?null===(n=l.surface)||void 0===n?void 0:n.fill:void 0;return this.RR.aV(h,((e,i,s,n)=>{let l=!1;if(this.RR.jR(h).kO(s,this.vH.largestGridTileSize.cells).IV(e("uScale"),this.BY.aE.fV()).IV(e("uDisp"),this.BY.aE.AV()).DV(e("uViewProjectionMatrix"),this.UY).dV(e("uIsHighlighted"),1===t||2===t?0:this.zo).AR(e("uHighlightColorOffset"),1===t||2===t?$r:this.Go).dV(e("uRenderEffectMask"),2===t?1:0),1!==t&&("phong"===a.type&&this.RR.IV(e("uCameraLoc"),this.YY).IV(e("uLightLoc"),this.HY).dV(e("uAmbientReflection"),a.ambientReflection).dV(e("uSpecularReflection"),a.specularReflection).dV(e("uDiffuseReflection"),a.diffuseReflection).dV(e("uShininess"),a.shininess).AR(e("uLightColor"),a.specularColor).AR(e("uAmbientColor"),a.ambientColor),c)){const{wireframeFillSolid:t,wireframeSolid:i}=c,s=i.getThickness()<0?1:i.getThickness();this.RR.AR(e("uWireframeColor"),t.getColor()).dV(e("uWireframeThickness"),s)}return 1===t?this.RR.AR(e("uColorDiffuse"),this.mN):"solid"===(null==u?void 0:u.fillMode)&&this.RR.AR(e("uColorDiffuse"),u.fillStyleSolid.getColor()),o.gridTileSizes.forEach((n=>{this.RR.uV(e("uTileDimensionsXZ"),["columns"===this.Un.dataOrder?n.sizeHeatmapData.primary:n.sizeHeatmapData.secondary,"columns"===this.Un.dataOrder?n.sizeHeatmapData.secondary:n.sizeHeatmapData.primary]).TV(e("uTileDimensions"),[n.sizeHeatmapData.primary,n.sizeHeatmapData.secondary]),n.tiles.forEach((a=>{var h;const d=null===(h=this.bU)||void 0===h?void 0:h.tilesInfo.get(a.tileData);if(!d)return;let f=0,p=(a.sizeHeatmapDataVectors.primary-1)*(a.sizeHeatmapDataVectors.secondary-1);if(this.xH){const t=this.xH.fill.iFirstPrimary,e=this.xH.fill.iFirstPrimary+this.xH.fill.amountPrimary-1,i=a.iFirstVector.primary,s=a.iFirstVector.primary+a.sizeHeatmapDataVectors.primary-1;if(i>e||s<t)return;const r=((t,e,i,s)=>Br(Math.max(t,i),Math.min(e,s)))(t,e,i,s);f=(r.min-a.iFirstVector.primary)*(n.sizeGeometryData.secondary-1),p=(r.max-r.min)*(n.sizeGeometryData.secondary-1)}if(!(f<0||p<=0)){if("intensity"===(null==u?void 0:u.fillMode)){const{fillStylePaletted:t}=u,i=this.I_.Ja;this.RR.LO(s,t.lut,i).cV(e("uTileIntensityValues"),a.intensityDataTexture,2).FV(e("uTileBoundsAxisXZ"),[d.startLocationAxis.x,d.startLocationAxis.z,d.sizeAxis.x,d.sizeAxis.z])}if("xyz"===(null==u?void 0:u.fillMode)){const{fillStylePaletted:t}=u,e="x"===t.getLookUpProperty()?{min:this.vt(),max:this.bt()}:"y"===t.getLookUpProperty()?{min:this.xt(),max:this.Mt()}:"z"===t.getLookUpProperty()?{min:this.lS(),max:this.aS()}:void 0;if(!e&&t.lut.percentageValues)return;this.RR.LO(s,t.lut,e)}1!==t&&"phong"===this.qp.M().type&&a.normalmapTexture&&this.RR.cV(e("uNormalmapTexture"),a.normalmapTexture,3),this.RR.lV(o.rectangleLocationsBuffer,0,{location:i("aGeoCellOffset"),size:2},{location:c?i("aTriangleBary"):void 0,size:3}).BV(e("uBaseInstance"),f).uV(e("uTileStartLocationAxisXZ"),[d.startLocationAxis.x,d.startLocationAxis.z]).uV(e("uTileSizeAxisXZ"),[d.sizeAxis.x,d.sizeAxis.z]).cV(e("uHeightmapTexture"),a.heightmapDataTexture,0).QV(o.rectangleLocationsDrawMode,0,o.rectangleLocationsDrawLength,p),l=!0,r.bindBuffer(r.ARRAY_BUFFER,null)}}))})),l})),this}dispose(){return super.dispose(),this.I_.dispose(),this._H&&(this._H.gridTileSizes.forEach((t=>{})),this._H.gridTiles.forEach((t=>{this.RR.OR(t.heightmapDataTexture),t.normalmapTexture&&this.RR.OR(t.normalmapTexture)})),this.RR.yV(this._H.rectangleLocationsBuffer),this._H=void 0),this.bG={},this}VR(){return this.dispose(),this.I_.VR(),this}_v(t){return this.I_._v(t),this}wv(t){this.mH.push(t),vA(this.vH.gridTiles,t,(t=>t.heightmapData));for(let e=t.startPrimary;e<t.startPrimary+t.lengthPrimary;e+=1)this.SH[e]=void 0;return this.yH=void 0,this}xv(t){return this.uU.S(t),this}Mv(){return this.uU.M()}Ce(t){return this.be=gu(this.be,t),this.I_.Ce(this.be),this}Eh(){return this.be}mv(t){return this.gv="function"==typeof t?t(this.gv):t,this}bv(){return this.gv}bt(){var t;return(null===(t=this.bU)||void 0===t?void 0:t.MH.max.x)||0}vt(){var t;return(null===(t=this.bU)||void 0===t?void 0:t.MH.min.x)||0}Mt(){const t=this.yH||this.kH();return this.yH=t,t.max}xt(){const t=this.yH||this.kH();return this.yH=t,t.min}aS(){var t;return(null===(t=this.bU)||void 0===t?void 0:t.MH.max.z)||0}lS(){var t;return(null===(t=this.bU)||void 0===t?void 0:t.MH.min.z)||0}vl(){return 0}bl(){return 0}uS(){return 0}kH(){if(this.yH)return this.yH;const t=this.xH?this.xH.fill.iFirstPrimary:0,e=this.xH?t+this.xH.fill.amountPrimary-1:this.Un.primaryDimensionVectorsCount-1;let i=$a,s=tl;return this.vH.gridTiles.forEach((n=>{for(let r=Math.max(t,n.iFirstUniqueVector.primary);r<=Math.min(e,n.iFirstUniqueVector.primary+n.sizeUniqueHeatmapDataVectors.primary-1);r+=1){const t=(r-n.iFirstUniqueVector.primary)*n.sizeHeatmapDataVectors.secondary;let e=this.SH[r];if(e)i=i<e.min?i:e.min,s=s>e.max?s:e.max;else{e={min:$a,max:tl},this.SH[r]=e;for(let r=0;r<n.sizeHeatmapDataVectors.secondary;r+=1){const o=n.heightmapData[t+r];i=i<o?i:o,s=s>o?s:o,e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}}}})),this.yH={min:i,max:s},this.yH}}class aw extends XA{constructor(t,e,i,s,n,r){super(t,e,i,n,r),this.DY="disabled",this.MU=0,this.wU={},this.Pi={x:0,z:0},this.$w={x:1,z:1},this.Un={...s,scrollDimensionSize:"columns"===s.scrollDimension?s.columns:s.rows,staticDimensionSize:"columns"===s.scrollDimension?s.rows:s.columns},this.MH={min:{x:this.Pi.x,z:this.Pi.z},max:{x:"rows"===s.scrollDimension?this.Pi.x+(s.columns-1)*this.$w.x:this.Pi.x,z:"columns"===s.scrollDimension?this.Pi.z+(s.rows-1)*this.$w.z:this.Pi.z}};const o=()=>({shape:new ow(this.BY,Xo,this.Oo,{columns:s.columns+("columns"===s.scrollDimension?1:0),rows:s.rows+("rows"===s.scrollDimension?1:0),dataOrder:s.scrollDimension,heatmapDataType:"intensity"},this.gN,this.mN).setVisible(!1),hasData:!1});this.QM=[o(),o()]}Ps(t){this.QM.forEach((e=>{e.shape.Ps(t)}));const e=this.QM.reduce(((t,e)=>{var i,s;return t.min=Math.min(t.min,Zo(null===(i=e.shape.I_.Ja)||void 0===i?void 0:i.min,$a)),t.max=Math.max(t.max,Zo(null===(s=e.shape.I_.Ja)||void 0===s?void 0:s.max,tl)),t}),{min:$a,max:tl}),i=this.QM.reduce(((t,e)=>{var i,s;return t.min=Math.min(t.min,Zo(null===(i=e.shape.yH)||void 0===i?void 0:i.min,$a)),t.max=Math.max(t.max,Zo(null===(s=e.shape.yH)||void 0===s?void 0:s.max,tl)),t}),{min:$a,max:tl});return this.QM.forEach((t=>{t.shape.I_.Ja=e,t.shape.yH=i})),this}zL(t){return this.QM.forEach((e=>{e.hasData&&(e.shape.UY=this.UY,e.shape.YY=this.YY,e.shape.HY=this.HY,e.shape.zL(t))})),this}Sv(t,e){return this.Pi=t,this.$w=e,this.QM.forEach((t=>{t.shape.Sv("columns"===this.Un.scrollDimension?{x:t.shape.vv().start.x,z:this.Pi.z}:{x:this.Pi.x,z:t.shape.vv().start.z},this.$w)})),"columns"===this.Un.scrollDimension?(this.MH.min.z=t.z,this.MH.max.z=this.Pi.z+(this.Un.rows-1)*this.$w.z):(this.MH.min.x=t.x,this.MH.max.x=this.Pi.x+(this.Un.columns-1)*this.$w.x),this}vv(){return{start:this.Pi,step:this.$w}}Nt(){return this.MU=0,this.wU={},this.MH={min:{x:this.Pi.x,z:this.Pi.z},max:{x:"rows"===this.Un.scrollDimension?this.Pi.x+(this.Un.columns-1)*this.$w.x:this.Pi.x,z:"columns"===this.Un.scrollDimension?this.Pi.z+(this.Un.rows-1)*this.$w.z:this.Pi.z}},this.QM.forEach((t=>{t.shape.setVisible(!1),t.shape.pH=!1,t.hasData=!1})),this}Fv(t){var e;const i=this.QM[0],s=this.QM[1],n=t.heightMapValues?t.heightMapValues.length:null===(e=t.intensityValues)||void 0===e?void 0:e.length;let r=0;if(!n)return this;do{const e=Math.floor(this.MU/this.Un.scrollDimensionSize)%this.QM.length,o=this.QM[e],a=this.MU%this.Un.scrollDimensionSize,l=this.Un.scrollDimensionSize-a,h=0===a,c=Math.min(l,n),u=a+c,d=a,f=d+1,p=r,g=r+c,m=this.MU>=this.Un.scrollDimensionSize&&u<=this.Un.scrollDimensionSize-1,y=h;h&&(o.shape.Sv("columns"===this.Un.scrollDimension?{x:this.Pi.x+(this.MU-1)*this.$w.x,z:this.Pi.z}:{x:this.Pi.x,z:this.Pi.z+(this.MU-1)*this.$w.z},this.$w),o.shape.setVisible(!0));const v=m?0:1,b=u+(m?1:0);o.shape.bH({fill:{iFirstPrimary:v,amountPrimary:b},wireframe:{iFirstPrimary:v,amountPrimary:b,connectNext:!1}});const x=o===i?s:i,S=u+1,A=1+this.Un.scrollDimensionSize-S;x.shape.bH({fill:{iFirstPrimary:S,amountPrimary:A},wireframe:{iFirstPrimary:S,amountPrimary:A-1,connectNext:!0}});const w={};if(t.heightMapValues){const e=t.heightMapValues.slice(p,g);let i=!1;y&&this.wU.yValues&&(i=!0,e.splice(0,0,this.wU.yValues));const s={startPrimary:i?d:f,startSecondary:0,lengthPrimary:e.length,lengthSecondary:this.Un.staticDimensionSize,values:e,type:"y"};o.shape.wv(s),o.hasData=!0,w.yValues=e[c-1]}if(t.intensityValues){const e=t.intensityValues.slice(p,g);let i=!1;y&&this.wU.intensityValues&&(i=!0,e.splice(0,0,this.wU.intensityValues));const s={startPrimary:i?d:f,startSecondary:0,lengthPrimary:e.length,lengthSecondary:this.Un.staticDimensionSize,values:e,type:"intensity"};o.shape._v(s),o.hasData=!0,w.intensityValues=e[c-1]}this.MU+=c,r+=c,this.wU=w}while(r<n);return"columns"===this.Un.scrollDimension?(this.MH.min.x=this.Pi.x+Math.max(this.MU-this.Un.scrollDimensionSize,0)*this.$w.x,this.MH.max.x=this.Pi.x+(this.MU-1)*this.$w.x):(this.MH.min.z=this.Pi.z+Math.max(this.MU-this.Un.scrollDimensionSize,0)*this.$w.z,this.MH.max.z=this.Pi.z+(this.MU-1)*this.$w.z),this}xv(t){return this.QM.forEach((e=>e.shape.xv(t))),this}Mv(){return this.QM[0].shape.Mv()}Ce(t){return this.QM.forEach((e=>e.shape.Ce(t))),this}Eh(){return this.QM[0].shape.Eh()}mv(t){return this.QM.forEach((e=>e.shape.mv(t))),this}bv(){return this.QM[0].shape.bv()}VR(){return this.dispose(),this.QM.forEach((t=>t.shape.VR())),this}dispose(){return super.dispose(),this.QM.forEach((t=>t.shape.dispose())),this}setVisible(t){return super.setVisible(t),this.QM.forEach((e=>e.shape.setVisible(t&&e.hasData))),this}rS(t){return super.rS(t),this.QM.forEach((e=>e.shape.rS(t))),this}bt(){return this.MH.max.x}vt(){return this.MH.min.x}Mt(){return Math.max(this.QM[0].shape.Mt(),this.QM[1].shape.Mt())}xt(){return Math.min(this.QM[0].shape.xt(),this.QM[1].shape.xt())}aS(){return this.MH.max.z}lS(){return this.MH.min.z}vl(){return 0}bl(){return 0}uS(){return 0}cs(t){return super.cs(t),this.QM.forEach((e=>e.shape.cs(t))),this}}class lw extends _A{constructor(t,e,i,s){super(t,e,i),this.TH=45,this.FH=.1,this.IH=100,this.YY=_r(0,0,1),this.PH=_r(0,0,-1),this.DH=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],this.qp=new id,this.dt=s}Kv(){const{cellIndex:t,cellSpan:e,cellsAmount:i}=this.dt,s=e.x/i.x,n=e.y/i.y,r=t.x/i.x,o=t.y/i.y,a=this.us.oi();return{x:r*a.x,y:o*a.y,width:s*a.x,height:n*a.y}}setCameraLocation(t){return this.YY=t,this}getCameraLocation(){return this.YY}setCameraDirection(t){return this.PH=Qa.normalize(t),this}getCameraDirection(){return this.PH}setLightLocation(t){return this.HY=t,this}getLightLocation(){return this.HY}BH(){return _r(this.DH[0],this.DH[1],this.DH[2])}LH(){return _r(this.DH[4],this.DH[5],this.DH[6])}}class hw extends lw{constructor(t,e,i,s){super(t,e,i,s),this.aE=new LS,this.RH=!0,this.rN=t,this.gl=t.oN(),this.MY=this.pY,this.EH=this.us.Co((()=>{this.RH=!0})),this.zH=s.U((()=>{this.RH=!0}))}rV(t){const e=t.vt(),i=t.xt(),s=t.lS(),n=t.bt(),r=t.Mt(),o=t.aS();if(e===$a||n===tl||i===$a||r===tl||s===$a||o===tl)return el;const a=t.vl(),l=t.bl(),h=t.uS(),c=Math.abs(t.ks.Op(a)*t.dt.x.et()),u=Math.abs(t.ks.Op(l)*t.dt.y.et()),d=Math.abs(t.ks.Op(h)*t.dt.z.et()),f=e-c,p=n+c,g=i-u,m=r+u,y=s-d,v=o+d;let b;return[{x:f,y:g,z:y},{x:p,y:g,z:y},{x:f,y:m,z:y},{x:p,y:m,z:y},{x:f,y:g,z:v},{x:p,y:g,z:v},{x:f,y:m,z:v},{x:p,y:m,z:v}].map((e=>t.ks.Gp(e))).forEach((t=>{if(!t)return;const e={min:t,max:t};b=b?yl(b,{min:t,max:t}):e})),b||el}_Y(t){const e=Array.from(this.MY.values());for(let i=0;i<e.length;i+=1){const s=e[i],n=s.lN(t);if(n)return{entity:s,index:i,collectionMember:n.collectionMember}}}Gp(t){if(this.VH(),this.OH(),!this.UY)return;const e=this.aE.AV(),i=_r(e[0],e[1],e[2]),s=this.aE.fV(),n=_r(s[0],s[1],s[2]),r=Qa.divideVec(Qa.subtractVec(t,i),n),o=this.UY,a=Mg.multiply(o,[r.x,r.y,r.z,1]),l=Lr(a[0]/a[3],a[1]/a[3]),h=this.us.oi();return{x:.5*(1+l.x)*h.x,y:.5*(1+l.y)*h.y}}ft(t){const e=this.aE.AV(),i=this.aE.fV(),s=Qa.divideVec(Qa.subtractVec(t,{x:e[0],y:e[1],z:e[2]}),{x:i[0],y:i[1],z:i[2]});return{...t,x:s.x,y:s.y,z:s.z}}yt(t){const e=this.aE.AV(),i=this.aE.fV(),s=Qa.addVec(Qa.multiplyVec(t,{x:i[0],y:i[1],z:i[2]}),{x:e[0],y:e[1],z:e[2]});return{...t,x:s.x,y:s.y,z:s.z}}Op(t){return t/1e3}iH(){return.001}Ps(){const t=this.YY,e=this.HY,i=this.dt.x.i||this.dt.y.i||this.dt.z.i;if(!e)throw za(0,(()=>Na()));const{viewProjectionMatrix:s}=this.VH();this.OH();const n=[t.x,t.y,t.z],r=[e.x,e.y,e.z];return this.pY.forEach((t=>{t.UY=s,t.YY=n,t.HY=r,t.Ps(i)})),this}VH(){if(!this.RH&&this.UY)return{viewProjectionMatrix:this.UY};const t=this.Kv(),e=t.width/t.height;this.NH=Mg.projectionPerspective(this.TH,e,this.FH,this.IH);const i=this.YY;this.DH[12]=i.x,this.DH[13]=i.y,this.DH[14]=i.z;const s=this.PH,n=_r(0,1,0),r=Qa.multiply(s,-1),o=Qa.normalize(Qa.cross(n,r)),a=Qa.normalize(Qa.cross(r,o));this.DH[0]=o.x,this.DH[1]=o.y,this.DH[2]=o.z,this.DH[4]=a.x,this.DH[5]=a.y,this.DH[6]=a.z,this.DH[8]=r.x,this.DH[9]=r.y,this.DH[10]=r.z,this.GH=Mg.inverse(this.DH);const{cellIndex:l,cellSpan:h,cellsAmount:c}=this.dt,u=h.x/c.x,d=h.y/c.y,f=(l.x+h.x/2)/c.x,p=(l.y+h.y/2)/c.y,g=Mg.multiply(Mg.translation(td(-1,1,f),td(-1,1,p),0),Mg.scaling(u,d,1));return this.UY=Mg.multiply(g,Mg.multiply(this.NH,this.GH)),this.WH=Mg.inverse(this.UY),this.RH=!1,{viewProjectionMatrix:this.UY}}OH(){this.aE.KO(this.dt.x),this.aE.qO(this.dt.y),this.aE.tN(this.dt.z)}zL(t,e){const i=this.gl.$z(),s=this.Kv(),n={x:s.x*i*e,y:s.y*i*e,width:s.width*i*e,height:s.height*i*e};return this.gl.hV(n.x,n.y,n.width,n.height),this.pY.forEach((e=>{e.getVisible()&&(this.gl.Kz(e.DY),1!==t&&this.gl.nS(e.iS),(1!==t||e.getMouseInteractions())&&e.zL(t))})),this.gl.Kz("disabled"),this.gl.nS(!1),this.gl.qz(!1),this}setCameraLocation(t){return this.YY.x===t.x&&this.YY.y===t.y&&this.YY.z===t.z||(this.RH=!0),super.setCameraLocation(t),this}setCameraDirection(t){return this.PH.x===t.x&&this.PH.y===t.y&&this.PH.z===t.z||(this.RH=!0),super.setCameraDirection(t),this}W(){super.W(),this.us.ko(this.EH),this.dt.Y(this.zH)}bS(t){const e=this.rN.wY();return this.SY(new nw(this,this.vY,[],e,this.rN.CY(e),t))}rp(t){const e=this.rN.wY();return this.SY(new tw(this,this.vY,t,e,this.rN.CY(e)))}AS(){const t=this.rN.wY();return this.SY(new qA(this,this.vY,[],t,this.rN.CY(t)))}Rv(){const t=this.rN.wY();return this.SY(new sw(this,this.vY,[],t,this.rN.CY(t)))}Lg(){const t=this.rN.wY();return this.SY(new ZA(this,this.vY,[],t,this.rN.CY(t)))}yv(t){const e=this.rN.wY();return this.SY(new ow(this,this.vY,[],t,e,this.rN.CY(e)))}Tv(t){const e=this.rN.wY();return this.SY(new aw(this,this.vY,[],t,e,this.rN.CY(e)))}}class cw extends jc{constructor(t,e,i){var s;let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:PS;if(super(t,e,i),s=this,this.X=zr(1,1),this.UH=!1,this.YH=0,this.HH=!0,this.$H=0,this.tH=8388608,this.$E=[null,null],this.XH=null,this.jH=null,this.ZH=0,this.Qg=!1,this.QH=0,this.Ss=function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.$i||s.dn||s.JH()||(t&&(s.UH=!0),s.hn=!0,s.KH||s.Qr.nz(t)),s},this.KH=!1,this.cz=t=>{if(this.$i||this.dn)return;const e=t-this.YH;if(e>=this.Qn||-1===this.Qn){this.KH=!0,this.YH=t,this.UH=!1;const i=e>50?1e3/60:e;this.rn&&this.rn(i),this.hn=!1,-1!==this.Qn&&this.UH&&(this.Qr.nz(this.UH),this.hn=!0),this.ls.Ps(e),this.pn(),this.Sn(),this.nn&&this.nn(),this.KH=!1,this.D.emit("render"),this.hn&&this.Ss(this.UH)}else this.hn=!0,this.Qr.nz()},this.qH=new Map,this.oN=()=>this.RR,this.t$=()=>{var t,e,i;const s=this.On(),n=this.HH,r=Ho.performance.now(),o=null===(t=this.i$)||void 0===t?void 0:t.s$.reduce(((t,e)=>t?e.e$&&t.e$&&e.e$>t.e$?e:t:e),void 0),a=null==o?void 0:o.e$,l=null===(e=this.Dn)||void 0===e?void 0:e.timeStamp,h=null===(i=this.xo)||void 0===i?void 0:i.timeStamp;return n?(this.Ss(!0),!1):void 0===o||(void 0===o||!o.h$)&&(void 0!==h&&void 0!==a&&h>a||(void 0!==a&&void 0===s?r-a>=1e3:!(void 0!==a&&void 0!==l&&r-l>=2e3)||r-a>=1e3))},this.r$=()=>{var t,e;this.n$=void 0;const i=null===(e=null===(t=this.i$)||void 0===t?void 0:t.o$)||void 0===e?void 0:e.a$;void 0===i||i>=this.$H||this.l$()},this.Sn=()=>{if(this.$i||this.dn)return this;const t=this.RR.gl,e=Ho.performance.now();this.RR.sV(t.FRAMEBUFFER,this.Qr.tz?this.$E[0]:null);const i=this.X,s=i.x>0&&i.y>0;if(this.gn.i&&this.RR.qV(this.gn.M()),t.resize&&s&&t.resize(i.x*this.RR.$z(),i.y*this.RR.$z()),this.RR.eV(0,0,i.x*this.RR.$z(),i.y*this.RR.$z()),this.RR.hV(0,0,i.x*this.RR.$z(),i.y*this.RR.$z()),this.RR.Nt(),s)for(const n of this.tn.values())n.zL(0,1);if(this.Un.Xn&&s&&(this.n$&&(Ho.clearTimeout(this.n$),this.n$=void 0),this.t$()?(this.l$(),this.RR.sV(t.FRAMEBUFFER,this.Qr.tz?this.$E[0]:null)):this.n$=Ho.setTimeout(this.r$,500)),this.j(),this.jr(),this._n&&this.Mn(this._n),this.Qr.tz){const e=this.RR.gl2.ctx;e.bindFramebuffer(e.READ_FRAMEBUFFER,this.$E[0]),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,this.$E[1]),e.clearBufferfv(e.COLOR,0,[1,1,1,1]),e.blitFramebuffer(0,0,this.X.x*this.RR.$z(),this.X.y*this.RR.$z(),0,0,this.X.x*this.RR.$z(),this.X.y*this.RR.$z(),t.COLOR_BUFFER_BIT,t.LINEAR)}else t.bindTexture(t.TEXTURE_2D,this.NE),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,0,0,this.X.x*this.RR.$z(),this.X.y*this.RR.$z(),0),t.bindTexture(t.TEXTURE_2D,null);return this.RR.sV(t.FRAMEBUFFER,null),this.Qr.nz(),this.HH=!1,this.$H=e,this},this.pn=()=>{if("use-window"===this.u$.mode){const t=Ho.devicePixelRatio||1;this.RR.dO(t)}const t=this.X;if(0===t.x||0===t.y)return this;this.oo.q(t);for(const e of this.tn.values())e.Ps();return this.j(),this},this.c$=1,this.Qr=t,this.Qr.KE){this.d$=Ho.document.createElement("canvas"),this.d$.style.width="100%",this.d$.style.height="100%",this.d$.style.display="block",this.d$.style.boxSizing="content-box",this.d$.style.position="absolute";const t=this.d$.getContext("2d",{willReadFrequently:!1,alpha:!0,desynchronized:!1});if(!t)throw new No("No Canvas context available.");this.GE=t,this.Gr.appendChild(this.d$)}this.Qr.Az(this);const r={preserveDrawingBuffer:!0,antialias:e?e.antialias:void 0,alpha:!0,lineAntialias:!e||(!0===e.lineAntiAlias||!1===e.lineAntiAlias?e.lineAntiAlias:!1!==e.antialias)};let o;if(this.Qr.tz&&t.gl2&&(o=new n(this,this.Un,{type:"webgl2",ctx:t.gl2.ctx,antialias:r.antialias,lineAntialias:r.lineAntialias},this.qi.isDark)),o||this.Qr.tz||(o=new n(this,this.Un,{type:"webgl1",ctx:t.gl,antialias:r.antialias,lineAntialias:r.lineAntialias},this.qi.isDark)),!o)throw new No("No WebGL context available");if(this.RR=o,"number"==typeof(null==e?void 0:e.devicePixelRatio))this.u$={mode:"fixed",value:e.devicePixelRatio},this.RR.dO(e.devicePixelRatio);else{const t=Ho.document.head.querySelector('meta[name="viewport"]'),i=!0===e.devicePixelRatio||(null==t?void 0:t.content.includes("width=device-width")),s=Ho.devicePixelRatio||1;this.u$=i?{mode:"use-window"}:{mode:"fixed",value:s},this.RR.dO(s)}const a=e?e.width:void 0,l=e?e.height:void 0;this.ho=this.f$(a),this.no=this.f$(l),this.A$(this.ho,this.no),this.CU=this.FI("engine offscreen",1e6),this.g$=this.FI("engine bg",0);const h="function"==typeof this.qi.lcjsBackgroundFillStyle?this.qi.lcjsBackgroundFillStyle(this.Un.$s):this.qi.lcjsBackgroundFillStyle;this.oo=this.g$.ke(this.dt).Ce(h).we(this.qi.lcjsBackgroundStrokeStyle).setMouseInteractions(!1).Fe({x:0,y:0});const c=this.FI("engine effects",200001).kY(this.qi.effect);this.es=c;const u=this.Qr.tz,d=this.oi();u&&(this.$E=[o.vV(),o.vV()]);const f=this.RR.gl;u&&(this.XH=f.createRenderbuffer(),this.jH=f.createRenderbuffer()),this.NE=f.createTexture();const p=d.x*this.RR.$z(),g=d.y*this.RR.$z();if(u){f.bindRenderbuffer(f.RENDERBUFFER,this.XH);const t=this.RR.gl2.ctx;this.ZH=this.Qr.PE&&!1!==e.antialias?t.getParameter(t.MAX_SAMPLES):0,t.renderbufferStorageMultisample(t.RENDERBUFFER,this.ZH,t.RGBA8,p,g),f.bindRenderbuffer(f.RENDERBUFFER,this.jH),f.renderbufferStorage(f.RENDERBUFFER,f.DEPTH_COMPONENT16,p,g),t.renderbufferStorageMultisample(t.RENDERBUFFER,this.ZH,t.DEPTH_COMPONENT16,p,g)}u&&(this.RR.sV(f.FRAMEBUFFER,this.$E[0]),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.RENDERBUFFER,this.XH),f.framebufferRenderbuffer(f.FRAMEBUFFER,f.DEPTH_ATTACHMENT,f.RENDERBUFFER,this.jH)),f.bindTexture(f.TEXTURE_2D,this.NE),f.texImage2D(f.TEXTURE_2D,0,f.RGBA,p,g,0,f.RGBA,f.UNSIGNED_BYTE,null),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),u&&(this.RR.sV(f.FRAMEBUFFER,this.$E[1]),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,this.NE,0)),this.RR.sV(f.FRAMEBUFFER,null),this.fn(),this.jr(),this.hm=Bc(this),this.rm={qi:this.qi,ls:this.ls,dt:this.dt,Ss:t=>this.Ss(t),On:()=>this.On(),cB:t=>this.cB(t),Un:this.Un,Nn:t=>this.Nn(t),es:this.es,Po:t=>this.Po(t),Do:t=>this.Do(t),Ig:{Fg:(t,e,i)=>this.RR.Vh(e.family).QR(t,e,i,this.qi.isDark)}};const m=()=>{this.W()};Ho.addEventListener("unload",m),this.an.push((()=>{Ho.removeEventListener("unload",m)}))}get m$(){return this.tn}Jr(t,e){let i=this.qH.get(t);if(!i){const e=this.RR.pO(t),s=new Set,n=t=>{s.add(t)},r=i=>{s.delete(i)&&0===s.size&&(e.unbindResources(),this.qH.delete(t))},o=[];i={imageTexture:e,instances:s,handleNewInstance:n,handleInstanceDisposed:r,sharedEngineReference:{dB:()=>e.Dz,fB:t=>{e.Dz?t():o.push(t)}}},this.qH.set(t,i),e.jR(this),e.Oz((()=>{o.forEach((t=>{t()})),o.length=0}))}const s=new md(t,i.handleNewInstance,i.handleInstanceDisposed,e);return i.handleNewInstance(s),s}cB(t){const e=Array.from(this.qH.values()).find((e=>e.instances.has(t)));if(!e)throw za(0,(()=>new Error("LightningChart JS error, attempted to use Icon that is disposed. Please check that you are not disposing an Icon that is still in use, or attempting to use a previously disposed Icon!")));return e.sharedEngineReference}wn(t,e){var i;const s=null===(i=this.i$)||void 0===i?void 0:i.o$;if(!s)return;const n=this.Pe(e.x,e.y),r=Math.round(n.x*this.RR.$z()),o=Math.round(n.y*this.RR.$z());return[[-1,-1],[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[0,0]].map((t=>this.y$(s,r+t[0]/s.p$,o+t[1]/s.p$))).reduce(((t,e)=>{if(void 0===e)return t||void 0;const i=1e6*e.layerIndex+e.entityIndex;return!t||i>t.zIndexForComparison?{zIndexForComparison:i,entity:e.entity,collectionMember:e.collectionMember}:t}),void 0)}y$(t,e,i){const s=Math.round(e*t.p$),n=Math.round(i*t.p$);if(s<0||s>=t.X.x||n<0||n>=t.X.y)return;const r=4*(s+n*t.X.x),o=t.S$[r+0],a=t.S$[r+1],l=t.S$[r+2],h=t.S$[r+3];return void 0!==o&&void 0!==a&&void 0!==l&&void 0!==h?this.v$(o,a,l,h):void 0}Hr(t,e,i){const s=this.RR.gl;this.Qr.tz?(this.RR.sV(s.FRAMEBUFFER,this.$E[1]),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,this.NE,0)):this.RR.sV(s.FRAMEBUFFER,null);const n=this.OE(),r=n.x,o=n.y,a=new Uint8Array(r*o*4);this.Qr.tz||this.Sn(),s.readPixels(0,0,r,o,s.RGBA,s.UNSIGNED_BYTE,a);const l=new ImageData(new Uint8ClampedArray(a),r,o),h=document.createElement("canvas"),c=h.getContext("2d");if(!c)throw new Error("Failed to create 2D context for saving image.");h.width=r,h.height=o,c.putImageData(l,0,0),c.translate(0,o),c.scale(1,-1),c.drawImage(h,0,0),this.Qr.tz&&(this.RR.sV(s.FRAMEBUFFER,this.$E[0]),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.RENDERBUFFER,this.XH),this.RR.sV(s.FRAMEBUFFER,this.$E[1]),s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,this.NE,0)),this.RR.sV(s.FRAMEBUFFER,null);const u=h.toDataURL(t,e);return i?u:(t=>{const e=t.split(",")[0].split(":")[1].split(";")[0],i=Ho.atob(t.split(",")[1]),s=new Uint8Array(i.length);for(let n=0;n<i.length;n+=1)s[n]=i.charCodeAt(n);return new Ho.Blob([s.buffer],{type:e})})(u)}$r(t,e){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.fn(Lr(Math.round(t),Math.round(e))),this.yn();const s=this.RR.gl.drawingBufferWidth,n=this.RR.gl.drawingBufferHeight,r=new Uint8Array(s*n*4);if(this.RR.gl.readPixels(0,0,s,n,this.RR.gl.RGBA,this.RR.gl.UNSIGNED_BYTE,r),!i){const t=n/2|0,e=4*s,i=new Uint8Array(4*s);for(let s=0;s<t;s+=1){const t=s*e,o=(n-s-1)*e;i.set(r.subarray(t,t+e)),r.copyWithin(t,o,o+e),r.set(i,o)}}return this.en={x:0,y:e},r}mL(t){return void 0!==this.ho?this.ho[0]=t:this.ho=[t,void 0],this.Gr.style.minWidth="".concat(this.ho[0],"px"),this.fn(),this}pL(t){return void 0!==this.ho?this.ho[1]=t:this.ho=[void 0,t],this.Gr.style.maxWidth="".concat(this.ho[1],"px"),this.fn(),this}vL(t){return void 0!==this.no?this.no[0]=t:this.no=[t,void 0],this.Gr.style.minHeight="".concat(this.no[0],"px"),this.fn(),this}xL(t){return void 0!==this.no?this.no[1]=t:this.no=[void 0,t],this.Gr.style.maxHeight="".concat(this.no[1],"px"),this.fn(),this}A$(t,e){return this.ho=t,this.no=e,this.Gr.style.minWidth="".concat(this.ho[0],"px"),this.Gr.style.maxWidth="".concat(this.ho[1],"px"),this.Gr.style.minHeight="".concat(this.no[0],"px"),this.Gr.style.maxHeight="".concat(this.no[1],"px"),this.fn(),this}zE(t){return this.Qg!==t&&(this.D.emit("inViewChange",t),this.Qg=t),this}EE(){return this.Qg}gz(t){this.QH=t}fz(){return this.QH}FI(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.do();const i=this.co(e);if(i){if(za(0,(()=>{})),!(i instanceof BA))throw new Error("Unexpected Engine Layer error");return i}return this.vn(new BA(this,e,t))}BI(t,e,i){const s=this.co(e);if(s){if(za(0,(()=>{})),!(s instanceof hw))throw new Error("Unexpected Engine Layer error");return s}return this.vn(new hw(this,e,t,i))}oi(){return this.X}OE(){const t=this.RR.$z();return{x:Math.round(this.X.x*t),y:Math.round(this.X.y*t)}}f$(t){return t instanceof Array||(t=[t,t]),t}b$(){return this.Qr.WE}JH(){const t=this.RR.gl;return t&&"resize"in t}l$(){var t;const e=this.RR.gl,i=Ho.performance.now(),s=this.On(),n=this.Un.$n,r={x:Math.ceil(this.X.x*this.RR.$z()*n),y:Math.ceil(this.X.y*this.RR.$z()*n)};this.i$||(this.i$={p$:n,x$:r,s$:[],o$:void 0});let o=this.i$.s$.find((t=>!t.h$)),a=!1;o||(a=!0,o={h$:!1,X:r,PO:e.createTexture(),M$:this.RR.vV(),jH:this.RR.bV(),_$:new Uint8Array,e$:void 0},this.i$.s$.push(o));const l=o;(a||l.X.x!==r.x||l.X.y!==r.y)&&(e.bindTexture(e.TEXTURE_2D,l.PO),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r.x,r.y,0,e.RGBA,e.UNSIGNED_BYTE,null),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),this.RR.sV(e.FRAMEBUFFER,l.M$),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,l.PO,0),e.bindRenderbuffer(e.RENDERBUFFER,l.jH),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,r.x,r.y),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,l.jH),l._$=new Uint8Array(r.x*r.y*4),l.X=r),l.h$=!0,l.e$=i,this.RR.sV(e.FRAMEBUFFER,l.M$),e.clearDepth(1),e.clearColor(0,0,0,0),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.disable(e.BLEND),e.resize&&e.resize(r.x,r.y),this.RR.eV(0,0,r.x,r.y);for(const u of this.tn.values())u.zL(1,n);this.RR.sV(e.FRAMEBUFFER,null),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.enable(e.BLEND);const h=null===(t=this.RR.gl2)||void 0===t?void 0:t.ctx,c=()=>{if(this.i$){const t=this.i$.o$;if(t&&t.a$>i)return;this.i$.o$={a$:i,p$:n,X:r,S$:l._$,w$:s}}};h?this.RR.TO(h,l.M$,0,0,r.x,r.y,e.RGBA,e.UNSIGNED_BYTE,l._$).then((()=>{this.$i||(l.h$=!1,c())})).catch((t=>{this.$i||(l.h$=!1,Ho.console.warn("LightningChart JS mouse picking failed unexpectedly. This could mean that user interactions on charts are compromised.\nPlease report this issue to https://lightningchart.com/js-charts/docs/contact"))})):(this.RR.FO(l.M$,0,0,r.x,r.y,e.RGBA,e.UNSIGNED_BYTE,l._$),l.h$=!1,c())}fn(t){if("use-window"===this.u$.mode){const t=Ho.devicePixelRatio||1;this.RR.dO(t)}const e=this.X.x,i=this.X.y,s=t||{x:this.Gr.offsetWidth,y:this.Gr.offsetHeight};if(0!==s.x&&0!==s.y&&(s.x!==e||s.y!==i)){this.X=s,this.dt.x.J(0,s.x).q(s.x),this.dt.y.J(0,s.y).q(s.y);const t=s.x*this.RR.$z(),e=s.y*this.RR.$z(),i=this.RR.gl;this.Qr.KE&&this.GE&&(this.GE.canvas.width=t,this.GE.canvas.height=e);const n=this.Qr.tz;if(this.NE&&(i.bindTexture(i.TEXTURE_2D,this.NE),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,t,e,0,i.RGBA,i.UNSIGNED_BYTE,null)),n){const s=this.RR.gl2.ctx;this.XH&&(i.bindRenderbuffer(i.RENDERBUFFER,this.XH),s.renderbufferStorageMultisample(s.RENDERBUFFER,this.ZH,s.RGBA8,t,e)),this.jH&&(i.bindRenderbuffer(i.RENDERBUFFER,this.jH),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_COMPONENT16,t,e),s.renderbufferStorageMultisample(s.RENDERBUFFER,this.ZH,s.DEPTH_COMPONENT16,t,e))}i.bindRenderbuffer(i.RENDERBUFFER,null),this.D.emit("resize",[this.X.x,this.X.y])}}W(){var t;this.$i||(super.W(),this.n$&&(Ho.clearTimeout(this.n$),this.n$=void 0),Array.from(this.RR.bE.entries()).forEach((t=>{let[e,i]=t;i.VR(!1),this.RR.bE.delete(e)})),Array.from(this.RR.wV.values()).forEach((t=>{t.unbindResources()})),this.RR.wV.clear(),this.RR._V.kz(),this.RR.aO.W(),this.RR.yV(this.RR.lO),this.RR.yV(this.RR.uO),this.RR.hO.forEach(((t,e)=>{this.RR.gl.deleteBuffer(e)})),this.RR.hO.clear(),this.RR.MO&&(this.RR.yV(this.RR.MO.buffer),this.RR.MO=void 0),this.RR.MV(this.$E[0]),this.RR.MV(this.$E[1]),this.RR.xV(this.XH),this.RR.OR(this.NE),this.RR.xV(this.jH),this.i$&&(this.i$.s$.forEach((t=>{this.RR.xV(t.jH),this.RR.MV(t.M$),this.RR.OR(t.PO)})),this.i$=void 0),this.RR.iO.forEach((t=>this.RR.yV(t))),this.qH.clear(),this.Qr.mz(this),this.d$&&(null===(t=this.d$.parentElement)||void 0===t||t.removeChild(this.d$),this.d$=void 0),this.GE&&(this.GE=void 0),this.RR.gl=void 0)}wY(){const t=this.c$;return t>4294967295&&(console.warn("LightningChart JS picking ID overflow.\nThis is an unexpected error that could compromise user interactions on the chart.\nPlease report the issue to https://lightningchart.com/js-charts/docs/contact!"),this.c$=1),this.c$+=1,t}CY(t){let e=t;const i=Math.floor(e/16777216);e-=16777216*i;const s=Math.floor(e/65536);e-=65536*s;const n=Math.floor(e/256);return e-=256*n,qr(i,s,n,e)}v$(t,e,i,s){if(0===t&&0===e&&0===i&&0===s)return;const n=16777216*t+65536*e+256*i+s;for(const r of this.m$.values()){const t=r._Y(n);if(t)return{entity:t.entity,collectionMember:t.collectionMember,entityIndex:t.index,layerIndex:r.bn()}}}}var uw="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},dw={exports:{}};!function(t,e){function i(t,e){if(!t)throw new Error(e||"Assertion failed")}function s(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}function n(t,e,i){if(n.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(i=e,e=10),this.Vz(t||0,e||10,i||"be"))}var r;"object"==typeof dw?dw.exports=n:e.BN=n,n.BN=n,n.wordSize=26;try{r=(void 0).Buffer}catch(t){}function o(t,e,s){for(var n=0,r=Math.min(t.length,s),o=0,a=e;a<r;a++){var l,h=t.charCodeAt(a)-48;n<<=4,n|=l=h>=49&&h<=54?h-49+10:h>=17&&h<=22?h-17+10:h,o|=l}return i(!(240&o),"Invalid character in "+t),n}function a(t,e,s,n){for(var r=0,o=0,a=Math.min(t.length,s),l=e;l<a;l++){var h=t.charCodeAt(l)-48;r*=n,o=h>=49?h-49+10:h>=17?h-17+10:h,i(h>=0&&o<n,"Invalid character"),r+=o}return r}function l(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(n.isBN=function(t){return t instanceof n||null!==t&&"object"==typeof t&&t.constructor.wordSize===n.wordSize&&Array.isArray(t.words)},n.max=function(t,e){return t.cmp(e)>0?t:e},n.min=function(t,e){return t.cmp(e)<0?t:e},n.prototype.Vz=function(t,e,s){if("number"==typeof t)return this.C$(t,e,s);if("object"==typeof t)return this.k$(t,e,s);"hex"===e&&(e=16),i(e===(0|e)&&e>=2&&e<=36);var n=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&n++,16===e?this.T$(t,n):this.F$(t,e,n),"-"===t[0]&&(this.negative=1),this.I$(),"le"===s&&this.k$(this.toArray(),e,s)},n.prototype.C$=function(t,e,s){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(i(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===s&&this.k$(this.toArray(),e,s)},n.prototype.k$=function(t,e,s){if(i("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,o,a=0;if("be"===s)for(n=t.length-1,r=0;n>=0;n-=3)o=t[n]|t[n-1]<<8|t[n-2]<<16,this.words[r]|=o<<a&67108863,this.words[r+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,r++);else if("le"===s)for(n=0,r=0;n<t.length;n+=3)o=t[n]|t[n+1]<<8|t[n+2]<<16,this.words[r]|=o<<a&67108863,this.words[r+1]=o>>>26-a&67108863,(a+=24)>=26&&(a-=26,r++);return this.I$()},n.prototype.T$=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var s,n,r=0;for(i=t.length-6,s=0;i>=e;i-=6)n=o(t,i,i+6),this.words[s]|=n<<r&67108863,this.words[s+1]|=n>>>26-r&4194303,(r+=24)>=26&&(r-=26,s++);i+6!==e&&(n=o(t,e,i+6),this.words[s]|=n<<r&67108863,this.words[s+1]|=n>>>26-r&4194303),this.I$()},n.prototype.F$=function(t,e,i){this.words=[0],this.length=1;for(var s=0,n=1;n<=67108863;n*=e)s++;s--,n=n/e|0;for(var r=t.length-i,o=r%s,l=Math.min(r,r-o)+i,h=0,c=i;c<l;c+=s)h=a(t,c,c+s,e),this.imuln(n),this.words[0]+h<67108864?this.words[0]+=h:this.P$(h);if(0!==o){var u=1;for(h=a(t,c,t.length,e),c=0;c<o;c++)u*=e;this.imuln(u),this.words[0]+h<67108864?this.words[0]+=h:this.P$(h)}},n.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},n.prototype.D$=function(t){l(t,this)},n.prototype.clone=function(){var t=new n(null);return this.copy(t),t},n.prototype.B$=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},n.prototype.I$=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this.L$()},n.prototype.L$=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=h}catch(t){n.prototype.inspect=h}else n.prototype.inspect=h;function h(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],d=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function f(t,e,i){i.negative=e.negative^t.negative;var s=t.length+e.length|0;i.length=s,s=s-1|0;var n=0|t.words[0],r=0|e.words[0],o=n*r,a=67108863&o,l=o/67108864|0;i.words[0]=a;for(var h=1;h<s;h++){for(var c=l>>>26,u=67108863&l,d=Math.min(h,e.length-1),f=Math.max(0,h-t.length+1);f<=d;f++){var p=h-f|0;c+=(o=(n=0|t.words[p])*(r=0|e.words[f])+u)/67108864|0,u=67108863&o}i.words[h]=0|u,l=0|c}return 0!==l?i.words[h]=0|l:i.length--,i.I$()}n.prototype.toString=function(t,e){var s;if(e=0|e||1,16===(t=t||10)||"hex"===t){s="";for(var n=0,r=0,o=0;o<this.length;o++){var a=this.words[o],l=(16777215&(a<<n|r)).toString(16);s=0!=(r=a>>>24-n&16777215)||o!==this.length-1?c[6-l.length]+l+s:l+s,(n+=2)>=26&&(n-=26,o--)}for(0!==r&&(s=r.toString(16)+s);s.length%e!=0;)s="0"+s;return 0!==this.negative&&(s="-"+s),s}if(t===(0|t)&&t>=2&&t<=36){var h=u[t],f=d[t];s="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modrn(f).toString(t);s=(p=p.idivn(f)).isZero()?g+s:c[h-g.length]+g+s}for(this.isZero()&&(s="0"+s);s.length%e!=0;)s="0"+s;return 0!==this.negative&&(s="-"+s),s}i(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},n.prototype.toJSON=function(){return this.toString(16,2)},r&&(n.prototype.toBuffer=function(t,e){return this.toArrayLike(r,t,e)}),n.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},n.prototype.toArrayLike=function(t,e,s){this.I$();var n=this.byteLength(),r=s||Math.max(1,n);i(n<=r,"byte array longer than desired length"),i(r>0,"Requested array length <= 0");var o=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,r);return this["_toArrayLike"+("le"===e?"LE":"BE")](o,n),o},n.prototype.R$=function(t,e){for(var i=0,s=0,n=0,r=0;n<this.length;n++){var o=this.words[n]<<r|s;t[i++]=255&o,i<t.length&&(t[i++]=o>>8&255),i<t.length&&(t[i++]=o>>16&255),6===r?(i<t.length&&(t[i++]=o>>24&255),s=0,r=0):(s=o>>>24,r+=2)}if(i<t.length)for(t[i++]=s;i<t.length;)t[i++]=0},n.prototype.E$=function(t,e){for(var i=t.length-1,s=0,n=0,r=0;n<this.length;n++){var o=this.words[n]<<r|s;t[i--]=255&o,i>=0&&(t[i--]=o>>8&255),i>=0&&(t[i--]=o>>16&255),6===r?(i>=0&&(t[i--]=o>>24&255),s=0,r=0):(s=o>>>24,r+=2)}if(i>=0)for(t[i--]=s;i>=0;)t[i--]=0},Math.clz32?n.prototype.z$=function(t){return 32-Math.clz32(t)}:n.prototype.z$=function(t){var e=t,i=0;return e>=4096&&(i+=13,e>>>=13),e>=64&&(i+=7,e>>>=7),e>=8&&(i+=4,e>>>=4),e>=2&&(i+=2,e>>>=2),i+e},n.prototype.V$=function(t){if(0===t)return 26;var e=t,i=0;return 0==(8191&e)&&(i+=13,e>>>=13),0==(127&e)&&(i+=7,e>>>=7),0==(15&e)&&(i+=4,e>>>=4),0==(3&e)&&(i+=2,e>>>=2),0==(1&e)&&i++,i},n.prototype.bitLength=function(){var t=this.words[this.length-1],e=this.z$(t);return 26*(this.length-1)+e},n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var i=this.V$(this.words[e]);if(t+=i,26!==i)break}return t},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},n.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return 0!==this.negative},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.I$()},n.prototype.ior=function(t){return i(0==(this.negative|t.negative)),this.iuor(t)},n.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},n.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},n.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var i=0;i<e.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=e.length,this.I$()},n.prototype.iand=function(t){return i(0==(this.negative|t.negative)),this.iuand(t)},n.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},n.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},n.prototype.iuxor=function(t){var e,i;this.length>t.length?(e=this,i=t):(e=t,i=this);for(var s=0;s<i.length;s++)this.words[s]=e.words[s]^i.words[s];if(this!==e)for(;s<e.length;s++)this.words[s]=e.words[s];return this.length=e.length,this.I$()},n.prototype.ixor=function(t){return i(0==(this.negative|t.negative)),this.iuxor(t)},n.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},n.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},n.prototype.inotn=function(t){i("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),s=t%26;this.B$(e),s>0&&e--;for(var n=0;n<e;n++)this.words[n]=67108863&~this.words[n];return s>0&&(this.words[n]=~this.words[n]&67108863>>26-s),this.I$()},n.prototype.notn=function(t){return this.clone().inotn(t)},n.prototype.setn=function(t,e){i("number"==typeof t&&t>=0);var s=t/26|0,n=t%26;return this.B$(s+1),this.words[s]=e?this.words[s]|1<<n:this.words[s]&~(1<<n),this.I$()},n.prototype.iadd=function(t){var e,i,s;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this.L$();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e.L$();this.length>t.length?(i=this,s=t):(i=t,s=this);for(var n=0,r=0;r<s.length;r++)e=(0|i.words[r])+(0|s.words[r])+n,this.words[r]=67108863&e,n=e>>>26;for(;0!==n&&r<i.length;r++)e=(0|i.words[r])+n,this.words[r]=67108863&e,n=e>>>26;if(this.length=i.length,0!==n)this.words[this.length]=n,this.length++;else if(i!==this)for(;r<i.length;r++)this.words[r]=i.words[r];return this},n.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},n.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e.L$()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this.L$();var i,s,n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;n>0?(i=this,s=t):(i=t,s=this);for(var r=0,o=0;o<s.length;o++)r=(e=(0|i.words[o])-(0|s.words[o])+r)>>26,this.words[o]=67108863&e;for(;0!==r&&o<i.length;o++)r=(e=(0|i.words[o])+r)>>26,this.words[o]=67108863&e;if(0===r&&o<i.length&&i!==this)for(;o<i.length;o++)this.words[o]=i.words[o];return this.length=Math.max(this.length,o),i!==this&&(this.negative=1),this.I$()},n.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,i){var s,n,r,o=t.words,a=e.words,l=i.words,h=0,c=0|o[0],u=8191&c,d=c>>>13,f=0|o[1],p=8191&f,g=f>>>13,m=0|o[2],y=8191&m,v=m>>>13,b=0|o[3],x=8191&b,S=b>>>13,A=0|o[4],w=8191&A,C=A>>>13,M=0|o[5],k=8191&M,R=M>>>13,E=0|o[6],T=8191&E,I=E>>>13,P=0|o[7],F=8191&P,D=P>>>13,L=0|o[8],z=8191&L,N=L>>>13,_=0|o[9],V=8191&_,B=_>>>13,O=0|a[0],U=8191&O,H=O>>>13,G=0|a[1],W=8191&G,j=G>>>13,Y=0|a[2],X=8191&Y,q=Y>>>13,J=0|a[3],K=8191&J,Z=J>>>13,Q=0|a[4],$=8191&Q,tt=Q>>>13,et=0|a[5],it=8191&et,st=et>>>13,nt=0|a[6],rt=8191&nt,ot=nt>>>13,at=0|a[7],lt=8191&at,ht=at>>>13,ct=0|a[8],ut=8191&ct,dt=ct>>>13,ft=0|a[9],pt=8191&ft,gt=ft>>>13;i.negative=t.negative^e.negative,i.length=19;var mt=(h+(s=Math.imul(u,U))|0)+((8191&(n=(n=Math.imul(u,H))+Math.imul(d,U)|0))<<13)|0;h=((r=Math.imul(d,H))+(n>>>13)|0)+(mt>>>26)|0,mt&=67108863,s=Math.imul(p,U),n=(n=Math.imul(p,H))+Math.imul(g,U)|0,r=Math.imul(g,H);var yt=(h+(s=s+Math.imul(u,W)|0)|0)+((8191&(n=(n=n+Math.imul(u,j)|0)+Math.imul(d,W)|0))<<13)|0;h=((r=r+Math.imul(d,j)|0)+(n>>>13)|0)+(yt>>>26)|0,yt&=67108863,s=Math.imul(y,U),n=(n=Math.imul(y,H))+Math.imul(v,U)|0,r=Math.imul(v,H),s=s+Math.imul(p,W)|0,n=(n=n+Math.imul(p,j)|0)+Math.imul(g,W)|0,r=r+Math.imul(g,j)|0;var vt=(h+(s=s+Math.imul(u,X)|0)|0)+((8191&(n=(n=n+Math.imul(u,q)|0)+Math.imul(d,X)|0))<<13)|0;h=((r=r+Math.imul(d,q)|0)+(n>>>13)|0)+(vt>>>26)|0,vt&=67108863,s=Math.imul(x,U),n=(n=Math.imul(x,H))+Math.imul(S,U)|0,r=Math.imul(S,H),s=s+Math.imul(y,W)|0,n=(n=n+Math.imul(y,j)|0)+Math.imul(v,W)|0,r=r+Math.imul(v,j)|0,s=s+Math.imul(p,X)|0,n=(n=n+Math.imul(p,q)|0)+Math.imul(g,X)|0,r=r+Math.imul(g,q)|0;var bt=(h+(s=s+Math.imul(u,K)|0)|0)+((8191&(n=(n=n+Math.imul(u,Z)|0)+Math.imul(d,K)|0))<<13)|0;h=((r=r+Math.imul(d,Z)|0)+(n>>>13)|0)+(bt>>>26)|0,bt&=67108863,s=Math.imul(w,U),n=(n=Math.imul(w,H))+Math.imul(C,U)|0,r=Math.imul(C,H),s=s+Math.imul(x,W)|0,n=(n=n+Math.imul(x,j)|0)+Math.imul(S,W)|0,r=r+Math.imul(S,j)|0,s=s+Math.imul(y,X)|0,n=(n=n+Math.imul(y,q)|0)+Math.imul(v,X)|0,r=r+Math.imul(v,q)|0,s=s+Math.imul(p,K)|0,n=(n=n+Math.imul(p,Z)|0)+Math.imul(g,K)|0,r=r+Math.imul(g,Z)|0;var xt=(h+(s=s+Math.imul(u,$)|0)|0)+((8191&(n=(n=n+Math.imul(u,tt)|0)+Math.imul(d,$)|0))<<13)|0;h=((r=r+Math.imul(d,tt)|0)+(n>>>13)|0)+(xt>>>26)|0,xt&=67108863,s=Math.imul(k,U),n=(n=Math.imul(k,H))+Math.imul(R,U)|0,r=Math.imul(R,H),s=s+Math.imul(w,W)|0,n=(n=n+Math.imul(w,j)|0)+Math.imul(C,W)|0,r=r+Math.imul(C,j)|0,s=s+Math.imul(x,X)|0,n=(n=n+Math.imul(x,q)|0)+Math.imul(S,X)|0,r=r+Math.imul(S,q)|0,s=s+Math.imul(y,K)|0,n=(n=n+Math.imul(y,Z)|0)+Math.imul(v,K)|0,r=r+Math.imul(v,Z)|0,s=s+Math.imul(p,$)|0,n=(n=n+Math.imul(p,tt)|0)+Math.imul(g,$)|0,r=r+Math.imul(g,tt)|0;var St=(h+(s=s+Math.imul(u,it)|0)|0)+((8191&(n=(n=n+Math.imul(u,st)|0)+Math.imul(d,it)|0))<<13)|0;h=((r=r+Math.imul(d,st)|0)+(n>>>13)|0)+(St>>>26)|0,St&=67108863,s=Math.imul(T,U),n=(n=Math.imul(T,H))+Math.imul(I,U)|0,r=Math.imul(I,H),s=s+Math.imul(k,W)|0,n=(n=n+Math.imul(k,j)|0)+Math.imul(R,W)|0,r=r+Math.imul(R,j)|0,s=s+Math.imul(w,X)|0,n=(n=n+Math.imul(w,q)|0)+Math.imul(C,X)|0,r=r+Math.imul(C,q)|0,s=s+Math.imul(x,K)|0,n=(n=n+Math.imul(x,Z)|0)+Math.imul(S,K)|0,r=r+Math.imul(S,Z)|0,s=s+Math.imul(y,$)|0,n=(n=n+Math.imul(y,tt)|0)+Math.imul(v,$)|0,r=r+Math.imul(v,tt)|0,s=s+Math.imul(p,it)|0,n=(n=n+Math.imul(p,st)|0)+Math.imul(g,it)|0,r=r+Math.imul(g,st)|0;var At=(h+(s=s+Math.imul(u,rt)|0)|0)+((8191&(n=(n=n+Math.imul(u,ot)|0)+Math.imul(d,rt)|0))<<13)|0;h=((r=r+Math.imul(d,ot)|0)+(n>>>13)|0)+(At>>>26)|0,At&=67108863,s=Math.imul(F,U),n=(n=Math.imul(F,H))+Math.imul(D,U)|0,r=Math.imul(D,H),s=s+Math.imul(T,W)|0,n=(n=n+Math.imul(T,j)|0)+Math.imul(I,W)|0,r=r+Math.imul(I,j)|0,s=s+Math.imul(k,X)|0,n=(n=n+Math.imul(k,q)|0)+Math.imul(R,X)|0,r=r+Math.imul(R,q)|0,s=s+Math.imul(w,K)|0,n=(n=n+Math.imul(w,Z)|0)+Math.imul(C,K)|0,r=r+Math.imul(C,Z)|0,s=s+Math.imul(x,$)|0,n=(n=n+Math.imul(x,tt)|0)+Math.imul(S,$)|0,r=r+Math.imul(S,tt)|0,s=s+Math.imul(y,it)|0,n=(n=n+Math.imul(y,st)|0)+Math.imul(v,it)|0,r=r+Math.imul(v,st)|0,s=s+Math.imul(p,rt)|0,n=(n=n+Math.imul(p,ot)|0)+Math.imul(g,rt)|0,r=r+Math.imul(g,ot)|0;var wt=(h+(s=s+Math.imul(u,lt)|0)|0)+((8191&(n=(n=n+Math.imul(u,ht)|0)+Math.imul(d,lt)|0))<<13)|0;h=((r=r+Math.imul(d,ht)|0)+(n>>>13)|0)+(wt>>>26)|0,wt&=67108863,s=Math.imul(z,U),n=(n=Math.imul(z,H))+Math.imul(N,U)|0,r=Math.imul(N,H),s=s+Math.imul(F,W)|0,n=(n=n+Math.imul(F,j)|0)+Math.imul(D,W)|0,r=r+Math.imul(D,j)|0,s=s+Math.imul(T,X)|0,n=(n=n+Math.imul(T,q)|0)+Math.imul(I,X)|0,r=r+Math.imul(I,q)|0,s=s+Math.imul(k,K)|0,n=(n=n+Math.imul(k,Z)|0)+Math.imul(R,K)|0,r=r+Math.imul(R,Z)|0,s=s+Math.imul(w,$)|0,n=(n=n+Math.imul(w,tt)|0)+Math.imul(C,$)|0,r=r+Math.imul(C,tt)|0,s=s+Math.imul(x,it)|0,n=(n=n+Math.imul(x,st)|0)+Math.imul(S,it)|0,r=r+Math.imul(S,st)|0,s=s+Math.imul(y,rt)|0,n=(n=n+Math.imul(y,ot)|0)+Math.imul(v,rt)|0,r=r+Math.imul(v,ot)|0,s=s+Math.imul(p,lt)|0,n=(n=n+Math.imul(p,ht)|0)+Math.imul(g,lt)|0,r=r+Math.imul(g,ht)|0;var Ct=(h+(s=s+Math.imul(u,ut)|0)|0)+((8191&(n=(n=n+Math.imul(u,dt)|0)+Math.imul(d,ut)|0))<<13)|0;h=((r=r+Math.imul(d,dt)|0)+(n>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,s=Math.imul(V,U),n=(n=Math.imul(V,H))+Math.imul(B,U)|0,r=Math.imul(B,H),s=s+Math.imul(z,W)|0,n=(n=n+Math.imul(z,j)|0)+Math.imul(N,W)|0,r=r+Math.imul(N,j)|0,s=s+Math.imul(F,X)|0,n=(n=n+Math.imul(F,q)|0)+Math.imul(D,X)|0,r=r+Math.imul(D,q)|0,s=s+Math.imul(T,K)|0,n=(n=n+Math.imul(T,Z)|0)+Math.imul(I,K)|0,r=r+Math.imul(I,Z)|0,s=s+Math.imul(k,$)|0,n=(n=n+Math.imul(k,tt)|0)+Math.imul(R,$)|0,r=r+Math.imul(R,tt)|0,s=s+Math.imul(w,it)|0,n=(n=n+Math.imul(w,st)|0)+Math.imul(C,it)|0,r=r+Math.imul(C,st)|0,s=s+Math.imul(x,rt)|0,n=(n=n+Math.imul(x,ot)|0)+Math.imul(S,rt)|0,r=r+Math.imul(S,ot)|0,s=s+Math.imul(y,lt)|0,n=(n=n+Math.imul(y,ht)|0)+Math.imul(v,lt)|0,r=r+Math.imul(v,ht)|0,s=s+Math.imul(p,ut)|0,n=(n=n+Math.imul(p,dt)|0)+Math.imul(g,ut)|0,r=r+Math.imul(g,dt)|0;var Mt=(h+(s=s+Math.imul(u,pt)|0)|0)+((8191&(n=(n=n+Math.imul(u,gt)|0)+Math.imul(d,pt)|0))<<13)|0;h=((r=r+Math.imul(d,gt)|0)+(n>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,s=Math.imul(V,W),n=(n=Math.imul(V,j))+Math.imul(B,W)|0,r=Math.imul(B,j),s=s+Math.imul(z,X)|0,n=(n=n+Math.imul(z,q)|0)+Math.imul(N,X)|0,r=r+Math.imul(N,q)|0,s=s+Math.imul(F,K)|0,n=(n=n+Math.imul(F,Z)|0)+Math.imul(D,K)|0,r=r+Math.imul(D,Z)|0,s=s+Math.imul(T,$)|0,n=(n=n+Math.imul(T,tt)|0)+Math.imul(I,$)|0,r=r+Math.imul(I,tt)|0,s=s+Math.imul(k,it)|0,n=(n=n+Math.imul(k,st)|0)+Math.imul(R,it)|0,r=r+Math.imul(R,st)|0,s=s+Math.imul(w,rt)|0,n=(n=n+Math.imul(w,ot)|0)+Math.imul(C,rt)|0,r=r+Math.imul(C,ot)|0,s=s+Math.imul(x,lt)|0,n=(n=n+Math.imul(x,ht)|0)+Math.imul(S,lt)|0,r=r+Math.imul(S,ht)|0,s=s+Math.imul(y,ut)|0,n=(n=n+Math.imul(y,dt)|0)+Math.imul(v,ut)|0,r=r+Math.imul(v,dt)|0;var kt=(h+(s=s+Math.imul(p,pt)|0)|0)+((8191&(n=(n=n+Math.imul(p,gt)|0)+Math.imul(g,pt)|0))<<13)|0;h=((r=r+Math.imul(g,gt)|0)+(n>>>13)|0)+(kt>>>26)|0,kt&=67108863,s=Math.imul(V,X),n=(n=Math.imul(V,q))+Math.imul(B,X)|0,r=Math.imul(B,q),s=s+Math.imul(z,K)|0,n=(n=n+Math.imul(z,Z)|0)+Math.imul(N,K)|0,r=r+Math.imul(N,Z)|0,s=s+Math.imul(F,$)|0,n=(n=n+Math.imul(F,tt)|0)+Math.imul(D,$)|0,r=r+Math.imul(D,tt)|0,s=s+Math.imul(T,it)|0,n=(n=n+Math.imul(T,st)|0)+Math.imul(I,it)|0,r=r+Math.imul(I,st)|0,s=s+Math.imul(k,rt)|0,n=(n=n+Math.imul(k,ot)|0)+Math.imul(R,rt)|0,r=r+Math.imul(R,ot)|0,s=s+Math.imul(w,lt)|0,n=(n=n+Math.imul(w,ht)|0)+Math.imul(C,lt)|0,r=r+Math.imul(C,ht)|0,s=s+Math.imul(x,ut)|0,n=(n=n+Math.imul(x,dt)|0)+Math.imul(S,ut)|0,r=r+Math.imul(S,dt)|0;var Rt=(h+(s=s+Math.imul(y,pt)|0)|0)+((8191&(n=(n=n+Math.imul(y,gt)|0)+Math.imul(v,pt)|0))<<13)|0;h=((r=r+Math.imul(v,gt)|0)+(n>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,s=Math.imul(V,K),n=(n=Math.imul(V,Z))+Math.imul(B,K)|0,r=Math.imul(B,Z),s=s+Math.imul(z,$)|0,n=(n=n+Math.imul(z,tt)|0)+Math.imul(N,$)|0,r=r+Math.imul(N,tt)|0,s=s+Math.imul(F,it)|0,n=(n=n+Math.imul(F,st)|0)+Math.imul(D,it)|0,r=r+Math.imul(D,st)|0,s=s+Math.imul(T,rt)|0,n=(n=n+Math.imul(T,ot)|0)+Math.imul(I,rt)|0,r=r+Math.imul(I,ot)|0,s=s+Math.imul(k,lt)|0,n=(n=n+Math.imul(k,ht)|0)+Math.imul(R,lt)|0,r=r+Math.imul(R,ht)|0,s=s+Math.imul(w,ut)|0,n=(n=n+Math.imul(w,dt)|0)+Math.imul(C,ut)|0,r=r+Math.imul(C,dt)|0;var Et=(h+(s=s+Math.imul(x,pt)|0)|0)+((8191&(n=(n=n+Math.imul(x,gt)|0)+Math.imul(S,pt)|0))<<13)|0;h=((r=r+Math.imul(S,gt)|0)+(n>>>13)|0)+(Et>>>26)|0,Et&=67108863,s=Math.imul(V,$),n=(n=Math.imul(V,tt))+Math.imul(B,$)|0,r=Math.imul(B,tt),s=s+Math.imul(z,it)|0,n=(n=n+Math.imul(z,st)|0)+Math.imul(N,it)|0,r=r+Math.imul(N,st)|0,s=s+Math.imul(F,rt)|0,n=(n=n+Math.imul(F,ot)|0)+Math.imul(D,rt)|0,r=r+Math.imul(D,ot)|0,s=s+Math.imul(T,lt)|0,n=(n=n+Math.imul(T,ht)|0)+Math.imul(I,lt)|0,r=r+Math.imul(I,ht)|0,s=s+Math.imul(k,ut)|0,n=(n=n+Math.imul(k,dt)|0)+Math.imul(R,ut)|0,r=r+Math.imul(R,dt)|0;var Tt=(h+(s=s+Math.imul(w,pt)|0)|0)+((8191&(n=(n=n+Math.imul(w,gt)|0)+Math.imul(C,pt)|0))<<13)|0;h=((r=r+Math.imul(C,gt)|0)+(n>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,s=Math.imul(V,it),n=(n=Math.imul(V,st))+Math.imul(B,it)|0,r=Math.imul(B,st),s=s+Math.imul(z,rt)|0,n=(n=n+Math.imul(z,ot)|0)+Math.imul(N,rt)|0,r=r+Math.imul(N,ot)|0,s=s+Math.imul(F,lt)|0,n=(n=n+Math.imul(F,ht)|0)+Math.imul(D,lt)|0,r=r+Math.imul(D,ht)|0,s=s+Math.imul(T,ut)|0,n=(n=n+Math.imul(T,dt)|0)+Math.imul(I,ut)|0,r=r+Math.imul(I,dt)|0;var It=(h+(s=s+Math.imul(k,pt)|0)|0)+((8191&(n=(n=n+Math.imul(k,gt)|0)+Math.imul(R,pt)|0))<<13)|0;h=((r=r+Math.imul(R,gt)|0)+(n>>>13)|0)+(It>>>26)|0,It&=67108863,s=Math.imul(V,rt),n=(n=Math.imul(V,ot))+Math.imul(B,rt)|0,r=Math.imul(B,ot),s=s+Math.imul(z,lt)|0,n=(n=n+Math.imul(z,ht)|0)+Math.imul(N,lt)|0,r=r+Math.imul(N,ht)|0,s=s+Math.imul(F,ut)|0,n=(n=n+Math.imul(F,dt)|0)+Math.imul(D,ut)|0,r=r+Math.imul(D,dt)|0;var Pt=(h+(s=s+Math.imul(T,pt)|0)|0)+((8191&(n=(n=n+Math.imul(T,gt)|0)+Math.imul(I,pt)|0))<<13)|0;h=((r=r+Math.imul(I,gt)|0)+(n>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,s=Math.imul(V,lt),n=(n=Math.imul(V,ht))+Math.imul(B,lt)|0,r=Math.imul(B,ht),s=s+Math.imul(z,ut)|0,n=(n=n+Math.imul(z,dt)|0)+Math.imul(N,ut)|0,r=r+Math.imul(N,dt)|0;var Ft=(h+(s=s+Math.imul(F,pt)|0)|0)+((8191&(n=(n=n+Math.imul(F,gt)|0)+Math.imul(D,pt)|0))<<13)|0;h=((r=r+Math.imul(D,gt)|0)+(n>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,s=Math.imul(V,ut),n=(n=Math.imul(V,dt))+Math.imul(B,ut)|0,r=Math.imul(B,dt);var Dt=(h+(s=s+Math.imul(z,pt)|0)|0)+((8191&(n=(n=n+Math.imul(z,gt)|0)+Math.imul(N,pt)|0))<<13)|0;h=((r=r+Math.imul(N,gt)|0)+(n>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Lt=(h+(s=Math.imul(V,pt))|0)+((8191&(n=(n=Math.imul(V,gt))+Math.imul(B,pt)|0))<<13)|0;return h=((r=Math.imul(B,gt))+(n>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,l[0]=mt,l[1]=yt,l[2]=vt,l[3]=bt,l[4]=xt,l[5]=St,l[6]=At,l[7]=wt,l[8]=Ct,l[9]=Mt,l[10]=kt,l[11]=Rt,l[12]=Et,l[13]=Tt,l[14]=It,l[15]=Pt,l[16]=Ft,l[17]=Dt,l[18]=Lt,0!==h&&(l[19]=h,i.length++),i};function g(t,e,i){i.negative=e.negative^t.negative,i.length=t.length+e.length;for(var s=0,n=0,r=0;r<i.length-1;r++){var o=n;n=0;for(var a=67108863&s,l=Math.min(r,e.length-1),h=Math.max(0,r-t.length+1);h<=l;h++){var c=r-h,u=(0|t.words[c])*(0|e.words[h]),d=67108863&u;a=67108863&(d=d+a|0),n+=(o=(o=o+(u/67108864|0)|0)+(d>>>26)|0)>>>26,o&=67108863}i.words[r]=a,s=o,o=n}return 0!==s?i.words[r]=s:i.length--,i.I$()}function m(t,e,i){return g(t,e,i)}Math.imul||(p=f),n.prototype.mulTo=function(t,e){var i=this.length+t.length;return 10===this.length&&10===t.length?p(this,t,e):i<63?f(this,t,e):i<1024?g(this,t,e):m(this,t,e)},n.prototype.mul=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},n.prototype.mulf=function(t){var e=new n(null);return e.words=new Array(this.length+t.length),m(this,t,e)},n.prototype.imul=function(t){return this.clone().mulTo(t,this)},n.prototype.imuln=function(t){var e=t<0;e&&(t=-t),i("number"==typeof t),i(t<67108864);for(var s=0,n=0;n<this.length;n++){var r=(0|this.words[n])*t,o=(67108863&r)+(67108863&s);s>>=26,s+=r/67108864|0,s+=o>>>26,this.words[n]=67108863&o}return 0!==s&&(this.words[n]=s,this.length++),e?this.ineg():this},n.prototype.muln=function(t){return this.clone().imuln(t)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),i=0;i<e.length;i++){var s=i/26|0,n=i%26;e[i]=t.words[s]>>>n&1}return e}(t);if(0===e.length)return new n(1);for(var i=this,s=0;s<e.length&&0===e[s];s++,i=i.sqr());if(++s<e.length)for(var r=i.sqr();s<e.length;s++,r=r.sqr())0!==e[s]&&(i=i.mul(r));return i},n.prototype.iushln=function(t){i("number"==typeof t&&t>=0);var e,s=t%26,n=(t-s)/26,r=67108863>>>26-s<<26-s;if(0!==s){var o=0;for(e=0;e<this.length;e++){var a=this.words[e]&r,l=(0|this.words[e])-a<<s;this.words[e]=l|o,o=a>>>26-s}o&&(this.words[e]=o,this.length++)}if(0!==n){for(e=this.length-1;e>=0;e--)this.words[e+n]=this.words[e];for(e=0;e<n;e++)this.words[e]=0;this.length+=n}return this.I$()},n.prototype.ishln=function(t){return i(0===this.negative),this.iushln(t)},n.prototype.iushrn=function(t,e,s){var n;i("number"==typeof t&&t>=0),n=e?(e-e%26)/26:0;var r=t%26,o=Math.min((t-r)/26,this.length),a=67108863^67108863>>>r<<r,l=s;if(n-=o,n=Math.max(0,n),l){for(var h=0;h<o;h++)l.words[h]=this.words[h];l.length=o}if(0===o);else if(this.length>o)for(this.length-=o,h=0;h<this.length;h++)this.words[h]=this.words[h+o];else this.words[0]=0,this.length=1;var c=0;for(h=this.length-1;h>=0&&(0!==c||h>=n);h--){var u=0|this.words[h];this.words[h]=c<<26-r|u>>>r,c=u&a}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.I$()},n.prototype.ishrn=function(t,e,s){return i(0===this.negative),this.iushrn(t,e,s)},n.prototype.shln=function(t){return this.clone().ishln(t)},n.prototype.ushln=function(t){return this.clone().iushln(t)},n.prototype.shrn=function(t){return this.clone().ishrn(t)},n.prototype.ushrn=function(t){return this.clone().iushrn(t)},n.prototype.testn=function(t){i("number"==typeof t&&t>=0);var e=t%26,s=(t-e)/26,n=1<<e;return!(this.length<=s||!(this.words[s]&n))},n.prototype.imaskn=function(t){i("number"==typeof t&&t>=0);var e=t%26,s=(t-e)/26;if(i(0===this.negative,"imaskn works only with positive numbers"),this.length<=s)return this;if(0!==e&&s++,this.length=Math.min(s,this.length),0!==e){var n=67108863^67108863>>>e<<e;this.words[this.length-1]&=n}return this.I$()},n.prototype.maskn=function(t){return this.clone().imaskn(t)},n.prototype.iaddn=function(t){return i("number"==typeof t),i(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this.P$(t)},n.prototype.P$=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},n.prototype.isubn=function(t){if(i("number"==typeof t),i(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.I$()},n.prototype.addn=function(t){return this.clone().iaddn(t)},n.prototype.subn=function(t){return this.clone().isubn(t)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype.O$=function(t,e,s){var n,r,o=t.length+s;this.B$(o);var a=0;for(n=0;n<t.length;n++){r=(0|this.words[n+s])+a;var l=(0|t.words[n])*e;a=((r-=67108863&l)>>26)-(l/67108864|0),this.words[n+s]=67108863&r}for(;n<this.length-s;n++)a=(r=(0|this.words[n+s])+a)>>26,this.words[n+s]=67108863&r;if(0===a)return this.I$();for(i(-1===a),a=0,n=0;n<this.length;n++)a=(r=-(0|this.words[n])+a)>>26,this.words[n]=67108863&r;return this.negative=1,this.I$()},n.prototype.N$=function(t,e){var i=(this.length,t.length),s=this.clone(),r=t,o=0|r.words[r.length-1];0!=(i=26-this.z$(o))&&(r=r.ushln(i),s.iushln(i),o=0|r.words[r.length-1]);var a,l=s.length-r.length;if("mod"!==e){(a=new n(null)).length=l+1,a.words=new Array(a.length);for(var h=0;h<a.length;h++)a.words[h]=0}var c=s.clone().O$(r,1,l);0===c.negative&&(s=c,a&&(a.words[l]=1));for(var u=l-1;u>=0;u--){var d=67108864*(0|s.words[r.length+u])+(0|s.words[r.length+u-1]);for(d=Math.min(d/o|0,67108863),s.O$(r,d,u);0!==s.negative;)d--,s.negative=0,s.O$(r,1,u),s.isZero()||(s.negative^=1);a&&(a.words[u]=d)}return a&&a.I$(),s.I$(),"div"!==e&&0!==i&&s.iushrn(i),{div:a||null,mod:s}},n.prototype.divmod=function(t,e,s){return i(!t.isZero()),this.isZero()?{div:new n(0),mod:new n(0)}:0!==this.negative&&0===t.negative?(a=this.neg().divmod(t,e),"mod"!==e&&(r=a.div.neg()),"div"!==e&&(o=a.mod.neg(),s&&0!==o.negative&&o.iadd(t)),{div:r,mod:o}):0===this.negative&&0!==t.negative?(a=this.divmod(t.neg(),e),"mod"!==e&&(r=a.div.neg()),{div:r,mod:a.mod}):0!=(this.negative&t.negative)?(a=this.neg().divmod(t.neg(),e),"div"!==e&&(o=a.mod.neg(),s&&0!==o.negative&&o.isub(t)),{div:a.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new n(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new n(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new n(this.modrn(t.words[0]))}:this.N$(t,e);var r,o,a},n.prototype.div=function(t){return this.divmod(t,"div",!1).div},n.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},n.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},n.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var i=0!==e.div.negative?e.mod.isub(t):e.mod,s=t.ushrn(1),n=t.andln(1),r=i.cmp(s);return r<0||1===n&&0===r?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},n.prototype.modrn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var s=(1<<26)%t,n=0,r=this.length-1;r>=0;r--)n=(s*n+(0|this.words[r]))%t;return e?-n:n},n.prototype.modn=function(t){return this.modrn(t)},n.prototype.idivn=function(t){var e=t<0;e&&(t=-t),i(t<=67108863);for(var s=0,n=this.length-1;n>=0;n--){var r=(0|this.words[n])+67108864*s;this.words[n]=r/t|0,s=r%t}return this.I$(),e?this.ineg():this},n.prototype.divn=function(t){return this.clone().idivn(t)},n.prototype.egcd=function(t){i(0===t.negative),i(!t.isZero());var e=this,s=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r=new n(1),o=new n(0),a=new n(0),l=new n(1),h=0;e.isEven()&&s.isEven();)e.iushrn(1),s.iushrn(1),++h;for(var c=s.clone(),u=e.clone();!e.isZero();){for(var d=0,f=1;0==(e.words[0]&f)&&d<26;++d,f<<=1);if(d>0)for(e.iushrn(d);d-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(c),o.isub(u)),r.iushrn(1),o.iushrn(1);for(var p=0,g=1;0==(s.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(s.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(c),l.isub(u)),a.iushrn(1),l.iushrn(1);e.cmp(s)>=0?(e.isub(s),r.isub(a),o.isub(l)):(s.isub(e),a.isub(r),l.isub(o))}return{a:a,b:l,gcd:s.iushln(h)}},n.prototype.G$=function(t){i(0===t.negative),i(!t.isZero());var e=this,s=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var r,o=new n(1),a=new n(0),l=s.clone();e.cmpn(1)>0&&s.cmpn(1)>0;){for(var h=0,c=1;0==(e.words[0]&c)&&h<26;++h,c<<=1);if(h>0)for(e.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(l),o.iushrn(1);for(var u=0,d=1;0==(s.words[0]&d)&&u<26;++u,d<<=1);if(u>0)for(s.iushrn(u);u-- >0;)a.isOdd()&&a.iadd(l),a.iushrn(1);e.cmp(s)>=0?(e.isub(s),o.isub(a)):(s.isub(e),a.isub(o))}return(r=0===e.cmpn(1)?o:a).cmpn(0)<0&&r.iadd(t),r},n.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),i=t.clone();e.negative=0,i.negative=0;for(var s=0;e.isEven()&&i.isEven();s++)e.iushrn(1),i.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;i.isEven();)i.iushrn(1);var n=e.cmp(i);if(n<0){var r=e;e=i,i=r}else if(0===n||0===i.cmpn(1))break;e.isub(i)}return i.iushln(s)},n.prototype.invm=function(t){return this.egcd(t).a.umod(t)},n.prototype.isEven=function(){return 0==(1&this.words[0])},n.prototype.isOdd=function(){return 1==(1&this.words[0])},n.prototype.andln=function(t){return this.words[0]&t},n.prototype.bincn=function(t){i("number"==typeof t);var e=t%26,s=(t-e)/26,n=1<<e;if(this.length<=s)return this.B$(s+1),this.words[s]|=n,this;for(var r=n,o=s;0!==r&&o<this.length;o++){var a=0|this.words[o];r=(a+=r)>>>26,a&=67108863,this.words[o]=a}return 0!==r&&(this.words[o]=r,this.length++),this},n.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},n.prototype.cmpn=function(t){var e,s=t<0;if(0!==this.negative&&!s)return-1;if(0===this.negative&&s)return 1;if(this.I$(),this.length>1)e=1;else{s&&(t=-t),i(t<=67108863,"Number is too big");var n=0|this.words[0];e=n===t?0:n<t?-1:1}return 0!==this.negative?0|-e:e},n.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},n.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var s=0|this.words[i],n=0|t.words[i];if(s!==n){s<n?e=-1:s>n&&(e=1);break}}return e},n.prototype.gtn=function(t){return 1===this.cmpn(t)},n.prototype.gt=function(t){return 1===this.cmp(t)},n.prototype.gten=function(t){return this.cmpn(t)>=0},n.prototype.gte=function(t){return this.cmp(t)>=0},n.prototype.ltn=function(t){return-1===this.cmpn(t)},n.prototype.lt=function(t){return-1===this.cmp(t)},n.prototype.lten=function(t){return this.cmpn(t)<=0},n.prototype.lte=function(t){return this.cmp(t)<=0},n.prototype.eqn=function(t){return 0===this.cmpn(t)},n.prototype.eq=function(t){return 0===this.cmp(t)},n.red=function(t){return new w(t)},n.prototype.toRed=function(t){return i(!this.red,"Already a number in reduction context"),i(0===this.negative,"red works only with positives"),t.convertTo(this).W$(t)},n.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype.W$=function(t){return this.red=t,this},n.prototype.forceRed=function(t){return i(!this.red,"Already a number in reduction context"),this.W$(t)},n.prototype.redAdd=function(t){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},n.prototype.redIAdd=function(t){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},n.prototype.redSub=function(t){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},n.prototype.redISub=function(t){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},n.prototype.redShl=function(t){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},n.prototype.redMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red.U$(this,t),this.red.mul(this,t)},n.prototype.redIMul=function(t){return i(this.red,"redMul works only with red numbers"),this.red.U$(this,t),this.red.imul(this,t)},n.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red.Y$(this),this.red.sqr(this)},n.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red.Y$(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red.Y$(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red.Y$(this),this.red.invm(this)},n.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red.Y$(this),this.red.neg(this)},n.prototype.redPow=function(t){return i(this.red&&!t.red,"redPow(normalNum)"),this.red.Y$(this),this.red.pow(this,t)};var y={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new n(e,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this.H$()}function b(){v.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function x(){v.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){v.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function A(){v.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function w(t){if("string"==typeof t){var e=n.$$(t);this.m=e.p,this.prime=e}else i(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function C(t){w.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r.G$(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype.H$=function(){var t=new n(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,i=t;do{this.split(i,this.tmp),e=(i=(i=this.imulK(i)).iadd(this.tmp)).bitLength()}while(e>this.n);var s=e<this.n?-1:i.ucmp(this.p);return 0===s?(i.words[0]=0,i.length=1):s>0?i.isub(this.p):void 0!==i.strip?i.strip():i.I$(),i},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},s(b,v),b.prototype.split=function(t,e){for(var i=4194303,s=Math.min(t.length,9),n=0;n<s;n++)e.words[n]=t.words[n];if(e.length=s,t.length<=9)return t.words[0]=0,void(t.length=1);var r=t.words[9];for(e.words[e.length++]=r&i,n=10;n<t.length;n++){var o=0|t.words[n];t.words[n-10]=(o&i)<<4|r>>>22,r=o}r>>>=22,t.words[n-10]=r,0===r&&t.length>10?t.length-=10:t.length-=9},b.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var s=0|t.words[i];e+=977*s,t.words[i]=67108863&e,e=64*s+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},s(x,v),s(S,v),s(A,v),A.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var s=19*(0|t.words[i])+e,n=67108863&s;s>>>=26,t.words[i]=n,e=s}return 0!==e&&(t.words[t.length++]=e),t},n.$$=function(t){if(y[t])return y[t];var e;if("k256"===t)e=new b;else if("p224"===t)e=new x;else if("p192"===t)e=new S;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new A}return y[t]=e,e},w.prototype.Y$=function(t){i(0===t.negative,"red works only with positives"),i(t.red,"red works only with red numbers")},w.prototype.U$=function(t,e){i(0==(t.negative|e.negative),"red works only with positives"),i(t.red&&t.red===e.red,"red works only with red numbers")},w.prototype.imod=function(t){return this.prime?this.prime.ireduce(t).W$(this):(l(t,t.umod(this.m).W$(this)),t)},w.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t).W$(this)},w.prototype.add=function(t,e){this.U$(t,e);var i=t.add(e);return i.cmp(this.m)>=0&&i.isub(this.m),i.W$(this)},w.prototype.iadd=function(t,e){this.U$(t,e);var i=t.iadd(e);return i.cmp(this.m)>=0&&i.isub(this.m),i},w.prototype.sub=function(t,e){this.U$(t,e);var i=t.sub(e);return i.cmpn(0)<0&&i.iadd(this.m),i.W$(this)},w.prototype.isub=function(t,e){this.U$(t,e);var i=t.isub(e);return i.cmpn(0)<0&&i.iadd(this.m),i},w.prototype.shl=function(t,e){return this.Y$(t),this.imod(t.ushln(e))},w.prototype.imul=function(t,e){return this.U$(t,e),this.imod(t.imul(e))},w.prototype.mul=function(t,e){return this.U$(t,e),this.imod(t.mul(e))},w.prototype.isqr=function(t){return this.imul(t,t.clone())},w.prototype.sqr=function(t){return this.mul(t,t)},w.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(i(e%2==1),3===e){var s=this.m.add(new n(1)).iushrn(2);return this.pow(t,s)}for(var r=this.m.subn(1),o=0;!r.isZero()&&0===r.andln(1);)o++,r.iushrn(1);i(!r.isZero());var a=new n(1).toRed(this),l=a.redNeg(),h=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new n(2*c*c).toRed(this);0!==this.pow(c,h).cmp(l);)c.redIAdd(l);for(var u=this.pow(c,r),d=this.pow(t,r.addn(1).iushrn(1)),f=this.pow(t,r),p=o;0!==f.cmp(a);){for(var g=f,m=0;0!==g.cmp(a);m++)g=g.redSqr();i(m<p);var y=this.pow(u,new n(1).iushln(p-m-1));d=d.redMul(y),u=y.redSqr(),f=f.redMul(u),p=m}return d},w.prototype.invm=function(t){var e=t.G$(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},w.prototype.pow=function(t,e){if(e.isZero())return new n(1).toRed(this);if(0===e.cmpn(1))return t.clone();var i=new Array(16);i[0]=new n(1).toRed(this),i[1]=t;for(var s=2;s<i.length;s++)i[s]=this.mul(i[s-1],t);var r=i[0],o=0,a=0,l=e.bitLength()%26;for(0===l&&(l=26),s=e.length-1;s>=0;s--){for(var h=e.words[s],c=l-1;c>=0;c--){var u=h>>c&1;r!==i[0]&&(r=this.sqr(r)),0!==u||0!==o?(o<<=1,o|=u,(4==++a||0===s&&0===c)&&(r=this.mul(r,i[o]),a=0,o=0)):a=0}l=26}return r},w.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},w.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},n.mont=function(t){return new C(t)},s(C,w),C.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},C.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},C.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var i=t.imul(e),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),n=i.isub(s).iushrn(this.shift),r=n;return n.cmp(this.m)>=0?r=n.isub(this.m):n.cmpn(0)<0&&(r=n.iadd(this.m)),r.W$(this)},C.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new n(0).W$(this);var i=t.mul(e),s=i.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=i.isub(s).iushrn(this.shift),o=r;return r.cmp(this.m)>=0?o=r.isub(this.m):r.cmpn(0)<0&&(o=r.iadd(this.m)),o.W$(this)},C.prototype.invm=function(t){return this.imod(t.G$(this.m).mul(this.r2)).W$(this)}}(0,uw);var fw=dw.exports;function pw(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];const i=[];if("string"!=typeof t){for(let e=0;e<t.length;e++)i[e]=0|t[e];return i}if("hex"===e){(t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0".concat(t));for(let e=0;e<t.length;e+=2)i.push(parseInt(t[e]+t[e+1],16))}else for(let s=0;s<t.length;s++){const e=t.charCodeAt(s),n=e>>8,r=255&e;n?i.push(n,r):i.push(r)}return i}const gw=function(t,e,i){const s=new Array(Math.max(t.bitLength(),i)+1);s.fill(0);const n=1<<e+1,r=t.clone();for(let o=0;o<s.length;o++){let t;const e=r.andln(n-1);r.isOdd()?(t=e>(n>>1)-1?(n>>1)-e:e,r.isubn(t)):t=0,s[o]=t,r.iushrn(1)}return s},mw=function(t,e){const i=[[],[]];t=t.clone(),e=e.clone();let s=0,n=0;for(;t.cmpn(-s)>0||e.cmpn(-n)>0;){let r,o,a=t.andln(3)+s&3,l=e.andln(3)+n&3;if(3===a&&(a=-1),3===l&&(l=-1),0==(1&a))r=0;else{const e=t.andln(7)+s&7;r=3!==e&&5!==e||2!==l?a:-a}if(i[0].push(r),0==(1&l))o=0;else{const t=e.andln(7)+n&7;o=3!==t&&5!==t||2!==a?l:-l}i[1].push(o),2*s===r+1&&(s=1-s),2*n===o+1&&(n=1-n),t.iushrn(1),e.iushrn(1)}return i};class yw{constructor(t,e){this.type=t,this.p=new fw(e.p,16),this.red=e.prime?fw.red(e.prime):fw.mont(this.p),this.zero=new fw(0).toRed(this.red),this.one=new fw(1).toRed(this.red),this.two=new fw(2).toRed(this.red),this.n=e.n&&new fw(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this.X$=new Array(4),this.j$=new Array(4),this.Z$=new Array(4),this.Q$=new Array(4),this.J$=this.n?this.n.bitLength():0;const i=this.n&&this.p.div(this.n);!i||i.cmpn(100)>0?this.redN=null:(this.K$=!0,this.redN=this.n.toRed(this.red))}q$(t,e){const i=t.tX(),s=gw(e,1,this.J$);let n=(1<<i.step+1)-(i.step%2==0?2:1);n/=3;const r=[];for(let l=0;l<s.length;l+=i.step){let t=0;for(let e=l+i.step-1;e>=l;e--)t=(t<<1)+s[e];r.push(t)}let o=this.jpoint(null,null,null),a=this.jpoint(null,null,null);for(let l=n;l>0;l--){for(let t=0;t<r.length;t++){const e=r[t];e===l?a=a.mixedAdd(i.points[t]):e===-l&&(a=a.mixedAdd(i.points[t].neg()))}o=o.add(a)}return o.toP()}iX(t,e){let i=4;const s=t.sX(i);i=s.wnd;const n=s.points,r=gw(e,i,this.J$);let o=this.jpoint(null,null,null);for(let a=r.length-1;a>=0;a--){for(let t=0;a>=0&&0===r[a];a--)t++;if(a>=0&&e++,o=o.dblp(e),a<0)break;const i=r[a];o="affine"===t.type?i>0?o.mixedAdd(n[i-1>>1]):o.mixedAdd(n[-i-1>>1].neg()):i>0?o.add(n[i-1>>1]):o.add(n[-i-1>>1].neg())}return"affine"===t.type?o.toP():o}eX(t,e,i,s,n){const r=this.X$,o=this.j$,a=this.Z$;let l=0;for(let u=0;u<s;u++){const i=e[u].sX(t);r[u]=i.wnd,o[u]=i.points}for(let u=s-1;u>=1;u-=2){const t=u-1,s=u;if(1!==r[t]||1!==r[s]){a[t]=gw(i[t],r[t],this.J$),a[s]=gw(i[s],r[s],this.J$),l=Math.max(a[t].length,l),l=Math.max(a[s].length,l);continue}const n=[e[t],null,null,e[s]];0===e[t].y.cmp(e[s].y)?(n[1]=e[t].add(e[s]),n[2]=e[t].toJ().mixedAdd(e[s].neg())):0===e[t].y.cmp(e[s].y.redNeg())?(n[1]=e[t].toJ().mixedAdd(e[s]),n[2]=e[t].add(e[s].neg())):(n[1]=e[t].toJ().mixedAdd(e[s]),n[2]=e[t].toJ().mixedAdd(e[s].neg()));const h=[-3,-1,-5,-7,0,7,5,1,3],c=mw(i[t],i[s]);l=Math.max(c[0].length,l),a[t]=new Array(l),a[s]=new Array(l);for(let e=0;e<l;e++){const i=0|c[0][e],r=0|c[1][e];a[t][e]=h[3*(i+1)+(r+1)],a[s][e]=0,o[t]=n}}let h=this.jpoint(null,null,null);const c=this.Q$;for(let u=l;u>=0;u--){let t=0;for(;u>=0;){let e=!0;for(let t=0;t<s;t++)c[t]=0|a[t][u],0!==c[t]&&(e=!1);if(!e)break;t++,u--}if(u>=0&&t++,h=h.dblp(t),u<0)break;for(let e=0;e<s;e++){const t=c[e];let i;0!==t&&(t>0?i=o[e][t-1>>1]:t<0&&(i=o[e][-t-1>>1].neg()),h="affine"===i.type?h.mixedAdd(i):h.add(i))}}for(let u=0;u<s;u++)o[u]=null;return n?h:h.toP()}decodePoint(t,e){t=pw(t,e);const i=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1==2*i)return this.point(t.slice(1,1+i),t.slice(1+i,1+2*i));if((2===t[0]||3===t[0])&&t.length-1===i)return this.pointFromX(t.slice(1,1+i),3===t[0]);throw new Error("Unknown point format")}}class vw{constructor(t,e){this.curve=t,this.type=e,this.precomputed=null}eq(t){throw new Error("Not implemented")}validate(){return this.curve.validate(this)}encodeCompressed(t){return this.encode(t,!0)}hX(t){const e=this.curve.p.byteLength(),i=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(i):[4].concat(i,this.getY().toArray("be",e))}encode(t,e){return function(t,e){return"hex"===e?function(t){let e="";for(let s=0;s<t.length;s++)e+=1===(i=t[s].toString(16)).length?"0".concat(i):i;var i;return e}(t):t}(this.hX(e),t)}precompute(t){if(this.precomputed)return this;const e={doubles:null,naf:null,beta:null};return e.naf=this.sX(8),e.doubles=this.tX(4,t),e.beta=this.rX(),this.precomputed=e,this}nX(t){if(!this.precomputed)return!1;const e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)}tX(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;const i=[this];let s=this;for(let n=0;n<e;n+=t){for(let e=0;e<t;e++)s=s.dbl();i.push(s)}return{step:t,points:i}}sX(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;const e=[this],i=(1<<t)-1,s=1===i?null:this.dbl();for(let n=1;n<i;n++)e[n]=e[n-1].add(s);return{wnd:t,points:e}}rX(){return null}dblp(t){let e=this;for(let i=0;i<t;i++)e=e.dbl();return e}}class bw extends yw{constructor(t){super("short",t),this.a=new fw(t.a,16).toRed(this.red),this.b=new fw(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this.oX(t),this.aX=new Array(4),this.lX=new Array(4)}pointFromJSON(t,e){return xw.fromJSON(this,t,e)}oX(t){if(!this.zeroA||!this.g||!this.n||1!==this.p.modn(3))return;let e,i,s;if(t.beta)e=new fw(t.beta,16).toRed(this.red);else{const t=this.uX(this.p);e=t[0].cmp(t[1])<0?t[0]:t[1],e=e.toRed(this.red)}if(t.lambda)i=new fw(t.lambda,16);else{const t=this.uX(this.n);i=0===this.g.mul(t[0]).x.cmp(this.g.x.redMul(e))?t[0]:t[1]}return s=t.basis?t.basis.map((t=>({a:new fw(t.a,16),b:new fw(t.b,16)}))):this.cX(i),{beta:e,lambda:i,basis:s}}uX(t){const e=t===this.p?this.red:fw.mont(t),i=new fw(2).toRed(e).redInvm(),s=i.redNeg(),n=new fw(3).toRed(e).redNeg().redSqrt().redMul(i);return[s.redAdd(n).fromRed(),s.redSub(n).fromRed()]}cX(t){const e=this.n.ushrn(Math.floor(this.n.bitLength()/2));let i,s,n,r,o,a,l,h,c,u=t,d=this.n.clone(),f=new fw(1),p=new fw(0),g=new fw(0),m=new fw(1),y=0;for(;0!==u.cmpn(0);){const t=d.div(u);h=d.sub(t.mul(u)),c=g.sub(t.mul(f));const o=m.sub(t.mul(p));if(!n&&h.cmp(e)<0)i=l.neg(),s=f,n=h.neg(),r=c;else if(n&&2==++y)break;l=h,d=u,u=h,g=f,f=c,m=p,p=o}o=h.neg(),a=c;const v=n.sqr().add(r.sqr());return o.sqr().add(a.sqr()).cmp(v)>=0&&(o=i,a=s),n.negative&&(n=n.neg(),r=r.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:n,b:r},{a:o,b:a}]}dX(t){const e=this.endo.basis,i=e[0],s=e[1],n=s.b.mul(t).divRound(this.n),r=i.b.neg().mul(t).divRound(this.n),o=n.mul(i.a),a=r.mul(s.a),l=n.mul(i.b),h=r.mul(s.b);return{k1:t.sub(o).sub(a),k2:l.add(h).neg()}}point(t,e,i){return new xw(this,t,e,i)}pointFromX(t,e){(t=new fw(t,16)).red||(t=t.toRed(this.red));const i=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b);let s=i.redSqrt();if(0!==s.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");const n=s.fromRed().isOdd();return(e&&!n||!e&&n)&&(s=s.redNeg()),this.point(t,s)}validate(t){if(t.inf)return!0;const e=t.x,i=t.y,s=this.a.redMul(e),n=e.redSqr().redMul(e).redIAdd(s).redIAdd(this.b);return 0===i.redSqr().redISub(n).cmpn(0)}fX(t,e,i){const s=this.aX,n=this.lX;let r=0;for(r=0;r<t.length;r++){const i=this.dX(e[r]);let o=t[r],a=o.rX();i.k1.negative&&(i.k1.ineg(),o=o.neg(!0)),i.k2.negative&&(i.k2.ineg(),a=a.neg(!0)),s[2*r]=o,s[2*r+1]=a,n[2*r]=i.k1,n[2*r+1]=i.k2}const o=this.eX(1,s,n,2*r,i);for(let a=0;a<2*r;a++)s[a]=null,n[a]=null;return o}jpoint(t,e,i){return new Sw(this,t,e,i)}}class xw extends vw{constructor(t,e,i,s){super(t,"affine"),null===e&&null===i?(this.x=null,this.y=null,this.inf=!0):(this.x=new fw(e,16),this.y=new fw(i,16),s&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}pointFromX(t,e){throw new Error("Method not implemented.")}point(t,e,i){return new xw(this,t,e,i)}rX(){if(!this.curve.endo)return;const t=this.precomputed;if(t&&t.beta)return t.beta;const e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){const i=this.curve,s=function(t){return i.point(t.x.redMul(i.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(s)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(s)}}}return e}toJSON(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]}static fromJSON(t,e,i){"string"==typeof e&&(e=JSON.parse(e));const s=t.point(e[0],e[1],i);if(!e[2])return s;function n(e){return t.point(e[0],e[1],i)}const r=e[2];return s.precomputed={beta:null,doubles:r.doubles&&{step:r.doubles.step,points:[s].concat(r.doubles.points.map(n))},naf:r.naf&&{wnd:r.naf.wnd,points:[s].concat(r.naf.points.map(n))}},s}inspect(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: ".concat(this.x.fromRed().toString(16,2)," y: ").concat(this.y.fromRed().toString(16,2),">")}isInfinity(){return this.inf}add(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);let e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));const i=e.redSqr().redISub(this.x).redISub(t.x),s=e.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,s)}dbl(){if(this.inf)return this;const t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);const e=this.curve.a,i=this.x.redSqr(),s=t.redInvm(),n=i.redAdd(i).redIAdd(i).redIAdd(e).redMul(s),r=n.redSqr().redISub(this.x.redAdd(this.x)),o=n.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,o)}getX(){return this.x.fromRed()}getY(){return this.y.fromRed()}mul(t){return t=new fw(t,16),this.isInfinity()?this:this.nX(t)?this.curve.q$(this,t):this.curve.endo?this.curve.fX([this],[t]):this.curve.iX(this,t)}mulAdd(t,e,i){const s=[this,e],n=[t,i];return this.curve.endo?this.curve.fX(s,n):this.curve.eX(1,s,n,2)}jmulAdd(t,e,i){const s=[this,e],n=[t,i];return this.curve.endo?this.curve.fX(s,n,!0):this.curve.eX(1,s,n,2,!0)}eq(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))}neg(t){if(this.inf)return this;const e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){const t=this.precomputed,i=function(t){return t.neg()};e.precomputed={naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(i)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(i)}}}return e}toJ(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)}}class Sw extends vw{constructor(t,e,i,s){super(t,"jacobian"),null===e&&null===i&&null===s?(this.x=this.curve.one,this.y=this.curve.one,this.z=new fw(0)):(this.x=new fw(e,16),this.y=new fw(i,16),this.z=new fw(s,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}getY(){throw new Error("Method not implemented.")}getX(){throw new Error("Method not implemented.")}pointFromX(t,e){throw new Error("Method not implemented.")}point(t,e,i){throw new Error("Method not implemented.")}jpoint(t,e,i){return new Sw(this,t,e,i)}toP(){if(this.isInfinity())return this.curve.point(null,null);const t=this.z.redInvm(),e=t.redSqr(),i=this.x.redMul(e),s=this.y.redMul(e).redMul(t);return this.curve.point(i,s)}neg(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)}add(t){if(this.isInfinity())return t;if(t.isInfinity())return this;const e=t.z.redSqr(),i=this.z.redSqr(),s=this.x.redMul(e),n=t.x.redMul(i),r=this.y.redMul(e.redMul(t.z)),o=t.y.redMul(i.redMul(this.z)),a=s.redSub(n),l=r.redSub(o);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();const h=a.redSqr(),c=h.redMul(a),u=s.redMul(h),d=l.redSqr().redIAdd(c).redISub(u).redISub(u),f=l.redMul(u.redISub(d)).redISub(r.redMul(c)),p=this.z.redMul(t.z).redMul(a);return this.curve.jpoint(d,f,p)}mixedAdd(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;const e=this.z.redSqr(),i=this.x,s=t.x.redMul(e),n=this.y,r=t.y.redMul(e).redMul(this.z),o=i.redSub(s),a=n.redSub(r);if(0===o.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();const l=o.redSqr(),h=l.redMul(o),c=i.redMul(l),u=a.redSqr().redIAdd(h).redISub(c).redISub(c),d=a.redMul(c.redISub(u)).redISub(n.redMul(h)),f=this.z.redMul(o);return this.curve.jpoint(u,d,f)}dblp(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){let e=this;for(let i=0;i<t;i++)e=e.dbl();return e}const e=this.curve.a,i=this.curve.tinv;let s=this.x;const n=this.y;let r=this.z,o=r.redSqr().redSqr(),a=n.redAdd(n);for(let l=0;l<t;l++){const i=s.redSqr(),n=a.redSqr(),h=n.redSqr(),c=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(o)),u=s.redMul(n),d=c.redSqr().redISub(u.redAdd(u)),f=u.redISub(d);let p=c.redMul(f);p=p.redIAdd(p).redISub(h);const g=a.redMul(r);l+1<t&&(o=o.redMul(h)),s=d,r=g,a=p}return this.curve.jpoint(s,a.redMul(i),r)}dbl(){return this.isInfinity()?this:this.curve.zeroA?this.AX():this.curve.threeA?this.gX():this.mX()}AX(){let t,e,i;if(this.zOne){const s=this.x.redSqr(),n=this.y.redSqr(),r=n.redSqr();let o=this.x.redAdd(n).redSqr().redISub(s).redISub(r);o=o.redIAdd(o);const a=s.redAdd(s).redIAdd(s),l=a.redSqr().redISub(o).redISub(o);let h=r.redIAdd(r);h=h.redIAdd(h),h=h.redIAdd(h),t=l,e=a.redMul(o.redISub(l)).redISub(h),i=this.y.redAdd(this.y)}else{const s=this.x.redSqr(),n=this.y.redSqr(),r=n.redSqr();let o=this.x.redAdd(n).redSqr().redISub(s).redISub(r);o=o.redIAdd(o);const a=s.redAdd(s).redIAdd(s),l=a.redSqr();let h=r.redIAdd(r);h=h.redIAdd(h),h=h.redIAdd(h),t=l.redISub(o).redISub(o),e=a.redMul(o.redISub(t)).redISub(h),i=this.y.redMul(this.z),i=i.redIAdd(i)}return this.curve.jpoint(t,e,i)}gX(){let t,e,i;if(this.zOne){const s=this.x.redSqr(),n=this.y.redSqr(),r=n.redSqr();let o=this.x.redAdd(n).redSqr().redISub(s).redISub(r);o=o.redIAdd(o);const a=s.redAdd(s).redIAdd(s).redIAdd(this.curve.a),l=a.redSqr().redISub(o).redISub(o);t=l;let h=r.redIAdd(r);h=h.redIAdd(h),h=h.redIAdd(h),e=a.redMul(o.redISub(l)).redISub(h),i=this.y.redAdd(this.y)}else{const s=this.z.redSqr(),n=this.y.redSqr(),r=this.x.redMul(n);let o=this.x.redSub(s).redMul(this.x.redAdd(s));o=o.redAdd(o).redIAdd(o);let a=r.redIAdd(r);a=a.redIAdd(a);const l=a.redAdd(a);t=o.redSqr().redISub(l),i=this.y.redAdd(this.z).redSqr().redISub(n).redISub(s);let h=n.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h),e=o.redMul(a.redISub(t)).redISub(h)}return this.curve.jpoint(t,e,i)}mX(){const t=this.curve.a,e=this.x,i=this.y,s=this.z,n=s.redSqr().redSqr(),r=e.redSqr(),o=i.redSqr(),a=r.redAdd(r).redIAdd(r).redIAdd(t.redMul(n));let l=e.redAdd(e);l=l.redIAdd(l);const h=l.redMul(o),c=a.redSqr().redISub(h.redAdd(h)),u=h.redISub(c);let d=o.redSqr();d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);const f=a.redMul(u).redISub(d),p=i.redAdd(i).redMul(s);return this.curve.jpoint(c,f,p)}trpl(){if(!this.curve.zeroA)return this.dbl().add(this);const t=this.x.redSqr(),e=this.y.redSqr(),i=this.z.redSqr(),s=e.redSqr(),n=t.redAdd(t).redIAdd(t),r=n.redSqr();let o=this.x.redAdd(e).redSqr().redISub(t).redISub(s);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(r);const a=o.redSqr();let l=s.redIAdd(s);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);const h=n.redIAdd(o).redSqr().redISub(r).redISub(a).redISub(l);let c=e.redMul(h);c=c.redIAdd(c),c=c.redIAdd(c);let u=this.x.redMul(a).redISub(c);u=u.redIAdd(u),u=u.redIAdd(u);let d=this.y.redMul(h.redMul(l.redISub(h)).redISub(o.redMul(a)));d=d.redIAdd(d),d=d.redIAdd(d),d=d.redIAdd(d);const f=this.z.redAdd(o).redSqr().redISub(i).redISub(a);return this.curve.jpoint(u,d,f)}mul(t,e){return t=new fw(t,e),this.curve.iX(this,t)}eq(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;const e=this.z.redSqr(),i=t.z.redSqr();if(0!==this.x.redMul(i).redISub(t.x.redMul(e)).cmpn(0))return!1;const s=e.redMul(this.z),n=i.redMul(t.z);return 0===this.y.redMul(n).redISub(t.y.redMul(s)).cmpn(0)}eqXToP(t){const e=this.z.redSqr(),i=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(i))return!0;const s=t.clone(),n=this.curve.redN.redMul(e);for(;;){if(s.iadd(this.curve.n),s.cmp(this.curve.p)>=0)return!1;if(i.redIAdd(n),0===this.x.cmp(i))return!0}}inspect(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: ".concat(this.x.toString(16,2)," y: ").concat(this.y.toString(16,2)," z: ").concat(this.z.toString(16,2),">")}isInfinity(){return 0===this.z.cmpn(0)}}class Aw{constructor(t){this.curve=new bw(t),this.g=this.curve.g,this.n=this.curve.n}}const ww={};var Cw;ww.PresetCurve=Aw,Cw={type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}]},Object.defineProperty(ww,"secp256k1",{configurable:!0,enumerable:!0,get(){const t=new Aw(Cw);return Object.defineProperty(ww,"secp256k1",{configurable:!0,enumerable:!0,value:t}),t}});class Mw{constructor(t,e){this.ec=t,this.priv=null,this.pub=null,e.pub&&this.yX(e.pub,e.pubEnc)}static fromPublic(t,e,i){return e instanceof Mw?e:new Mw(t,{pub:e,pubEnc:i})}validate(){const t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}}getPublic(t,e){return"string"==typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub}yX(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type||"short"===this.ec.curve.type||this.ec.curve.type,void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)}verify(t,e){return this.ec.verify(t,e,this)}}function kw(t,e){const i=t[e.place++];if(!(128&i))return i;const s=15&i;if(0===s||s>4)return!1;let n=0,r=e.place;for(let o=0;o<s;o++,r++)n<<=8,n|=t[r],n>>>=0;return!(n<=127)&&(e.place=r,n)}class Rw{constructor(){this.place=0}}class Ew{constructor(t,e){if(t instanceof Ew)return t;this.pX(t,e)||(this.r=new fw(t.r,16),this.s=new fw(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}pX(t,e){t=pw(t,e);const i=new Rw;if(48!==t[i.place++])return!1;const s=kw(t,i);if(!1===s)return!1;if(s+i.place!==t.length)return!1;if(2!==t[i.place++])return!1;const n=kw(t,i);if(!1===n)return!1;let r=t.slice(i.place,n+i.place);if(i.place+=n,2!==t[i.place++])return!1;const o=kw(t,i);if(!1===o)return!1;if(t.length!==o+i.place)return!1;let a=t.slice(i.place,o+i.place);if(0===r[0]){if(!(128&r[1]))return!1;r=r.slice(1)}if(0===a[0]){if(!(128&a[1]))return!1;a=a.slice(1)}return this.r=new fw(r),this.s=new fw(a),this.recoveryParam=null,!0}}class Tw{constructor(t){if(!(this instanceof Tw))return new Tw(t);"string"==typeof t&&(t=ww[t]),t instanceof ww.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1)}keyFromPublic(t,e){return Mw.fromPublic(this,t,e)}SX(t,e){const i=8*t.byteLength()-this.n.bitLength();return i>0&&(t=t.ushrn(i)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t}verify(t,e,i,s){t=this.SX(new fw(t,16)),i=this.keyFromPublic(i,s);const n=(e=new Ew(e,"hex")).r,r=e.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(r.cmpn(1)<0||r.cmp(this.n)>=0)return!1;const o=r.invm(this.n),a=o.mul(t).umod(this.n),l=o.mul(n).umod(this.n);if(!this.curve.K$){const t=this.g.mulAdd(a,i.getPublic(),l);return!t.isInfinity()&&0===t.getX().umod(this.n).cmp(n)}const h=this.g.jmulAdd(a,i.getPublic(),l);return!h.isInfinity()&&h.eqXToP(n)}}var Iw,Pw={exports:{}};Pw.exports=(Iw=Iw||function(t,e){var i;if("undefined"!=typeof window&&window.crypto&&(i=window.crypto),"undefined"!=typeof self&&self.crypto&&(i=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(i=globalThis.crypto),!i&&"undefined"!=typeof window&&window.msCrypto&&(i=window.msCrypto),!i&&void 0!==uw&&uw.crypto&&(i=uw.crypto),!i)try{i=e}catch(t){}var s=function(){if(i){if("function"==typeof i.getRandomValues)try{return i.getRandomValues(new Uint32Array(1))[0]}catch(t){}if("function"==typeof i.randomBytes)try{return i.randomBytes(4).readInt32LE()}catch(t){}}throw new Error("Native crypto module could not be used to get secure random number.")},n=Object.create||function(){function t(){}return function(e){var i;return t.prototype=e,i=new t,t.prototype=null,i}}(),r={},o=r.lib={},a=o.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},l=o.WordArray=a.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=e?i:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,i=t.words,s=this.sigBytes,n=t.sigBytes;if(this.clamp(),s%4)for(var r=0;r<n;r++){var o=i[r>>>2]>>>24-r%4*8&255;e[s+r>>>2]|=o<<24-(s+r)%4*8}else for(var a=0;a<n;a+=4)e[s+a>>>2]=i[a>>>2];return this.sigBytes+=n,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-i%4*8,e.length=t.ceil(i/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(t){for(var e=[],i=0;i<t;i+=4)e.push(s());return new l.init(e,t)}}),h=r.enc={},c=h.Hex={stringify:function(t){for(var e=t.words,i=t.sigBytes,s=[],n=0;n<i;n++){var r=e[n>>>2]>>>24-n%4*8&255;s.push((r>>>4).toString(16)),s.push((15&r).toString(16))}return s.join("")},parse:function(t){for(var e=t.length,i=[],s=0;s<e;s+=2)i[s>>>3]|=parseInt(t.substr(s,2),16)<<24-s%8*4;return new l.init(i,e/2)}},u=h.Latin1={stringify:function(t){for(var e=t.words,i=t.sigBytes,s=[],n=0;n<i;n++){var r=e[n>>>2]>>>24-n%4*8&255;s.push(String.fromCharCode(r))}return s.join("")},parse:function(t){for(var e=t.length,i=[],s=0;s<e;s++)i[s>>>2]|=(255&t.charCodeAt(s))<<24-s%4*8;return new l.init(i,e)}},d=h.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},f=o.BufferedBlockAlgorithm=a.extend({reset:function(){this.Jw=new l.init,this.vX=0},bX:function(t){"string"==typeof t&&(t=d.parse(t)),this.Jw.concat(t),this.vX+=t.sigBytes},xX:function(e){var i,s=this.Jw,n=s.words,r=s.sigBytes,o=this.blockSize,a=r/(4*o),h=(a=e?t.ceil(a):t.max((0|a)-this.MX,0))*o,c=t.min(4*h,r);if(h){for(var u=0;u<h;u+=o)this._X(n,u);i=n.splice(0,h),s.sigBytes-=c}return new l.init(i,c)},clone:function(){var t=a.clone.call(this);return t.Jw=this.Jw.clone(),t},MX:0});o.Hasher=f.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this.wX()},update:function(t){return this.bX(t),this.xX(),this},finalize:function(t){return t&&this.bX(t),this.CX()},blockSize:16,kX:function(t){return function(e,i){return new t.init(i).finalize(e)}},TX:function(t){return function(e,i){return new p.HMAC.init(t,i).finalize(e)}}});var p=r.algo={};return r}(Math),Iw);var Fw,Dw,Lw,zw={exports:{}}.exports=function(t){return function(e){var i=t,s=i.lib,n=s.WordArray,r=s.Hasher,o=i.algo,a=[],l=[];!function(){function t(t){for(var i=e.sqrt(t),s=2;s<=i;s++)if(!(t%s))return!1;return!0}function i(t){return 4294967296*(t-(0|t))|0}for(var s=2,n=0;n<64;)t(s)&&(n<8&&(a[n]=i(e.pow(s,.5))),l[n]=i(e.pow(s,1/3)),n++),s++}();var h=[],c=o.SHA256=r.extend({wX:function(){this.FX=new n.init(a.slice(0))},_X:function(t,e){for(var i=this.FX.words,s=i[0],n=i[1],r=i[2],o=i[3],a=i[4],c=i[5],u=i[6],d=i[7],f=0;f<64;f++){if(f<16)h[f]=0|t[e+f];else{var p=h[f-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,m=h[f-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;h[f]=g+h[f-7]+y+h[f-16]}var v=s&n^s&r^n&r,b=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),x=d+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&c^~a&u)+l[f]+h[f];d=u,u=c,c=a,a=o+x|0,o=r,r=n,n=s,s=x+(b+v)|0}i[0]=i[0]+s|0,i[1]=i[1]+n|0,i[2]=i[2]+r|0,i[3]=i[3]+o|0,i[4]=i[4]+a|0,i[5]=i[5]+c|0,i[6]=i[6]+u|0,i[7]=i[7]+d|0},CX:function(){var t=this.Jw,i=t.words,s=8*this.vX,n=8*t.sigBytes;return i[n>>>5]|=128<<24-n%32,i[14+(n+64>>>9<<4)]=e.floor(s/4294967296),i[15+(n+64>>>9<<4)]=s,t.sigBytes=4*i.length,this.xX(),this.FX},clone:function(){var t=r.clone.call(this);return t.FX=this.FX.clone(),t}});i.SHA256=r.kX(c),i.HmacSHA256=r.TX(c)}(Math),t.SHA256}(Pw.exports),Nw={exports:{}}.exports=function(t){return i=(e=t).lib.WordArray,s=e.algo,n=s.SHA256,r=s.SHA224=n.extend({wX:function(){this.FX=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},CX:function(){var t=n.CX.call(this);return t.sigBytes-=4,t}}),e.SHA224=n.kX(r),e.HmacSHA224=n.TX(r),t.SHA224;var e,i,s,n,r}(Pw.exports),_w={exports:{}}.exports=Pw.exports.enc.Hex,Vw={exports:{}}.exports=Pw.exports.enc.Utf8;!function(t){return i=(e=t).lib.WordArray,e.enc.Base64={stringify:function(t){var e=t.words,i=t.sigBytes,s=this.IX;t.clamp();for(var n=[],r=0;r<i;r+=3)for(var o=(e[r>>>2]>>>24-r%4*8&255)<<16|(e[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|e[r+2>>>2]>>>24-(r+2)%4*8&255,a=0;a<4&&r+.75*a<i;a++)n.push(s.charAt(o>>>6*(3-a)&63));var l=s.charAt(64);if(l)for(;n.length%4;)n.push(l);return n.join("")},parse:function(t){var e=t.length,s=this.IX,n=this.PX;if(!n){n=this.PX=[];for(var r=0;r<s.length;r++)n[s.charCodeAt(r)]=r}var o=s.charAt(64);if(o){var a=t.indexOf(o);-1!==a&&(e=a)}return function(t,e,s){for(var n=[],r=0,o=0;o<e;o++)if(o%4){var a=s[t.charCodeAt(o-1)]<<o%4*2|s[t.charCodeAt(o)]>>>6-o%4*2;n[r>>>2]|=a<<24-r%4*8,r++}return i.create(n,r)}(t,e,n)},IX:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},t.enc.Base64;var e,i}(Pw.exports),function(t){(function(e){var i=t,s=i.lib,n=s.WordArray,r=s.Hasher,o=i.algo,a=[];!function(){for(var t=0;t<64;t++)a[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=o.MD5=r.extend({wX:function(){this.FX=new n.init([1732584193,4023233417,2562383102,271733878])},_X:function(t,e){for(var i=0;i<16;i++){var s=e+i,n=t[s];t[s]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var r=this.FX.words,o=t[e+0],l=t[e+1],f=t[e+2],p=t[e+3],g=t[e+4],m=t[e+5],y=t[e+6],v=t[e+7],b=t[e+8],x=t[e+9],S=t[e+10],A=t[e+11],w=t[e+12],C=t[e+13],M=t[e+14],k=t[e+15],R=r[0],E=r[1],T=r[2],I=r[3];R=h(R,E,T,I,o,7,a[0]),I=h(I,R,E,T,l,12,a[1]),T=h(T,I,R,E,f,17,a[2]),E=h(E,T,I,R,p,22,a[3]),R=h(R,E,T,I,g,7,a[4]),I=h(I,R,E,T,m,12,a[5]),T=h(T,I,R,E,y,17,a[6]),E=h(E,T,I,R,v,22,a[7]),R=h(R,E,T,I,b,7,a[8]),I=h(I,R,E,T,x,12,a[9]),T=h(T,I,R,E,S,17,a[10]),E=h(E,T,I,R,A,22,a[11]),R=h(R,E,T,I,w,7,a[12]),I=h(I,R,E,T,C,12,a[13]),T=h(T,I,R,E,M,17,a[14]),R=c(R,E=h(E,T,I,R,k,22,a[15]),T,I,l,5,a[16]),I=c(I,R,E,T,y,9,a[17]),T=c(T,I,R,E,A,14,a[18]),E=c(E,T,I,R,o,20,a[19]),R=c(R,E,T,I,m,5,a[20]),I=c(I,R,E,T,S,9,a[21]),T=c(T,I,R,E,k,14,a[22]),E=c(E,T,I,R,g,20,a[23]),R=c(R,E,T,I,x,5,a[24]),I=c(I,R,E,T,M,9,a[25]),T=c(T,I,R,E,p,14,a[26]),E=c(E,T,I,R,b,20,a[27]),R=c(R,E,T,I,C,5,a[28]),I=c(I,R,E,T,f,9,a[29]),T=c(T,I,R,E,v,14,a[30]),R=u(R,E=c(E,T,I,R,w,20,a[31]),T,I,m,4,a[32]),I=u(I,R,E,T,b,11,a[33]),T=u(T,I,R,E,A,16,a[34]),E=u(E,T,I,R,M,23,a[35]),R=u(R,E,T,I,l,4,a[36]),I=u(I,R,E,T,g,11,a[37]),T=u(T,I,R,E,v,16,a[38]),E=u(E,T,I,R,S,23,a[39]),R=u(R,E,T,I,C,4,a[40]),I=u(I,R,E,T,o,11,a[41]),T=u(T,I,R,E,p,16,a[42]),E=u(E,T,I,R,y,23,a[43]),R=u(R,E,T,I,x,4,a[44]),I=u(I,R,E,T,w,11,a[45]),T=u(T,I,R,E,k,16,a[46]),R=d(R,E=u(E,T,I,R,f,23,a[47]),T,I,o,6,a[48]),I=d(I,R,E,T,v,10,a[49]),T=d(T,I,R,E,M,15,a[50]),E=d(E,T,I,R,m,21,a[51]),R=d(R,E,T,I,w,6,a[52]),I=d(I,R,E,T,p,10,a[53]),T=d(T,I,R,E,S,15,a[54]),E=d(E,T,I,R,l,21,a[55]),R=d(R,E,T,I,b,6,a[56]),I=d(I,R,E,T,k,10,a[57]),T=d(T,I,R,E,y,15,a[58]),E=d(E,T,I,R,C,21,a[59]),R=d(R,E,T,I,g,6,a[60]),I=d(I,R,E,T,A,10,a[61]),T=d(T,I,R,E,f,15,a[62]),E=d(E,T,I,R,x,21,a[63]),r[0]=r[0]+R|0,r[1]=r[1]+E|0,r[2]=r[2]+T|0,r[3]=r[3]+I|0},CX:function(){var t=this.Jw,i=t.words,s=8*this.vX,n=8*t.sigBytes;i[n>>>5]|=128<<24-n%32;var r=e.floor(s/4294967296),o=s;i[15+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),i[14+(n+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(i.length+1),this.xX();for(var a=this.FX,l=a.words,h=0;h<4;h++){var c=l[h];l[h]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}return a},clone:function(){var t=r.clone.call(this);return t.FX=this.FX.clone(),t}});function h(t,e,i,s,n,r,o){var a=t+(e&i|~e&s)+n+o;return(a<<r|a>>>32-r)+e}function c(t,e,i,s,n,r,o){var a=t+(e&s|i&~s)+n+o;return(a<<r|a>>>32-r)+e}function u(t,e,i,s,n,r,o){var a=t+(e^i^s)+n+o;return(a<<r|a>>>32-r)+e}function d(t,e,i,s,n,r,o){var a=t+(i^(e|~s))+n+o;return(a<<r|a>>>32-r)+e}i.MD5=r.kX(l),i.HmacMD5=r.TX(l)})(Math),t.MD5}(Pw.exports),function(t){return i=(e=t).lib,s=i.WordArray,n=i.Hasher,r=e.algo,o=[],a=r.SHA1=n.extend({wX:function(){this.FX=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_X:function(t,e){for(var i=this.FX.words,s=i[0],n=i[1],r=i[2],a=i[3],l=i[4],h=0;h<80;h++){if(h<16)o[h]=0|t[e+h];else{var c=o[h-3]^o[h-8]^o[h-14]^o[h-16];o[h]=c<<1|c>>>31}var u=(s<<5|s>>>27)+l+o[h];u+=h<20?1518500249+(n&r|~n&a):h<40?1859775393+(n^r^a):h<60?(n&r|n&a|r&a)-1894007588:(n^r^a)-899497514,l=a,a=r,r=n<<30|n>>>2,n=s,s=u}i[0]=i[0]+s|0,i[1]=i[1]+n|0,i[2]=i[2]+r|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0},CX:function(){var t=this.Jw,e=t.words,i=8*this.vX,s=8*t.sigBytes;return e[s>>>5]|=128<<24-s%32,e[14+(s+64>>>9<<4)]=Math.floor(i/4294967296),e[15+(s+64>>>9<<4)]=i,t.sigBytes=4*e.length,this.xX(),this.FX},clone:function(){var t=n.clone.call(this);return t.FX=this.FX.clone(),t}}),e.SHA1=n.kX(a),e.HmacSHA1=n.TX(a),t.SHA1;var e,i,s,n,r,o,a}(Pw.exports),Dw=(Fw=Pw.exports).lib.Base,Lw=Fw.enc.Utf8,Fw.algo.HMAC=Dw.extend({init:function(t,e){t=this.DX=new t.init,"string"==typeof e&&(e=Lw.parse(e));var i=t.blockSize,s=4*i;e.sigBytes>s&&(e=t.finalize(e)),e.clamp();for(var n=this.BX=e.clone(),r=this.LX=e.clone(),o=n.words,a=r.words,l=0;l<i;l++)o[l]^=1549556828,a[l]^=909522486;n.sigBytes=r.sigBytes=s,this.reset()},reset:function(){var t=this.DX;t.reset(),t.update(this.LX)},update:function(t){return this.DX.update(t),this},finalize:function(t){var e=this.DX,i=e.finalize(t);return e.reset(),e.finalize(this.BX.clone().concat(i))}}),function(t){return s=(i=(e=t).lib).Base,n=i.WordArray,o=(r=e.algo).MD5,a=r.EvpKDF=s.extend({cfg:s.extend({keySize:4,hasher:o,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var i,s=this.cfg,r=s.hasher.create(),o=n.create(),a=o.words,l=s.keySize,h=s.iterations;a.length<l;){i&&r.update(i),i=r.update(t).finalize(e),r.reset();for(var c=1;c<h;c++)i=r.finalize(i),r.reset();o.concat(i)}return o.sigBytes=4*l,o}}),e.EvpKDF=function(t,e,i){return a.create(i).compute(t,e)},t.EvpKDF;var e,i,s,n,r,o,a}(Pw.exports),function(t){t.lib.Cipher||function(){var e=t,i=e.lib,s=i.Base,n=i.WordArray,r=i.BufferedBlockAlgorithm,o=e.enc;o.Utf8;var a=o.Base64,l=e.algo.EvpKDF,h=i.Cipher=r.extend({cfg:s.extend(),createEncryptor:function(t,e){return this.create(this.RX,t,e)},createDecryptor:function(t,e){return this.create(this.EX,t,e)},init:function(t,e,i){this.cfg=this.cfg.extend(i),this.zX=t,this.VX=e,this.reset()},reset:function(){r.reset.call(this),this.wX()},process:function(t){return this.bX(t),this.xX()},finalize:function(t){return t&&this.bX(t),this.CX()},keySize:4,ivSize:4,RX:1,EX:2,kX:function(){function t(t){return"string"==typeof t?v:m}return function(e){return{encrypt:function(i,s,n){return t(s).encrypt(e,i,s,n)},decrypt:function(i,s,n){return t(s).decrypt(e,i,s,n)}}}}()});i.StreamCipher=h.extend({CX:function(){return this.xX(!0)},blockSize:1});var c=e.mode={},u=i.BlockCipherMode=s.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this.OX=t,this.NX=e}}),d=c.CBC=function(){var t=u.extend();function e(t,e,i){var s,n=this.NX;n?(s=n,this.NX=void 0):s=this.GX;for(var r=0;r<i;r++)t[e+r]^=s[r]}return t.Encryptor=t.extend({processBlock:function(t,i){var s=this.OX,n=s.blockSize;e.call(this,t,i,n),s.encryptBlock(t,i),this.GX=t.slice(i,i+n)}}),t.Decryptor=t.extend({processBlock:function(t,i){var s=this.OX,n=s.blockSize,r=t.slice(i,i+n);s.decryptBlock(t,i),e.call(this,t,i,n),this.GX=r}}),t}(),f=(e.pad={}).Pkcs7={pad:function(t,e){for(var i=4*e,s=i-t.sigBytes%i,r=s<<24|s<<16|s<<8|s,o=[],a=0;a<s;a+=4)o.push(r);var l=n.create(o,s);t.concat(l)},unpad:function(t){var e=255&t.words[t.sigBytes-1>>>2];t.sigBytes-=e}};i.BlockCipher=h.extend({cfg:h.cfg.extend({mode:d,padding:f}),reset:function(){var t;h.reset.call(this);var e=this.cfg,i=e.iv,s=e.mode;this.zX==this.RX?t=s.createEncryptor:(t=s.createDecryptor,this.MX=1),this.WX&&this.WX.UX==t?this.WX.init(this,i&&i.words):(this.WX=t.call(s,this,i&&i.words),this.WX.UX=t)},_X:function(t,e){this.WX.processBlock(t,e)},CX:function(){var t,e=this.cfg.padding;return this.zX==this.RX?(e.pad(this.Jw,this.blockSize),t=this.xX(!0)):(t=this.xX(!0),e.unpad(t)),t},blockSize:4});var p=i.CipherParams=s.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),g=(e.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext,i=t.salt;return(i?n.create([1398893684,1701076831]).concat(i).concat(e):e).toString(a)},parse:function(t){var e,i=a.parse(t),s=i.words;return 1398893684==s[0]&&1701076831==s[1]&&(e=n.create(s.slice(2,4)),s.splice(0,4),i.sigBytes-=16),p.create({ciphertext:i,salt:e})}},m=i.SerializableCipher=s.extend({cfg:s.extend({format:g}),encrypt:function(t,e,i,s){s=this.cfg.extend(s);var n=t.createEncryptor(i,s),r=n.finalize(e),o=n.cfg;return p.create({ciphertext:r,key:i,iv:o.iv,algorithm:t,mode:o.mode,padding:o.padding,blockSize:t.blockSize,formatter:s.format})},decrypt:function(t,e,i,s){return s=this.cfg.extend(s),e=this.YX(e,s.format),t.createDecryptor(i,s).finalize(e.ciphertext)},YX:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),y=(e.kdf={}).OpenSSL={execute:function(t,e,i,s){s||(s=n.random(8));var r=l.create({keySize:e+i}).compute(t,s),o=n.create(r.words.slice(e),4*i);return r.sigBytes=4*e,p.create({key:r,iv:o,salt:s})}},v=i.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:y}),encrypt:function(t,e,i,s){var n=(s=this.cfg.extend(s)).kdf.execute(i,t.keySize,t.ivSize);s.iv=n.iv;var r=m.encrypt.call(this,t,e,n.key,s);return r.mixIn(n),r},decrypt:function(t,e,i,s){s=this.cfg.extend(s),e=this.YX(e,s.format);var n=s.kdf.execute(i,t.keySize,t.ivSize,e.salt);return s.iv=n.iv,m.decrypt.call(this,t,e,n.key,s)}})}()}(Pw.exports);var Bw={exports:{}}.exports=function(t){return function(){var e=t,i=e.lib.BlockCipher,s=e.algo,n=[],r=[],o=[],a=[],l=[],h=[],c=[],u=[],d=[],f=[];!function(){for(var t=[],e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;var i=0,s=0;for(e=0;e<256;e++){var p=s^s<<1^s<<2^s<<3^s<<4;p=p>>>8^255&p^99,n[i]=p,r[p]=i;var g=t[i],m=t[g],y=t[m],v=257*t[p]^16843008*p;o[i]=v<<24|v>>>8,a[i]=v<<16|v>>>16,l[i]=v<<8|v>>>24,h[i]=v,v=16843009*y^65537*m^257*g^16843008*i,c[p]=v<<24|v>>>8,u[p]=v<<16|v>>>16,d[p]=v<<8|v>>>24,f[p]=v,i?(i=g^t[t[t[y^g]]],s^=t[t[s]]):i=s=1}}();var p=[0,1,2,4,8,16,32,64,128,27,54],g=s.AES=i.extend({wX:function(){if(!this.HX||this.$X!==this.VX){for(var t=this.$X=this.VX,e=t.words,i=t.sigBytes/4,s=4*((this.HX=i+6)+1),r=this.XX=[],o=0;o<s;o++)o<i?r[o]=e[o]:(h=r[o-1],o%i?i>6&&o%i==4&&(h=n[h>>>24]<<24|n[h>>>16&255]<<16|n[h>>>8&255]<<8|n[255&h]):(h=n[(h=h<<8|h>>>24)>>>24]<<24|n[h>>>16&255]<<16|n[h>>>8&255]<<8|n[255&h],h^=p[o/i|0]<<24),r[o]=r[o-i]^h);for(var a=this.jX=[],l=0;l<s;l++){if(o=s-l,l%4)var h=r[o];else h=r[o-4];a[l]=l<4||o<=4?h:c[n[h>>>24]]^u[n[h>>>16&255]]^d[n[h>>>8&255]]^f[n[255&h]]}}},encryptBlock:function(t,e){this.ZX(t,e,this.XX,o,a,l,h,n)},decryptBlock:function(t,e){var i=t[e+1];t[e+1]=t[e+3],t[e+3]=i,this.ZX(t,e,this.jX,c,u,d,f,r),i=t[e+1],t[e+1]=t[e+3],t[e+3]=i},ZX:function(t,e,i,s,n,r,o,a){for(var l=this.HX,h=t[e]^i[0],c=t[e+1]^i[1],u=t[e+2]^i[2],d=t[e+3]^i[3],f=4,p=1;p<l;p++){var g=s[h>>>24]^n[c>>>16&255]^r[u>>>8&255]^o[255&d]^i[f++],m=s[c>>>24]^n[u>>>16&255]^r[d>>>8&255]^o[255&h]^i[f++],y=s[u>>>24]^n[d>>>16&255]^r[h>>>8&255]^o[255&c]^i[f++],v=s[d>>>24]^n[h>>>16&255]^r[c>>>8&255]^o[255&u]^i[f++];h=g,c=m,u=y,d=v}g=(a[h>>>24]<<24|a[c>>>16&255]<<16|a[u>>>8&255]<<8|a[255&d])^i[f++],m=(a[c>>>24]<<24|a[u>>>16&255]<<16|a[d>>>8&255]<<8|a[255&h])^i[f++],y=(a[u>>>24]<<24|a[d>>>16&255]<<16|a[h>>>8&255]<<8|a[255&c])^i[f++],v=(a[d>>>24]<<24|a[h>>>16&255]<<16|a[c>>>8&255]<<8|a[255&u])^i[f++],t[e]=g,t[e+1]=m,t[e+2]=y,t[e+3]=v},keySize:8});e.AES=i.kX(g)}(),t.AES}(Pw.exports),Ow={exports:{}}.exports=function(t){return t.mode.CTR=(i=(e=t.lib.BlockCipherMode.extend()).Encryptor=e.extend({processBlock:function(t,e){var i=this.OX,s=i.blockSize,n=this.NX,r=this.QX;n&&(r=this.QX=n.slice(0),this.NX=void 0);var o=r.slice(0);i.encryptBlock(o,0),r[s-1]=r[s-1]+1|0;for(var a=0;a<s;a++)t[e+a]^=o[a]}}),e.Decryptor=i,e),t.mode.CTR;var e,i}(Pw.exports),Uw={exports:{}}.exports=function(t){return function(){if("function"==typeof ArrayBuffer){var e=t.lib.WordArray,i=e.init,s=e.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var e=t.byteLength,s=[],n=0;n<e;n++)s[n>>>2]|=t[n]<<24-n%4*8;i.call(this,s,e)}else i.apply(this,arguments)};s.prototype=e}}(),t.lib.WordArray}(Pw.exports),Hw={exports:{}}.exports=function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding}(Pw.exports);const Gw={"-4":["MDQxMmQ1MWU5MjFhYTMzODUwMWE4ZGYzN2ViZTE4NTU3ZDViYmRlZDg1Yzk0OGI3YTJkMDBmZTNhZGVlMjdjY2VmNzBiMWVlOWI3MDZjMTIwYTAzZDZlZTNkNmYyOTc5Y2E2NGEzN2Y3YjY4N2E1ZjljZWY2ODYxN2I1NWU5ZmJjMA=="],"-3":["MjAxODAxMjA="],"-2":["aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vc2Vzc2lvbg==","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzL2RvY3MvdHJvdWJsZXNob290aW5nL3Jlc3RyaWN0ZWQtZmVhdHVyZXMv","aHR0cHM6Ly9saWdodG5pbmdjaGFydC5jb20vanMtY2hhcnRzLw=="],"-1":["WE1MSHR0cFJlcXVlc3Q=","ZG9jdW1lbnQ=","ZGVmYXVsdFZpZXc=","YQ==","Yg==","bGljZW5zZV9leHBpcmF0aW9uX2RhdGU=","bG9jYXRpb24=","aG9zdG5hbWU=","dGVzdF9kb21haW4=","ZG9tYWlucw==","Y3J5cHRv","U2lnbmF0dXJl","RUNEU0E=","U0hBMjI0d2l0aEVDRFNB","YWxn","Y3VydmU=","c2VjcDI1Nmsx","YWRkRXZlbnRMaXN0ZW5lcg==","cmVtb3ZlRXZlbnRMaXN0ZW5lcg==","bG9hZGVuZA==","ZXJyb3I=","YWJvcnQ=","dGltZW91dA==","cmVzcG9uc2VUZXh0","Q29udGVudC1UeXBl","YXBwbGljYXRpb24vanNvbg==","TWVzc2FnZURpZ2VzdA==","c2hhMjU2","Y3J5cHRvanM=","dXBkYXRlU3RyaW5n","ZGlnZXN0","Y29tcGFueQ==","YXBwVGl0bGU=","bGNqcy1zZXNzaW9u","bG9jYWxTdG9yYWdl","Z2V0SXRlbQ==","c2V0SXRlbQ==","ZA==","dA==","bGNqcy1zZXNzaW9uLTI="],0:["TGljZW5zZQ==","IA==","a2V5","aGFz","ZXhwaXJlZA==","Lg==","dmVyc2lvbg==","aXM=","dG9v","bmV3","b2xk","b3I=","aW52YWxpZA==","MDAwMQ==","SW52YWxpZA==","bnVtYmVy","b2Y=","ZG9tYWlucw==","ZGVwbG95bWVudA==","aW4=","ZG9tYWlu","RGVwbG95bWVudA==","ZG9tYWlu","dmFsaWRhdGlvbg==","ZmFpbGVk","Og==","UE9TVA==","c2VydmVy","cmVzcG9uZGVk","d2l0aA==","dW5leHBlY3RlZA==","dmFsdWU=","cmVxdWVzdA==","VEVTVA==","REVQTE9ZTUVOVA==","S2V5","VGFtcGVyaW5n","YmVlbg==","ZGV0ZWN0ZWQ=","TWlzc2luZw==","TGljZW5zZQ==","aW5mb3JtYXRpb24=","ZG9lcw==","bm90","aW5jbHVkZQ==","cGVybWlzc2lvbg==","dG8=","dXNl","Q2hhcnQ=","M0Q=","WFk=","RGF0YUdyaWQ=","TWFw","UG9sYXI=","RnVubmVs","R2F1Z2U=","UGll","UHlyYW1pZA==","U3BpZGVy","Zm9y","dGhpcw==","VHJhZGluZw==","ZmVhdHVyZXM=","Y2xpY2s=","aGVyZQ==","bW9yZQ==","c3VwcGxpZWQ=","Z2V0","bGljZW5zZQ==","VHJlZQ=="],1:["aHR0cHM6Ly9qc2xpY2Vuc2luZy5saWdodG5pbmdjaGFydC5jb20vc2FuZGJveA=="]},Ww=Ho,jw=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.slice(1).reduce(((t,i)=>t+Ww.atob(Gw[e[0]][i].toString())),"")};let Yw,Xw,qw,Jw=new Uint8Array([]);class Kw{set e(t){Yw=t}get e(){Xw={qd:!1,tf:!1,if:!1,sf:!1,ef:!1,hf:!1,rf:!1,nf:!1,af:!1,lf:!1,uf:!1,cf:!1,df:!1,ff:!1,Af:!1,gf:!1,mf:!1,yf:!1,pf:!1,Sf:!1,vf:!1,bf:!1,xf:!1,Mf:!1};const t=Jw.length,e=t>=1?Jw[0]:void 0,i=t>=2?Jw[1]:void 0,s=t>=3?Jw[2]:void 0;return void 0!==e&&(Xw.qd=!!(1&e),Xw.tf=!!(2&e),Xw.if=!!(4&e),Xw.sf=!!(8&e),Xw.ef=!!(16&e),Xw.hf=!!(32&e),Xw.rf=!!(64&e),Xw.nf=!!(128&e)),void 0!==i&&(Xw.af=!!(1&i),Xw.lf=!!(2&i),Xw.uf=!!(4&i),Xw.cf=!!(8&i),Xw.df=!!(16&i),Xw.ff=!!(32&i),Xw.Af=!!(64&i),Xw.gf=!!(128&i)),void 0!==s&&(Xw.mf=!!(1&s),Xw.yf=!!(2&s),Xw.pf=!!(4&s),Xw.Sf=!!(8&s),Xw.vf=!!(16&s),Xw.bf=!!(32&s),Xw.xf=!!(64&s),Xw.Mf=!!(128&s)),Xw.hf}set l(t){qw=t}get l(){return qw}}let Zw=!1;const Qw=(t,e)=>{const i=new RegExp(".{".concat(e,"}"),"g");return(t.match(i)||[]).map((t=>parseInt(t,16)))},$w=t=>{if(4===t.byteLength)return"".concat(t[0].toString().padStart(2,"0")).concat(t[1].toString().padStart(2,"0")).concat(t[2].toString().padStart(2,"0")).concat(t[3].toString().padStart(2,"0"))},tC=t=>t.getFullYear().toString()+(t.getMonth()+1).toString().padStart(2,"0")+t.getDate().toString().padStart(2,"0"),eC=t=>{const e={},i=t.split("-");if(3!==i.length)return{JX:jw(0,0,1,7,1,12,5)};let s=0;const n=Uint8Array.from(atob(i[1]),(t=>t.charCodeAt(0)));s+=1;const r=n.subarray(s,s+=20),o=new DataView(n.buffer).getUint16(s,!0);s+=2;const a=Uint8Array.from(Array(o));for(let p=0;p<o;p+=1)a[p]=n[p+s]^r[p%r.byteLength];const l=new DataView(a.buffer);e.KX=a,s=0;const h=Uint8Array.from(Array(l.getUint16(s,!0)));s+=2,h.set(a.subarray(s,s+=h.byteLength)),Jw=new Uint8Array(h);const c=$w(a.subarray(s,s+=4)),u=jw(-3,0);if(!c)return{JX:jw(0,0,1,7,1,12,5)};if(c<u)return{JX:jw(0,40,1,2,1,7,1,8,1,10,1,59,1,60,1,6,5)};if(8&h[0]){const t=$w(a.subarray(s,s+=4)),e=tC(new Date);if(!t)return{JX:jw(0,0,1,7,1,12,5)};if(t<e)return{JX:jw(0,0,1,2,1,3,1,4,5),qX:jw(-2,2)}}e.tj=s;const d="".concat(i[0],"-").concat(i[1]),f=Array.prototype.reduce.call(atob(i[2]),((t,e)=>t+"0".concat(e.charCodeAt(0).toString(16)).slice(-2)),"");return nC(d,f)?e:{JX:jw(0,0,1,7,1,12,5)}},iC=t=>{const e=t.slice(0,4);let i=t.slice(5);switch(e){case"0001":{i=i.replace(/-/g,"");const t=Uint8Array.from(Qw(i,2)),e=t.slice(36,40),s=new Uint8Array(4),n=(t=>{let e;const i=[];for(let n=0;n<256;n+=1){e=n;for(let t=0;t<8;t+=1)e=1&e?3988292384^e>>>1:e>>>1;i[n]=e}let s=-1;for(let n=0;n<t.length;n+=1)s=s>>>8^i[255&(s^t[n])];return~s>>>0})(t.slice(0,36));new DataView(s.buffer).setUint32(0,n,!0);const r=t.slice(28,34);let o=0;for(let i=r.length-1;i>0;i-=1)o+=r[i]*2**(8*i);const a=new Date(o);if(tC(a)<jw(-3,0))return{JX:jw(0,0,1,2,1,3,1,4,5),qX:jw(-2,2)};if(e.every(((t,e)=>s[e]===t)))return{};break}case"0002":return eC(t);default:return{JX:jw(0,0,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}return{JX:jw(0,0,1,2,1,7,1,12,5)}},sC=t=>{if(!t)return{JX:jw(0,14,1,15,1,16,1,17,1,19,1,18,1,2,5)};const e=(t[jw(-1,9)]||t[jw(-1,37)]).map((t=>(t||"").trim()));if(e.indexOf(Ww[jw(-1,6)][jw(-1,7)])>-1)return{ij:!0};const i=e.filter((t=>t.indexOf("*")>-1));if(hC(Ww[jw(-1,6)][jw(-1,7)],i))return{ij:!0};const s=t[jw(-1,8)]||t[jw(-1,38)];if(""!==s&&null!=s){if(hC(Ww[jw(-1,6)][jw(-1,7)],[s]))return{ij:!1};if(s===Ww[jw(-1,6)][jw(-1,7)])return{ij:!1}}return{JX:jw(0,14,1,20,5)}},nC=(t,e)=>{const i=new Tw("secp256k1").keyFromPublic(jw(-4,0),"hex"),s=Nw(t).toString();return i.verify(s,e)},rC=t=>{switch(t.slice(0,4)){case"0001":return(t=>{let e,i="";try{const e=t.split("-"),s=e[1],n=e[2],r=e[3];if(!nC(n,r))return{JX:jw(0,21,1,2,1,7,1,12,5)};const o=_w.parse(n);i=Bw.decrypt({ciphertext:_w.parse(s)},o,{mode:Ow,padding:Hw,iv:_w.parse("00000000000000000000000000000001")}).toString(Vw)}catch(t){return{JX:jw(0,21,1,2,1,7,1,12,5)}}try{e=JSON.parse(i)}catch(t){return{JX:jw(0,21,1,2,1,7,1,12,5)}}if(void 0===e[jw(-1,5)]||null===e[jw(-1,4)]||!e[jw(-1,9)])return{JX:jw(0,21,1,2,1,7,1,12,5)};const s=parseInt(jw(-3,0),10)||Number(parseInt(jw(-3,0),10));return e[jw(-1,5)]<s?{JX:jw(0,21,1,2,1,3,1,4,5)}:sC(e)})(t);case"0002":return(t=>{const e=eC(t),i=e.KX,s=e.tj;if(e.JX||void 0===i||void 0===s)return e;let n,r="";try{const t=i.slice(e.tj,s+16),n=new DataView(t.buffer),o=new Int32Array(4);for(let e=0;e<o.length;e+=1)o[e]=n.getInt32(4*e,!1);const a=Uw.create(Array.from(o)),l=s+16,h=i.slice(l,i.length),c=new DataView(h.buffer),u=new Int32Array(Math.floor(h.byteLength/4));for(let e=0;e<u.length;e+=1)u[e]=c.getInt32(4*e,!1);const d=Uw.create(Array.from(u)),f=Bw.decrypt({ciphertext:d},a,{mode:Ow,padding:Hw,iv:_w.parse("00000000000000000000000000000001")});r=Ww.atob(f.toString(Vw))}catch(t){return{JX:jw(0,21,1,2,1,7,1,12,5)}}try{n=JSON.parse(r)}catch(t){return{JX:jw(0,21,1,2,1,7,1,12,5)}}return n[jw(-1,37)]?sC(n):{JX:jw(0,21,1,2,1,7,1,12,5)}})(t);default:return{JX:jw(0,21,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}},oC=(t,e)=>{switch(t.slice(0,4)){case"0001":return((t,e)=>{if(!e)return{JX:jw(0,39,1,40,1,41,5)};const i=t.split("-"),s=i[1].slice(1),n=i[2],r=i[3];if(!nC("".concat(s,"-").concat(n),r))return{JX:jw(0,21,1,2,1,7,1,12,5)};const o=Uint8Array.from(Qw(n,2));let a=0;for(let p=o.length-1;p>0;p-=1)a+=o[p]*2**(8*p);if(a<(parseInt(jw(-3,0),10)||Number(parseInt(jw(-3,0),10))))return{JX:jw(0,21,1,2,1,3,1,4,5)};const l=Int32Array.from(Qw(s,8)),h=zw(e[jw(-1,31)]).toString(_w),c=Int32Array.from(Qw(h,8)),u=zw(e[jw(-1,32)]).toString(_w),d=Int32Array.from(Qw(u,8)),f=new Int32Array(c.length);for(let p=0;p<f.length;p+=1)f[p]=c[p]^d[p];return l.every(((t,e)=>f[e]===t))?{}:{JX:jw(0,21,1,2,1,7,1,12,5)}})(t,e);case"0002":return((t,e)=>{if(!e)return{JX:jw(0,39,1,40,1,41,5)};const i=eC(t),s=i.KX,n=i.tj;if(i.JX||void 0===s||void 0===n)return i;const r=s.slice(n,s.length),o=new DataView(r.buffer),a=new Int32Array(8);for(let f=0;f<a.length;f+=1)a[f]=o.getInt32(4*f,!1);const l=zw(e[jw(-1,31)]).toString(_w),h=Int32Array.from(Qw(l,8)),c=zw(e[jw(-1,32)]).toString(_w),u=Int32Array.from(Qw(c,8)),d=new Int32Array(h.length);for(let f=0;f<d.length;f+=1)d[f]=h[f]^u[f];return a.every(((t,e)=>d[e]===t))?{}:{JX:jw(0,21,1,2,1,7,1,12,5)}})(t,e);default:return{JX:jw(0,21,1,2,1,6,1,7,1,8,1,9,1,11,1,10,5)}}},aC=function(t,e){let i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3?arguments[3]:void 0;Zw=!1,e.so();const n=e.Gr,r=!!n&&(n===Ho.document.body||Ho.document.body.contains(n)),o=n&&r?n:document.body;if(void 0===Array.from(o.children).find((t=>"lcjs-error"===t.id))){const e=Ho.document.createElement("div");e.id="lcjs-error",o.append(e),e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="black",e.style.boxSizing="border-box",e.style.padding="20px",e.style.font="Arial",e.style.fontSize="20px";let n,r=(t||"LICENSE_ERROR").toLowerCase().split("_").join(" ");if(r=(i?jw(0,0,1,2,1,23,1,24,25,1):"")+r.charAt(0).toUpperCase()+r.substr(1),s){const t=Ho.document.createElement("a");t.href=s,n=t}else n=Ho.document.createElement("p1");e.append(n),n.innerHTML=r,n.style.color="red"}},lC=(t,e,i)=>{e?(t[jw(-1,17)](jw(-1,19),i),t[jw(-1,17)](jw(-1,20),i),t[jw(-1,17)](jw(-1,21),i),t[jw(-1,17)](jw(-1,22),i)):(t[jw(-1,18)](jw(-1,19),i),t[jw(-1,18)](jw(-1,20),i),t[jw(-1,18)](jw(-1,21),i),t[jw(-1,18)](jw(-1,22),i))},hC=(t,e)=>{const i=t.split(".").reverse();return e.some((t=>{const e=t.split(".").reverse();let s=!1;const n=e.findIndex((t=>"*"===t)),r=i.every(((t,i)=>{if(!s){if(!(i<e.length))return!1;if(s="*"===e[i]&&i+1>2,!s&&t!==e[i])return!1}return!0}));return!(n>i.length-1||!r)}))},cC=new Map,uC=((t,e)=>{const i="object"==typeof t?t.license:t,s="object"==typeof t?t.licenseInformation:e,n="object"==typeof t?t:void 0,r=new Kw;r.e=i;let o=cC.get(i||"E");return o||(o=((t,e)=>{let i,s,n=!1,r=!1,o=!1,a=!1,l="",h=!1,c=!1;try{if(Yw){const s=(()=>{if(!Yw)return;const t=Yw.split("-");if(t.length>0)switch(t[0]){case"0001":return"0001";case"0002":return"0002";case"T001":return"T001";default:return}})();if("0001"===s){Jw=new Uint8Array([2]);const e=(()=>{if(!Yw)return;const t=Yw.split("-");return 4===t.length?t[1].startsWith("m")?2:1:0})();if(1===e){const t=rC(Yw);o=!t.ij,i=t,n=!0}else 2===e?(i=oC(Yw,t),r=!0):(Zw=!0,i=iC(Yw),a=!0)}else if("0002"===s){const e=(()=>{if(!Yw)return;const t=Yw.split("-");return t.length>=2?Uint8Array.from(atob(t[1]),(t=>t.charCodeAt(0)))[0]:void 0})();if(104===e)Zw=!0,i=iC(Yw),a=!0;else if(189===e){const t=rC(Yw);o=!t.ij,i=t,n=!0}else 159===e?(i=oC(Yw,t),r=!0):i={JX:jw(0,0,1,7,1,12,5)}}else if("T001"===s){const s=((t,e)=>{const i=Yw.split("-");if(3!==i.length)return{JX:jw(0,0,1,7,1,12,5)};const s="".concat(i[1]),n=Array.prototype.reduce.call(atob(i[2]),((t,e)=>t+"0".concat(e.charCodeAt(0).toString(16)).slice(-2)),"");if(!nC(s,n))return{JX:jw(0,0,1,7,1,12,5)};let r=0;const o=Uint8Array.from(atob(i[1]),(t=>t.charCodeAt(r))),a=o.subarray(r,r+=20),l=new DataView(o.buffer).getUint16(r,!0);r+=2;const h=Uint8Array.from(Array(l));for(let b=0;b<l;b+=1)h[b]=o[b+r]^a[b%a.byteLength];r=0;const c=new DataView(h.buffer),u=$w(h.subarray(r,r+=4)),d=jw(-3,0);if(!u)return{JX:jw(0,0,1,7,1,12,5)};if(u<d)return{JX:jw(0,40,1,2,1,7,1,8,1,10,1,59,1,60,1,6,5)};const f=new Date,p=new Date;f.setDate(f.getDate()+1),p.setDate(p.getDate()-1);const g=tC(p),m=tC(f);if(u<g||u>m)return{JX:jw(0,0,1,2,1,3,1,4,5)};const y=c.getUint16(r,!0),v=h.subarray(r+=2,r+y);if(Jw=new Uint8Array(v),e&&"dHJhZGVy"in e&&"dGVjaG5pY2FsIGFuYWx5c2lz"===e.dHJhZGVy)return{sj:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="};if(e&&"logoGraphic"in e&&e.logoGraphic){const t=e.logoGraphic.split("-");return 3===t.length&&nC(t[0],t[2])?{sj:t[0]}:{JX:jw(0,0,1,7,1,12,5)}}return{JX:jw(0,0,1,7,1,12,5)}})(0,t);i=s;const r=s.sj;r&&e?("string"==typeof r&&(e.l=r),n=!0):i={JX:jw(0,0,1,7,1,12,5)}}else i={JX:jw(0,0,1,7,1,12,5)}}else{const t=/^(10\.|172\.(1[6-9]|2[0-9]|3[0-1])|192\.168)\./;["localhost","127.0.0.1","::1"].includes(window.location.hostname)||t.test(window.location.hostname)?i={JX:jw(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68),qX:jw(-2,2)}:window.location.host===Ww.atob("c3RhY2tzbmlwcGV0cy5uZXQ=")?(c=!0,h=!1,Jw=new Uint8Array([38]),i={}):(c=!0,h=!0,Jw=new Uint8Array([38]),i={})}}catch(t){i={JX:jw(0,0,1,7,1,12,5)}}try{a&&(s=Ww[jw(-1,34)][jw(-1,35)](jw(-1,39))||void 0)}catch(t){Ww.console.error(t)}let u=!1;if(s){const t=s.split("-");if(2===t.length&&nC(t[0],t[1])){const[e,i]=t[0].split(":").map((t=>Number(t)));Date.now()-i<.95*e*1e3&&(u=!0)}}const d=!(c||h||i.JX||n||r||u),f=(()=>{const t=new(Ww[jw(-1,0)]);return t.open(jw(0,26),jw(-2,0)),t.setRequestHeader(jw(-1,24),jw(-1,25)),t.withCredentials=!0,t})(),p=new Ir;if(d){let t;try{t=parseInt(Yw?Yw.split("-")[1]:Math.floor(1e6*Math.random()).toString(),16)}catch(e){t=Math.floor(1e6*Math.random())}const i=Math.floor(1e6*Math.random());l=(t^i).toString();const s={};let n="",r="",o="";Yw=Yw||"";const a=jw(-4,0);for(let e=0;e<Yw.length;e+=1){const t=Yw.charCodeAt(e)^a.charCodeAt(e);n+=String.fromCharCode(t)}const h=jw(-3,0);for(let e=0;e<h.length;e+=1)r+=String.fromCharCode(h.charCodeAt(e)^a.charCodeAt(e));for(let e=0;e<l.length;e+=1)o+=String.fromCharCode(l.charCodeAt(e)^a.charCodeAt(e));s[jw(-1,3)]=Ww.btoa(n),s[jw(-1,4)]=Ww.btoa(r),s.h=Ww.btoa(o),s.v=3,s.s=Ww[jw(-1,34)][jw(-1,35)](jw(-1,33))||void 0,f.send(JSON.stringify(s))}return(t,n)=>{const r=[],a={Nn:t=>{r.indexOf(t)>=0||(r.push(t),c())},Gn:t=>p.on("logoChange",t),Wn:t=>p.off(t)},c=()=>{r.forEach((t=>{const e=g(t);if(!e)return;const{ej:i,hj:s}=e,n=s?jw(-2,1):void 0,r="".concat(jw(0,40,1,42,1,43,1,44,1,45,1,46,1,47,1)).concat(i).concat(n?jw(0,1,63,1,64,1,59,1,65,1,41):"");aC(r,m,!1,n)}))},u=t=>t.toLowerCase().split("_").join(" "),g=t=>{var e;const i=null===(e=Object.entries(xf).find((e=>e[1]===t)))||void 0===e?void 0:e[0];if(i){switch(t){case xf.if:return Xw.qd||Xw.if?void 0:{ej:u(i),hj:!0};case xf.rf:return Xw.qd||Xw.rf?void 0:{ej:u(i),hj:!0};case xf.nf:return Xw.qd||Xw.tf||Xw.nf?void 0:{ej:u(i)};case xf.tf:return Xw.qd||Xw.tf?void 0:{ej:u(i)};case xf.df:return Xw.qd||Xw.tf||Xw.df?void 0:{ej:u(i)};case xf.gf:return Xw.qd||Xw.tf||Xw.gf?void 0:{ej:u(i)};case xf.Sf:return Xw.qd||Xw.tf||Xw.Sf?void 0:{ej:u(i)};case xf.bf:return Xw.qd||Xw.tf||Xw.bf?void 0:{ej:u(i)};case xf.xf:return Xw.qd||Xw.tf||Xw.xf?void 0:{ej:u(i)};case xf.vf:return Xw.qd||Xw.tf||Xw.vf?void 0:{ej:u(i)};case xf.lf:return Xw.qd||Xw.tf||Xw.lf?void 0:{ej:u(i)};case xf.Af:return Xw.qd||Xw.tf||Xw.Af?void 0:{ej:u(i)};case xf.cf:return Xw.qd||Xw.tf||Xw.cf?void 0:{ej:u(i)};case xf.mf:return Xw.qd||Xw.tf||Xw.mf?void 0:{ej:u(i)};case xf.pf:return Xw.qd||Xw.tf||Xw.pf?void 0:{ej:u(i)};case xf.yf:return Xw.qd||Xw.tf||Xw.yf?void 0:{ej:u(i)};case xf.af:return Xw.qd||Xw.tf||Xw.af?void 0:{ej:u(i)};case xf.uf:return Xw.qd||Xw.tf||Xw.uf?void 0:{ej:u(i)};case xf.ff:return Xw.qd||Xw.tf||Xw.ff?void 0:{ej:u(i)};case xf.Mf:return Xw.qd||Xw.tf||Xw.Mf?void 0:{ej:u(i)};case xf.qd:case xf.sf:case xf.hf:case xf.ef:return}return Ha(0,"")}},m=new cw(n,t,a);(null==i?void 0:i.JX)&&aC(i.JX,m,void 0,i.qX);const y=t=>{if("error"===(null==t?void 0:t.type)&&s){const t=s.split("-");if(2===t.length&&nC(t[0],t[1])){const[,e]=t[0].split(":").map((t=>Number(t)));if(e+9e5>Date.now())return Zw=!1,void lC(f,!1,v)}}if(f.readyState===Ww[jw(-1,0)].DONE)if(200===f.status){const t=JSON.parse(f[jw(-1,23)]);if(!nC(l+jw(-3,0),t.h)){const t=jw(0,0,1,27,1,28,1,29,1,30,1,31,5);aC(t,m)}Ww[jw(-1,34)][jw(-1,36)](jw(-1,39),t.t),Ww[jw(-1,34)][jw(-1,36)](jw(-1,33),t.s),Zw=!1}else{let e="";try{e=t&&"loadend"!==t.type?jw(0,0,1,23,1,32,1,24,5):JSON.parse(f[jw(-1,23)]).message,lC(f,!1,v)}catch(t){console.error(t)}aC(jw(0,0,1,2,1,7,1,12,5)+e,m)}},v=t=>{y(t)};if(lC(f,!0,v),d?setTimeout((()=>{if(Zw){let t=!0;if(s){const e=s.split("-");if(2===e.length&&nC(e[0],e[1])){const[,i]=e[0].split(":").map((t=>Number(t)));i+9e5>Date.now()&&(t=!1)}}t&&aC(jw(0,25,1,23,1,32,1,24,5),m)}}),1e4):lC(f,!1,v),h){const t=(()=>{const t=new(Ww[jw(-1,0)]);return t.open(jw(0,26),jw(1,0)),t.setRequestHeader("Content-Type","text/plain"),t.withCredentials=!0,t})(),i=Array.from({length:10},(()=>String.fromCharCode(Math.floor(256*Math.random())))).join(""),s=s=>{if("error"===(null==s?void 0:s.type)){const t=jw(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);aC(t,m,!1,jw(-2,2)),lC(f,!1,n)}if(t.readyState===Ww.XMLHttpRequest.DONE){const s=t.getResponseHeader("X-LCJS-SANDBOX-V");if(200!==t.status||s&&"1"!==s){const t=jw(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);aC(t,m,!1,jw(-2,2)),lC(f,!1,n)}else{const s=JSON.parse(t.responseText);if(!nC(i,s.s)){const t=jw(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);aC(t,m,!1,jw(-2,2)),lC(f,!1,n)}void 0!==e&&(e.l=s.l),p.emit("logoChange",s.l)}}else{const t=jw(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);aC(t,m,!1,jw(-2,2)),lC(f,!1,n)}},n=t=>{s(t)};lC(t,!0,n),t.send(i),setTimeout((()=>{if(t.readyState<2){const t=jw(0,0,1,2,1,43,1,66,5,1,63,1,64,1,46,1,67,1,68);aC(t,m,!1,jw(-2,2)),lC(f,!1,n)}}),1e4)}return o?(t=>{let e;Zw=!1;const i=t.oi(),s=()=>{e&&(t.xn(e.bn()),e=void 0),e=t.FI("deployment test"),e.Pr(t.dt).Rh(jw(0,34,1,33)).Fe({x:i.x/2,y:i.y/2}).ba(50).Nh(13).Ce(new ho({color:qr(128,128,128,100)})).Sa("Arial").Ma(500).setMouseInteractions(!1),t.pn().Sn()};t.Co((()=>{s()})),setTimeout(s,0),setInterval((()=>{e&&e.bn()<t.do()-1?s():e||s()}),1e3)})(m):f.readyState===Ww[jw(-1,0)].DONE&&y(),m}})(s,r)),((t,e,i,s)=>{var n,r,o,a,l,h,c,u,d,f;let p;if(i&&i.license){const t=i.license.split("-");p=t[t.length-1]}const g=(null===(n=null==i?void 0:i.webgl)||void 0===n?void 0:n.version)||(null===(o=null===(r=null==i?void 0:i.sharedContextOptions)||void 0===r?void 0:r.webgl)||void 0===o?void 0:o.version),m={WE:null===(a=null==i?void 0:i.sharedContextOptions)||void 0===a?void 0:a.canvas,Hn:null==i?void 0:i.warnings,qE:"webgl1"===g?1:"webgl2"===g?2:void 0,ZE:!1!==(null===(l=null==i?void 0:i.sharedContextOptions)||void 0===l?void 0:l.antialias),jE:(null===(h=null==i?void 0:i.sharedContextOptions)||void 0===h?void 0:h.devicePixelRatio)||void 0,az:(null===(c=null==i?void 0:i.sharedContextOptions)||void 0===c?void 0:c.noCanvasStyles)||void 0,dz:(null===(u=null==i?void 0:i.sharedContextOptions)||void 0===u?void 0:u.noCanvasTransform)||void 0,JE:!1!==(null===(d=null==i?void 0:i.sharedContextOptions)||void 0===d?void 0:d.useStackingOrder),KE:!1!==(null===(f=null==i?void 0:i.sharedContextOptions)||void 0===f?void 0:f.useIndividualCanvas),lz:p||void 0},y=new rS(m),v=e=>t(e,y);return{Dashboard:oS(v,e,i,s),ChartXY:hS(v,e,i,s),Spider:cS(v,e,i,s),Polar:uS(v,e,i,s),Pie:dS(v,e,i,s),UIPanel:lS(v,e,i,s),Gauge:fS(v,e,i,s),Funnel:pS(v,e,i,s),Pyramid:gS(v,e,i,s),Chart3D:yS(v,e,i,s),Map:mS(v,e,i,s),DataGrid:vS(v,e,i,s),BarChart:bS(v,e,i,s),ZoomBandChart:xS(v,e,i,s),TreeMapChart:SS(v,e,i,s),dispose:y.W.bind(y),layout:y.yz.bind(y)}})(o,r.e,n,r.l)})({license:"0002-n65yLpFb+shmkxbsFULPlcxaRj6KKwCvcheFQ/nHcosV4836F5Alzm5L4Jx9j49W1B7tKdPjstl3kDQ4OYO0bkQL-MEYCIQDvkwklUkOjLVyjX7nhMqG8fRKf8lHdUX0RmD3vn3/UNAIhAJVu/9KZ+/rJed8YS+IZCH0hJWdP9hLISg22sEZaycF1",licenseInformation:{appTitle:"LightningChart JS Trial",company:"LightningChart Ltd."}}),dC=Nb.SeriesMarkerXY.setResultTableBackground(zb.Pointer).addStyler((t=>t.setPointMarker((t=>t.setSize({x:50,y:50}).setShape(Kc.Circle).setFillStyle(new ho({color:Jr("#7b7b7b").setA(10)})))).setResultTable((t=>t.setOrigin(Yh.CenterBottom).setMargin({bottom:0}).setBackground((t=>t.setDirection(Uo.Down).setPointerAngle(80).setPointerLength(20))))).setGridStrokeXCut(!0).setAutoFitStrategy(void 0)));class fC{constructor(t){this.chan=void 0,this.chartName=void 0,this.chart=void 0,this.axisX=void 0,this.axisY=void 0,this.spectrum=void 0,this.marker=void 0,this.metadataList=void 0,this.chan=t,this.chartName="spectrumChan".concat(t)}createChart(t,e){let i,s=[...VC.getState().commonData.chartAxisLimits[this.chartName]];if(0==s[0]&&0==s[1])return;s[0]=s[0]/1e6,s[1]=s[1]/1e6,this.deleteChart(),this.chart=uC.ChartXY({container:e,theme:"dark"===t?nx.turquoiseHexagon:nx.light}).setTitle("").setPadding({right:1,left:0,top:10}).setMouseInteractionWheelZoom(!1).setMouseInteractionRectangleZoom(!1).setMouseInteractionRectangleFit(!1),this.axisX=this.chart.getDefaultAxisX().setTitle("").setAnimationsEnabled(!1).setNibMousePickingAreaSize(0).setDefaultInterval({start:s[0],end:s[1]}).setIntervalRestrictions({startMin:s[0],startMax:s[1],endMin:s[0],endMax:s[1]}),this.axisX.onAxisInteractionAreaMouseDoubleClick((t=>{setTimeout((()=>{t.fit()}),100)})),this.axisX.onIntervalChange(((t,e,s)=>{clearTimeout(i),i=setTimeout((()=>{VC.dispatch(_C({[this.chartName]:{axisInterval:[1e6*e,1e6*s]}}))}),500)})),this.axisY=this.chart.getDefaultAxisY().setTitle("").setThickness(VC.getState().appData.view.maxWidth?0:50).setNibMousePickingAreaSize(0);const n=()=>{var t,e;null===(t=this.axisX)||void 0===t||t.fit(),null===(e=this.axisY)||void 0===e||e.fit()};this.chart.onBackgroundMouseDoubleClick(n),this.chart.onSeriesBackgroundMouseDoubleClick(n),this.spectrum=this.chart.addAreaSeries({type:ny.Positive,baseline:-30}).setName("Sp").setCursorInterpolationEnabled(!1).setCursorResultTableFormatter(((t,e,i,s,n)=>t.addRow("F:","",i.toFixed(1),"","\u041c\u0413\u0446").addRow("P:","",s.toFixed(1),"","\u0434\u0411"))),this.spectrum.onMouseDoubleClick(n),this.marker={marker:this.spectrum.addMarker(dC).setVisible(!1),isOn:!1,setOn:t=>{var e;if(this.chart&&null!==(e=this.marker)&&void 0!==e&&e.marker&&this.axisX)if(this.marker.isOn=t,t){const t=this.axisX.getInterval();this.marker.marker.setPosition({x:(t.start+t.end)/2,y:0}).setVisible(!0)}else this.marker.marker.setVisible(!1)}};let r=VC.getState().appData.view.chartSpectrumChan;window.innerWidth<500&&r&&(r=VC.getState().appData.view.displayedChan==this.chan),VC.dispatch(_C({[this.chartName]:{show:r,chartWidth:this.getChartWidth(),axisInterval:[1e6*s[0],1e6*s[1]],metadata:!1}})),console.log("create chart: ",this.chartName)}addMetadata(t){if(this.chart){if(this.metadataList)for(let t=0;t<this.metadataList.length;t++)this.metadataList[t].dispose();this.metadataList=[];for(let e=0;e<t.length;e++)this.metadataList[e]=this.chart.addUIElement(pf.TextBox).setOrigin({x:1,y:1}).setMouseInteractions(!1).setPosition({x:100,y:90-6*e}).setText(t[e])}}getChartWidth(){var t;if(this.chart&&this.axisY)return console.log("getChartWidth getSizePixels",this.chart.getSizePixels().x),console.log("getChartWidth getPadding",this.chart.getPadding().left),console.log("getChartWidth getPadding",this.chart.getPadding().right),this.chart.getSizePixels().x-this.chart.getPadding().left-this.chart.getPadding().right-(null!==(t=this.axisY.getThickness().max)&&void 0!==t?t:0)}setMaxWidth(t){this.axisY&&(t?this.axisY.setThickness(0):this.axisY.setThickness(50))}deleteChart(){var t,e,i,s,n;console.log("delete chart: ",this.chartName),null===(t=this.chart)||void 0===t||t.dispose(),null===(e=this.axisX)||void 0===e||e.dispose(),null===(i=this.axisY)||void 0===i||i.dispose(),null===(s=this.spectrum)||void 0===s||s.dispose(),null===(n=this.marker)||void 0===n||n.marker.dispose(),this.chart=void 0,this.axisX=void 0,this.axisY=void 0,this.spectrum=void 0,this.marker=void 0,VC.dispatch(_C({[this.chartName]:{show:!1,chartWidth:0,axisInterval:[0,0]}}))}updateSpectrum(t,e,i,s){this.chart&&this.spectrum&&(this.spectrum.clear(),this.spectrum.addArrayY(i,e/1e6,t/1e6),this.addMetadata(s))}}let pC=new fC(0),gC=new fC(1);gf.HorizontalLegendBox.addStyler((t=>t.setOrigin(Yh.RightTop).setPosition({x:100,y:100}).setTitle(""))).styleEntries((t=>{t.setTextFont(new Cc({size:12,style:"normal"}))})).styleEntries((t=>{t.setTextFont(new Cc({size:12,style:"normal"})).setLUTLength(0).setLUTThickness(-12).setLUTTextFont((t=>t.setSize(0)))}));const mC=Nb.SeriesMarkerXY.setResultTableBackground(zb.Pointer).addStyler((t=>t.setPointMarker((t=>t.setSize({x:50,y:50}).setShape(Kc.Circle).setFillStyle(new ho({color:Jr("#7b7b7b").setA(10)})))).setResultTable((t=>t.setOrigin(Yh.CenterBottom).setMargin({bottom:0}).setBackground((t=>t.setDirection(Uo.Down).setPointerAngle(80).setPointerLength(20))))).setGridStrokeXCut(!0).setAutoFitStrategy(void 0)));const yC=new class{constructor(){this.chartName=void 0,this.chart=void 0,this.axisX=void 0,this.axisY=void 0,this.tokenOnChangeAxisX=void 0,this.phase=void 0,this.marker=void 0,this.metadataList=void 0,this.timer=void 0,this.chartName="phaseSpectrum"}createChart(t,e){let i=[...VC.getState().commonData.chartAxisLimits.crossSpectrum];if(0==i[0]&&0==i[1])return;i[0]=i[0]/1e6,i[1]=i[1]/1e6,this.deleteChart(),this.chart=uC.ChartXY({container:e,theme:"dark"===t?nx.turquoiseHexagon:nx.light}).setTitle("").setPadding({right:1,left:0,top:10}).setMouseInteractionWheelZoom(!1).setMouseInteractionRectangleZoom(!1).setMouseInteractionRectangleFit(!1),this.axisX=this.chart.getDefaultAxisX().setTitle("").setAnimationsEnabled(!1).setNibMousePickingAreaSize(0).setDefaultInterval({start:i[0],end:i[1]}).setIntervalRestrictions({startMin:i[0],startMax:i[1],endMin:i[0],endMax:i[1]}),this.axisX.onAxisInteractionAreaMouseDoubleClick((t=>{setTimeout((()=>{t.fit()}),100)})),this.tokenOnChangeAxisX=this.axisX.onIntervalChange(((t,e,i)=>this.onIntervalChangeX(e,i))),this.axisY=this.chart.getDefaultAxisY().setTitle("").setThickness(VC.getState().appData.view.maxWidth?0:50).setNibMousePickingAreaSize(0);const s=()=>{var t,e;null===(t=this.axisX)||void 0===t||t.fit(),null===(e=this.axisY)||void 0===e||e.fit()};this.chart.onBackgroundMouseDoubleClick(s),this.chart.onSeriesBackgroundMouseDoubleClick(s),this.phase=this.chart.addLineSeries().setName("Phase").setCursorInterpolationEnabled(!1).setCursorResultTableFormatter(((t,e,i,s)=>t.addRow("F:","",i.toFixed(1),"","\u041c\u0413\u0446").addRow("Ph:","",s.toFixed(1),"","\u0413\u0440\u0430\u0434"))),this.phase.onMouseDoubleClick(s),this.marker={marker:this.phase.addMarker(mC).setVisible(!1),isOn:!1,setOn:t=>{var e;if(this.chart&&null!==(e=this.marker)&&void 0!==e&&e.marker&&this.axisX)if(this.marker.isOn=t,t){const t=this.axisX.getInterval();this.marker.marker.setPosition({x:(t.start+t.end)/2,y:0}).setVisible(!0)}else this.marker.marker.setVisible(!1)}},VC.dispatch(_C({[this.chartName]:{show:VC.getState().appData.view.chartPhaseSpectrum,chartWidth:this.getChartWidth(),axisInterval:[1e6*i[0],1e6*i[1]],metadata:!1}})),console.log("create chart: ",this.chartName)}addMetadata(t){if(this.chart){if(this.metadataList)for(let t=0;t<this.metadataList.length;t++)this.metadataList[t].dispose();this.metadataList=[];for(let e=0;e<t.length;e++)this.metadataList[e]=this.chart.addUIElement(pf.TextBox).setOrigin({x:1,y:1}).setMouseInteractions(!1).setPosition({x:100,y:90-6*e}).setText(t[e])}}onIntervalChangeX(t,e){bC.setIntervalAxisX(t,e),this.sendAxisInterval(t,e)}sendAxisInterval(t,e){clearTimeout(this.timer),this.timer=setTimeout((()=>{VC.dispatch(_C({[this.chartName]:{axisInterval:[1e6*t,1e6*e]}}))}),500)}setIntervalAxisX(t,e){this.axisX&&this.tokenOnChangeAxisX&&(this.axisX.offIntervalChange(this.tokenOnChangeAxisX),this.axisX.setInterval({start:t,end:e}),this.sendAxisInterval(t,e),this.tokenOnChangeAxisX=this.axisX.onIntervalChange(((t,e,i)=>this.onIntervalChangeX(e,i))))}getChartWidth(){var t;if(this.chart&&this.axisY)return this.chart.getSizePixels().x-this.chart.getPadding().left-this.chart.getPadding().right-(null!==(t=this.axisY.getThickness().max)&&void 0!==t?t:0)}setMaxWidth(t){this.axisY&&(t?this.axisY.setThickness(0):this.axisY.setThickness(50))}deleteChart(){var t,e,i,s,n;console.log("delete chart: ",this.chartName),null===(t=this.chart)||void 0===t||t.dispose(),null===(e=this.axisX)||void 0===e||e.dispose(),null===(i=this.axisY)||void 0===i||i.dispose(),null===(s=this.phase)||void 0===s||s.dispose(),null===(n=this.marker)||void 0===n||n.marker.dispose(),this.chart=void 0,this.axisX=void 0,this.axisY=void 0,this.phase=void 0,this.marker=void 0,VC.dispatch(_C({[this.chartName]:{show:!1,chartWidth:0,axisInterval:[0,0]}}))}updateSpectrum(t,e,i,s){this.chart&&this.phase&&(this.phase.clear(),this.phase.addArrayY(i,e/1e6,t/1e6),this.addMetadata(s))}},vC=(gf.HorizontalLegendBox.addStyler((t=>t.setOrigin(Yh.RightTop).setPosition({x:100,y:100}).setTitle(""))).styleEntries((t=>{t.setTextFont(new Cc({size:12,style:"normal"}))})).styleEntries((t=>{t.setTextFont(new Cc({size:12,style:"normal"})).setLUTLength(0).setLUTThickness(-12).setLUTTextFont((t=>t.setSize(0)))})),Nb.SeriesMarkerXY.setResultTableBackground(zb.Pointer).addStyler((t=>t.setPointMarker((t=>t.setSize({x:50,y:50}).setShape(Kc.Circle).setFillStyle(new ho({color:Jr("#7b7b7b").setA(10)})))).setResultTable((t=>t.setOrigin(Yh.CenterBottom).setMargin({bottom:0}).setBackground((t=>t.setDirection(Uo.Down).setPointerAngle(80).setPointerLength(20))))).setGridStrokeXCut(!0).setAutoFitStrategy(void 0))));const bC=new class{constructor(){this.chartName=void 0,this.chart=void 0,this.axisX=void 0,this.axisY=void 0,this.tokenOnChangeAxisX=void 0,this.spectrum=void 0,this.threshold=void 0,this.marker=void 0,this.metadataList=void 0,this.timer=void 0,this.bearingBand=void 0,this.tokenOnValueChangeBearingBand=void 0,this.chartName="crossSpectrum"}createChart(t,e){let i=[...VC.getState().commonData.chartAxisLimits[this.chartName]];if(0==i[0]&&0==i[1])return;i[0]=i[0]/1e6,i[1]=i[1]/1e6,this.deleteChart(),this.chart=uC.ChartXY({container:e,theme:"dark"===t?nx.turquoiseHexagon:nx.light}).setTitle("").setPadding({right:1,left:0,top:10}).setMouseInteractionWheelZoom(!1).setMouseInteractionRectangleZoom(!1).setMouseInteractionRectangleFit(!1),this.axisX=this.chart.getDefaultAxisX().setTitle("").setAnimationsEnabled(!1).setNibMousePickingAreaSize(0).setDefaultInterval({start:i[0],end:i[1]}).setIntervalRestrictions({startMin:i[0],startMax:i[1],endMin:i[0],endMax:i[1]}),this.axisX.onAxisInteractionAreaMouseDoubleClick((t=>{setTimeout((()=>{t.fit()}),100)})),this.tokenOnChangeAxisX=this.axisX.onIntervalChange(((t,e,i)=>this.onIntervalChangeX(e,i))),this.axisY=this.chart.getDefaultAxisY().setTitle("").setThickness(VC.getState().appData.view.maxWidth?0:50).setNibMousePickingAreaSize(0);const s=()=>{var t,e;null===(t=this.axisX)||void 0===t||t.fit(),null===(e=this.axisY)||void 0===e||e.fit()};this.chart.onBackgroundMouseDoubleClick(s),this.chart.onSeriesBackgroundMouseDoubleClick(s),this.spectrum=this.chart.addAreaSeries({type:ny.Positive,baseline:-30}).setName("Sp").setCursorInterpolationEnabled(!1).setCursorResultTableFormatter(((t,e,i,s,n)=>t.addRow("F:","",i.toFixed(1),"","\u041c\u0413\u0446").addRow("P:","",s.toFixed(1),"","\u0434\u0411"))),this.spectrum.onMouseDoubleClick(s),this.threshold=this.chart.addLineSeries().setName("Thres").setMouseInteractions(!1).setStrokeStyle(new yh({fillStyle:new ho({color:Jr("dark"===t?"#ff0000":"#002aff")}),thickness:2})),this.marker={marker:this.spectrum.addMarker(vC).setVisible(!1),isOn:!1,setOn:t=>{var e;if(this.chart&&null!==(e=this.marker)&&void 0!==e&&e.marker&&this.axisX)if(this.marker.isOn=t,t){const t=this.axisX.getInterval();this.marker.marker.setPosition({x:(t.start+t.end)/2,y:0}).setVisible(!0)}else this.marker.marker.setVisible(!1)}};this.bearingBand=this.axisX.addBand().setValueStart(0).setValueEnd(0).setFillStyle(new ho({color:Jr("#0000ff").setA(40)})).setStrokeStyle(new yh({fillStyle:new ho({color:Jr("#00006b")}),thickness:2})),this.tokenOnValueChangeBearingBand=this.bearingBand.onValueChange(((t,e,i)=>{this.onValueChangeBearingBand(e,i)})),VC.dispatch(_C({[this.chartName]:{show:VC.getState().appData.view.chartCrossSpectrum,chartWidth:this.getChartWidth(),axisInterval:[1e6*i[0],1e6*i[1]],metadata:!1}})),console.log("create chart: ",this.chartName)}addMetadata(t){if(this.chart){if(this.metadataList)for(let t=0;t<this.metadataList.length;t++)this.metadataList[t].dispose();this.metadataList=[];for(let e=0;e<t.length;e++)this.metadataList[e]=this.chart.addUIElement(pf.TextBox).setOrigin({x:1,y:1}).setMouseInteractions(!1).setPosition({x:100,y:90-6*e}).setText(t[e])}}onIntervalChangeX(t,e){yC.setIntervalAxisX(t,e),this.sendAxisInterval(t,e)}sendAxisInterval(t,e){clearTimeout(this.timer),this.timer=setTimeout((()=>{VC.dispatch(_C({[this.chartName]:{axisInterval:[1e6*t,1e6*e]}}))}),500)}setIntervalAxisX(t,e){this.axisX&&this.tokenOnChangeAxisX&&(this.axisX.offIntervalChange(this.tokenOnChangeAxisX),this.axisX.setInterval({start:t,end:e}),this.sendAxisInterval(t,e),this.tokenOnChangeAxisX=this.axisX.onIntervalChange(((t,e,i)=>this.onIntervalChangeX(e,i))))}getChartWidth(){var t;return this.chart&&this.axisY?this.chart.getSizePixels().x-this.chart.getPadding().left-this.chart.getPadding().right-(null!==(t=this.axisY.getThickness().max)&&void 0!==t?t:0):0}setMaxWidth(t){this.axisY&&(t?this.axisY.setThickness(0):this.axisY.setThickness(50))}onValueChangeBearingBand(t,e){clearTimeout(this.timer),this.timer=setTimeout((()=>{EC.send(JSON.stringify({deviceState:{bearingBand:[1e6*t,1e6*e]}}))}),500)}setBearingBand(t){this.bearingBand&&this.tokenOnValueChangeBearingBand&&(this.bearingBand.offValueChange(this.tokenOnValueChangeBearingBand),this.bearingBand.setValueStart(t[0]/1e6),this.bearingBand.setValueEnd(t[1]/1e6),this.tokenOnValueChangeBearingBand=this.bearingBand.onValueChange(((t,e,i)=>{this.onValueChangeBearingBand(e,i)})))}deleteChart(){var t,e,i,s,n,r;console.log("delete chart: ",this.chartName),null===(t=this.chart)||void 0===t||t.dispose(),null===(e=this.axisX)||void 0===e||e.dispose(),null===(i=this.axisY)||void 0===i||i.dispose(),null===(s=this.spectrum)||void 0===s||s.dispose(),null===(n=this.threshold)||void 0===n||n.dispose(),null===(r=this.marker)||void 0===r||r.marker.dispose(),this.chart=void 0,this.axisX=void 0,this.axisY=void 0,this.spectrum=void 0,this.threshold=void 0,this.marker=void 0,VC.dispatch(_C({[this.chartName]:{show:!1,chartWidth:0,axisInterval:[0,0]}}))}updateSpectrum(t,e,i,s){this.chart&&this.spectrum&&this.threshold&&(this.spectrum.clear(),this.threshold.clear(),this.spectrum.addArrayY(i,e/1e6,t/1e6),this.addMetadata(s))}},xC=Nb.SeriesMarkerXY.setResultTableBackground(zb.Pointer).addStyler((t=>t.setPointMarker((t=>t.setSize({x:50,y:50}).setShape(Kc.Circle).setFillStyle(new ho({color:Jr("#7b7b7b").setA(10)})))).setResultTable((t=>t.setOrigin(Yh.CenterBottom).setMargin({bottom:0}).setBackground((t=>t.setDirection(Uo.Down).setPointerAngle(80).setPointerLength(20))))).setGridStrokeXCut(!0).setAutoFitStrategy(void 0)));class SC{constructor(t){this.chan=void 0,this.chartName=void 0,this.chart=void 0,this.axisX=void 0,this.axisY=void 0,this.re=void 0,this.im=void 0,this.marker=void 0,this.metadataList=void 0,this.chan=t,this.chartName="samplesChan".concat(t)}createChart(t,e){let i,s=[...VC.getState().commonData.chartAxisLimits[this.chartName]];if(0==s[0]&&0==s[1])return;s[0]=1e6*s[0],s[1]=1e6*s[1],this.deleteChart(),this.chart=uC.ChartXY({container:e,theme:"dark"===t?nx.turquoiseHexagon:nx.light}).setTitle("").setPadding({right:1,left:0,top:10}).setMouseInteractionWheelZoom(!1).setMouseInteractionRectangleZoom(!1).setMouseInteractionRectangleFit(!1),this.axisX=this.chart.getDefaultAxisX().setTitle("").setAnimationsEnabled(!1).setNibMousePickingAreaSize(0).setDefaultInterval({start:s[0],end:s[1]}).setIntervalRestrictions({startMin:s[0],startMax:s[1],endMin:s[0],endMax:s[1]}),this.axisX.onAxisInteractionAreaMouseDoubleClick((t=>{setTimeout((()=>{t.fit()}),100)})),this.axisX.onIntervalChange(((t,e,s)=>{clearTimeout(i),i=setTimeout((()=>{VC.dispatch(_C({[this.chartName]:{axisInterval:[e/1e6,s/1e6]}}))}),500)})),this.axisY=this.chart.getDefaultAxisY().setTitle("").setThickness(VC.getState().appData.view.maxWidth?0:50).setNibMousePickingAreaSize(0);const n=()=>{var t,e;null===(t=this.axisX)||void 0===t||t.fit(),null===(e=this.axisY)||void 0===e||e.fit()};this.chart.onBackgroundMouseDoubleClick(n),this.chart.onSeriesBackgroundMouseDoubleClick(n),this.re=this.chart.addLineSeries().setName("Re").setCursorInterpolationEnabled(!1).setCursorResultTableFormatter(((t,e,i,s)=>t.addRow(e.getName()).addRow("T:","",i.toFixed(1),"","\u043c\u043a\u0441").addRow("U:","",s.toFixed(1),"","\u0438\u043d\u0434"))),this.im=this.chart.addLineSeries().setName("Im").setCursorInterpolationEnabled(!1).setCursorResultTableFormatter(((t,e,i,s)=>t.addRow(e.getName()).addRow("T:","",i.toFixed(1),"","\u043c\u043a\u0441").addRow("U:","",s.toFixed(1),"","\u0438\u043d\u0434"))),this.re.onMouseDoubleClick(n),this.im.onMouseDoubleClick(n),this.marker={markerRe:this.re.addMarker(xC).setVisible(!1),markerIm:this.im.addMarker(xC).setVisible(!1),isOn:!1,setOn:t=>{var e;if(this.chart&&null!==(e=this.marker)&&void 0!==e&&e.markerRe&&this.axisX)if(this.marker.isOn=t,t){const t=this.axisX.getInterval();this.marker.markerRe.setPosition({x:(t.start+t.end)/2,y:0}).setVisible(!0),this.marker.markerIm.setPosition({x:(t.start+t.end)/2,y:0}).setVisible(!0)}else this.marker.markerRe.setVisible(!1),this.marker.markerIm.setVisible(!1)}};let r=VC.getState().appData.view.chartSamplesChan;window.innerWidth<500&&r&&(r=VC.getState().appData.view.displayedChan==this.chan),VC.dispatch(_C({[this.chartName]:{show:r,chartWidth:this.getChartWidth(),axisInterval:[s[0]/1e6,s[1]/1e6],metadata:!1}})),console.log("create chart: ",this.chartName)}addMetadata(t){if(this.chart){if(this.metadataList)for(let t=0;t<this.metadataList.length;t++)this.metadataList[t].dispose();this.metadataList=[];for(let e=0;e<t.length;e++)this.metadataList[e]=this.chart.addUIElement(pf.TextBox).setOrigin({x:1,y:1}).setMouseInteractions(!1).setPosition({x:100,y:90-6*e}).setText(t[e])}}getChartWidth(){var t;if(this.chart&&this.axisY)return console.log("getChartWidth getSizePixels",this.chart.getSizePixels().x),console.log("getChartWidth getPadding",this.chart.getPadding().left),console.log("getChartWidth getPadding",this.chart.getPadding().right),this.chart.getSizePixels().x-this.chart.getPadding().left-this.chart.getPadding().right-(null!==(t=this.axisY.getThickness().max)&&void 0!==t?t:0)}setMaxWidth(t){this.axisY&&(t?this.axisY.setThickness(0):this.axisY.setThickness(50))}deleteChart(){var t,e,i,s,n,r,o;console.log("delete chart: ",this.chartName),null===(t=this.chart)||void 0===t||t.dispose(),null===(e=this.axisX)||void 0===e||e.dispose(),null===(i=this.axisY)||void 0===i||i.dispose(),null===(s=this.re)||void 0===s||s.dispose(),null===(n=this.im)||void 0===n||n.dispose(),null===(r=this.marker)||void 0===r||r.markerRe.dispose(),null===(o=this.marker)||void 0===o||o.markerIm.dispose(),this.chart=void 0,this.axisX=void 0,this.axisY=void 0,this.re=void 0,this.im=void 0,this.marker=void 0,VC.dispatch(_C({[this.chartName]:{show:!1,chartWidth:0,axisInterval:[0,0]}}))}updateSamples(t,e,i,s,n){this.chart&&this.re&&this.im&&(this.re.clear(),this.im.clear(),this.re.addArrayY(i,1e6*e,1e6*t),this.im.addArrayY(s,1e6*e,1e6*t),this.addMetadata(n))}}let AC=new SC(0),wC=new SC(1);Nb.SeriesMarkerXY.setResultTableBackground(zb.Pointer).addStyler((t=>t.setPointMarker((t=>t.setSize({x:50,y:50}).setShape(Kc.Circle).setFillStyle(new ho({color:Jr("#7b7b7b").setA(10)})))).setResultTable((t=>t.setOrigin(Yh.CenterBottom).setMargin({bottom:0}).setBackground((t=>t.setDirection(Uo.Down).setPointerAngle(80).setPointerLength(20))))).setGridStrokeXCut(!0).setAutoFitStrategy(void 0)));let CC=new class{constructor(){this.chartName=void 0,this.ampDistribChart=void 0,this.phaseDistribChart=void 0,this.beamPatternChart=void 0,this.ampDistrib=void 0,this.phaseDistrib=void 0,this.beamPattern=void 0,this.ampDistribAxisY=void 0,this.phaseDistribAxisY=void 0,this.metadataList=void 0,this.chartName="bearing"}createChart(t,e){let i=[...VC.getState().commonData.chartAxisLimits.crossSpectrum];if(0==i[0]&&0==i[1])return;this.deleteChart(),this.ampDistribChart=uC.ChartXY({container:e.ampDistribChart,theme:"dark"===t?nx.turquoiseHexagon:nx.light}).setTitle("").setPadding({right:1,left:0,top:10}).setMouseInteractionWheelZoom(!1).setMouseInteractionRectangleZoom(!1).setMouseInteractionRectangleFit(!1),this.phaseDistribChart=uC.ChartXY({container:e.phaseDistribChart,theme:"dark"===t?nx.turquoiseHexagon:nx.light}).setTitle("").setPadding({right:1,left:0,top:10}).setMouseInteractionWheelZoom(!1).setMouseInteractionRectangleZoom(!1).setMouseInteractionRectangleFit(!1),this.beamPatternChart=uC.Polar({container:e.beamPatternChart,theme:"dark"===t?nx.turquoiseHexagon:nx.light}).setTitle("").setPadding({right:1,left:0,top:10});const s=this.ampDistribChart.getDefaultAxisX().setTitle("").setAnimationsEnabled(!1).setNibMousePickingAreaSize(0),n=this.phaseDistribChart.getDefaultAxisX().setTitle("").setAnimationsEnabled(!1).setNibMousePickingAreaSize(0);this.beamPatternChart.getRadialAxis().setTitle(""),this.beamPatternChart.getAmplitudeAxis().setTitle("");s.onAxisInteractionAreaMouseDoubleClick((t=>{setTimeout((()=>{t.fit()}),100)})),n.onAxisInteractionAreaMouseDoubleClick((t=>{setTimeout((()=>{t.fit()}),100)}));s.onIntervalChange(((t,e,i)=>{})),n.onIntervalChange(((t,e,i)=>{}));this.ampDistribAxisY=this.ampDistribChart.getDefaultAxisY().setTitle("").setThickness(VC.getState().appData.view.maxWidth?0:50).setNibMousePickingAreaSize(0),this.phaseDistribAxisY=this.phaseDistribChart.getDefaultAxisY().setTitle("").setThickness(VC.getState().appData.view.maxWidth?0:50).setNibMousePickingAreaSize(0),this.ampDistribChart.onBackgroundMouseDoubleClick((()=>{var t;null===s||void 0===s||s.fit(),null===(t=this.ampDistribAxisY)||void 0===t||t.fit()})),this.phaseDistribChart.onSeriesBackgroundMouseDoubleClick((()=>{var t;null===n||void 0===n||n.fit(),null===(t=this.phaseDistribAxisY)||void 0===t||t.fit()})),this.ampDistrib=this.ampDistribChart.addLineSeries().setName("\u0410\u043c\u043f\u043b\u0438\u0442\u0443\u0434\u0430").setCursorInterpolationEnabled(!1).setCursorResultTableFormatter(((t,e,i,s)=>t.addRow(e.getName()).addRow("N \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0446\u0438\u0438:","",i.toFixed(0),"","").addRow("\u041c\u043e\u0449\u043d\u043e\u0441\u0442\u044c:","",s.toFixed(1),"","\u0434\u0411"))),this.phaseDistrib=this.phaseDistribChart.addLineSeries().setName("\u0424\u0430\u0437\u0430").setCursorInterpolationEnabled(!1).setCursorResultTableFormatter(((t,e,i,s)=>t.addRow(e.getName()).addRow("N \u043a\u043e\u043c\u043c\u0443\u0442\u0430\u0446\u0438\u0438:","",i.toFixed(0),"","").addRow("\u0424\u0430\u0437\u0430:","",s.toFixed(1),"","\u0433\u0440\u0430\u0434"))),this.ampDistrib.onMouseDoubleClick((()=>{var t;null===s||void 0===s||s.fit(),null===(t=this.ampDistribAxisY)||void 0===t||t.fit()})),this.phaseDistrib.onMouseDoubleClick((()=>{var t;null===n||void 0===n||n.fit(),null===(t=this.phaseDistribAxisY)||void 0===t||t.fit()})),this.beamPattern=this.beamPatternChart.addAreaSeries().setName("\u0414\u041d\u0410").setConnectDataAutomaticallyEnabled(!0).setCursorResultTableFormatter(((t,e,i,s)=>t.addRow(e.getName()).addRow("\u0423\u0433\u043e\u043b:","",i.toFixed(1),"","\u0433\u0440\u0430\u0434").addRow("\u041a\u043e\u044d\u0444. \u043a\u043e\u0440\u0440.:","",s.toFixed(1),"",""))),VC.dispatch(_C({[this.chartName]:{show:VC.getState().appData.view.chartBearing,metadata:!1}})),console.log("create chart: ",this.chartName)}addMetadata(t){if(this.beamPatternChart){if(this.metadataList)for(let t=0;t<this.metadataList.length;t++)this.metadataList[t].dispose();this.metadataList=[];for(let e=0;e<t.length;e++)this.metadataList[e]=this.beamPatternChart.addUIElement(pf.TextBox).setOrigin({x:1,y:1}).setMouseInteractions(!1).setPosition({x:100,y:93-4*e}).setText(t[e])}}setMaxWidth(t){this.ampDistribAxisY&&this.phaseDistribAxisY&&(t?(this.ampDistribAxisY.setThickness(0),this.phaseDistribAxisY.setThickness(0)):(this.ampDistribAxisY.setThickness(50),this.phaseDistribAxisY.setThickness(50)))}deleteChart(){var t,e,i,s,n,r,o,a;console.log("delete chart: ",this.chartName),null===(t=this.ampDistribChart)||void 0===t||t.dispose(),null===(e=this.phaseDistribChart)||void 0===e||e.dispose(),null===(i=this.beamPatternChart)||void 0===i||i.dispose(),null===(s=this.ampDistrib)||void 0===s||s.dispose(),null===(n=this.phaseDistrib)||void 0===n||n.dispose(),null===(r=this.beamPattern)||void 0===r||r.dispose(),null===(o=this.ampDistribAxisY)||void 0===o||o.dispose(),null===(a=this.phaseDistribAxisY)||void 0===a||a.dispose(),this.ampDistribChart=void 0,this.phaseDistribChart=void 0,this.beamPatternChart=void 0,this.ampDistrib=void 0,this.phaseDistrib=void 0,this.beamPattern=void 0,this.ampDistribAxisY=void 0,this.phaseDistribAxisY=void 0,VC.dispatch(_C({[this.chartName]:{show:!1}}))}updateBearing(t,e,i,s,n,r,o,a){this.beamPatternChart&&this.ampDistrib&&this.phaseDistrib&&this.beamPattern&&(this.ampDistrib.clear(),this.phaseDistrib.clear(),this.ampDistrib.addArrayY(s,1,0),this.phaseDistrib.addArrayY(n,1,0),this.beamPattern.setData(Array.from(o).map(((t,e)=>({angle:e*r,amplitude:t})))),this.addMetadata(a))}};const MC=new TextDecoder("utf-8");function kC(t,e){const i=new DataView(t);let s=0;s+=1;const n=i.getFloat32(s,!0);s+=4;const r=i.getFloat32(s,!0);s+=4;const o=i.getUint16(s,!0);s+=2,s+=1;const a=new Int16Array(t,s,o);s+=2*o;const l=new Int16Array(t,s,o);s+=2*o;const h=i.getUint16(s,!0);s+=2;let c=[];if(h){const e=new Uint8Array(t,s,h);c=MC.decode(e).split("\n")}0==e?AC.updateSamples(n,r,a,l,c):wC.updateSamples(n,r,a,l,c)}function RC(t,e){const i=new DataView(t);let s=0;s+=1;const n=i.getFloat32(s,!0);s+=4;const r=i.getFloat32(s,!0);s+=4;const o=i.getUint16(s,!0);s+=2;const a=new Int8Array(t,s,o);s+=o;const l=i.getUint16(s,!0);s+=2;let h=[];if(l){const e=new Uint8Array(t,s,l);h=MC.decode(e).split("\n")}0==e?pC.updateSpectrum(n,r,a,h):gC.updateSpectrum(n,r,a,h)}const EC=new class{constructor(){this.socket=void 0}connect(){this.socket||(this.socket=new WebSocket(VC.getState().appData.serverUrl),this.socket.binaryType="arraybuffer",this.on("open",(()=>{VC.dispatch(oe(!0)),console.log("Socket is open")})),this.on("close",(t=>{console.log("Socket is closed. Reconnect will be attempted in 3 second",t.reason),this.socket=null,VC.dispatch(oe(!1)),VC.dispatch(PC()),setTimeout((()=>{this.connect()}),3e3)})),this.on("error",(t=>{console.log("Socket encountered error: ",t.message,"Reconnect will be attempted in 3 second"),this.reconnect()})),this.on("message",(t=>{if(t.data instanceof ArrayBuffer)try{const e=new Uint8Array(t.data,0,1)[0];0==e?kC(t.data,0):1==e?kC(t.data,1):2==e?RC(t.data,0):3==e?RC(t.data,1):4==e?function(t){const e=new DataView(t);let i=0;i+=1,i+=8;const s=e.getFloat32(i,!0);i+=4;const n=e.getFloat32(i,!0);i+=4;const r=e.getUint16(i,!0);i+=2;const o=new Int8Array(t,i,r);i+=r;const a=e.getUint16(i,!0);i+=2;let l=[];if(a){const e=new Uint8Array(t,i,a);l=MC.decode(e).split("\n")}bC.updateSpectrum(s,n,o,l)}(t.data):5==e?function(t){const e=new DataView(t);let i=0;i+=1;const s=e.getFloat32(i,!0);i+=4;const n=e.getFloat32(i,!0);i+=4;const r=e.getUint16(i,!0);i+=2,i+=1;const o=new Int16Array(t,i,r);i+=2*r;const a=e.getUint16(i,!0);i+=2;let l=[];if(a){const e=new Uint8Array(t,i,a);l=MC.decode(e).split("\n")}yC.updateSpectrum(s,n,o,l)}(t.data):6==e?function(t){const e=new DataView(t);let i=0;i+=1;const s=e.getFloat32(i,!0);i+=4;const n=e.getUint8(i);i+=1;const r=e.getFloat32(i,!0);i+=4;const o=e.getUint16(i,!0);i+=2;const a=new Int16Array(t,i,o);i+=2*o;const l=new Int16Array(t,i,o);i+=2*o;const h=e.getFloat32(i,!0);i+=4;const c=e.getUint16(i,!0);i+=2,i+=2;const u=new Float32Array(t,i,c);i+=4*c;const d=e.getUint16(i,!0);i+=2;let f=[];if(d){const e=new Uint8Array(t,i,d);f=MC.decode(e).split("\n")}CC.updateBearing(s,n,r,a,l,h,u,f)}(t.data):(console.log("BinarySocket: Unknown message code:",e),console.log("BinarySocket_message: ",t))}catch(e){console.log("BinarySocket: Error in message:",e),console.log("BinarySocket_message: ",t)}else try{let e=JSON.parse(t.data);console.log("JsonSocket: Receive message:",e);for(let i of Object.keys(e))"deviceState"===i?VC.dispatch(DC(e.deviceState)):"deviceLog"===i?VC.dispatch(LC(e.deviceLog)):"deviceLimits"===i?VC.dispatch(zC(e.deviceLimits)):"chartAxisLimits"===i?VC.dispatch(NC(e.chartAxisLimits)):(console.log("JsonSocket: Unknown message type:",i),console.log("JsonSocket_message: ",t))}catch(e){console.log("JsonSocket: Error in message:",e),console.log("JsonSocket_message: ",t)}})),console.log("Create socket"))}reconnect(){this.socket&&(this.socket.close(),this.socket=null)}send(t){var e;null!==(e=this.socket)&&void 0!==e&&e.readyState&&this.socket.send(t)}on(t,e){this.socket&&this.socket.addEventListener(t,e)}};window.onbeforeunload=()=>{console.log("window.onbeforeunload"),EC.reconnect()};const TC={deviceState:{mode:"off",shutdown:!1,freqCenter:0,sampleRateIdx:0,fftSizeIdx:0,gainChan0:0,gainChan1:0,commutationType:"all",commutationPairIdx:0,useRefChan:!1,bearingBand:[0,0],bearingTypeIdx:0},deviceLimits:{freqCenter:[0,0],sampleRate:[],fftSize:[],gain:[0,0],commutationType:{all:[],diagonals:[],perimeter:[]},bearingType:[]},deviceLog:{history:[],countUnreadLog:0},chartAxisLimits:{samplesChan0:[0,0],samplesChan1:[0,0],spectrumChan0:[0,0],spectrumChan1:[0,0],crossSpectrum:[0,0]},chartState:{samplesChan0:{show:!1,chartWidth:0,axisInterval:[0,0],metadata:!1},samplesChan1:{show:!1,chartWidth:0,axisInterval:[0,0],metadata:!1},spectrumChan0:{show:!1,chartWidth:0,axisInterval:[0,0],metadata:!1},spectrumChan1:{show:!1,chartWidth:0,axisInterval:[0,0],metadata:!1},crossSpectrum:{show:!1,chartWidth:0,axisInterval:[0,0],metadata:!1},phaseSpectrum:{show:!1,chartWidth:0,axisInterval:[0,0],metadata:!1},bearing:{show:!1,chartWidth:0,axisInterval:[0,0],metadata:!1}}},IC=jt({name:"commonData",initialState:TC,reducers:{resetCommonData:t=>{const e=JSON.parse(JSON.stringify(TC));return e.deviceLog=t.deviceLog,e},resetCountUnreadLog:t=>{t.deviceLog.countUnreadLog=0},updateDeviceState:(t,e)=>{Object.assign(t.deviceState,e.payload)},updateDeviceLimits:(t,e)=>{Object.assign(t.deviceLimits,e.payload)},updateDeviceLog:(t,e)=>{if(e.payload.length){t.deviceLog.countUnreadLog+=e.payload.length,t.deviceLog.countUnreadLog>100&&(t.deviceLog.countUnreadLog=100);for(let i of e.payload){const e={...i,id:Math.random()};t.deviceLog.history.push(e)}if(t.deviceLog.history.length>100){let e=t.deviceLog.history.length-100;t.deviceLog.history.splice(0,e)}}},updateChartAxisLimits:(t,e)=>{Object.assign(t.chartAxisLimits,e.payload)},updateChartState:(t,e)=>{for(let i of Object.keys(e.payload))Object.assign(t.chartState[i],e.payload[i]);EC.send(JSON.stringify({chartState:e.payload}))}}}),{resetCommonData:PC,resetCountUnreadLog:FC,updateDeviceState:DC,updateDeviceLog:LC,updateDeviceLimits:zC,updateChartAxisLimits:NC,updateChartState:_C}=IC.actions,VC=function(t){const e=function(t){const{thunk:e=!0,immutableCheck:i=!0,serializableCheck:s=!0,actionCreatorCheck:n=!0}=null!==t&&void 0!==t?t:{};let r=new Dt;return e&&(function(t){return"boolean"===typeof t}(e)?r.push(O):r.push(U(e.extraArgument))),r},{reducer:i,middleware:s,devTools:n=!0,preloadedState:r,enhancers:o}=t||{};let a,l;if("function"===typeof i)a=i;else{if(!z(i))throw new Error(te(1));a=_(i)}l="function"===typeof s?s(e):e();let h=V;n&&(h=Pt({trace:!1,..."object"===typeof n&&n}));const c=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return t=>(i,s)=>{const n=t(i,s);let r=()=>{throw new Error(P(15))};const o={getState:n.getState,dispatch:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return r(t,...i)}},a=e.map((t=>t(o)));return r=V(...a)(n.dispatch),{...n,dispatch:r}}}(...l),u=Bt(c);return N(a,r,h(..."function"===typeof o?o(u):u()))}({reducer:{appData:he,commonData:IC.reducer},devTools:!0}),BC={header:"Header_header__OKWO7",header_logo:"Header_header_logo__kiF8D",header_logo_img:"Header_header_logo_img__38cWZ",header_label:"Header_header_label__pxriM",header_control:"Header_header_control__7JI-D"};var OC;function UC(){return UC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},UC.apply(null,arguments)}function HC(e,i){let{title:s,titleId:n,...r}=e;return t.createElement("svg",UC({xmlns:"http://www.w3.org/2000/svg",width:"900.000000pt",height:"1234.000000pt",viewBox:"0 0 900.000000 1234.000000",preserveAspectRatio:"xMidYMid meet",ref:i,"aria-labelledby":n},r),s?t.createElement("title",{id:n},s):null,OC||(OC=t.createElement("g",{transform:"translate(0.000000,1234.000000) scale(0.100000,-0.100000)",fill:"currentColor",stroke:"none"},t.createElement("path",{d:"M6814 12313 c25 -90 44 -289 56 -598 14 -337 33 -715 50 -985 12 -188 37 -486 49 -595 5 -44 17 -147 25 -230 9 -82 21 -184 26 -225 6 -41 15 -118 20 -170 6 -52 12 -104 15 -115 4 -18 17 -127 30 -242 l4 -33 -127 -2 c-70 -1 -302 -2 -517 -2 -288 -1 -404 -5 -445 -15 -140 -33 -183 -56 -267 -139 -41 -42 -70 -90 -150 -247 -89 -176 -113 -216 -113 -184 0 23 -69 157 -98 191 -35 39 -109 78 -186 97 -76 19 -77 8 -14 -121 57 -115 85 -211 73 -248 -10 -30 -27 -20 -51 31 -28 56 -63 89 -108 99 -46 10 -77 -12 -111 -80 -32 -63 -73 -80 -193 -80 -121 0 -159 24 -187 120 -11 38 -43 60 -87 60 -20 0 -35 -11 -61 -48 -20 -26 -41 -60 -48 -75 -7 -16 -20 -27 -31 -27 -17 0 -19 5 -13 33 15 73 98 225 167 305 15 18 28 42 28 52 0 16 -7 20 -38 20 -55 0 -140 -27 -189 -61 -46 -32 -102 -109 -129 -179 -9 -25 -20 -49 -24 -53 -5 -5 -25 22 -46 60 -109 198 -171 303 -203 343 -41 52 -52 61 -64 53 -5 -3 -57 -12 -116 -19 -79 -10 -285 -13 -811 -14 -784 0 -735 -4 -766 68 -8 20 -24 71 -35 112 -19 71 -20 104 -20 720 1 355 3 665 6 690 3 25 10 254 16 510 13 586 14 636 24 910 7 198 6 227 -8 238 -13 11 -18 9 -31 -10 -19 -27 -38 -87 -60 -188 -9 -41 -21 -93 -26 -115 -15 -67 -93 -430 -106 -495 -3 -14 -14 -65 -25 -115 -12 -49 -23 -99 -25 -110 -3 -11 -11 -51 -19 -90 -7 -38 -30 -144 -50 -235 -20 -91 -38 -177 -40 -192 -2 -15 -15 -83 -28 -150 -23 -113 -60 -297 -71 -358 -12 -64 -49 -252 -63 -320 -8 -41 -19 -95 -23 -120 -14 -79 -18 -100 -80 -410 -54 -269 -71 -362 -72 -380 -1 -26 9 -41 53 -75 28 -22 70 -56 94 -75 24 -19 97 -79 163 -132 65 -54 128 -98 138 -98 11 0 50 16 88 35 75 38 102 42 156 23 26 -9 230 -14 775 -18 841 -6 791 -1 841 -87 22 -37 83 -237 84 -274 0 -3 -50 27 -112 67 -135 90 -230 124 -344 124 -41 0 -96 -5 -122 -11 -26 -6 -92 -21 -147 -34 -55 -13 -158 -38 -230 -55 -71 -17 -166 -39 -210 -50 -44 -11 -152 -36 -240 -56 -606 -138 -587 -134 -970 -198 -144 -25 -213 -32 -220 -25 -6 6 -13 108 -17 252 -6 227 -3 290 22 487 5 36 14 106 19 155 6 50 14 106 16 125 3 19 10 75 15 125 10 91 13 118 26 210 4 28 8 61 9 75 2 14 8 66 14 115 7 50 19 149 27 220 8 72 19 162 24 200 5 39 16 133 25 210 9 77 18 154 20 170 11 94 26 210 35 285 6 47 17 139 25 205 18 158 34 290 40 329 3 17 9 69 15 116 5 47 14 125 20 174 12 105 15 128 34 306 8 74 13 137 10 139 -9 9 -38 -15 -60 -47 -29 -43 -104 -262 -302 -887 -244 -768 -403 -1457 -502 -2170 -7 -44 -16 -109 -21 -145 -10 -73 -39 -297 -44 -349 -2 -19 -6 -50 -10 -70 -3 -20 -7 -54 -10 -76 -2 -22 -9 -78 -15 -125 -5 -47 -13 -110 -16 -140 -7 -64 -31 -40 201 -200 83 -57 175 -121 205 -142 45 -32 143 -100 238 -165 17 -11 72 10 277 107 164 77 394 166 570 220 152 47 553 144 640 156 22 2 72 10 110 16 39 5 154 12 256 15 161 4 199 2 283 -16 137 -29 357 -138 386 -190 14 -27 13 -87 -2 -98 -22 -16 -270 -48 -498 -63 -388 -25 -423 -36 -555 -160 -44 -42 -109 -102 -145 -134 -36 -33 -148 -138 -250 -235 -413 -391 -574 -538 -731 -662 -90 -72 -180 -144 -199 -159 -19 -15 -163 -130 -320 -255 -274 -218 -318 -253 -401 -320 -184 -149 -244 -192 -292 -207 -80 -26 -121 -23 -188 14 -32 18 -60 30 -63 28 -2 -3 -1 -36 4 -75 5 -38 16 -131 24 -205 9 -74 21 -164 25 -200 5 -36 14 -101 20 -145 31 -226 46 -322 85 -535 14 -74 28 -153 32 -175 4 -22 8 -42 9 -45 1 -3 5 -21 9 -40 116 -537 227 -870 476 -1435 62 -140 100 -226 176 -405 118 -278 318 -640 352 -640 16 0 72 78 72 100 0 5 -41 119 -91 252 -197 524 -319 932 -349 1163 -13 105 -27 271 -35 420 -17 334 -48 818 -67 1040 -6 83 -12 247 -12 365 l-1 215 29 62 c27 60 92 130 237 256 70 61 315 284 409 372 47 44 143 134 215 200 71 66 175 163 230 215 266 251 412 388 549 516 82 76 203 190 267 252 117 111 139 126 202 138 85 15 148 26 207 35 36 5 106 16 155 24 50 8 108 17 130 20 22 2 54 8 70 11 28 6 29 6 15 -12 -29 -35 -164 -188 -215 -244 -27 -31 -111 -125 -185 -210 -74 -84 -162 -183 -195 -220 -33 -37 -85 -97 -115 -133 -30 -37 -64 -70 -76 -73 -11 -3 -49 1 -85 10 -35 8 -68 11 -73 6 -12 -12 -41 -135 -76 -320 -49 -264 -77 -754 -87 -1545 -6 -456 2 -613 68 -1265 70 -706 71 -712 140 -1025 95 -423 211 -741 436 -1189 158 -315 309 -558 500 -803 35 -46 68 -83 72 -83 9 0 101 114 101 125 0 4 -45 86 -101 182 -299 519 -521 1116 -629 1692 -23 126 -39 287 -45 456 -6 194 -17 409 -40 795 -26 441 -16 1013 25 1405 43 407 93 624 207 908 l56 139 -21 41 c-45 93 -50 157 -18 267 17 57 104 199 176 285 108 131 310 272 440 309 71 20 190 35 190 24 0 -4 -30 -67 -66 -139 -150 -300 -207 -487 -207 -674 1 -153 25 -313 83 -565 108 -463 157 -617 395 -1257 171 -460 169 -457 219 -335 37 91 74 152 91 152 20 0 51 -63 71 -144 19 -75 40 -102 58 -72 6 10 21 31 34 47 20 24 44 73 163 326 16 34 29 65 29 68 0 4 11 30 24 58 13 29 29 70 36 92 7 22 16 45 21 50 10 13 50 119 99 260 20 61 62 162 93 225 61 127 90 205 104 285 7 42 26 122 39 165 18 59 88 423 109 569 11 73 16 153 13 220 -4 93 -8 115 -37 181 -18 41 -59 138 -91 215 -32 77 -76 180 -99 228 -23 49 -41 91 -41 94 0 7 102 -6 185 -24 88 -19 230 -87 315 -152 65 -49 251 -250 302 -326 46 -68 131 -255 136 -300 6 -54 -38 -157 -74 -174 -30 -13 -30 -15 2 -148 29 -123 78 -330 99 -418 33 -135 55 -400 55 -648 -1 -236 -15 -707 -25 -817 -8 -87 -44 -366 -60 -470 -9 -52 -22 -151 -30 -220 -9 -69 -22 -174 -30 -235 -8 -60 -17 -144 -20 -185 -3 -41 -10 -88 -15 -105 -5 -16 -16 -75 -25 -130 -9 -55 -27 -152 -41 -215 -13 -63 -29 -135 -34 -160 -60 -301 -140 -650 -165 -725 -13 -38 -33 -106 -45 -150 -24 -92 -106 -288 -191 -455 -60 -120 -165 -253 -260 -332 -24 -20 -64 -55 -88 -77 l-43 -41 28 -57 c42 -84 59 -83 181 9 154 115 208 163 257 227 99 128 249 394 379 671 27 57 64 167 102 305 40 145 205 737 240 860 18 66 50 177 69 248 20 70 76 328 126 575 49 246 98 485 110 532 43 181 69 360 130 924 27 243 50 650 50 883 0 171 -3 199 -46 450 -48 284 -59 341 -68 350 -2 3 -39 -6 -81 -20 -42 -14 -81 -24 -88 -21 -7 2 -28 35 -48 72 -136 251 -399 679 -524 853 l-55 77 158 8 c288 16 406 7 497 -39 54 -27 178 -154 250 -257 94 -134 187 -251 360 -450 210 -241 446 -524 750 -899 169 -208 275 -381 324 -528 50 -147 93 -450 108 -748 9 -181 -58 -712 -146 -1155 -17 -85 -51 -262 -76 -394 -46 -239 -105 -454 -188 -687 -25 -68 -61 -176 -81 -239 -21 -63 -62 -165 -93 -227 -30 -62 -52 -117 -48 -123 4 -7 22 -18 40 -26 l33 -13 81 82 c95 97 173 194 219 270 96 158 283 642 413 1067 55 178 224 865 258 1045 98 527 135 855 135 1210 1 235 -2 291 -23 433 -13 89 -27 162 -31 162 -4 0 -37 -20 -73 -44 -82 -55 -125 -69 -192 -64 -106 9 -46 -56 -1439 1547 -374 431 -400 459 -446 470 -19 5 -111 12 -205 15 -527 18 -540 19 -563 34 -12 8 -25 25 -28 38 -18 71 61 135 252 201 74 25 91 27 249 27 347 2 1111 -20 1259 -35 113 -12 172 -30 516 -163 184 -71 248 -91 256 -83 6 7 61 91 121 187 60 96 144 229 185 295 l76 120 -19 100 c-123 632 -141 719 -248 1185 -98 433 -305 1234 -425 1645 -59 204 -154 490 -206 620 -77 194 -182 357 -279 434 -47 37 -70 32 -52 -10 33 -80 83 -229 101 -300 83 -323 237 -1237 260 -1542 17 -224 48 -618 95 -1222 61 -767 63 -813 38 -843 -46 -58 -121 -51 -1016 98 -394 66 -732 120 -750 120 -34 0 -105 -38 -279 -149 -54 -34 -118 -70 -143 -81 l-45 -19 0 27 c0 36 86 230 136 309 42 66 76 91 170 123 97 34 168 30 783 -41 265 -31 359 -39 370 -31 9 7 57 36 107 66 170 103 193 136 194 277 0 48 -5 111 -10 140 -6 30 -17 101 -25 159 -8 58 -20 137 -25 175 -6 39 -13 86 -16 105 -2 19 -9 62 -15 95 -5 33 -14 89 -20 125 -16 102 -58 326 -79 425 -73 333 -122 535 -285 1170 -37 143 -80 312 -95 375 -118 477 -142 550 -188 550 -17 0 -22 -4 -18 -17z"}))))}const GC=t.forwardRef(HC);i.p;var WC;function jC(){return jC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},jC.apply(null,arguments)}function YC(e,i){let{title:s,titleId:n,...r}=e;return t.createElement("svg",jC({xmlns:"http://www.w3.org/2000/svg",width:"512.000000pt",height:"512.000000pt",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",ref:i,"aria-labelledby":n},r),s?t.createElement("title",{id:n},s):null,WC||(WC=t.createElement("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"currentColor",stroke:"none"},t.createElement("path",{d:"M2510 5113 c-25 -1 -97 -10 -160 -19 -1267 -172 -2210 -1254 -2210 -2534 0 -936 500 -1783 1325 -2243 490 -274 1098 -376 1670 -281 667 111 1274 501 1650 1059 57 86 195 325 195 339 0 2 -64 -19 -142 -45 -252 -85 -461 -115 -728 -106 -180 7 -302 24 -455 64 -706 185 -1261 742 -1441 1444 -39 153 -54 258 -61 415 -31 725 369 1459 1000 1835 l78 47 -58 6 c-209 23 -495 31 -663 19z"}))))}const XC=t.forwardRef(YC);i.p;var qC;function JC(){return JC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},JC.apply(null,arguments)}function KC(e,i){let{title:s,titleId:n,...r}=e;return t.createElement("svg",JC({xmlns:"http://www.w3.org/2000/svg",width:"512.000000pt",height:"512.000000pt",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",ref:i,"aria-labelledby":n},r),s?t.createElement("title",{id:n},s):null,qC||(qC=t.createElement("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"currentColor",stroke:"none"},t.createElement("path",{d:"M2410 4665 l0 -455 150 0 150 0 0 455 0 455 -150 0 -150 0 0 -455z"}),t.createElement("path",{d:"M757 4362 l-107 -107 318 -318 317 -317 108 108 107 107 -318 318 -317 317 -108 -108z"}),t.createElement("path",{d:"M3937 4152 l-317 -317 108 -108 107 -107 318 318 317 317 -108 108 -107 107 -318 -318z"}),t.createElement("path",{d:"M2386 3899 c-309 -42 -580 -181 -797 -406 -144 -149 -238 -301 -303 -491 -56 -160 -70 -253 -70 -442 0 -192 15 -285 73 -449 159 -451 539 -777 1021 -878 115 -24 381 -24 500 0 417 83 768 349 957 726 49 98 95 231 120 351 25 120 24 382 -1 505 -55 263 -169 483 -350 672 -198 208 -441 343 -717 398 -93 19 -341 27 -433 14z"}),t.createElement("path",{d:"M0 2560 l0 -150 455 0 455 0 0 150 0 150 -455 0 -455 0 0 -150z"}),t.createElement("path",{d:"M4210 2560 l0 -150 455 0 455 0 0 150 0 150 -455 0 -455 0 0 -150z"}),t.createElement("path",{d:"M967 1182 l-317 -317 108 -108 107 -107 318 318 317 317 -108 108 -107 107 -318 -318z"}),t.createElement("path",{d:"M3727 1392 l-107 -107 318 -318 317 -317 108 108 107 107 -318 318 -317 317 -108 -108z"}),t.createElement("path",{d:"M2410 455 l0 -455 150 0 150 0 0 455 0 455 -150 0 -150 0 0 -455z"}))))}const ZC=t.forwardRef(KC),QC=(i.p,{switch_theme:"SwitchTheme_switch_theme__J+7kx"}),$C=t=>t.appData.stateSettingsWindow,tM=t=>t.appData.stateLogWindow,eM=t=>t.appData.serverUrl,iM=t=>t.appData.readySocket,sM=t=>t.appData.theme,nM=t=>t.appData.view;var rM,oM=i(4414);function aM(){const t=E(),e=y(sM);return document.body.setAttribute("data-theme",e),(0,oM.jsxs)("div",{className:QC.switch_theme,onClick:()=>{t(ae("light"===e?"dark":"light"))},children:["light"===e&&(0,oM.jsx)(ZC,{}),"dark"===e&&(0,oM.jsx)(XC,{})]})}function lM(){return lM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},lM.apply(null,arguments)}function hM(e,i){let{title:s,titleId:n,...r}=e;return t.createElement("svg",lM({xmlns:"http://www.w3.org/2000/svg",width:"512.000000pt",height:"512.000000pt",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",ref:i,"aria-labelledby":n},r),s?t.createElement("title",{id:n},s):null,rM||(rM=t.createElement("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",fill:"currentColor",stroke:"none"},t.createElement("path",{d:"M2245 5111 c-50 -13 -112 -49 -151 -88 -65 -64 -81 -117 -111 -354 -14 -118 -31 -219 -36 -226 -5 -7 -25 -17 -45 -23 -20 -7 -83 -32 -140 -57 l-103 -46 -37 30 c-173 137 -304 234 -342 253 -61 31 -159 38 -236 15 -57 -16 -67 -25 -291 -248 -223 -224 -232 -234 -248 -291 -23 -78 -16 -175 15 -236 13 -25 77 -115 143 -200 66 -85 125 -161 130 -167 6 -9 -5 -46 -36 -115 -25 -57 -50 -120 -57 -140 -6 -20 -16 -40 -23 -45 -7 -5 -109 -22 -227 -37 -238 -30 -289 -46 -353 -110 -21 -20 -49 -60 -65 -89 l-27 -52 0 -320 0 -320 26 -56 c15 -31 43 -73 64 -94 66 -66 118 -82 356 -112 118 -14 219 -31 226 -36 7 -5 17 -25 23 -45 7 -20 32 -83 57 -140 31 -69 42 -106 36 -115 -5 -6 -64 -82 -130 -167 -66 -85 -130 -175 -143 -200 -31 -62 -38 -158 -15 -236 16 -56 26 -68 233 -277 259 -261 275 -272 407 -272 76 0 97 4 135 24 35 19 172 121 368 274 8 7 36 -1 90 -26 42 -19 108 -46 145 -58 49 -17 69 -30 72 -44 2 -11 16 -112 30 -225 28 -227 45 -279 110 -345 21 -21 63 -49 94 -64 l56 -26 315 0 315 0 56 26 c31 15 73 43 94 64 66 67 82 118 112 356 14 118 31 219 37 225 6 6 45 24 86 39 41 15 102 41 135 58 70 35 47 46 250 -113 83 -64 170 -127 195 -140 62 -31 158 -38 236 -15 56 16 68 26 277 233 261 259 272 275 272 407 0 113 -8 128 -168 335 -66 85 -125 161 -130 167 -6 9 5 46 36 115 25 57 50 120 57 140 6 20 16 40 23 45 7 5 108 22 226 36 238 30 287 45 355 112 21 21 51 64 65 94 l26 56 0 315 0 315 -26 56 c-15 31 -43 73 -64 94 -66 66 -118 82 -356 112 -118 14 -219 31 -226 36 -7 5 -17 25 -23 45 -7 20 -32 83 -57 140 -31 69 -42 106 -36 115 5 6 64 82 130 167 66 85 130 175 143 200 31 61 38 158 15 236 -16 57 -25 67 -248 291 -224 223 -234 232 -291 248 -78 23 -175 16 -236 -15 -25 -13 -112 -76 -195 -140 -203 -159 -180 -148 -250 -113 -33 17 -94 43 -135 58 -41 15 -80 33 -86 39 -6 6 -23 107 -37 225 -30 238 -46 289 -112 356 -21 21 -63 49 -94 64 l-56 26 -300 2 c-165 1 -313 -2 -330 -6z m425 -1491 c124 -14 229 -44 335 -94 238 -112 409 -283 520 -519 192 -407 102 -894 -223 -1209 -322 -311 -790 -392 -1188 -204 -121 58 -203 114 -296 204 -325 315 -415 802 -223 1209 176 372 538 609 950 622 22 0 78 -4 125 -9z"}))))}const cM=t.forwardRef(hM),uM=(i.p,{flex_wrap:"Settings_flex_wrap__iFsX7",flex_end:"Settings_flex_end__UfxbW",flex_center:"Settings_flex_center__Nqi64",settings_icon:"Settings_settings_icon__Yq4Xk",modal_bg:"Settings_modal_bg__J2xoL",modal_win:"Settings_modal_win__-q65c",modal_title:"Settings_modal_title__6beJ4",modal_button:"Settings_modal_button__EmO4N",settings:"Settings_settings__TvLyg",settings__menu:"Settings_settings__menu__j3IJW",settings__menu_item:"Settings_settings__menu_item__yUEiY",settings__params:"Settings_settings__params__O9mEy",table:"Settings_table__k2oSt",gps_row:"Settings_gps_row__zLA9f",device_band_table:"Settings_device_band_table__7xsj6",name_row:"Settings_name_row__QKzoO"}),dM={detection_icon:"DetectionControl_detection_icon__RSPHy"};var fM=i(8587),pM=i(8168),gM=i(2004),mM=i(8465);const yM=["value"],vM=t.createContext();const bM=()=>{const e=t.useContext(vM);return null!=e&&e},xM=function(t){let{value:e}=t,i=(0,fM.A)(t,yM);return(0,oM.jsx)(vM.Provider,(0,pM.A)({value:null==e||e},i))};var SM=i(5393);const AM=function(t){return"string"===typeof t};const wM=function(t,e,i){return void 0===t||AM(t)?e:(0,pM.A)({},e,{ownerState:(0,pM.A)({},e.ownerState,i)})};const CM=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===t)return{};const i={};return Object.keys(t).filter((i=>i.match(/^on[A-Z]/)&&"function"===typeof t[i]&&!e.includes(i))).forEach((e=>{i[e]=t[e]})),i};const MM=function(t){if(void 0===t)return{};const e={};return Object.keys(t).filter((e=>!(e.match(/^on[A-Z]/)&&"function"===typeof t[e]))).forEach((i=>{e[i]=t[i]})),e};const kM=function(t){const{getSlotProps:e,additionalProps:i,externalSlotProps:s,externalForwardedProps:n,className:r}=t;if(!e){const t=(0,gM.A)(null==i?void 0:i.className,r,null==n?void 0:n.className,null==s?void 0:s.className),e=(0,pM.A)({},null==i?void 0:i.style,null==n?void 0:n.style,null==s?void 0:s.style),o=(0,pM.A)({},i,n,s);return t.length>0&&(o.className=t),Object.keys(e).length>0&&(o.style=e),{props:o,internalRef:void 0}}const o=CM((0,pM.A)({},n,s)),a=MM(s),l=MM(n),h=e(o),c=(0,gM.A)(null==h?void 0:h.className,null==i?void 0:i.className,r,null==n?void 0:n.className,null==s?void 0:s.className),u=(0,pM.A)({},null==h?void 0:h.style,null==i?void 0:i.style,null==n?void 0:n.style,null==s?void 0:s.style),d=(0,pM.A)({},h,i,l,a);return c.length>0&&(d.className=c),Object.keys(u).length>0&&(d.style=u),{props:d,internalRef:h.ref}};const RM=function(t,e,i){return"function"===typeof t?t(e,i):t},EM=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const TM=function(t){var e;const{elementType:i,externalSlotProps:s,ownerState:n,skipResolvingSlotProps:r=!1}=t,o=(0,fM.A)(t,EM),a=r?{}:RM(s,n),{props:l,internalRef:h}=kM((0,pM.A)({},o,{externalSlotProps:a})),c=(0,SM.A)(h,null==a?void 0:a.ref,null==(e=t.additionalProps)?void 0:e.ref);return wM(i,(0,pM.A)({},l,{ref:c}),n)};var IM=i(6907);const PM=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function FM(t){const e=[],i=[];return Array.from(t.querySelectorAll(PM)).forEach(((t,s)=>{const n=function(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?"true"===t.contentEditable||("AUDIO"===t.nodeName||"VIDEO"===t.nodeName||"DETAILS"===t.nodeName)&&null===t.getAttribute("tabindex")?0:t.tabIndex:e}(t);-1!==n&&function(t){return!(t.disabled||"INPUT"===t.tagName&&"hidden"===t.type||function(t){if("INPUT"!==t.tagName||"radio"!==t.type)return!1;if(!t.name)return!1;const e=e=>t.ownerDocument.querySelector('input[type="radio"]'.concat(e));let i=e('[name="'.concat(t.name,'"]:checked'));return i||(i=e('[name="'.concat(t.name,'"]'))),i!==t}(t))}(t)&&(0===n?e.push(t):i.push({documentOrder:s,tabIndex:n,node:t}))})),i.sort(((t,e)=>t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex)).map((t=>t.node)).concat(e)}function DM(){return!0}const LM=function(e){const{children:i,disableAutoFocus:s=!1,disableEnforceFocus:n=!1,disableRestoreFocus:r=!1,getTabbable:o=FM,isEnabled:a=DM,open:l}=e,h=t.useRef(!1),c=t.useRef(null),u=t.useRef(null),d=t.useRef(null),f=t.useRef(null),p=t.useRef(!1),g=t.useRef(null),m=(0,SM.A)(i.ref,g),y=t.useRef(null);t.useEffect((()=>{l&&g.current&&(p.current=!s)}),[s,l]),t.useEffect((()=>{if(!l||!g.current)return;const t=(0,IM.A)(g.current);return g.current.contains(t.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{r||(d.current&&d.current.focus&&(h.current=!0,d.current.focus()),d.current=null)}}),[l]),t.useEffect((()=>{if(!l||!g.current)return;const t=(0,IM.A)(g.current),e=e=>{y.current=e,!n&&a()&&"Tab"===e.key&&t.activeElement===g.current&&e.shiftKey&&(h.current=!0,u.current&&u.current.focus())},i=()=>{const e=g.current;if(null===e)return;if(!t.hasFocus()||!a()||h.current)return void(h.current=!1);if(e.contains(t.activeElement))return;if(n&&t.activeElement!==c.current&&t.activeElement!==u.current)return;if(t.activeElement!==f.current)f.current=null;else if(null!==f.current)return;if(!p.current)return;let i=[];if(t.activeElement!==c.current&&t.activeElement!==u.current||(i=o(g.current)),i.length>0){var s,r;const t=Boolean((null==(s=y.current)?void 0:s.shiftKey)&&"Tab"===(null==(r=y.current)?void 0:r.key)),e=i[0],n=i[i.length-1];"string"!==typeof e&&"string"!==typeof n&&(t?n.focus():e.focus())}else e.focus()};t.addEventListener("focusin",i),t.addEventListener("keydown",e,!0);const s=setInterval((()=>{t.activeElement&&"BODY"===t.activeElement.tagName&&i()}),50);return()=>{clearInterval(s),t.removeEventListener("focusin",i),t.removeEventListener("keydown",e,!0)}}),[s,n,r,a,l,o]);const v=t=>{null===d.current&&(d.current=t.relatedTarget),p.current=!0};return(0,oM.jsxs)(t.Fragment,{children:[(0,oM.jsx)("div",{tabIndex:l?0:-1,onFocus:v,ref:c,"data-testid":"sentinelStart"}),t.cloneElement(i,{ref:m,onFocus:t=>{null===d.current&&(d.current=t.relatedTarget),p.current=!0,f.current=t.target;const e=i.props.onFocus;e&&e(t)}}),(0,oM.jsx)("div",{tabIndex:l?0:-1,onFocus:v,ref:u,"data-testid":"sentinelEnd"})]})};var zM=i(7119),NM=i(1399),_M=i(5587);const VM=t.forwardRef((function(e,i){const{children:s,container:n,disablePortal:r=!1}=e,[o,a]=t.useState(null),l=(0,SM.A)(t.isValidElement(s)?s.ref:null,i);if((0,NM.A)((()=>{r||a(function(t){return"function"===typeof t?t():t}(n)||document.body)}),[n,r]),(0,NM.A)((()=>{if(o&&!r)return(0,_M.A)(i,o),()=>{(0,_M.A)(i,null)}}),[i,o,r]),r){if(t.isValidElement(s)){const e={ref:l};return t.cloneElement(s,e)}return(0,oM.jsx)(t.Fragment,{children:s})}return(0,oM.jsx)(t.Fragment,{children:o?zM.createPortal(s,o):o})}));var BM=i(9254),OM=i(8463);function UM(t,e){return UM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},UM(t,e)}function HM(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,UM(t,e)}const GM=!1,WM=t.createContext(null);var jM="unmounted",YM="exited",XM="entering",qM="entered",JM="exiting",KM=function(e){function i(t,i){var s;s=e.call(this,t,i)||this;var n,r=i&&!i.isMounting?t.enter:t.appear;return s.appearStatus=null,t.in?r?(n=YM,s.appearStatus=XM):n=qM:n=t.unmountOnExit||t.mountOnEnter?jM:YM,s.state={status:n},s.nextCallback=null,s}HM(i,e),i.getDerivedStateFromProps=function(t,e){return t.in&&e.status===jM?{status:YM}:null};var s=i.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(t){var e=null;if(t!==this.props){var i=this.state.status;this.props.in?i!==XM&&i!==qM&&(e=XM):i!==XM&&i!==qM||(e=JM)}this.updateStatus(!1,e)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var t,e,i,s=this.props.timeout;return t=e=i=s,null!=s&&"number"!==typeof s&&(t=s.exit,e=s.enter,i=void 0!==s.appear?s.appear:e),{exit:t,enter:e,appear:i}},s.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===XM){if(this.props.unmountOnExit||this.props.mountOnEnter){var i=this.props.nodeRef?this.props.nodeRef.current:zM.findDOMNode(this);i&&function(t){t.scrollTop}(i)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===YM&&this.setState({status:jM})},s.performEnter=function(t){var e=this,i=this.props.enter,s=this.context?this.context.isMounting:t,n=this.props.nodeRef?[s]:[zM.findDOMNode(this),s],r=n[0],o=n[1],a=this.getTimeouts(),l=s?a.appear:a.enter;!t&&!i||GM?this.safeSetState({status:qM},(function(){e.props.onEntered(r)})):(this.props.onEnter(r,o),this.safeSetState({status:XM},(function(){e.props.onEntering(r,o),e.onTransitionEnd(l,(function(){e.safeSetState({status:qM},(function(){e.props.onEntered(r,o)}))}))})))},s.performExit=function(){var t=this,e=this.props.exit,i=this.getTimeouts(),s=this.props.nodeRef?void 0:zM.findDOMNode(this);e&&!GM?(this.props.onExit(s),this.safeSetState({status:JM},(function(){t.props.onExiting(s),t.onTransitionEnd(i.exit,(function(){t.safeSetState({status:YM},(function(){t.props.onExited(s)}))}))}))):this.safeSetState({status:YM},(function(){t.props.onExited(s)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},s.setNextCallback=function(t){var e=this,i=!0;return this.nextCallback=function(s){i&&(i=!1,e.nextCallback=null,t(s))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},s.onTransitionEnd=function(t,e){this.setNextCallback(e);var i=this.props.nodeRef?this.props.nodeRef.current:zM.findDOMNode(this),s=null==t&&!this.props.addEndListener;if(i&&!s){if(this.props.addEndListener){var n=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],r=n[0],o=n[1];this.props.addEndListener(r,o)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===jM)return null;var i=this.props,s=i.children,n=(i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef,(0,fM.A)(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(WM.Provider,{value:null},"function"===typeof s?s(e,n):t.cloneElement(t.Children.only(s),n))},i}(t.Component);function ZM(){}KM.contextType=WM,KM.propTypes={},KM.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ZM,onEntering:ZM,onEntered:ZM,onExit:ZM,onExiting:ZM,onExited:ZM},KM.UNMOUNTED=jM,KM.EXITED=YM,KM.ENTERING=XM,KM.ENTERED=qM,KM.EXITING=JM;const QM=KM;var $M=i(2860),tk=i(7576);const ek=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const i=t.useContext(tk.T);return i&&(s=i,0!==Object.keys(s).length)?i:e;var s},ik=(0,$M.A)();const sk=function(){return ek(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ik)};var nk=i(195),rk=i(7550);function ok(){const t=sk(nk.A);return t[rk.A]||t}const ak=t=>t.scrollTop;function lk(t,e){var i,s;const{timeout:n,easing:r,style:o={}}=t;return{duration:null!=(i=o.transitionDuration)?i:"number"===typeof n?n:n[e.mode]||0,easing:null!=(s=o.transitionTimingFunction)?s:"object"===typeof r?r[e.mode]:r,delay:o.transitionDelay}}var hk=i(1506);const ck=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],uk={entering:{opacity:1},entered:{opacity:1}},dk=t.forwardRef((function(e,i){const s=ok(),n={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:r,appear:o=!0,children:a,easing:l,in:h,onEnter:c,onEntered:u,onEntering:d,onExit:f,onExited:p,onExiting:g,style:m,timeout:y=n,TransitionComponent:v=QM}=e,b=(0,fM.A)(e,ck),x=t.useRef(null),S=(0,hk.A)(x,a.ref,i),A=t=>e=>{if(t){const i=x.current;void 0===e?t(i):t(i,e)}},w=A(d),C=A(((t,e)=>{ak(t);const i=lk({style:m,timeout:y,easing:l},{mode:"enter"});t.style.webkitTransition=s.transitions.create("opacity",i),t.style.transition=s.transitions.create("opacity",i),c&&c(t,e)})),M=A(u),k=A(g),R=A((t=>{const e=lk({style:m,timeout:y,easing:l},{mode:"exit"});t.style.webkitTransition=s.transitions.create("opacity",e),t.style.transition=s.transitions.create("opacity",e),f&&f(t)})),E=A(p);return(0,oM.jsx)(v,(0,pM.A)({appear:o,in:h,nodeRef:x,onEnter:C,onEntered:M,onEntering:w,onExit:R,onExited:E,onExiting:k,addEndListener:t=>{r&&r(x.current,t)},timeout:y},b,{children:(e,i)=>t.cloneElement(a,(0,pM.A)({style:(0,pM.A)({opacity:0,visibility:"exited"!==e||h?void 0:"hidden"},uk[e],m,a.props.style),ref:S},i))}))})),fk=dk;var pk=i(1763),gk=i(423);function mk(t){return(0,gk.Ay)("MuiBackdrop",t)}(0,pk.A)("MuiBackdrop",["root","invisible"]);const yk=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],vk=(0,BM.Ay)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.invisible&&e.invisible]}})((t=>{let{ownerState:e}=t;return(0,pM.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})})),bk=t.forwardRef((function(t,e){var i,s,n;const r=(0,OM.b)({props:t,name:"MuiBackdrop"}),{children:o,className:a,component:l="div",components:h={},componentsProps:c={},invisible:u=!1,open:d,slotProps:f={},slots:p={},TransitionComponent:g=fk,transitionDuration:m}=r,y=(0,fM.A)(r,yk),v=(0,pM.A)({},r,{component:l,invisible:u}),b=(t=>{const{classes:e,invisible:i}=t,s={root:["root",i&&"invisible"]};return(0,mM.A)(s,mk,e)})(v),x=null!=(i=f.root)?i:c.root;return(0,oM.jsx)(g,(0,pM.A)({in:d,timeout:m},y,{children:(0,oM.jsx)(vk,(0,pM.A)({"aria-hidden":!0},x,{as:null!=(s=null!=(n=p.root)?n:h.Root)?s:l,className:(0,gM.A)(b.root,a,null==x?void 0:x.className),ownerState:(0,pM.A)({},v,null==x?void 0:x.ownerState),classes:b,ref:e,children:o}))}))})),xk=bk;var Sk=i(2529),Ak=i(5511),wk=i(8635);function Ck(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Mk(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function kk(t){return parseInt((0,wk.A)(t).getComputedStyle(t).paddingRight,10)||0}function Rk(t,e,i,s,n){const r=[e,i,...s];[].forEach.call(t.children,(t=>{const e=-1===r.indexOf(t),i=!function(t){const e=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName),i="INPUT"===t.tagName&&"hidden"===t.getAttribute("type");return e||i}(t);e&&i&&Mk(t,n)}))}function Ek(t,e){let i=-1;return t.some(((t,s)=>!!e(t)&&(i=s,!0))),i}function Tk(t,e){const i=[],s=t.container;if(!e.disableScrollLock){if(function(t){const e=(0,IM.A)(t);return e.body===t?(0,wk.A)(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(s)){const t=Ck((0,IM.A)(s));i.push({value:s.style.paddingRight,property:"padding-right",el:s}),s.style.paddingRight="".concat(kk(s)+t,"px");const e=(0,IM.A)(s).querySelectorAll(".mui-fixed");[].forEach.call(e,(e=>{i.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(kk(e)+t,"px")}))}let t;if(s.parentNode instanceof DocumentFragment)t=(0,IM.A)(s).body;else{const e=s.parentElement,i=(0,wk.A)(s);t="HTML"===(null==e?void 0:e.nodeName)&&"scroll"===i.getComputedStyle(e).overflowY?e:s}i.push({value:t.style.overflow,property:"overflow",el:t},{value:t.style.overflowX,property:"overflow-x",el:t},{value:t.style.overflowY,property:"overflow-y",el:t}),t.style.overflow="hidden"}return()=>{i.forEach((t=>{let{value:e,el:i,property:s}=t;e?i.style.setProperty(s,e):i.style.removeProperty(s)}))}}const Ik=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,e){let i=this.modals.indexOf(t);if(-1!==i)return i;i=this.modals.length,this.modals.push(t),t.modalRef&&Mk(t.modalRef,!1);const s=function(t){const e=[];return[].forEach.call(t.children,(t=>{"true"===t.getAttribute("aria-hidden")&&e.push(t)})),e}(e);Rk(e,t.mount,t.modalRef,s,!0);const n=Ek(this.containers,(t=>t.container===e));return-1!==n?(this.containers[n].modals.push(t),i):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblings:s}),i)}mount(t,e){const i=Ek(this.containers,(e=>-1!==e.modals.indexOf(t))),s=this.containers[i];s.restore||(s.restore=Tk(s,e))}remove(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const i=this.modals.indexOf(t);if(-1===i)return i;const s=Ek(this.containers,(e=>-1!==e.modals.indexOf(t))),n=this.containers[s];if(n.modals.splice(n.modals.indexOf(t),1),this.modals.splice(i,1),0===n.modals.length)n.restore&&n.restore(),t.modalRef&&Mk(t.modalRef,e),Rk(n.container,t.mount,t.modalRef,n.hiddenSiblings,!1),this.containers.splice(s,1);else{const t=n.modals[n.modals.length-1];t.modalRef&&Mk(t.modalRef,!1)}return i}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}};const Pk=function(e){const{container:i,disableEscapeKeyDown:s=!1,disableScrollLock:n=!1,manager:r=Ik,closeAfterTransition:o=!1,onTransitionEnter:a,onTransitionExited:l,children:h,onClose:c,open:u,rootRef:d}=e,f=t.useRef({}),p=t.useRef(null),g=t.useRef(null),m=(0,SM.A)(g,d),[y,v]=t.useState(!u),b=function(t){return!!t&&t.props.hasOwnProperty("in")}(h);let x=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(x=!1);const S=()=>(f.current.modalRef=g.current,f.current.mount=p.current,f.current),A=()=>{r.mount(S(),{disableScrollLock:n}),g.current&&(g.current.scrollTop=0)},w=(0,Sk.A)((()=>{const t=function(t){return"function"===typeof t?t():t}(i)||(0,IM.A)(p.current).body;r.add(S(),t),g.current&&A()})),C=t.useCallback((()=>r.isTopModal(S())),[r]),M=(0,Sk.A)((t=>{p.current=t,t&&(u&&C()?A():g.current&&Mk(g.current,x))})),k=t.useCallback((()=>{r.remove(S(),x)}),[x,r]);t.useEffect((()=>()=>{k()}),[k]),t.useEffect((()=>{u?w():b&&o||k()}),[u,k,b,o,w]);const R=t=>e=>{var i;null==(i=t.onKeyDown)||i.call(t,e),"Escape"===e.key&&229!==e.which&&C()&&(s||(e.stopPropagation(),c&&c(e,"escapeKeyDown")))},E=t=>e=>{var i;null==(i=t.onClick)||i.call(t,e),e.target===e.currentTarget&&c&&c(e,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=CM(e);delete i.onTransitionEnter,delete i.onTransitionExited;const s=(0,pM.A)({},i,t);return(0,pM.A)({role:"presentation"},s,{onKeyDown:R(s),ref:m})},getBackdropProps:function(){const t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,pM.A)({"aria-hidden":!0},t,{onClick:E(t),open:u})},getTransitionProps:()=>({onEnter:(0,Ak.A)((()=>{v(!1),a&&a()}),null==h?void 0:h.props.onEnter),onExited:(0,Ak.A)((()=>{v(!0),l&&l(),o&&k()}),null==h?void 0:h.props.onExited)}),rootRef:m,portalRef:M,isTopModal:C,exited:y,hasTransition:b}};function Fk(t){return(0,gk.Ay)("MuiModal",t)}(0,pk.A)("MuiModal",["root","hidden","backdrop"]);const Dk=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Lk=(0,BM.Ay)("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.open&&i.exited&&e.hidden]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!i.open&&i.exited&&{visibility:"hidden"})})),zk=(0,BM.Ay)(xk,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Nk=t.forwardRef((function(e,i){var s,n,r,o,a,l;const h=(0,OM.b)({name:"MuiModal",props:e}),{BackdropComponent:c=zk,BackdropProps:u,className:d,closeAfterTransition:f=!1,children:p,container:g,component:m,components:y={},componentsProps:v={},disableAutoFocus:b=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:S=!1,disablePortal:A=!1,disableRestoreFocus:w=!1,disableScrollLock:C=!1,hideBackdrop:M=!1,keepMounted:k=!1,onBackdropClick:R,open:E,slotProps:T,slots:I}=h,P=(0,fM.A)(h,Dk),F=(0,pM.A)({},h,{closeAfterTransition:f,disableAutoFocus:b,disableEnforceFocus:x,disableEscapeKeyDown:S,disablePortal:A,disableRestoreFocus:w,disableScrollLock:C,hideBackdrop:M,keepMounted:k}),{getRootProps:D,getBackdropProps:L,getTransitionProps:z,portalRef:N,isTopModal:_,exited:V,hasTransition:B}=Pk((0,pM.A)({},F,{rootRef:i})),O=(0,pM.A)({},F,{exited:V}),U=(t=>{const{open:e,exited:i,classes:s}=t,n={root:["root",!e&&i&&"hidden"],backdrop:["backdrop"]};return(0,mM.A)(n,Fk,s)})(O),H={};if(void 0===p.props.tabIndex&&(H.tabIndex="-1"),B){const{onEnter:t,onExited:e}=z();H.onEnter=t,H.onExited=e}const G=null!=(s=null!=(n=null==I?void 0:I.root)?n:y.Root)?s:Lk,W=null!=(r=null!=(o=null==I?void 0:I.backdrop)?o:y.Backdrop)?r:c,j=null!=(a=null==T?void 0:T.root)?a:v.root,Y=null!=(l=null==T?void 0:T.backdrop)?l:v.backdrop,X=TM({elementType:G,externalSlotProps:j,externalForwardedProps:P,getSlotProps:D,additionalProps:{ref:i,as:m},ownerState:O,className:(0,gM.A)(d,null==j?void 0:j.className,null==U?void 0:U.root,!O.open&&O.exited&&(null==U?void 0:U.hidden))}),q=TM({elementType:W,externalSlotProps:Y,additionalProps:u,getSlotProps:t=>L((0,pM.A)({},t,{onClick:e=>{R&&R(e),null!=t&&t.onClick&&t.onClick(e)}})),className:(0,gM.A)(null==Y?void 0:Y.className,null==u?void 0:u.className,null==U?void 0:U.backdrop),ownerState:O});return k||E||B&&!V?(0,oM.jsx)(VM,{ref:N,container:g,disablePortal:A,children:(0,oM.jsxs)(G,(0,pM.A)({},X,{children:[!M&&c?(0,oM.jsx)(W,(0,pM.A)({},q)):null,(0,oM.jsx)(LM,{disableEnforceFocus:x,disableAutoFocus:b,disableRestoreFocus:w,isEnabled:_,open:E,children:t.cloneElement(p,H)})]}))}):null})),_k=Nk;var Vk=i(1209),Bk=i(827);const Ok=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Uk(t,e,i){var s;const n=function(t,e,i){const s=e.getBoundingClientRect(),n=i&&i.getBoundingClientRect(),r=(0,Bk.A)(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const t=r.getComputedStyle(e);o=t.getPropertyValue("-webkit-transform")||t.getPropertyValue("transform")}let a=0,l=0;if(o&&"none"!==o&&"string"===typeof o){const t=o.split("(")[1].split(")")[0].split(",");a=parseInt(t[4],10),l=parseInt(t[5],10)}return"left"===t?"translateX(".concat(n?n.right+a-s.left:r.innerWidth+a-s.left,"px)"):"right"===t?"translateX(-".concat(n?s.right-n.left-a:s.left+s.width-a,"px)"):"up"===t?"translateY(".concat(n?n.bottom+l-s.top:r.innerHeight+l-s.top,"px)"):"translateY(-".concat(n?s.top-n.top+s.height-l:s.top+s.height-l,"px)")}(t,e,"function"===typeof(s=i)?s():s);n&&(e.style.webkitTransform=n,e.style.transform=n)}const Hk=t.forwardRef((function(e,i){const s=ok(),n={enter:s.transitions.easing.easeOut,exit:s.transitions.easing.sharp},r={enter:s.transitions.duration.enteringScreen,exit:s.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:h,direction:c="down",easing:u=n,in:d,onEnter:f,onEntered:p,onEntering:g,onExit:m,onExited:y,onExiting:v,style:b,timeout:x=r,TransitionComponent:S=QM}=e,A=(0,fM.A)(e,Ok),w=t.useRef(null),C=(0,hk.A)(l.ref,w,i),M=t=>e=>{t&&(void 0===e?t(w.current):t(w.current,e))},k=M(((t,e)=>{Uk(c,t,h),ak(t),f&&f(t,e)})),R=M(((t,e)=>{const i=lk({timeout:x,style:b,easing:u},{mode:"enter"});t.style.webkitTransition=s.transitions.create("-webkit-transform",(0,pM.A)({},i)),t.style.transition=s.transitions.create("transform",(0,pM.A)({},i)),t.style.webkitTransform="none",t.style.transform="none",g&&g(t,e)})),E=M(p),T=M(v),I=M((t=>{const e=lk({timeout:x,style:b,easing:u},{mode:"exit"});t.style.webkitTransition=s.transitions.create("-webkit-transform",e),t.style.transition=s.transitions.create("transform",e),Uk(c,t,h),m&&m(t)})),P=M((t=>{t.style.webkitTransition="",t.style.transition="",y&&y(t)})),F=t.useCallback((()=>{w.current&&Uk(c,w.current,h)}),[c,h]);return t.useEffect((()=>{if(d||"down"===c||"right"===c)return;const t=(0,Vk.A)((()=>{w.current&&Uk(c,w.current,h)})),e=(0,Bk.A)(w.current);return e.addEventListener("resize",t),()=>{t.clear(),e.removeEventListener("resize",t)}}),[c,d,h]),t.useEffect((()=>{d||F()}),[d,F]),(0,oM.jsx)(S,(0,pM.A)({nodeRef:w,onEnter:k,onEntered:E,onEntering:R,onExit:I,onExited:P,onExiting:T,addEndListener:t=>{o&&o(w.current,t)},appear:a,in:d,timeout:x},A,{children:(e,i)=>t.cloneElement(l,(0,pM.A)({ref:C,style:(0,pM.A)({visibility:"exited"!==e||d?void 0:"hidden"},b,l.props.style)},i))}))})),Gk=Hk;var Wk=i(9269);const jk=t=>{let e;return e=t<1?5.11916*t**2:4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Yk(t){return(0,gk.Ay)("MuiPaper",t)}(0,pk.A)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Xk=["className","component","elevation","square","variant"],qk=(0,BM.Ay)("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],!i.square&&e.rounded,"elevation"===i.variant&&e["elevation".concat(i.elevation)]]}})((t=>{let{theme:e,ownerState:i}=t;var s;return(0,pM.A)({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!i.square&&{borderRadius:e.shape.borderRadius},"outlined"===i.variant&&{border:"1px solid ".concat((e.vars||e).palette.divider)},"elevation"===i.variant&&(0,pM.A)({boxShadow:(e.vars||e).shadows[i.elevation]},!e.vars&&"dark"===e.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,Wk.X4)("#fff",jk(i.elevation)),", ").concat((0,Wk.X4)("#fff",jk(i.elevation)),")")},e.vars&&{backgroundImage:null==(s=e.vars.overlays)?void 0:s[i.elevation]}))})),Jk=t.forwardRef((function(t,e){const i=(0,OM.b)({props:t,name:"MuiPaper"}),{className:s,component:n="div",elevation:r=1,square:o=!1,variant:a="elevation"}=i,l=(0,fM.A)(i,Xk),h=(0,pM.A)({},i,{component:n,elevation:r,square:o,variant:a}),c=(t=>{const{square:e,elevation:i,variant:s,classes:n}=t,r={root:["root",s,!e&&"rounded","elevation"===s&&"elevation".concat(i)]};return(0,mM.A)(r,Yk,n)})(h);return(0,oM.jsx)(qk,(0,pM.A)({as:n,ownerState:h,className:(0,gM.A)(c.root,s),ref:e},l))})),Kk=Jk;var Zk=i(1676),Qk=i(9608);function $k(t){return(0,gk.Ay)("MuiDrawer",t)}(0,pk.A)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const tR=["BackdropProps"],eR=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],iR=(t,e)=>{const{ownerState:i}=t;return[e.root,("permanent"===i.variant||"persistent"===i.variant)&&e.docked,e.modal]},sR=(0,BM.Ay)(_k,{name:"MuiDrawer",slot:"Root",overridesResolver:iR})((t=>{let{theme:e}=t;return{zIndex:(e.vars||e).zIndex.drawer}})),nR=(0,BM.Ay)("div",{shouldForwardProp:Qk.A,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:iR})({flex:"0 0 auto"}),rR=(0,BM.Ay)(Kk,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.paper,e["paperAnchor".concat((0,Zk.A)(i.anchor))],"temporary"!==i.variant&&e["paperAnchorDocked".concat((0,Zk.A)(i.anchor))]]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(e.vars||e).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===i.anchor&&{left:0},"top"===i.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===i.anchor&&{right:0},"bottom"===i.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===i.anchor&&"temporary"!==i.variant&&{borderRight:"1px solid ".concat((e.vars||e).palette.divider)},"top"===i.anchor&&"temporary"!==i.variant&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider)},"right"===i.anchor&&"temporary"!==i.variant&&{borderLeft:"1px solid ".concat((e.vars||e).palette.divider)},"bottom"===i.anchor&&"temporary"!==i.variant&&{borderTop:"1px solid ".concat((e.vars||e).palette.divider)})})),oR={left:"right",right:"left",top:"down",bottom:"up"};const aR=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiDrawer"}),n=ok(),r=bM(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:h,className:c,elevation:u=16,hideBackdrop:d=!1,ModalProps:{BackdropProps:f}={},onClose:p,open:g=!1,PaperProps:m={},SlideProps:y,TransitionComponent:v=Gk,transitionDuration:b=o,variant:x="temporary"}=s,S=(0,fM.A)(s.ModalProps,tR),A=(0,fM.A)(s,eR),w=t.useRef(!1);t.useEffect((()=>{w.current=!0}),[]);const C=function(t,e){let{direction:i}=t;return"rtl"===i&&function(t){return-1!==["left","right"].indexOf(t)}(e)?oR[e]:e}({direction:r?"rtl":"ltr"},a),M=a,k=(0,pM.A)({},s,{anchor:M,elevation:u,open:g,variant:x},A),R=(t=>{const{classes:e,anchor:i,variant:s}=t,n={root:["root"],docked:[("permanent"===s||"persistent"===s)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat((0,Zk.A)(i)),"temporary"!==s&&"paperAnchorDocked".concat((0,Zk.A)(i))]};return(0,mM.A)(n,$k,e)})(k),E=(0,oM.jsx)(rR,(0,pM.A)({elevation:"temporary"===x?u:0,square:!0},m,{className:(0,gM.A)(R.paper,m.className),ownerState:k,children:h}));if("permanent"===x)return(0,oM.jsx)(nR,(0,pM.A)({className:(0,gM.A)(R.root,R.docked,c),ownerState:k,ref:i},A,{children:E}));const T=(0,oM.jsx)(v,(0,pM.A)({in:g,direction:oR[C],timeout:b,appear:w.current},y,{children:E}));return"persistent"===x?(0,oM.jsx)(nR,(0,pM.A)({className:(0,gM.A)(R.root,R.docked,c),ownerState:k,ref:i},A,{children:T})):(0,oM.jsx)(sR,(0,pM.A)({BackdropProps:(0,pM.A)({},l,f,{transitionDuration:b}),className:(0,gM.A)(R.root,R.modal,c),open:g,ownerState:k,onClose:p,hideBackdrop:d,ref:i},A,S,{children:T}))})),lR=aR;var hR=i(116),cR=i(505),uR=i(237);const dR=["className","component"];var fR=i(4501),pR=i(7775);const gR=(0,pk.A)("MuiBox",["root"]),mR=(0,pR.A)(),yR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:i,defaultTheme:s,defaultClassName:n="MuiBox-root",generateClassName:r}=e,o=(0,hR.default)("div",{shouldForwardProp:t=>"theme"!==t&&"sx"!==t&&"as"!==t})(cR.A);return t.forwardRef((function(t,e){const a=sk(s),l=(0,uR.A)(t),{className:h,component:c="div"}=l,u=(0,fM.A)(l,dR);return(0,oM.jsx)(o,(0,pM.A)({as:c,ref:e,className:(0,gM.A)(h,r?r(n):n),theme:i&&a[i]||a},u))}))}({themeId:rk.A,defaultTheme:mR,defaultClassName:gR.root,generateClassName:fR.A.generate}),vR=yR;var bR=i(7483);const xR=["ownerState"],SR=["variants"],AR=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function wR(t){return"ownerState"!==t&&"theme"!==t&&"sx"!==t&&"as"!==t}const CR=(0,$M.A)(),MR=t=>t?t.charAt(0).toLowerCase()+t.slice(1):t;function kR(t){let{defaultTheme:e,theme:i,themeId:s}=t;return n=i,0===Object.keys(n).length?e:i[s]||i;var n}function RR(t){return t?(e,i)=>i[t]:null}function ER(t,e){let{ownerState:i}=e,s=(0,fM.A)(e,xR);const n="function"===typeof t?t((0,pM.A)({ownerState:i},s)):t;if(Array.isArray(n))return n.flatMap((t=>ER(t,(0,pM.A)({ownerState:i},s))));if(n&&"object"===typeof n&&Array.isArray(n.variants)){const{variants:t=[]}=n;let e=(0,fM.A)(n,SR);return t.forEach((t=>{let n=!0;"function"===typeof t.props?n=t.props((0,pM.A)({ownerState:i},s,i)):Object.keys(t.props).forEach((e=>{(null==i?void 0:i[e])!==t.props[e]&&s[e]!==t.props[e]&&(n=!1)})),n&&(Array.isArray(e)||(e=[e]),e.push("function"===typeof t.style?t.style((0,pM.A)({ownerState:i},s,i)):t.style))})),e}return n}const TR=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:e,defaultTheme:i=CR,rootShouldForwardProp:s=wR,slotShouldForwardProp:n=wR}=t,r=t=>(0,cR.A)((0,pM.A)({},t,{theme:kR((0,pM.A)({},t,{defaultTheme:i,themeId:e}))}));return r.__mui_systemSx=!0,function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,hR.internal_processStyles)(t,(t=>t.filter((t=>!(null!=t&&t.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:h,skipSx:c,overridesResolver:u=RR(MR(l))}=o,d=(0,fM.A)(o,AR),f=void 0!==h?h:l&&"Root"!==l&&"root"!==l||!1,p=c||!1;let g=wR;"Root"===l||"root"===l?g=s:l?g=n:function(t){return"string"===typeof t&&t.charCodeAt(0)>96}(t)&&(g=void 0);const m=(0,hR.default)(t,(0,pM.A)({shouldForwardProp:g,label:undefined},d)),y=t=>"function"===typeof t&&t.__emotion_real!==t||(0,bR.Q)(t)?s=>ER(t,(0,pM.A)({},s,{theme:kR({theme:s.theme,defaultTheme:i,themeId:e})})):t,v=function(s){let n=y(s);for(var o=arguments.length,l=new Array(o>1?o-1:0),h=1;h<o;h++)l[h-1]=arguments[h];const c=l?l.map(y):[];a&&u&&c.push((t=>{const s=kR((0,pM.A)({},t,{defaultTheme:i,themeId:e}));if(!s.components||!s.components[a]||!s.components[a].styleOverrides)return null;const n=s.components[a].styleOverrides,r={};return Object.entries(n).forEach((e=>{let[i,n]=e;r[i]=ER(n,(0,pM.A)({},t,{theme:s}))})),u(t,r)})),a&&!f&&c.push((t=>{var s;const n=kR((0,pM.A)({},t,{defaultTheme:i,themeId:e}));return ER({variants:null==n||null==(s=n.components)||null==(s=s[a])?void 0:s.variants},(0,pM.A)({},t,{theme:n}))})),p||c.push(r);const d=c.length-l.length;if(Array.isArray(s)&&d>0){const t=new Array(d).fill("");n=[...s,...t],n.raw=[...s.raw,...t]}const g=m(n,...c);return t.muiName&&(g.muiName=t.muiName),g};return m.withConfig&&(v.withConfig=m.withConfig),v}}(),IR=TR;var PR=i(5537);function FR(t){let{props:e,name:i,defaultTheme:s,themeId:n}=t,r=sk(s);n&&(r=r[n]||r);const o=function(t){const{theme:e,name:i,props:s}=t;return e&&e.components&&e.components[i]&&e.components[i].defaultProps?(0,PR.A)(e.components[i].defaultProps,s):s}({theme:r,name:i,props:e});return o}var DR=i(8286),LR=i(7937);const zR=["component","direction","spacing","divider","children","className","useFlexGap"],NR=(0,$M.A)(),_R=IR("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function VR(t){return FR({props:t,name:"MuiStack",defaultTheme:NR})}function BR(e,i){const s=t.Children.toArray(e).filter(Boolean);return s.reduce(((e,n,r)=>(e.push(n),r<s.length-1&&e.push(t.cloneElement(i,{key:"separator-".concat(r)})),e)),[])}const OR=t=>{let{ownerState:e,theme:i}=t,s=(0,pM.A)({display:"flex",flexDirection:"column"},(0,DR.NI)({theme:i},(0,DR.kW)({values:e.direction,breakpoints:i.breakpoints.values}),(t=>({flexDirection:t}))));if(e.spacing){const t=(0,LR.LX)(i),n=Object.keys(i.breakpoints.values).reduce(((t,i)=>(("object"===typeof e.spacing&&null!=e.spacing[i]||"object"===typeof e.direction&&null!=e.direction[i])&&(t[i]=!0),t)),{}),r=(0,DR.kW)({values:e.direction,base:n}),o=(0,DR.kW)({values:e.spacing,base:n});"object"===typeof r&&Object.keys(r).forEach(((t,e,i)=>{if(!r[t]){const s=e>0?r[i[e-1]]:"column";r[t]=s}}));const a=(i,s)=>{return e.useFlexGap?{gap:(0,LR._W)(t,i)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{["margin".concat((n=s?r[s]:e.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[n]))]:(0,LR._W)(t,i)}};var n};s=(0,bR.A)(s,(0,DR.NI)({theme:i},o,a))}return s=(0,DR.iZ)(i.breakpoints,s),s};const UR=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:i=_R,useThemeProps:s=VR,componentName:n="MuiStack"}=e,r=i(OR),o=t.forwardRef((function(t,e){const i=s(t),o=(0,uR.A)(i),{component:a="div",direction:l="column",spacing:h=0,divider:c,children:u,className:d,useFlexGap:f=!1}=o,p=(0,fM.A)(o,zR),g={direction:l,spacing:h,useFlexGap:f},m=(0,mM.A)({root:["root"]},(t=>(0,gk.Ay)(n,t)),{});return(0,oM.jsx)(r,(0,pM.A)({as:a,ownerState:g,ref:e,className:(0,gM.A)(m.root,d)},p,{children:c?BR(u,c):u}))}));return o}({createStyledComponent:(0,BM.Ay)("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>(0,OM.b)({props:t,name:"MuiStack"})}),HR=UR;var GR=i(1976),WR=i(2937);function jR(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function YR(e,i){var s=Object.create(null);return e&&t.Children.map(e,(function(t){return t})).forEach((function(e){s[e.key]=function(e){return i&&(0,t.isValidElement)(e)?i(e):e}(e)})),s}function XR(t,e,i){return null!=i[e]?i[e]:t.props[e]}function qR(e,i,s){var n=YR(e.children),r=function(t,e){function i(i){return i in e?e[i]:t[i]}t=t||{},e=e||{};var s,n=Object.create(null),r=[];for(var o in t)o in e?r.length&&(n[o]=r,r=[]):r.push(o);var a={};for(var l in e){if(n[l])for(s=0;s<n[l].length;s++){var h=n[l][s];a[n[l][s]]=i(h)}a[l]=i(l)}for(s=0;s<r.length;s++)a[r[s]]=i(r[s]);return a}(i,n);return Object.keys(r).forEach((function(o){var a=r[o];if((0,t.isValidElement)(a)){var l=o in i,h=o in n,c=i[o],u=(0,t.isValidElement)(c)&&!c.props.in;!h||l&&!u?h||!l||u?h&&l&&(0,t.isValidElement)(c)&&(r[o]=(0,t.cloneElement)(a,{onExited:s.bind(null,a),in:c.props.in,exit:XR(a,"exit",e),enter:XR(a,"enter",e)})):r[o]=(0,t.cloneElement)(a,{in:!1}):r[o]=(0,t.cloneElement)(a,{onExited:s.bind(null,a),in:!0,exit:XR(a,"exit",e),enter:XR(a,"enter",e)})}})),r}var JR=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},KR=function(e){function i(t,i){var s,n=(s=e.call(this,t,i)||this).handleExited.bind(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(s));return s.state={contextValue:{isMounting:!0},handleExited:n,firstRender:!0},s}HM(i,e);var s=i.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(e,i){var s,n,r=i.children,o=i.handleExited;return{children:i.firstRender?(s=e,n=o,YR(s.children,(function(e){return(0,t.cloneElement)(e,{onExited:n.bind(null,e),in:!0,appear:XR(e,"appear",s),enter:XR(e,"enter",s),exit:XR(e,"exit",s)})}))):qR(e,r,o),firstRender:!1}},s.handleExited=function(t,e){var i=YR(this.props.children);t.key in i||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var i=(0,pM.A)({},e.children);return delete i[t.key],{children:i}})))},s.render=function(){var e=this.props,i=e.component,s=e.childFactory,n=(0,fM.A)(e,["component","childFactory"]),r=this.state.contextValue,o=JR(this.state.children).map(s);return delete n.appear,delete n.enter,delete n.exit,null===i?t.createElement(WM.Provider,{value:r},o):t.createElement(WM.Provider,{value:r},t.createElement(i,n,o))},i}(t.Component);KR.propTypes={},KR.defaultProps={component:"div",childFactory:function(t){return t}};const ZR=KR;var QR=i(8283),$R=i(3501);const tE=function(e){const{className:i,classes:s,pulsate:n=!1,rippleX:r,rippleY:o,rippleSize:a,in:l,onExited:h,timeout:c}=e,[u,d]=t.useState(!1),f=(0,gM.A)(i,s.ripple,s.rippleVisible,n&&s.ripplePulsate),p={width:a,height:a,top:-a/2+o,left:-a/2+r},g=(0,gM.A)(s.child,u&&s.childLeaving,n&&s.childPulsate);return l||u||d(!0),t.useEffect((()=>{if(!l&&null!=h){const t=setTimeout(h,c);return()=>{clearTimeout(t)}}}),[h,l,c]),(0,oM.jsx)("span",{className:f,style:p,children:(0,oM.jsx)("span",{className:g})})};const eE=(0,pk.A)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]);var iE,sE,nE,rE;const oE=["center","classes","className"];let aE,lE,hE,cE;const uE=(0,QR.i7)(aE||(aE=iE||(iE=jR(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),dE=(0,QR.i7)(lE||(lE=sE||(sE=jR(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),fE=(0,QR.i7)(hE||(hE=nE||(nE=jR(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),pE=(0,BM.Ay)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),gE=(0,BM.Ay)(tE,{name:"MuiTouchRipple",slot:"Ripple"})(cE||(cE=rE||(rE=jR(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),eE.rippleVisible,uE,550,(t=>{let{theme:e}=t;return e.transitions.easing.easeInOut}),eE.ripplePulsate,(t=>{let{theme:e}=t;return e.transitions.duration.shorter}),eE.child,eE.childLeaving,dE,550,(t=>{let{theme:e}=t;return e.transitions.easing.easeInOut}),eE.childPulsate,fE,(t=>{let{theme:e}=t;return e.transitions.easing.easeInOut})),mE=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiTouchRipple"}),{center:n=!1,classes:r={},className:o}=s,a=(0,fM.A)(s,oE),[l,h]=t.useState([]),c=t.useRef(0),u=t.useRef(null);t.useEffect((()=>{u.current&&(u.current(),u.current=null)}),[l]);const d=t.useRef(!1),f=(0,$R.A)(),p=t.useRef(null),g=t.useRef(null),m=t.useCallback((t=>{const{pulsate:e,rippleX:i,rippleY:s,rippleSize:n,cb:o}=t;h((t=>[...t,(0,oM.jsx)(gE,{classes:{ripple:(0,gM.A)(r.ripple,eE.ripple),rippleVisible:(0,gM.A)(r.rippleVisible,eE.rippleVisible),ripplePulsate:(0,gM.A)(r.ripplePulsate,eE.ripplePulsate),child:(0,gM.A)(r.child,eE.child),childLeaving:(0,gM.A)(r.childLeaving,eE.childLeaving),childPulsate:(0,gM.A)(r.childPulsate,eE.childPulsate)},timeout:550,pulsate:e,rippleX:i,rippleY:s,rippleSize:n},c.current)])),c.current+=1,u.current=o}),[r]),y=t.useCallback((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:s=!1,center:r=n||e.pulsate,fakeElement:o=!1}=e;if("mousedown"===(null==t?void 0:t.type)&&d.current)return void(d.current=!1);"touchstart"===(null==t?void 0:t.type)&&(d.current=!0);const a=o?null:g.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let h,c,u;if(r||void 0===t||0===t.clientX&&0===t.clientY||!t.clientX&&!t.touches)h=Math.round(l.width/2),c=Math.round(l.height/2);else{const{clientX:e,clientY:i}=t.touches&&t.touches.length>0?t.touches[0]:t;h=Math.round(e-l.left),c=Math.round(i-l.top)}if(r)u=Math.sqrt((2*l.width**2+l.height**2)/3),u%2===0&&(u+=1);else{const t=2*Math.max(Math.abs((a?a.clientWidth:0)-h),h)+2,e=2*Math.max(Math.abs((a?a.clientHeight:0)-c),c)+2;u=Math.sqrt(t**2+e**2)}null!=t&&t.touches?null===p.current&&(p.current=()=>{m({pulsate:s,rippleX:h,rippleY:c,rippleSize:u,cb:i})},f.start(80,(()=>{p.current&&(p.current(),p.current=null)}))):m({pulsate:s,rippleX:h,rippleY:c,rippleSize:u,cb:i})}),[n,m,f]),v=t.useCallback((()=>{y({},{pulsate:!0})}),[y]),b=t.useCallback(((t,e)=>{if(f.clear(),"touchend"===(null==t?void 0:t.type)&&p.current)return p.current(),p.current=null,void f.start(0,(()=>{b(t,e)}));p.current=null,h((t=>t.length>0?t.slice(1):t)),u.current=e}),[f]);return t.useImperativeHandle(i,(()=>({pulsate:v,start:y,stop:b})),[v,y,b]),(0,oM.jsx)(pE,(0,pM.A)({className:(0,gM.A)(eE.root,r.root,o),ref:g},a,{children:(0,oM.jsx)(ZR,{component:null,exit:!0,children:l})}))})),yE=mE;function vE(t){return(0,gk.Ay)("MuiButtonBase",t)}const bE=(0,pk.A)("MuiButtonBase",["root","disabled","focusVisible"]),xE=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],SE=(0,BM.Ay)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(bE.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),AE=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiButtonBase"}),{action:n,centerRipple:r=!1,children:o,className:a,component:l="button",disabled:h=!1,disableRipple:c=!1,disableTouchRipple:u=!1,focusRipple:d=!1,LinkComponent:f="a",onBlur:p,onClick:g,onContextMenu:m,onDragLeave:y,onFocus:v,onFocusVisible:b,onKeyDown:x,onKeyUp:S,onMouseDown:A,onMouseLeave:w,onMouseUp:C,onTouchEnd:M,onTouchMove:k,onTouchStart:R,tabIndex:E=0,TouchRippleProps:T,touchRippleRef:I,type:P}=s,F=(0,fM.A)(s,xE),D=t.useRef(null),L=t.useRef(null),z=(0,hk.A)(L,I),{isFocusVisibleRef:N,onFocus:_,onBlur:V,ref:B}=(0,WR.A)(),[O,U]=t.useState(!1);h&&O&&U(!1),t.useImperativeHandle(n,(()=>({focusVisible:()=>{U(!0),D.current.focus()}})),[]);const[H,G]=t.useState(!1);t.useEffect((()=>{G(!0)}),[]);const W=H&&!c&&!h;function j(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return(0,GR.A)((s=>{e&&e(s);return!i&&L.current&&L.current[t](s),!0}))}t.useEffect((()=>{O&&d&&!c&&H&&L.current.pulsate()}),[c,d,O,H]);const Y=j("start",A),X=j("stop",m),q=j("stop",y),J=j("stop",C),K=j("stop",(t=>{O&&t.preventDefault(),w&&w(t)})),Z=j("start",R),Q=j("stop",M),$=j("stop",k),tt=j("stop",(t=>{V(t),!1===N.current&&U(!1),p&&p(t)}),!1),et=(0,GR.A)((t=>{D.current||(D.current=t.currentTarget),_(t),!0===N.current&&(U(!0),b&&b(t)),v&&v(t)})),it=()=>{const t=D.current;return l&&"button"!==l&&!("A"===t.tagName&&t.href)},st=t.useRef(!1),nt=(0,GR.A)((t=>{d&&!st.current&&O&&L.current&&" "===t.key&&(st.current=!0,L.current.stop(t,(()=>{L.current.start(t)}))),t.target===t.currentTarget&&it()&&" "===t.key&&t.preventDefault(),x&&x(t),t.target===t.currentTarget&&it()&&"Enter"===t.key&&!h&&(t.preventDefault(),g&&g(t))})),rt=(0,GR.A)((t=>{d&&" "===t.key&&L.current&&O&&!t.defaultPrevented&&(st.current=!1,L.current.stop(t,(()=>{L.current.pulsate(t)}))),S&&S(t),g&&t.target===t.currentTarget&&it()&&" "===t.key&&!t.defaultPrevented&&g(t)}));let ot=l;"button"===ot&&(F.href||F.to)&&(ot=f);const at={};"button"===ot?(at.type=void 0===P?"button":P,at.disabled=h):(F.href||F.to||(at.role="button"),h&&(at["aria-disabled"]=h));const lt=(0,hk.A)(i,B,D);const ht=(0,pM.A)({},s,{centerRipple:r,component:l,disabled:h,disableRipple:c,disableTouchRipple:u,focusRipple:d,tabIndex:E,focusVisible:O}),ct=(t=>{const{disabled:e,focusVisible:i,focusVisibleClassName:s,classes:n}=t,r={root:["root",e&&"disabled",i&&"focusVisible"]},o=(0,mM.A)(r,vE,n);return i&&s&&(o.root+=" ".concat(s)),o})(ht);return(0,oM.jsxs)(SE,(0,pM.A)({as:ot,className:(0,gM.A)(ct.root,a),ownerState:ht,onBlur:tt,onClick:g,onContextMenu:X,onFocus:et,onKeyDown:nt,onKeyUp:rt,onMouseDown:Y,onMouseLeave:K,onMouseUp:J,onDragLeave:q,onTouchEnd:Q,onTouchMove:$,onTouchStart:Z,ref:lt,tabIndex:h?-1:E,type:P},at,F,{children:[o,W?(0,oM.jsx)(yE,(0,pM.A)({ref:z,center:r},T)):null]}))})),wE=AE;function CE(t){return(0,gk.Ay)("MuiButton",t)}const ME=(0,pk.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const kE=t.createContext({});const RE=t.createContext(void 0),EE=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],TE=t=>(0,pM.A)({},"small"===t.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===t.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===t.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),IE=(0,BM.Ay)(wE,{shouldForwardProp:t=>(0,Qk.A)(t)||"classes"===t,name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],e["".concat(i.variant).concat((0,Zk.A)(i.color))],e["size".concat((0,Zk.A)(i.size))],e["".concat(i.variant,"Size").concat((0,Zk.A)(i.size))],"inherit"===i.color&&e.colorInherit,i.disableElevation&&e.disableElevation,i.fullWidth&&e.fullWidth]}})((t=>{let{theme:e,ownerState:i}=t;var s,n;const r="light"===e.palette.mode?e.palette.grey[300]:e.palette.grey[800],o="light"===e.palette.mode?e.palette.grey.A100:e.palette.grey[700];return(0,pM.A)({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":(0,pM.A)({textDecoration:"none",backgroundColor:e.vars?"rgba(".concat(e.vars.palette.text.primaryChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Wk.X4)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===i.variant&&"inherit"!==i.color&&{backgroundColor:e.vars?"rgba(".concat(e.vars.palette[i.color].mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Wk.X4)(e.palette[i.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===i.variant&&"inherit"!==i.color&&{border:"1px solid ".concat((e.vars||e).palette[i.color].main),backgroundColor:e.vars?"rgba(".concat(e.vars.palette[i.color].mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Wk.X4)(e.palette[i.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===i.variant&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},"contained"===i.variant&&"inherit"!==i.color&&{backgroundColor:(e.vars||e).palette[i.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[i.color].main}}),"&:active":(0,pM.A)({},"contained"===i.variant&&{boxShadow:(e.vars||e).shadows[8]}),["&.".concat(ME.focusVisible)]:(0,pM.A)({},"contained"===i.variant&&{boxShadow:(e.vars||e).shadows[6]}),["&.".concat(ME.disabled)]:(0,pM.A)({color:(e.vars||e).palette.action.disabled},"outlined"===i.variant&&{border:"1px solid ".concat((e.vars||e).palette.action.disabledBackground)},"contained"===i.variant&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},"text"===i.variant&&{padding:"6px 8px"},"text"===i.variant&&"inherit"!==i.color&&{color:(e.vars||e).palette[i.color].main},"outlined"===i.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===i.variant&&"inherit"!==i.color&&{color:(e.vars||e).palette[i.color].main,border:e.vars?"1px solid rgba(".concat(e.vars.palette[i.color].mainChannel," / 0.5)"):"1px solid ".concat((0,Wk.X4)(e.palette[i.color].main,.5))},"contained"===i.variant&&{color:e.vars?e.vars.palette.text.primary:null==(s=(n=e.palette).getContrastText)?void 0:s.call(n,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:r,boxShadow:(e.vars||e).shadows[2]},"contained"===i.variant&&"inherit"!==i.color&&{color:(e.vars||e).palette[i.color].contrastText,backgroundColor:(e.vars||e).palette[i.color].main},"inherit"===i.color&&{color:"inherit",borderColor:"currentColor"},"small"===i.size&&"text"===i.variant&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},"large"===i.size&&"text"===i.variant&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},"small"===i.size&&"outlined"===i.variant&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},"large"===i.size&&"outlined"===i.variant&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},"small"===i.size&&"contained"===i.variant&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},"large"===i.size&&"contained"===i.variant&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},i.fullWidth&&{width:"100%"})}),(t=>{let{ownerState:e}=t;return e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(ME.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(ME.disabled)]:{boxShadow:"none"}}})),PE=(0,BM.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.startIcon,e["iconSize".concat((0,Zk.A)(i.size))]]}})((t=>{let{ownerState:e}=t;return(0,pM.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===e.size&&{marginLeft:-2},TE(e))})),FE=(0,BM.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.endIcon,e["iconSize".concat((0,Zk.A)(i.size))]]}})((t=>{let{ownerState:e}=t;return(0,pM.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===e.size&&{marginRight:-2},TE(e))})),DE=t.forwardRef((function(e,i){const s=t.useContext(kE),n=t.useContext(RE),r=(0,PR.A)(s,e),o=(0,OM.b)({props:r,name:"MuiButton"}),{children:a,color:l="primary",component:h="button",className:c,disabled:u=!1,disableElevation:d=!1,disableFocusRipple:f=!1,endIcon:p,focusVisibleClassName:g,fullWidth:m=!1,size:y="medium",startIcon:v,type:b,variant:x="text"}=o,S=(0,fM.A)(o,EE),A=(0,pM.A)({},o,{color:l,component:h,disabled:u,disableElevation:d,disableFocusRipple:f,fullWidth:m,size:y,type:b,variant:x}),w=(t=>{const{color:e,disableElevation:i,fullWidth:s,size:n,variant:r,classes:o}=t,a={root:["root",r,"".concat(r).concat((0,Zk.A)(e)),"size".concat((0,Zk.A)(n)),"".concat(r,"Size").concat((0,Zk.A)(n)),"color".concat((0,Zk.A)(e)),i&&"disableElevation",s&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,Zk.A)(n))],endIcon:["icon","endIcon","iconSize".concat((0,Zk.A)(n))]},l=(0,mM.A)(a,CE,o);return(0,pM.A)({},o,l)})(A),C=v&&(0,oM.jsx)(PE,{className:w.startIcon,ownerState:A,children:v}),M=p&&(0,oM.jsx)(FE,{className:w.endIcon,ownerState:A,children:p}),k=n||"";return(0,oM.jsxs)(IE,(0,pM.A)({ownerState:A,className:(0,gM.A)(s.className,w.root,c,k),component:h,disabled:u,focusRipple:!f,focusVisibleClassName:(0,gM.A)(w.focusVisible,g),ref:i,type:b},S,{classes:w,children:[C,a,M]}))})),LE=DE;function zE(t){return(0,gk.Ay)("MuiDivider",t)}const NE=(0,pk.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),_E=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],VE=(0,BM.Ay)("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.absolute&&e.absolute,e[i.variant],i.light&&e.light,"vertical"===i.orientation&&e.vertical,i.flexItem&&e.flexItem,i.children&&e.withChildren,i.children&&"vertical"===i.orientation&&e.withChildrenVertical,"right"===i.textAlign&&"vertical"!==i.orientation&&e.textAlignRight,"left"===i.textAlign&&"vertical"!==i.orientation&&e.textAlignLeft]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},i.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},i.light&&{borderColor:e.vars?"rgba(".concat(e.vars.palette.dividerChannel," / 0.08)"):(0,Wk.X4)(e.palette.divider,.08)},"inset"===i.variant&&{marginLeft:72},"middle"===i.variant&&"horizontal"===i.orientation&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},"middle"===i.variant&&"vertical"===i.orientation&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},"vertical"===i.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},i.flexItem&&{alignSelf:"stretch",height:"auto"})}),(t=>{let{ownerState:e}=t;return(0,pM.A)({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})}),(t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({},i.children&&"vertical"!==i.orientation&&{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((e.vars||e).palette.divider),borderTopStyle:"inherit"}})}),(t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({},i.children&&"vertical"===i.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((e.vars||e).palette.divider),borderLeftStyle:"inherit"}})}),(t=>{let{ownerState:e}=t;return(0,pM.A)({},"right"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===e.textAlign&&"vertical"!==e.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),BE=(0,BM.Ay)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.wrapper,"vertical"===i.orientation&&e.wrapperVertical]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({display:"inline-block",paddingLeft:"calc(".concat(e.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(e.spacing(1)," * 1.2)")},"vertical"===i.orientation&&{paddingTop:"calc(".concat(e.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(e.spacing(1)," * 1.2)")})})),OE=t.forwardRef((function(t,e){const i=(0,OM.b)({props:t,name:"MuiDivider"}),{absolute:s=!1,children:n,className:r,component:o=(n?"div":"hr"),flexItem:a=!1,light:l=!1,orientation:h="horizontal",role:c=("hr"!==o?"separator":void 0),textAlign:u="center",variant:d="fullWidth"}=i,f=(0,fM.A)(i,_E),p=(0,pM.A)({},i,{absolute:s,component:o,flexItem:a,light:l,orientation:h,role:c,textAlign:u,variant:d}),g=(t=>{const{absolute:e,children:i,classes:s,flexItem:n,light:r,orientation:o,textAlign:a,variant:l}=t,h={root:["root",e&&"absolute",l,r&&"light","vertical"===o&&"vertical",n&&"flexItem",i&&"withChildren",i&&"vertical"===o&&"withChildrenVertical","right"===a&&"vertical"!==o&&"textAlignRight","left"===a&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,mM.A)(h,zE,s)})(p);return(0,oM.jsx)(VE,(0,pM.A)({as:o,className:(0,gM.A)(g.root,r),role:c,ref:e,ownerState:p},f,{children:n?(0,oM.jsx)(BE,{className:g.wrapper,ownerState:p,children:n}):null}))}));OE.muiSkipListHighlight=!0;const UE=OE;const HE=t.createContext({});function GE(t){return(0,gk.Ay)("MuiList",t)}(0,pk.A)("MuiList",["root","padding","dense","subheader"]);const WE=["children","className","component","dense","disablePadding","subheader"],jE=(0,BM.Ay)("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.disablePadding&&e.padding,i.dense&&e.dense,i.subheader&&e.subheader]}})((t=>{let{ownerState:e}=t;return(0,pM.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})})),YE=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiList"}),{children:n,className:r,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:h}=s,c=(0,fM.A)(s,WE),u=t.useMemo((()=>({dense:a})),[a]),d=(0,pM.A)({},s,{component:o,dense:a,disablePadding:l}),f=(t=>{const{classes:e,disablePadding:i,dense:s,subheader:n}=t,r={root:["root",!i&&"padding",s&&"dense",n&&"subheader"]};return(0,mM.A)(r,GE,e)})(d);return(0,oM.jsx)(HE.Provider,{value:u,children:(0,oM.jsxs)(jE,(0,pM.A)({as:o,className:(0,gM.A)(f.root,r),ref:i,ownerState:d},c,{children:[h,n]}))})})),XE=YE;var qE=i(3828),JE=i(9044);function KE(t){return(0,gk.Ay)("MuiListItem",t)}const ZE=(0,pk.A)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function QE(t){return(0,gk.Ay)("MuiListItemButton",t)}const $E=(0,pk.A)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function tT(t){return(0,gk.Ay)("MuiListItemSecondaryAction",t)}(0,pk.A)("MuiListItemSecondaryAction",["root","disableGutters"]);const eT=["className"],iT=(0,BM.Ay)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.disableGutters&&e.disableGutters]}})((t=>{let{ownerState:e}=t;return(0,pM.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},e.disableGutters&&{right:0})})),sT=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiListItemSecondaryAction"}),{className:n}=s,r=(0,fM.A)(s,eT),o=t.useContext(HE),a=(0,pM.A)({},s,{disableGutters:o.disableGutters}),l=(t=>{const{disableGutters:e,classes:i}=t,s={root:["root",e&&"disableGutters"]};return(0,mM.A)(s,tT,i)})(a);return(0,oM.jsx)(iT,(0,pM.A)({className:(0,gM.A)(l.root,n),ownerState:a,ref:i},r))}));sT.muiName="ListItemSecondaryAction";const nT=sT,rT=["className"],oT=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],aT=(0,BM.Ay)("div",{name:"MuiListItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.dense&&e.dense,"flex-start"===i.alignItems&&e.alignItemsFlexStart,i.divider&&e.divider,!i.disableGutters&&e.gutters,!i.disablePadding&&e.padding,i.button&&e.button,i.hasSecondaryAction&&e.secondaryAction]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!i.disablePadding&&(0,pM.A)({paddingTop:8,paddingBottom:8},i.dense&&{paddingTop:4,paddingBottom:4},!i.disableGutters&&{paddingLeft:16,paddingRight:16},!!i.secondaryAction&&{paddingRight:48}),!!i.secondaryAction&&{["& > .".concat($E.root)]:{paddingRight:48}},{["&.".concat(ZE.focusVisible)]:{backgroundColor:(e.vars||e).palette.action.focus},["&.".concat(ZE.selected)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),["&.".concat(ZE.focusVisible)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.focusOpacity,"))"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},["&.".concat(ZE.disabled)]:{opacity:(e.vars||e).palette.action.disabledOpacity}},"flex-start"===i.alignItems&&{alignItems:"flex-start"},i.divider&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider),backgroundClip:"padding-box"},i.button&&{transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(ZE.selected,":hover")]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)}}},i.hasSecondaryAction&&{paddingRight:48})})),lT=(0,BM.Ay)("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),hT=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiListItem"}),{alignItems:n="center",autoFocus:r=!1,button:o=!1,children:a,className:l,component:h,components:c={},componentsProps:u={},ContainerComponent:d="li",ContainerProps:{className:f}={},dense:p=!1,disabled:g=!1,disableGutters:m=!1,disablePadding:y=!1,divider:v=!1,focusVisibleClassName:b,secondaryAction:x,selected:S=!1,slotProps:A={},slots:w={}}=s,C=(0,fM.A)(s.ContainerProps,rT),M=(0,fM.A)(s,oT),k=t.useContext(HE),R=t.useMemo((()=>({dense:p||k.dense||!1,alignItems:n,disableGutters:m})),[n,k.dense,p,m]),E=t.useRef(null);(0,JE.A)((()=>{r&&E.current&&E.current.focus()}),[r]);const T=t.Children.toArray(a),I=T.length&&(0,qE.A)(T[T.length-1],["ListItemSecondaryAction"]),P=(0,pM.A)({},s,{alignItems:n,autoFocus:r,button:o,dense:R.dense,disabled:g,disableGutters:m,disablePadding:y,divider:v,hasSecondaryAction:I,selected:S}),F=(t=>{const{alignItems:e,button:i,classes:s,dense:n,disabled:r,disableGutters:o,disablePadding:a,divider:l,hasSecondaryAction:h,selected:c}=t,u={root:["root",n&&"dense",!o&&"gutters",!a&&"padding",l&&"divider",r&&"disabled",i&&"button","flex-start"===e&&"alignItemsFlexStart",h&&"secondaryAction",c&&"selected"],container:["container"]};return(0,mM.A)(u,KE,s)})(P),D=(0,hk.A)(E,i),L=w.root||c.Root||aT,z=A.root||u.root||{},N=(0,pM.A)({className:(0,gM.A)(F.root,z.className,l),disabled:g},M);let _=h||"li";return o&&(N.component=h||"div",N.focusVisibleClassName=(0,gM.A)(ZE.focusVisible,b),_=wE),I?(_=N.component||h?_:"div","li"===d&&("li"===_?_="div":"li"===N.component&&(N.component="div")),(0,oM.jsx)(HE.Provider,{value:R,children:(0,oM.jsxs)(lT,(0,pM.A)({as:d,className:(0,gM.A)(F.container,f),ref:D,ownerState:P},C,{children:[(0,oM.jsx)(L,(0,pM.A)({},z,!AM(L)&&{as:_,ownerState:(0,pM.A)({},P,z.ownerState)},N,{children:T})),T.pop()]}))})):(0,oM.jsx)(HE.Provider,{value:R,children:(0,oM.jsxs)(L,(0,pM.A)({},z,{as:_,ref:D},!AM(L)&&{ownerState:(0,pM.A)({},P,z.ownerState)},N,{children:[T,x&&(0,oM.jsx)(nT,{children:x})]}))})})),cT=hT,uT=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],dT=(0,BM.Ay)(wE,{shouldForwardProp:t=>(0,Qk.A)(t)||"classes"===t,name:"MuiListItemButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.dense&&e.dense,"flex-start"===i.alignItems&&e.alignItemsFlexStart,i.divider&&e.divider,!i.disableGutters&&e.gutters]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat($E.selected)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),["&.".concat($E.focusVisible)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.focusOpacity,"))"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},["&.".concat($E.selected,":hover")]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)}},["&.".concat($E.focusVisible)]:{backgroundColor:(e.vars||e).palette.action.focus},["&.".concat($E.disabled)]:{opacity:(e.vars||e).palette.action.disabledOpacity}},i.divider&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider),backgroundClip:"padding-box"},"flex-start"===i.alignItems&&{alignItems:"flex-start"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.dense&&{paddingTop:4,paddingBottom:4})})),fT=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiListItemButton"}),{alignItems:n="center",autoFocus:r=!1,component:o="div",children:a,dense:l=!1,disableGutters:h=!1,divider:c=!1,focusVisibleClassName:u,selected:d=!1,className:f}=s,p=(0,fM.A)(s,uT),g=t.useContext(HE),m=t.useMemo((()=>({dense:l||g.dense||!1,alignItems:n,disableGutters:h})),[n,g.dense,l,h]),y=t.useRef(null);(0,JE.A)((()=>{r&&y.current&&y.current.focus()}),[r]);const v=(0,pM.A)({},s,{alignItems:n,dense:m.dense,disableGutters:h,divider:c,selected:d}),b=(t=>{const{alignItems:e,classes:i,dense:s,disabled:n,disableGutters:r,divider:o,selected:a}=t,l={root:["root",s&&"dense",!r&&"gutters",o&&"divider",n&&"disabled","flex-start"===e&&"alignItemsFlexStart",a&&"selected"]},h=(0,mM.A)(l,QE,i);return(0,pM.A)({},i,h)})(v),x=(0,hk.A)(y,i);return(0,oM.jsx)(HE.Provider,{value:m,children:(0,oM.jsx)(dT,(0,pM.A)({ref:x,href:p.href||p.to,component:(p.href||p.to)&&"div"===o?"button":o,focusVisibleClassName:(0,gM.A)(b.focusVisible,u),ownerState:v,className:(0,gM.A)(b.root,f)},p,{classes:b,children:a}))})})),pT=fT;function gT(t){return(0,gk.Ay)("MuiListItemIcon",t)}const mT=(0,pk.A)("MuiListItemIcon",["root","alignItemsFlexStart"]),yT=["className"],vT=(0,BM.Ay)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,"flex-start"===i.alignItems&&e.alignItemsFlexStart]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===i.alignItems&&{marginTop:8})})),bT=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiListItemIcon"}),{className:n}=s,r=(0,fM.A)(s,yT),o=t.useContext(HE),a=(0,pM.A)({},s,{alignItems:o.alignItems}),l=(t=>{const{alignItems:e,classes:i}=t,s={root:["root","flex-start"===e&&"alignItemsFlexStart"]};return(0,mM.A)(s,gT,i)})(a);return(0,oM.jsx)(vT,(0,pM.A)({className:(0,gM.A)(l.root,n),ownerState:a,ref:i},r))})),xT=bT;var ST=i(7402);const AT=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function wT(t){return"scale(".concat(t,", ").concat(t**2,")")}const CT={entering:{opacity:1,transform:wT(1)},entered:{opacity:1,transform:"none"}},MT="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),kT=t.forwardRef((function(e,i){const{addEndListener:s,appear:n=!0,children:r,easing:o,in:a,onEnter:l,onEntered:h,onEntering:c,onExit:u,onExited:d,onExiting:f,style:p,timeout:g="auto",TransitionComponent:m=QM}=e,y=(0,fM.A)(e,AT),v=(0,$R.A)(),b=t.useRef(),x=ok(),S=t.useRef(null),A=(0,hk.A)(S,r.ref,i),w=t=>e=>{if(t){const i=S.current;void 0===e?t(i):t(i,e)}},C=w(c),M=w(((t,e)=>{ak(t);const{duration:i,delay:s,easing:n}=lk({style:p,timeout:g,easing:o},{mode:"enter"});let r;"auto"===g?(r=x.transitions.getAutoHeightDuration(t.clientHeight),b.current=r):r=i,t.style.transition=[x.transitions.create("opacity",{duration:r,delay:s}),x.transitions.create("transform",{duration:MT?r:.666*r,delay:s,easing:n})].join(","),l&&l(t,e)})),k=w(h),R=w(f),E=w((t=>{const{duration:e,delay:i,easing:s}=lk({style:p,timeout:g,easing:o},{mode:"exit"});let n;"auto"===g?(n=x.transitions.getAutoHeightDuration(t.clientHeight),b.current=n):n=e,t.style.transition=[x.transitions.create("opacity",{duration:n,delay:i}),x.transitions.create("transform",{duration:MT?n:.666*n,delay:MT?i:i||.333*n,easing:s})].join(","),t.style.opacity=0,t.style.transform=wT(.75),u&&u(t)})),T=w(d);return(0,oM.jsx)(m,(0,pM.A)({appear:n,in:a,nodeRef:S,onEnter:M,onEntered:k,onEntering:C,onExit:E,onExited:T,onExiting:R,addEndListener:t=>{"auto"===g&&v.start(b.current||0,t),s&&s(S.current,t)},timeout:"auto"===g?null:g},y,{children:(e,i)=>t.cloneElement(r,(0,pM.A)({style:(0,pM.A)({opacity:0,transform:wT(.75),visibility:"exited"!==e||a?void 0:"hidden"},CT[e],p,r.props.style),ref:A},i))}))}));kT.muiSupportAuto=!0;const RT=kT;function ET(t){return(0,gk.Ay)("MuiPopover",t)}(0,pk.A)("MuiPopover",["root","paper"]);const TT=["onEntering"],IT=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],PT=["slotProps"];function FT(t,e){let i=0;return"number"===typeof e?i=e:"center"===e?i=t.height/2:"bottom"===e&&(i=t.height),i}function DT(t,e){let i=0;return"number"===typeof e?i=e:"center"===e?i=t.width/2:"right"===e&&(i=t.width),i}function LT(t){return[t.horizontal,t.vertical].map((t=>"number"===typeof t?"".concat(t,"px"):t)).join(" ")}function zT(t){return"function"===typeof t?t():t}const NT=(0,BM.Ay)(_k,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),_T=(0,BM.Ay)(Kk,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),VT=t.forwardRef((function(e,i){var s,n,r;const o=(0,OM.b)({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:h={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:u="anchorEl",children:d,className:f,container:p,elevation:g=8,marginThreshold:m=16,open:y,PaperProps:v={},slots:b,slotProps:x,transformOrigin:S={vertical:"top",horizontal:"left"},TransitionComponent:A=RT,transitionDuration:w="auto",TransitionProps:{onEntering:C}={},disableScrollLock:M=!1}=o,k=(0,fM.A)(o.TransitionProps,TT),R=(0,fM.A)(o,IT),E=null!=(s=null==x?void 0:x.paper)?s:v,T=t.useRef(),I=(0,hk.A)(T,E.ref),P=(0,pM.A)({},o,{anchorOrigin:h,anchorReference:u,elevation:g,marginThreshold:m,externalPaperSlotProps:E,transformOrigin:S,TransitionComponent:A,transitionDuration:w,TransitionProps:k}),F=(t=>{const{classes:e}=t;return(0,mM.A)({root:["root"],paper:["paper"]},ET,e)})(P),D=t.useCallback((()=>{if("anchorPosition"===u)return c;const t=zT(l),e=(t&&1===t.nodeType?t:(0,ST.A)(T.current).body).getBoundingClientRect();return{top:e.top+FT(e,h.vertical),left:e.left+DT(e,h.horizontal)}}),[l,h.horizontal,h.vertical,c,u]),L=t.useCallback((t=>({vertical:FT(t,S.vertical),horizontal:DT(t,S.horizontal)})),[S.horizontal,S.vertical]),z=t.useCallback((t=>{const e={width:t.offsetWidth,height:t.offsetHeight},i=L(e);if("none"===u)return{top:null,left:null,transformOrigin:LT(i)};const s=D();let n=s.top-i.vertical,r=s.left-i.horizontal;const o=n+e.height,a=r+e.width,h=(0,Bk.A)(zT(l)),c=h.innerHeight-m,d=h.innerWidth-m;if(null!==m&&n<m){const t=n-m;n-=t,i.vertical+=t}else if(null!==m&&o>c){const t=o-c;n-=t,i.vertical+=t}if(null!==m&&r<m){const t=r-m;r-=t,i.horizontal+=t}else if(a>d){const t=a-d;r-=t,i.horizontal+=t}return{top:"".concat(Math.round(n),"px"),left:"".concat(Math.round(r),"px"),transformOrigin:LT(i)}}),[l,u,D,L,m]),[N,_]=t.useState(y),V=t.useCallback((()=>{const t=T.current;if(!t)return;const e=z(t);null!==e.top&&(t.style.top=e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin,_(!0)}),[z]);t.useEffect((()=>(M&&window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V))),[l,M,V]);t.useEffect((()=>{y&&V()})),t.useImperativeHandle(a,(()=>y?{updatePosition:()=>{V()}}:null),[y,V]),t.useEffect((()=>{if(!y)return;const t=(0,Vk.A)((()=>{V()})),e=(0,Bk.A)(l);return e.addEventListener("resize",t),()=>{t.clear(),e.removeEventListener("resize",t)}}),[l,y,V]);let B=w;"auto"!==w||A.muiSupportAuto||(B=void 0);const O=p||(l?(0,ST.A)(zT(l)).body:void 0),U=null!=(n=null==b?void 0:b.root)?n:NT,H=null!=(r=null==b?void 0:b.paper)?r:_T,G=TM({elementType:H,externalSlotProps:(0,pM.A)({},E,{style:N?E.style:(0,pM.A)({},E.style,{opacity:0})}),additionalProps:{elevation:g,ref:I},ownerState:P,className:(0,gM.A)(F.paper,null==E?void 0:E.className)}),W=TM({elementType:U,externalSlotProps:(null==x?void 0:x.root)||{},externalForwardedProps:R,additionalProps:{ref:i,slotProps:{backdrop:{invisible:!0}},container:O,open:y},ownerState:P,className:(0,gM.A)(F.root,f)}),{slotProps:j}=W,Y=(0,fM.A)(W,PT);return(0,oM.jsx)(U,(0,pM.A)({},Y,!AM(U)&&{slotProps:j,disableScrollLock:M},{children:(0,oM.jsx)(A,(0,pM.A)({appear:!0,in:y,onEntering:(t,e)=>{C&&C(t,e),V()},onExited:()=>{_(!1)},timeout:B},k,{children:(0,oM.jsx)(H,(0,pM.A)({},G,{children:d}))}))}))})),BT=VT;function OT(t){return(0,gk.Ay)("MuiTypography",t)}(0,pk.A)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const UT=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],HT=(0,BM.Ay)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.variant&&e[i.variant],"inherit"!==i.align&&e["align".concat((0,Zk.A)(i.align))],i.noWrap&&e.noWrap,i.gutterBottom&&e.gutterBottom,i.paragraph&&e.paragraph]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({margin:0},"inherit"===i.variant&&{font:"inherit"},"inherit"!==i.variant&&e.typography[i.variant],"inherit"!==i.align&&{textAlign:i.align},i.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},i.gutterBottom&&{marginBottom:"0.35em"},i.paragraph&&{marginBottom:16})})),GT={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},WT={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},jT=t.forwardRef((function(t,e){const i=(0,OM.b)({props:t,name:"MuiTypography"}),s=(t=>WT[t]||t)(i.color),n=(0,uR.A)((0,pM.A)({},i,{color:s})),{align:r="inherit",className:o,component:a,gutterBottom:l=!1,noWrap:h=!1,paragraph:c=!1,variant:u="body1",variantMapping:d=GT}=n,f=(0,fM.A)(n,UT),p=(0,pM.A)({},n,{align:r,color:s,className:o,component:a,gutterBottom:l,noWrap:h,paragraph:c,variant:u,variantMapping:d}),g=a||(c?"p":d[u]||GT[u])||"span",m=(t=>{const{align:e,gutterBottom:i,noWrap:s,paragraph:n,variant:r,classes:o}=t,a={root:["root",r,"inherit"!==t.align&&"align".concat((0,Zk.A)(e)),i&&"gutterBottom",s&&"noWrap",n&&"paragraph"]};return(0,mM.A)(a,OT,o)})(p);return(0,oM.jsx)(HT,(0,pM.A)({as:g,ref:e,ownerState:p,className:(0,gM.A)(m.root,o)},f))})),YT=jT;var XT=i(6319);const qT=t=>t.commonData.deviceState,JT=t=>t.commonData.deviceLog.history,KT=t=>t.commonData.deviceLog.countUnreadLog,ZT=t=>t.commonData.chartAxisLimits,QT=t=>t.commonData.chartState;function $T(t){return(0,gk.Ay)("MuiListItemText",t)}const tI=(0,pk.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),eI=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],iI=(0,BM.Ay)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{["& .".concat(tI.primary)]:e.primary},{["& .".concat(tI.secondary)]:e.secondary},e.root,i.inset&&e.inset,i.primary&&i.secondary&&e.multiline,i.dense&&e.dense]}})((t=>{let{ownerState:e}=t;return(0,pM.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56})})),sI=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiListItemText"}),{children:n,className:r,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:h,secondary:c,secondaryTypographyProps:u}=s,d=(0,fM.A)(s,eI),{dense:f}=t.useContext(HE);let p=null!=l?l:n,g=c;const m=(0,pM.A)({},s,{disableTypography:o,inset:a,primary:!!p,secondary:!!g,dense:f}),y=(t=>{const{classes:e,inset:i,primary:s,secondary:n,dense:r}=t,o={root:["root",i&&"inset",r&&"dense",s&&n&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,mM.A)(o,$T,e)})(m);return null==p||p.type===YT||o||(p=(0,oM.jsx)(YT,(0,pM.A)({variant:f?"body2":"body1",className:y.primary,component:null!=h&&h.variant?void 0:"span",display:"block"},h,{children:p}))),null==g||g.type===YT||o||(g=(0,oM.jsx)(YT,(0,pM.A)({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},u,{children:g}))),(0,oM.jsxs)(iI,(0,pM.A)({className:(0,gM.A)(y.root,r),ownerState:m,ref:i},d,{children:[p,g]}))})),nI=sI;var rI,oI=i(5093);function aI(){return aI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},aI.apply(null,arguments)}function lI(e,i){let{title:s,titleId:n,...r}=e;return t.createElement("svg",aI({xmlns:"http://www.w3.org/2000/svg",width:"1024.000000pt",height:"1024.000000pt",viewBox:"0 0 1024.000000 1024.000000",preserveAspectRatio:"xMidYMid meet",ref:i,"aria-labelledby":n},r),s?t.createElement("title",{id:n},s):null,rI||(rI=t.createElement("g",{transform:"translate(0.000000,1024.000000) scale(0.100000,-0.100000)",fill:"currentColor",stroke:"none"},t.createElement("path",{d:"M4785 10009 c-371 -22 -848 -118 -1243 -248 -875 -290 -1689 -858 -2258 -1576 -472 -596 -779 -1230 -949 -1963 -97 -420 -127 -691 -126 -1122 1 -319 14 -490 62 -780 56 -338 196 -820 328 -1130 316 -738 830 -1411 1461 -1912 744 -591 1680 -959 2650 -1043 316 -28 792 -14 1079 30 564 88 1076 250 1546 490 207 106 301 162 515 306 522 351 930 757 1297 1289 384 557 648 1203 777 1902 74 399 108 918 71 1057 -29 109 -131 166 -244 136 -64 -16 -116 -62 -132 -115 -6 -19 -15 -96 -20 -170 -21 -302 -80 -621 -166 -900 -265 -861 -789 -1620 -1488 -2160 -38 -30 -113 -90 -165 -135 -388 -331 -864 -599 -1373 -774 -696 -239 -1514 -273 -2277 -95 -466 109 -1014 359 -1420 648 -367 261 -780 683 -1020 1041 -245 368 -430 754 -554 1161 -209 682 -219 1549 -27 2248 295 1070 981 1958 1941 2511 382 220 796 379 1210 464 306 62 440 75 825 75 356 1 433 -4 690 -45 240 -37 422 -83 660 -166 515 -180 968 -437 1350 -766 91 -79 412 -394 425 -418 7 -12 -23 -38 -154 -130 l-162 -115 -134 139 c-533 553 -1196 912 -1963 1062 -606 118 -1169 85 -1787 -105 -191 -58 -328 -113 -515 -205 -649 -319 -1157 -787 -1533 -1411 -345 -573 -541 -1319 -518 -1976 29 -857 341 -1662 895 -2308 319 -373 782 -721 1236 -928 349 -159 793 -278 1205 -324 162 -17 522 -14 710 6 833 91 1594 449 2189 1030 491 481 818 1055 989 1741 79 314 112 563 87 654 -19 72 -64 117 -133 135 -102 27 -210 -28 -233 -119 -63 -251 -219 -623 -364 -870 -184 -314 -374 -556 -646 -820 -332 -323 -769 -621 -1144 -780 -637 -270 -1401 -299 -2048 -76 -876 301 -1539 969 -1837 1851 -178 527 -187 1193 -23 1740 67 224 190 493 320 701 292 465 695 828 1188 1069 260 127 453 193 710 243 202 40 342 52 575 52 368 -1 675 -54 985 -170 403 -151 743 -366 1044 -662 l115 -113 -230 -163 c-127 -90 -235 -167 -242 -171 -7 -4 -42 22 -88 66 -207 199 -515 387 -790 482 -281 96 -532 140 -794 139 -502 -2 -976 -162 -1382 -466 -209 -156 -378 -335 -527 -558 -298 -447 -440 -1028 -377 -1539 14 -113 21 -151 52 -280 120 -499 400 -946 784 -1252 307 -243 601 -382 996 -468 487 -106 1003 -41 1469 184 469 227 827 582 1059 1050 84 169 100 226 81 297 -28 104 -129 162 -234 134 -44 -11 -66 -29 -203 -167 -156 -158 -253 -239 -413 -345 -315 -210 -750 -380 -1080 -424 -120 -16 -444 -6 -545 16 -148 33 -339 112 -485 200 -230 139 -445 378 -577 640 -41 80 -98 241 -121 339 -19 79 -21 122 -22 326 0 187 4 253 18 323 36 180 142 416 260 584 227 319 617 563 1002 624 122 20 420 17 535 -4 237 -45 537 -186 688 -323 l43 -39 -258 -181 -257 -181 -61 29 c-98 45 -243 78 -349 78 -151 0 -332 -53 -446 -130 -340 -230 -461 -627 -309 -1013 48 -121 173 -274 286 -349 97 -65 141 -85 251 -116 132 -36 296 -38 422 -3 233 64 418 211 521 416 42 84 89 238 89 291 0 30 5 33 148 102 156 75 718 343 1067 510 394 187 1050 500 1145 545 52 25 160 76 240 115 80 38 388 185 685 326 377 180 550 267 573 290 47 46 65 118 47 187 -8 28 -20 58 -28 68 -15 17 -553 914 -581 968 -45 89 -147 137 -237 113 -24 -7 -87 -43 -141 -81 l-98 -70 -37 43 c-273 307 -462 484 -756 705 -932 703 -2095 1052 -3272 982z"}))))}const hI=t.forwardRef(lI);i.p;var cI=i(3189),uI=i(5329);function dI(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function fI(t){return t instanceof dI(t).Element||t instanceof Element}function pI(t){return t instanceof dI(t).HTMLElement||t instanceof HTMLElement}function gI(t){return"undefined"!==typeof ShadowRoot&&(t instanceof dI(t).ShadowRoot||t instanceof ShadowRoot)}var mI=Math.max,yI=Math.min,vI=Math.round;function bI(){var t=navigator.userAgentData;return null!=t&&t.brands&&Array.isArray(t.brands)?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function xI(){return!/^((?!chrome|android).)*safari/i.test(bI())}function SI(t,e,i){void 0===e&&(e=!1),void 0===i&&(i=!1);var s=t.getBoundingClientRect(),n=1,r=1;e&&pI(t)&&(n=t.offsetWidth>0&&vI(s.width)/t.offsetWidth||1,r=t.offsetHeight>0&&vI(s.height)/t.offsetHeight||1);var o=(fI(t)?dI(t):window).visualViewport,a=!xI()&&i,l=(s.left+(a&&o?o.offsetLeft:0))/n,h=(s.top+(a&&o?o.offsetTop:0))/r,c=s.width/n,u=s.height/r;return{width:c,height:u,top:h,right:l+c,bottom:h+u,left:l,x:l,y:h}}function AI(t){var e=dI(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function wI(t){return t?(t.nodeName||"").toLowerCase():null}function CI(t){return((fI(t)?t.ownerDocument:t.document)||window.document).documentElement}function MI(t){return SI(CI(t)).left+AI(t).scrollLeft}function kI(t){return dI(t).getComputedStyle(t)}function RI(t){var e=kI(t),i=e.overflow,s=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+s)}function EI(t,e,i){void 0===i&&(i=!1);var s=pI(e),n=pI(e)&&function(t){var e=t.getBoundingClientRect(),i=vI(e.width)/t.offsetWidth||1,s=vI(e.height)/t.offsetHeight||1;return 1!==i||1!==s}(e),r=CI(e),o=SI(t,n,i),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(s||!s&&!i)&&(("body"!==wI(e)||RI(r))&&(a=function(t){return t!==dI(t)&&pI(t)?{scrollLeft:(e=t).scrollLeft,scrollTop:e.scrollTop}:AI(t);var e}(e)),pI(e)?((l=SI(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):r&&(l.x=MI(r))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function TI(t){var e=SI(t),i=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:s}}function II(t){return"html"===wI(t)?t:t.assignedSlot||t.parentNode||(gI(t)?t.host:null)||CI(t)}function PI(t){return["html","body","#document"].indexOf(wI(t))>=0?t.ownerDocument.body:pI(t)&&RI(t)?t:PI(II(t))}function FI(t,e){var i;void 0===e&&(e=[]);var s=PI(t),n=s===(null==(i=t.ownerDocument)?void 0:i.body),r=dI(s),o=n?[r].concat(r.visualViewport||[],RI(s)?s:[]):s,a=e.concat(o);return n?a:a.concat(FI(II(o)))}function DI(t){return["table","td","th"].indexOf(wI(t))>=0}function LI(t){return pI(t)&&"fixed"!==kI(t).position?t.offsetParent:null}function zI(t){for(var e=dI(t),i=LI(t);i&&DI(i)&&"static"===kI(i).position;)i=LI(i);return i&&("html"===wI(i)||"body"===wI(i)&&"static"===kI(i).position)?e:i||function(t){var e=/firefox/i.test(bI());if(/Trident/i.test(bI())&&pI(t)&&"fixed"===kI(t).position)return null;var i=II(t);for(gI(i)&&(i=i.host);pI(i)&&["html","body"].indexOf(wI(i))<0;){var s=kI(i);if("none"!==s.transform||"none"!==s.perspective||"paint"===s.contain||-1!==["transform","perspective"].indexOf(s.willChange)||e&&"filter"===s.willChange||e&&s.filter&&"none"!==s.filter)return i;i=i.parentNode}return null}(t)||e}var NI="top",_I="bottom",VI="right",BI="left",OI="auto",UI=[NI,_I,VI,BI],HI="start",GI="end",WI="clippingParents",jI="viewport",YI="popper",XI="reference",qI=UI.reduce((function(t,e){return t.concat([e+"-"+HI,e+"-"+GI])}),[]),JI=[].concat(UI,[OI]).reduce((function(t,e){return t.concat([e,e+"-"+HI,e+"-"+GI])}),[]),KI=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function ZI(t){var e=new Map,i=new Set,s=[];function n(t){i.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!i.has(t)){var s=e.get(t);s&&n(s)}})),s.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){i.has(t.name)||n(t)})),s}function QI(t){var e;return function(){return e||(e=new Promise((function(i){Promise.resolve().then((function(){e=void 0,i(t())}))}))),e}}var $I={placement:"bottom",modifiers:[],strategy:"absolute"};function tP(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some((function(t){return!(t&&"function"===typeof t.getBoundingClientRect)}))}function eP(t){void 0===t&&(t={});var e=t,i=e.defaultModifiers,s=void 0===i?[]:i,n=e.defaultOptions,r=void 0===n?$I:n;return function(t,e,i){void 0===i&&(i=r);var n={placement:"bottom",orderedModifiers:[],options:Object.assign({},$I,r),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},o=[],a=!1,l={state:n,setOptions:function(i){var a="function"===typeof i?i(n.options):i;h(),n.options=Object.assign({},r,n.options,a),n.scrollParents={reference:fI(t)?FI(t):t.contextElement?FI(t.contextElement):[],popper:FI(e)};var c=function(t){var e=ZI(t);return KI.reduce((function(t,i){return t.concat(e.filter((function(t){return t.phase===i})))}),[])}(function(t){var e=t.reduce((function(t,e){var i=t[e.name];return t[e.name]=i?Object.assign({},i,e,{options:Object.assign({},i.options,e.options),data:Object.assign({},i.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(s,n.options.modifiers)));return n.orderedModifiers=c.filter((function(t){return t.enabled})),n.orderedModifiers.forEach((function(t){var e=t.name,i=t.options,s=void 0===i?{}:i,r=t.effect;if("function"===typeof r){var a=r({state:n,name:e,instance:l,options:s}),h=function(){};o.push(a||h)}})),l.update()},forceUpdate:function(){if(!a){var t=n.elements,e=t.reference,i=t.popper;if(tP(e,i)){n.rects={reference:EI(e,zI(i),"fixed"===n.options.strategy),popper:TI(i)},n.reset=!1,n.placement=n.options.placement,n.orderedModifiers.forEach((function(t){return n.modifiersData[t.name]=Object.assign({},t.data)}));for(var s=0;s<n.orderedModifiers.length;s++)if(!0!==n.reset){var r=n.orderedModifiers[s],o=r.fn,h=r.options,c=void 0===h?{}:h,u=r.name;"function"===typeof o&&(n=o({state:n,options:c,name:u,instance:l})||n)}else n.reset=!1,s=-1}}},update:QI((function(){return new Promise((function(t){l.forceUpdate(),t(n)}))})),destroy:function(){h(),a=!0}};if(!tP(t,e))return l;function h(){o.forEach((function(t){return t()})),o=[]}return l.setOptions(i).then((function(t){!a&&i.onFirstUpdate&&i.onFirstUpdate(t)})),l}}var iP={passive:!0};function sP(t){return t.split("-")[0]}function nP(t){return t.split("-")[1]}function rP(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function oP(t){var e,i=t.reference,s=t.element,n=t.placement,r=n?sP(n):null,o=n?nP(n):null,a=i.x+i.width/2-s.width/2,l=i.y+i.height/2-s.height/2;switch(r){case NI:e={x:a,y:i.y-s.height};break;case _I:e={x:a,y:i.y+i.height};break;case VI:e={x:i.x+i.width,y:l};break;case BI:e={x:i.x-s.width,y:l};break;default:e={x:i.x,y:i.y}}var h=r?rP(r):null;if(null!=h){var c="y"===h?"height":"width";switch(o){case HI:e[h]=e[h]-(i[c]/2-s[c]/2);break;case GI:e[h]=e[h]+(i[c]/2-s[c]/2)}}return e}var aP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function lP(t){var e,i=t.popper,s=t.popperRect,n=t.placement,r=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,h=t.adaptive,c=t.roundOffsets,u=t.isFixed,d=o.x,f=void 0===d?0:d,p=o.y,g=void 0===p?0:p,m="function"===typeof c?c({x:f,y:g}):{x:f,y:g};f=m.x,g=m.y;var y=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),b=BI,x=NI,S=window;if(h){var A=zI(i),w="clientHeight",C="clientWidth";if(A===dI(i)&&"static"!==kI(A=CI(i)).position&&"absolute"===a&&(w="scrollHeight",C="scrollWidth"),n===NI||(n===BI||n===VI)&&r===GI)x=_I,g-=(u&&A===S&&S.visualViewport?S.visualViewport.height:A[w])-s.height,g*=l?1:-1;if(n===BI||(n===NI||n===_I)&&r===GI)b=VI,f-=(u&&A===S&&S.visualViewport?S.visualViewport.width:A[C])-s.width,f*=l?1:-1}var M,k=Object.assign({position:a},h&&aP),R=!0===c?function(t,e){var i=t.x,s=t.y,n=e.devicePixelRatio||1;return{x:vI(i*n)/n||0,y:vI(s*n)/n||0}}({x:f,y:g},dI(i)):{x:f,y:g};return f=R.x,g=R.y,l?Object.assign({},k,((M={})[x]=v?"0":"",M[b]=y?"0":"",M.transform=(S.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",M)):Object.assign({},k,((e={})[x]=v?g+"px":"",e[b]=y?f+"px":"",e.transform="",e))}const hP={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var i=e.styles[t]||{},s=e.attributes[t]||{},n=e.elements[t];pI(n)&&wI(n)&&(Object.assign(n.style,i),Object.keys(s).forEach((function(t){var e=s[t];!1===e?n.removeAttribute(t):n.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach((function(t){var s=e.elements[t],n=e.attributes[t]||{},r=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:i[t]).reduce((function(t,e){return t[e]="",t}),{});pI(s)&&wI(s)&&(Object.assign(s.style,r),Object.keys(n).forEach((function(t){s.removeAttribute(t)})))}))}},requires:["computeStyles"]};const cP={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,i=t.options,s=t.name,n=i.offset,r=void 0===n?[0,0]:n,o=JI.reduce((function(t,i){return t[i]=function(t,e,i){var s=sP(t),n=[BI,NI].indexOf(s)>=0?-1:1,r="function"===typeof i?i(Object.assign({},e,{placement:t})):i,o=r[0],a=r[1];return o=o||0,a=(a||0)*n,[BI,VI].indexOf(s)>=0?{x:a,y:o}:{x:o,y:a}}(i,e.rects,r),t}),{}),a=o[e.placement],l=a.x,h=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=h),e.modifiersData[s]=o}};var uP={left:"right",right:"left",bottom:"top",top:"bottom"};function dP(t){return t.replace(/left|right|bottom|top/g,(function(t){return uP[t]}))}var fP={start:"end",end:"start"};function pP(t){return t.replace(/start|end/g,(function(t){return fP[t]}))}function gP(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&gI(i)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function mP(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function yP(t,e,i){return e===jI?mP(function(t,e){var i=dI(t),s=CI(t),n=i.visualViewport,r=s.clientWidth,o=s.clientHeight,a=0,l=0;if(n){r=n.width,o=n.height;var h=xI();(h||!h&&"fixed"===e)&&(a=n.offsetLeft,l=n.offsetTop)}return{width:r,height:o,x:a+MI(t),y:l}}(t,i)):fI(e)?function(t,e){var i=SI(t,!1,"fixed"===e);return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}(e,i):mP(function(t){var e,i=CI(t),s=AI(t),n=null==(e=t.ownerDocument)?void 0:e.body,r=mI(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),o=mI(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),a=-s.scrollLeft+MI(t),l=-s.scrollTop;return"rtl"===kI(n||i).direction&&(a+=mI(i.clientWidth,n?n.clientWidth:0)-r),{width:r,height:o,x:a,y:l}}(CI(t)))}function vP(t,e,i,s){var n="clippingParents"===e?function(t){var e=FI(II(t)),i=["absolute","fixed"].indexOf(kI(t).position)>=0&&pI(t)?zI(t):t;return fI(i)?e.filter((function(t){return fI(t)&&gP(t,i)&&"body"!==wI(t)})):[]}(t):[].concat(e),r=[].concat(n,[i]),o=r[0],a=r.reduce((function(e,i){var n=yP(t,i,s);return e.top=mI(n.top,e.top),e.right=yI(n.right,e.right),e.bottom=yI(n.bottom,e.bottom),e.left=mI(n.left,e.left),e}),yP(t,o,s));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function bP(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function xP(t,e){return e.reduce((function(e,i){return e[i]=t,e}),{})}function SP(t,e){void 0===e&&(e={});var i=e,s=i.placement,n=void 0===s?t.placement:s,r=i.strategy,o=void 0===r?t.strategy:r,a=i.boundary,l=void 0===a?WI:a,h=i.rootBoundary,c=void 0===h?jI:h,u=i.elementContext,d=void 0===u?YI:u,f=i.altBoundary,p=void 0!==f&&f,g=i.padding,m=void 0===g?0:g,y=bP("number"!==typeof m?m:xP(m,UI)),v=d===YI?XI:YI,b=t.rects.popper,x=t.elements[p?v:d],S=vP(fI(x)?x:x.contextElement||CI(t.elements.popper),l,c,o),A=SI(t.elements.reference),w=oP({reference:A,element:b,strategy:"absolute",placement:n}),C=mP(Object.assign({},b,w)),M=d===YI?C:A,k={top:S.top-M.top+y.top,bottom:M.bottom-S.bottom+y.bottom,left:S.left-M.left+y.left,right:M.right-S.right+y.right},R=t.modifiersData.offset;if(d===YI&&R){var E=R[n];Object.keys(k).forEach((function(t){var e=[VI,_I].indexOf(t)>=0?1:-1,i=[NI,_I].indexOf(t)>=0?"y":"x";k[t]+=E[i]*e}))}return k}const AP={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var n=i.mainAxis,r=void 0===n||n,o=i.altAxis,a=void 0===o||o,l=i.fallbackPlacements,h=i.padding,c=i.boundary,u=i.rootBoundary,d=i.altBoundary,f=i.flipVariations,p=void 0===f||f,g=i.allowedAutoPlacements,m=e.options.placement,y=sP(m),v=l||(y===m||!p?[dP(m)]:function(t){if(sP(t)===OI)return[];var e=dP(t);return[pP(t),e,pP(e)]}(m)),b=[m].concat(v).reduce((function(t,i){return t.concat(sP(i)===OI?function(t,e){void 0===e&&(e={});var i=e,s=i.placement,n=i.boundary,r=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,h=void 0===l?JI:l,c=nP(s),u=c?a?qI:qI.filter((function(t){return nP(t)===c})):UI,d=u.filter((function(t){return h.indexOf(t)>=0}));0===d.length&&(d=u);var f=d.reduce((function(e,i){return e[i]=SP(t,{placement:i,boundary:n,rootBoundary:r,padding:o})[sP(i)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}(e,{placement:i,boundary:c,rootBoundary:u,padding:h,flipVariations:p,allowedAutoPlacements:g}):i)}),[]),x=e.rects.reference,S=e.rects.popper,A=new Map,w=!0,C=b[0],M=0;M<b.length;M++){var k=b[M],R=sP(k),E=nP(k)===HI,T=[NI,_I].indexOf(R)>=0,I=T?"width":"height",P=SP(e,{placement:k,boundary:c,rootBoundary:u,altBoundary:d,padding:h}),F=T?E?VI:BI:E?_I:NI;x[I]>S[I]&&(F=dP(F));var D=dP(F),L=[];if(r&&L.push(P[R]<=0),a&&L.push(P[F]<=0,P[D]<=0),L.every((function(t){return t}))){C=k,w=!1;break}A.set(k,L)}if(w)for(var z=function(t){var e=b.find((function(e){var i=A.get(e);if(i)return i.slice(0,t).every((function(t){return t}))}));if(e)return C=e,"break"},N=p?3:1;N>0;N--){if("break"===z(N))break}e.placement!==C&&(e.modifiersData[s]._skip=!0,e.placement=C,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function wP(t,e,i){return mI(t,yI(e,i))}const CP={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,i=t.options,s=t.name,n=i.mainAxis,r=void 0===n||n,o=i.altAxis,a=void 0!==o&&o,l=i.boundary,h=i.rootBoundary,c=i.altBoundary,u=i.padding,d=i.tether,f=void 0===d||d,p=i.tetherOffset,g=void 0===p?0:p,m=SP(e,{boundary:l,rootBoundary:h,padding:u,altBoundary:c}),y=sP(e.placement),v=nP(e.placement),b=!v,x=rP(y),S="x"===x?"y":"x",A=e.modifiersData.popperOffsets,w=e.rects.reference,C=e.rects.popper,M="function"===typeof g?g(Object.assign({},e.rects,{placement:e.placement})):g,k="number"===typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,E={x:0,y:0};if(A){if(r){var T,I="y"===x?NI:BI,P="y"===x?_I:VI,F="y"===x?"height":"width",D=A[x],L=D+m[I],z=D-m[P],N=f?-C[F]/2:0,_=v===HI?w[F]:C[F],V=v===HI?-C[F]:-w[F],B=e.elements.arrow,O=f&&B?TI(B):{width:0,height:0},U=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=U[I],G=U[P],W=wP(0,w[F],O[F]),j=b?w[F]/2-N-W-H-k.mainAxis:_-W-H-k.mainAxis,Y=b?-w[F]/2+N+W+G+k.mainAxis:V+W+G+k.mainAxis,X=e.elements.arrow&&zI(e.elements.arrow),q=X?"y"===x?X.clientTop||0:X.clientLeft||0:0,J=null!=(T=null==R?void 0:R[x])?T:0,K=D+Y-J,Z=wP(f?yI(L,D+j-J-q):L,D,f?mI(z,K):z);A[x]=Z,E[x]=Z-D}if(a){var Q,$="x"===x?NI:BI,tt="x"===x?_I:VI,et=A[S],it="y"===S?"height":"width",st=et+m[$],nt=et-m[tt],rt=-1!==[NI,BI].indexOf(y),ot=null!=(Q=null==R?void 0:R[S])?Q:0,at=rt?st:et-w[it]-C[it]-ot+k.altAxis,lt=rt?et+w[it]+C[it]-ot-k.altAxis:nt,ht=f&&rt?function(t,e,i){var s=wP(t,e,i);return s>i?i:s}(at,et,lt):wP(f?at:st,et,f?lt:nt);A[S]=ht,E[S]=ht-et}e.modifiersData[s]=E}},requiresIfExists:["offset"]};const MP={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,i=t.state,s=t.name,n=t.options,r=i.elements.arrow,o=i.modifiersData.popperOffsets,a=sP(i.placement),l=rP(a),h=[BI,VI].indexOf(a)>=0?"height":"width";if(r&&o){var c=function(t,e){return bP("number"!==typeof(t="function"===typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:xP(t,UI))}(n.padding,i),u=TI(r),d="y"===l?NI:BI,f="y"===l?_I:VI,p=i.rects.reference[h]+i.rects.reference[l]-o[l]-i.rects.popper[h],g=o[l]-i.rects.reference[l],m=zI(r),y=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,v=p/2-g/2,b=c[d],x=y-u[h]-c[f],S=y/2-u[h]/2+v,A=wP(b,S,x),w=l;i.modifiersData[s]=((e={})[w]=A,e.centerOffset=A-S,e)}},effect:function(t){var e=t.state,i=t.options.element,s=void 0===i?"[data-popper-arrow]":i;null!=s&&("string"!==typeof s||(s=e.elements.popper.querySelector(s)))&&gP(e.elements.popper,s)&&(e.elements.arrow=s)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function kP(t,e,i){return void 0===i&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function RP(t){return[NI,VI,_I,BI].some((function(e){return t[e]>=0}))}var EP=eP({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,i=t.instance,s=t.options,n=s.scroll,r=void 0===n||n,o=s.resize,a=void 0===o||o,l=dI(e.elements.popper),h=[].concat(e.scrollParents.reference,e.scrollParents.popper);return r&&h.forEach((function(t){t.addEventListener("scroll",i.update,iP)})),a&&l.addEventListener("resize",i.update,iP),function(){r&&h.forEach((function(t){t.removeEventListener("scroll",i.update,iP)})),a&&l.removeEventListener("resize",i.update,iP)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,i=t.name;e.modifiersData[i]=oP({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,i=t.options,s=i.gpuAcceleration,n=void 0===s||s,r=i.adaptive,o=void 0===r||r,a=i.roundOffsets,l=void 0===a||a,h={placement:sP(e.placement),variation:nP(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,lP(Object.assign({},h,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,lP(Object.assign({},h,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},hP,cP,AP,CP,MP,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,i=t.name,s=e.rects.reference,n=e.rects.popper,r=e.modifiersData.preventOverflow,o=SP(e,{elementContext:"reference"}),a=SP(e,{altBoundary:!0}),l=kP(o,s),h=kP(a,n,r),c=RP(l),u=RP(h);e.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:c,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":u})}}]});function TP(t){return(0,gk.Ay)("MuiPopper",t)}(0,pk.A)("MuiPopper",["root"]);const IP=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],PP=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function FP(t){return"function"===typeof t?t():t}function DP(t){return void 0!==t.nodeType}const LP={},zP=t.forwardRef((function(e,i){var s;const{anchorEl:n,children:r,direction:o,disablePortal:a,modifiers:l,open:h,placement:c,popperOptions:u,popperRef:d,slotProps:f={},slots:p={},TransitionProps:g}=e,m=(0,fM.A)(e,IP),y=t.useRef(null),v=(0,SM.A)(y,i),b=t.useRef(null),x=(0,SM.A)(b,d),S=t.useRef(x);(0,NM.A)((()=>{S.current=x}),[x]),t.useImperativeHandle(d,(()=>b.current),[]);const A=function(t,e){if("ltr"===e)return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}(c,o),[w,C]=t.useState(A),[M,k]=t.useState(FP(n));t.useEffect((()=>{b.current&&b.current.forceUpdate()})),t.useEffect((()=>{n&&k(FP(n))}),[n]),(0,NM.A)((()=>{if(!M||!h)return;let t=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:t=>{let{state:e}=t;C(e.placement)}}];null!=l&&(t=t.concat(l)),u&&null!=u.modifiers&&(t=t.concat(u.modifiers));const e=EP(M,y.current,(0,pM.A)({placement:A},u,{modifiers:t}));return S.current(e),()=>{e.destroy(),S.current(null)}}),[M,a,l,h,u,A]);const R={placement:w};null!==g&&(R.TransitionProps=g);const E=(t=>{const{classes:e}=t;return(0,mM.A)({root:["root"]},TP,e)})(e),T=null!=(s=p.root)?s:"div",I=TM({elementType:T,externalSlotProps:f.root,externalForwardedProps:m,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:E.root});return(0,oM.jsx)(T,(0,pM.A)({},I,{children:"function"===typeof r?r(R):r}))})),NP=t.forwardRef((function(e,i){const{anchorEl:s,children:n,container:r,direction:o="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:h,open:c,placement:u="bottom",popperOptions:d=LP,popperRef:f,style:p,transition:g=!1,slotProps:m={},slots:y={}}=e,v=(0,fM.A)(e,PP),[b,x]=t.useState(!0);if(!l&&!c&&(!g||b))return null;let S;if(r)S=r;else if(s){const t=FP(s);S=t&&DP(t)?(0,IM.A)(t).body:(0,IM.A)(null).body}const A=c||!l||g&&!b?void 0:"none",w=g?{in:c,onEnter:()=>{x(!1)},onExited:()=>{x(!0)}}:void 0;return(0,oM.jsx)(VM,{disablePortal:a,container:S,children:(0,oM.jsx)(zP,(0,pM.A)({anchorEl:s,direction:o,disablePortal:a,modifiers:h,ref:i,open:g?!b:c,placement:u,popperOptions:d,popperRef:f,slotProps:m,slots:y},v,{style:(0,pM.A)({position:"fixed",top:0,left:0,display:A},p),TransitionProps:w,children:n}))})})),_P=NP,VP=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],BP=(0,BM.Ay)(_P,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),OP=t.forwardRef((function(t,e){var i;const s=(0,uI.A)(),n=(0,OM.b)({props:t,name:"MuiPopper"}),{anchorEl:r,component:o,components:a,componentsProps:l,container:h,disablePortal:c,keepMounted:u,modifiers:d,open:f,placement:p,popperOptions:g,popperRef:m,transition:y,slots:v,slotProps:b}=n,x=(0,fM.A)(n,VP),S=null!=(i=null==v?void 0:v.root)?i:null==a?void 0:a.Root,A=(0,pM.A)({anchorEl:r,container:h,disablePortal:c,keepMounted:u,modifiers:d,open:f,placement:p,popperOptions:g,popperRef:m,transition:y},x);return(0,oM.jsx)(BP,(0,pM.A)({as:o,direction:null==s?void 0:s.direction,slots:{root:S},slotProps:null!=b?b:l},A,{ref:e}))}));var UP=i(1014),HP=i(8733);function GP(t){return(0,gk.Ay)("MuiTooltip",t)}const WP=(0,pk.A)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),jP=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const YP=(0,BM.Ay)(OP,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.popper,!i.disableInteractive&&e.popperInteractive,i.arrow&&e.popperArrow,!i.open&&e.popperClose]}})((t=>{let{theme:e,ownerState:i,open:s}=t;return(0,pM.A)({zIndex:(e.vars||e).zIndex.tooltip,pointerEvents:"none"},!i.disableInteractive&&{pointerEvents:"auto"},!s&&{pointerEvents:"none"},i.arrow&&{['&[data-popper-placement*="bottom"] .'.concat(WP.arrow)]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},['&[data-popper-placement*="top"] .'.concat(WP.arrow)]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},['&[data-popper-placement*="right"] .'.concat(WP.arrow)]:(0,pM.A)({},i.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),['&[data-popper-placement*="left"] .'.concat(WP.arrow)]:(0,pM.A)({},i.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),XP=(0,BM.Ay)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.tooltip,i.touch&&e.touch,i.arrow&&e.tooltipArrow,e["tooltipPlacement".concat((0,Zk.A)(i.placement.split("-")[0]))]]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({backgroundColor:e.vars?e.vars.palette.Tooltip.bg:(0,Wk.X4)(e.palette.grey[700],.92),borderRadius:(e.vars||e).shape.borderRadius,color:(e.vars||e).palette.common.white,fontFamily:e.typography.fontFamily,padding:"4px 8px",fontSize:e.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:e.typography.fontWeightMedium},i.arrow&&{position:"relative",margin:0},i.touch&&{padding:"8px 16px",fontSize:e.typography.pxToRem(14),lineHeight:"".concat((s=16/14,Math.round(1e5*s)/1e5),"em"),fontWeight:e.typography.fontWeightRegular},{[".".concat(WP.popper,'[data-popper-placement*="left"] &')]:(0,pM.A)({transformOrigin:"right center"},i.isRtl?(0,pM.A)({marginLeft:"14px"},i.touch&&{marginLeft:"24px"}):(0,pM.A)({marginRight:"14px"},i.touch&&{marginRight:"24px"})),[".".concat(WP.popper,'[data-popper-placement*="right"] &')]:(0,pM.A)({transformOrigin:"left center"},i.isRtl?(0,pM.A)({marginRight:"14px"},i.touch&&{marginRight:"24px"}):(0,pM.A)({marginLeft:"14px"},i.touch&&{marginLeft:"24px"})),[".".concat(WP.popper,'[data-popper-placement*="top"] &')]:(0,pM.A)({transformOrigin:"center bottom",marginBottom:"14px"},i.touch&&{marginBottom:"24px"}),[".".concat(WP.popper,'[data-popper-placement*="bottom"] &')]:(0,pM.A)({transformOrigin:"center top",marginTop:"14px"},i.touch&&{marginTop:"24px"})});var s})),qP=(0,BM.Ay)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})((t=>{let{theme:e}=t;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:e.vars?e.vars.palette.Tooltip.bg:(0,Wk.X4)(e.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let JP=!1;const KP=new $R.E;let ZP={x:0,y:0};function QP(t,e){return function(i){for(var s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];e&&e(i,...n),t(i,...n)}}const $P=t.forwardRef((function(e,i){var s,n,r,o,a,l,h,c,u,d,f,p,g,m,y,v,b,x,S;const A=(0,OM.b)({props:e,name:"MuiTooltip"}),{arrow:w=!1,children:C,components:M={},componentsProps:k={},describeChild:R=!1,disableFocusListener:E=!1,disableHoverListener:T=!1,disableInteractive:I=!1,disableTouchListener:P=!1,enterDelay:F=100,enterNextDelay:D=0,enterTouchDelay:L=700,followCursor:z=!1,id:N,leaveDelay:_=0,leaveTouchDelay:V=1500,onClose:B,onOpen:O,open:U,placement:H="bottom",PopperComponent:G,PopperProps:W={},slotProps:j={},slots:Y={},title:X,TransitionComponent:q=RT,TransitionProps:J}=A,K=(0,fM.A)(A,jP),Z=t.isValidElement(C)?C:(0,oM.jsx)("span",{children:C}),Q=ok(),$=bM(),[tt,et]=t.useState(),[it,st]=t.useState(null),nt=t.useRef(!1),rt=I||z,ot=(0,$R.A)(),at=(0,$R.A)(),lt=(0,$R.A)(),ht=(0,$R.A)(),[ct,ut]=(0,HP.A)({controlled:U,default:!1,name:"Tooltip",state:"open"});let dt=ct;const ft=(0,UP.A)(N),pt=t.useRef(),gt=(0,GR.A)((()=>{void 0!==pt.current&&(document.body.style.WebkitUserSelect=pt.current,pt.current=void 0),ht.clear()}));t.useEffect((()=>gt),[gt]);const mt=t=>{KP.clear(),JP=!0,ut(!0),O&&!dt&&O(t)},yt=(0,GR.A)((t=>{KP.start(800+_,(()=>{JP=!1})),ut(!1),B&&dt&&B(t),ot.start(Q.transitions.duration.shortest,(()=>{nt.current=!1}))})),vt=t=>{nt.current&&"touchstart"!==t.type||(tt&&tt.removeAttribute("title"),at.clear(),lt.clear(),F||JP&&D?at.start(JP?D:F,(()=>{mt(t)})):mt(t))},bt=t=>{at.clear(),lt.start(_,(()=>{yt(t)}))},{isFocusVisibleRef:xt,onBlur:St,onFocus:At,ref:wt}=(0,WR.A)(),[,Ct]=t.useState(!1),Mt=t=>{St(t),!1===xt.current&&(Ct(!1),bt(t))},kt=t=>{tt||et(t.currentTarget),At(t),!0===xt.current&&(Ct(!0),vt(t))},Rt=t=>{nt.current=!0;const e=Z.props;e.onTouchStart&&e.onTouchStart(t)},Et=t=>{Rt(t),lt.clear(),ot.clear(),gt(),pt.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ht.start(L,(()=>{document.body.style.WebkitUserSelect=pt.current,vt(t)}))},Tt=t=>{Z.props.onTouchEnd&&Z.props.onTouchEnd(t),gt(),lt.start(V,(()=>{yt(t)}))};t.useEffect((()=>{if(dt)return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)};function t(t){"Escape"!==t.key&&"Esc"!==t.key||yt(t)}}),[yt,dt]);const It=(0,hk.A)(Z.ref,wt,et,i);X||0===X||(dt=!1);const Pt=t.useRef(),Ft={},Dt="string"===typeof X;R?(Ft.title=dt||!Dt||T?null:X,Ft["aria-describedby"]=dt?ft:null):(Ft["aria-label"]=Dt?X:null,Ft["aria-labelledby"]=dt&&!Dt?ft:null);const Lt=(0,pM.A)({},Ft,K,Z.props,{className:(0,gM.A)(K.className,Z.props.className),onTouchStart:Rt,ref:It},z?{onMouseMove:t=>{const e=Z.props;e.onMouseMove&&e.onMouseMove(t),ZP={x:t.clientX,y:t.clientY},Pt.current&&Pt.current.update()}}:{});const zt={};P||(Lt.onTouchStart=Et,Lt.onTouchEnd=Tt),T||(Lt.onMouseOver=QP(vt,Lt.onMouseOver),Lt.onMouseLeave=QP(bt,Lt.onMouseLeave),rt||(zt.onMouseOver=vt,zt.onMouseLeave=bt)),E||(Lt.onFocus=QP(kt,Lt.onFocus),Lt.onBlur=QP(Mt,Lt.onBlur),rt||(zt.onFocus=kt,zt.onBlur=Mt));const Nt=t.useMemo((()=>{var t;let e=[{name:"arrow",enabled:Boolean(it),options:{element:it,padding:4}}];return null!=(t=W.popperOptions)&&t.modifiers&&(e=e.concat(W.popperOptions.modifiers)),(0,pM.A)({},W.popperOptions,{modifiers:e})}),[it,W]),_t=(0,pM.A)({},A,{isRtl:$,arrow:w,disableInteractive:rt,placement:H,PopperComponentProp:G,touch:nt.current}),Vt=(t=>{const{classes:e,disableInteractive:i,arrow:s,touch:n,placement:r}=t,o={popper:["popper",!i&&"popperInteractive",s&&"popperArrow"],tooltip:["tooltip",s&&"tooltipArrow",n&&"touch","tooltipPlacement".concat((0,Zk.A)(r.split("-")[0]))],arrow:["arrow"]};return(0,mM.A)(o,GP,e)})(_t),Bt=null!=(s=null!=(n=Y.popper)?n:M.Popper)?s:YP,Ot=null!=(r=null!=(o=null!=(a=Y.transition)?a:M.Transition)?o:q)?r:RT,Ut=null!=(l=null!=(h=Y.tooltip)?h:M.Tooltip)?l:XP,Ht=null!=(c=null!=(u=Y.arrow)?u:M.Arrow)?c:qP,Gt=wM(Bt,(0,pM.A)({},W,null!=(d=j.popper)?d:k.popper,{className:(0,gM.A)(Vt.popper,null==W?void 0:W.className,null==(f=null!=(p=j.popper)?p:k.popper)?void 0:f.className)}),_t),Wt=wM(Ot,(0,pM.A)({},J,null!=(g=j.transition)?g:k.transition),_t),jt=wM(Ut,(0,pM.A)({},null!=(m=j.tooltip)?m:k.tooltip,{className:(0,gM.A)(Vt.tooltip,null==(y=null!=(v=j.tooltip)?v:k.tooltip)?void 0:y.className)}),_t),Yt=wM(Ht,(0,pM.A)({},null!=(b=j.arrow)?b:k.arrow,{className:(0,gM.A)(Vt.arrow,null==(x=null!=(S=j.arrow)?S:k.arrow)?void 0:x.className)}),_t);return(0,oM.jsxs)(t.Fragment,{children:[t.cloneElement(Z,Lt),(0,oM.jsx)(Bt,(0,pM.A)({as:null!=G?G:OP,placement:H,anchorEl:z?{getBoundingClientRect:()=>({top:ZP.y,left:ZP.x,right:ZP.x,bottom:ZP.y,width:0,height:0})}:tt,popperRef:Pt,open:!!tt&&dt,id:ft,transition:!0},zt,Gt,{popperOptions:Nt,children:t=>{let{TransitionProps:e}=t;return(0,oM.jsx)(Ot,(0,pM.A)({timeout:Q.transitions.duration.shorter},e,Wt,{children:(0,oM.jsxs)(Ut,(0,pM.A)({},jt,{children:[X,w?(0,oM.jsx)(Ht,(0,pM.A)({},Yt,{ref:st})):null]}))}))}}))]})})),tF=$P;var eF=i(3539),iF=i(8099),sF=i(1927);const nF=["onChange","maxRows","minRows","style","value"];function rF(t){return parseInt(t,10)||0}const oF={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};const aF=t.forwardRef((function(e,i){const{onChange:s,maxRows:n,minRows:r=1,style:o,value:a}=e,l=(0,fM.A)(e,nF),{current:h}=t.useRef(null!=a),c=t.useRef(null),u=(0,SM.A)(i,c),d=t.useRef(null),f=t.useRef(null),p=t.useCallback((()=>{const t=c.current,i=(0,wk.A)(t).getComputedStyle(t);if("0px"===i.width)return{outerHeightStyle:0,overflowing:!1};const s=f.current;s.style.width=i.width,s.value=t.value||e.placeholder||"x","\n"===s.value.slice(-1)&&(s.value+=" ");const o=i.boxSizing,a=rF(i.paddingBottom)+rF(i.paddingTop),l=rF(i.borderBottomWidth)+rF(i.borderTopWidth),h=s.scrollHeight;s.value="x";const u=s.scrollHeight;let d=h;r&&(d=Math.max(Number(r)*u,d)),n&&(d=Math.min(Number(n)*u,d)),d=Math.max(d,u);return{outerHeightStyle:d+("border-box"===o?a+l:0),overflowing:Math.abs(d-h)<=1}}),[n,r,e.placeholder]),g=t.useCallback((()=>{const t=p();if(void 0===(e=t)||null===e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflowing)return;var e;const i=t.outerHeightStyle,s=c.current;d.current!==i&&(d.current=i,s.style.height="".concat(i,"px")),s.style.overflow=t.overflowing?"hidden":""}),[p]);(0,NM.A)((()=>{const t=()=>{g()};let e;const i=(0,sF.A)(t),s=c.current,n=(0,wk.A)(s);let r;return n.addEventListener("resize",i),"undefined"!==typeof ResizeObserver&&(r=new ResizeObserver(t),r.observe(s)),()=>{i.clear(),cancelAnimationFrame(e),n.removeEventListener("resize",i),r&&r.disconnect()}}),[p,g]),(0,NM.A)((()=>{g()}));return(0,oM.jsxs)(t.Fragment,{children:[(0,oM.jsx)("textarea",(0,pM.A)({value:a,onChange:t=>{h||g(),s&&s(t)},ref:u,rows:r,style:o},l)),(0,oM.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:f,tabIndex:-1,style:(0,pM.A)({},oF,o,{paddingTop:0,paddingBottom:0})})]})})),lF=aF;function hF(t){let{props:e,states:i,muiFormControl:s}=t;return i.reduce(((t,i)=>(t[i]=e[i],s&&"undefined"===typeof e[i]&&(t[i]=s[i]),t)),{})}const cF=t.createContext(void 0);function uF(){return t.useContext(cF)}var dF=i(3158);const fF=function(t){let{styles:e,themeId:i,defaultTheme:s={}}=t;const n=sk(s),r="function"===typeof e?e(i&&n[i]||n):e;return(0,oM.jsx)(dF.A,{styles:r})};const pF=function(t){return(0,oM.jsx)(fF,(0,pM.A)({},t,{defaultTheme:nk.A,themeId:rk.A}))};function gF(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function mF(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(gF(t.value)&&""!==t.value||e&&gF(t.defaultValue)&&""!==t.defaultValue)}function yF(t){return(0,gk.Ay)("MuiInputBase",t)}const vF=(0,pk.A)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),bF=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],xF=(t,e)=>{const{ownerState:i}=t;return[e.root,i.formControl&&e.formControl,i.startAdornment&&e.adornedStart,i.endAdornment&&e.adornedEnd,i.error&&e.error,"small"===i.size&&e.sizeSmall,i.multiline&&e.multiline,i.color&&e["color".concat((0,Zk.A)(i.color))],i.fullWidth&&e.fullWidth,i.hiddenLabel&&e.hiddenLabel]},SF=(t,e)=>{const{ownerState:i}=t;return[e.input,"small"===i.size&&e.inputSizeSmall,i.multiline&&e.inputMultiline,"search"===i.type&&e.inputTypeSearch,i.startAdornment&&e.inputAdornedStart,i.endAdornment&&e.inputAdornedEnd,i.hiddenLabel&&e.inputHiddenLabel]},AF=(0,BM.Ay)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:xF})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",["&.".concat(vF.disabled)]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},i.multiline&&(0,pM.A)({padding:"4px 0 5px"},"small"===i.size&&{paddingTop:1}),i.fullWidth&&{width:"100%"})})),wF=(0,BM.Ay)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:SF})((t=>{let{theme:e,ownerState:i}=t;const s="light"===e.palette.mode,n=(0,pM.A)({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),r={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return(0,pM.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},["label[data-shrink=false] + .".concat(vF.formControl," &")]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},["&.".concat(vF.disabled)]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===i.size&&{paddingTop:1},i.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===i.type&&{MozAppearance:"textfield"})})),CF=(0,oM.jsx)(pF,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),MF=t.forwardRef((function(e,i){var s;const n=(0,OM.b)({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:o,autoFocus:a,className:l,components:h={},componentsProps:c={},defaultValue:u,disabled:d,disableInjectingGlobalStyles:f,endAdornment:p,fullWidth:g=!1,id:m,inputComponent:y="input",inputProps:v={},inputRef:b,maxRows:x,minRows:S,multiline:A=!1,name:w,onBlur:C,onChange:M,onClick:k,onFocus:R,onKeyDown:E,onKeyUp:T,placeholder:I,readOnly:P,renderSuffix:F,rows:D,slotProps:L={},slots:z={},startAdornment:N,type:_="text",value:V}=n,B=(0,fM.A)(n,bF),O=null!=v.value?v.value:V,{current:U}=t.useRef(null!=O),H=t.useRef(),G=t.useCallback((t=>{0}),[]),W=(0,hk.A)(H,b,v.ref,G),[j,Y]=t.useState(!1),X=uF();const q=hF({props:n,muiFormControl:X,states:["color","disabled","error","hiddenLabel","size","required","filled"]});q.focused=X?X.focused:j,t.useEffect((()=>{!X&&d&&j&&(Y(!1),C&&C())}),[X,d,j,C]);const J=X&&X.onFilled,K=X&&X.onEmpty,Z=t.useCallback((t=>{mF(t)?J&&J():K&&K()}),[J,K]);(0,JE.A)((()=>{U&&Z({value:O})}),[O,Z,U]);t.useEffect((()=>{Z(H.current)}),[]);let Q=y,$=v;A&&"input"===Q&&($=D?(0,pM.A)({type:void 0,minRows:D,maxRows:D},$):(0,pM.A)({type:void 0,maxRows:x,minRows:S},$),Q=lF);t.useEffect((()=>{X&&X.setAdornedStart(Boolean(N))}),[X,N]);const tt=(0,pM.A)({},n,{color:q.color||"primary",disabled:q.disabled,endAdornment:p,error:q.error,focused:q.focused,formControl:X,fullWidth:g,hiddenLabel:q.hiddenLabel,multiline:A,size:q.size,startAdornment:N,type:_}),et=(t=>{const{classes:e,color:i,disabled:s,error:n,endAdornment:r,focused:o,formControl:a,fullWidth:l,hiddenLabel:h,multiline:c,readOnly:u,size:d,startAdornment:f,type:p}=t,g={root:["root","color".concat((0,Zk.A)(i)),s&&"disabled",n&&"error",l&&"fullWidth",o&&"focused",a&&"formControl",d&&"medium"!==d&&"size".concat((0,Zk.A)(d)),c&&"multiline",f&&"adornedStart",r&&"adornedEnd",h&&"hiddenLabel",u&&"readOnly"],input:["input",s&&"disabled","search"===p&&"inputTypeSearch",c&&"inputMultiline","small"===d&&"inputSizeSmall",h&&"inputHiddenLabel",f&&"inputAdornedStart",r&&"inputAdornedEnd",u&&"readOnly"]};return(0,mM.A)(g,yF,e)})(tt),it=z.root||h.Root||AF,st=L.root||c.root||{},nt=z.input||h.Input||wF;return $=(0,pM.A)({},$,null!=(s=L.input)?s:c.input),(0,oM.jsxs)(t.Fragment,{children:[!f&&CF,(0,oM.jsxs)(it,(0,pM.A)({},st,!AM(it)&&{ownerState:(0,pM.A)({},tt,st.ownerState)},{ref:i,onClick:t=>{H.current&&t.currentTarget===t.target&&H.current.focus(),k&&k(t)}},B,{className:(0,gM.A)(et.root,st.className,l,P&&"MuiInputBase-readOnly"),children:[N,(0,oM.jsx)(cF.Provider,{value:null,children:(0,oM.jsx)(nt,(0,pM.A)({ownerState:tt,"aria-invalid":q.error,"aria-describedby":r,autoComplete:o,autoFocus:a,defaultValue:u,disabled:q.disabled,id:m,onAnimationStart:t=>{Z("mui-auto-fill-cancel"===t.animationName?H.current:{value:"x"})},name:w,placeholder:I,readOnly:P,required:q.required,rows:D,value:O,onKeyDown:E,onKeyUp:T,type:_},$,!AM(nt)&&{as:Q,ownerState:(0,pM.A)({},tt,$.ownerState)},{ref:W,className:(0,gM.A)(et.input,$.className,P&&"MuiInputBase-readOnly"),onBlur:t=>{C&&C(t),v.onBlur&&v.onBlur(t),X&&X.onBlur?X.onBlur(t):Y(!1)},onChange:function(t){if(!U){const e=t.target||H.current;if(null==e)throw new Error((0,iF.A)(1));Z({value:e.value})}for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];v.onChange&&v.onChange(t,...i),M&&M(t,...i)},onFocus:t=>{q.disabled?t.stopPropagation():(R&&R(t),v.onFocus&&v.onFocus(t),X&&X.onFocus?X.onFocus(t):Y(!0))}}))}),p,F?F((0,pM.A)({},q,{startAdornment:N})):null]}))]})})),kF=MF;function RF(t){return(0,gk.Ay)("MuiInput",t)}const EF=(0,pM.A)({},vF,(0,pk.A)("MuiInput",["root","underline","input"])),TF=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],IF=(0,BM.Ay)(AF,{shouldForwardProp:t=>(0,Qk.A)(t)||"classes"===t,name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[...xF(t,e),!i.disableUnderline&&e.underline]}})((t=>{let{theme:e,ownerState:i}=t;let s="light"===e.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(s="rgba(".concat(e.vars.palette.common.onBackgroundChannel," / ").concat(e.vars.opacity.inputUnderline,")")),(0,pM.A)({position:"relative"},i.formControl&&{"label + &":{marginTop:16}},!i.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat((e.vars||e).palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(EF.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(EF.error)]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(EF.disabled,", .").concat(EF.error,"):before")]:{borderBottom:"2px solid ".concat((e.vars||e).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(s)}},["&.".concat(EF.disabled,":before")]:{borderBottomStyle:"dotted"}})})),PF=(0,BM.Ay)(wF,{name:"MuiInput",slot:"Input",overridesResolver:SF})({}),FF=t.forwardRef((function(t,e){var i,s,n,r;const o=(0,OM.b)({props:t,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:h,fullWidth:c=!1,inputComponent:u="input",multiline:d=!1,slotProps:f,slots:p={},type:g="text"}=o,m=(0,fM.A)(o,TF),y=(t=>{const{classes:e,disableUnderline:i}=t,s={root:["root",!i&&"underline"],input:["input"]},n=(0,mM.A)(s,RF,e);return(0,pM.A)({},e,n)})(o),v={root:{ownerState:{disableUnderline:a}}},b=(null!=f?f:h)?(0,bR.A)(null!=f?f:h,v):v,x=null!=(i=null!=(s=p.root)?s:l.Root)?i:IF,S=null!=(n=null!=(r=p.input)?r:l.Input)?n:PF;return(0,oM.jsx)(kF,(0,pM.A)({slots:{root:x,input:S},slotProps:b,fullWidth:c,inputComponent:u,multiline:d,ref:e,type:g},m,{classes:y}))}));FF.muiName="Input";const DF=FF;function LF(t){return(0,gk.Ay)("MuiFilledInput",t)}const zF=(0,pM.A)({},vF,(0,pk.A)("MuiFilledInput",["root","underline","input"])),NF=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],_F=(0,BM.Ay)(AF,{shouldForwardProp:t=>(0,Qk.A)(t)||"classes"===t,name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[...xF(t,e),!i.disableUnderline&&e.underline]}})((t=>{let{theme:e,ownerState:i}=t;var s;const n="light"===e.palette.mode,r=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,pM.A)({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},["&.".concat(zF.focused)]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},["&.".concat(zF.disabled)]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:l}},!i.disableUnderline&&{"&::after":{borderBottom:"2px solid ".concat(null==(s=(e.vars||e).palette[i.color||"primary"])?void 0:s.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},["&.".concat(zF.focused,":after")]:{transform:"scaleX(1) translateX(0)"},["&.".concat(zF.error)]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:"1px solid ".concat(e.vars?"rgba(".concat(e.vars.palette.common.onBackgroundChannel," / ").concat(e.vars.opacity.inputUnderline,")"):r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},["&:hover:not(.".concat(zF.disabled,", .").concat(zF.error,"):before")]:{borderBottom:"1px solid ".concat((e.vars||e).palette.text.primary)},["&.".concat(zF.disabled,":before")]:{borderBottomStyle:"dotted"}},i.startAdornment&&{paddingLeft:12},i.endAdornment&&{paddingRight:12},i.multiline&&(0,pM.A)({padding:"25px 12px 8px"},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17},i.hiddenLabel&&"small"===i.size&&{paddingTop:8,paddingBottom:9}))})),VF=(0,BM.Ay)(wF,{name:"MuiFilledInput",slot:"Input",overridesResolver:SF})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===i.size&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17},i.startAdornment&&{paddingLeft:0},i.endAdornment&&{paddingRight:0},i.hiddenLabel&&"small"===i.size&&{paddingTop:8,paddingBottom:9},i.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),BF=t.forwardRef((function(t,e){var i,s,n,r;const o=(0,OM.b)({props:t,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:h=!1,inputComponent:c="input",multiline:u=!1,slotProps:d,slots:f={},type:p="text"}=o,g=(0,fM.A)(o,NF),m=(0,pM.A)({},o,{fullWidth:h,inputComponent:c,multiline:u,type:p}),y=(t=>{const{classes:e,disableUnderline:i}=t,s={root:["root",!i&&"underline"],input:["input"]},n=(0,mM.A)(s,LF,e);return(0,pM.A)({},e,n)})(o),v={root:{ownerState:m},input:{ownerState:m}},b=(null!=d?d:l)?(0,bR.A)(v,null!=d?d:l):v,x=null!=(i=null!=(s=f.root)?s:a.Root)?i:_F,S=null!=(n=null!=(r=f.input)?r:a.Input)?n:VF;return(0,oM.jsx)(kF,(0,pM.A)({slots:{root:x,input:S},componentsProps:b,fullWidth:h,inputComponent:c,multiline:u,ref:e,type:p},g,{classes:y}))}));BF.muiName="Input";const OF=BF;var UF;const HF=["children","classes","className","label","notched"],GF=(0,BM.Ay)("fieldset",{shouldForwardProp:Qk.A})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),WF=(0,BM.Ay)("legend",{shouldForwardProp:Qk.A})((t=>{let{ownerState:e,theme:i}=t;return(0,pM.A)({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})},e.withLabel&&(0,pM.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})}))}));function jF(t){return(0,gk.Ay)("MuiOutlinedInput",t)}const YF=(0,pM.A)({},vF,(0,pk.A)("MuiOutlinedInput",["root","notchedOutline","input"])),XF=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],qF=(0,BM.Ay)(AF,{shouldForwardProp:t=>(0,Qk.A)(t)||"classes"===t,name:"MuiOutlinedInput",slot:"Root",overridesResolver:xF})((t=>{let{theme:e,ownerState:i}=t;const s="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,pM.A)({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,["&:hover .".concat(YF.notchedOutline)]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{["&:hover .".concat(YF.notchedOutline)]:{borderColor:e.vars?"rgba(".concat(e.vars.palette.common.onBackgroundChannel," / 0.23)"):s}},["&.".concat(YF.focused," .").concat(YF.notchedOutline)]:{borderColor:(e.vars||e).palette[i.color].main,borderWidth:2},["&.".concat(YF.error," .").concat(YF.notchedOutline)]:{borderColor:(e.vars||e).palette.error.main},["&.".concat(YF.disabled," .").concat(YF.notchedOutline)]:{borderColor:(e.vars||e).palette.action.disabled}},i.startAdornment&&{paddingLeft:14},i.endAdornment&&{paddingRight:14},i.multiline&&(0,pM.A)({padding:"16.5px 14px"},"small"===i.size&&{padding:"8.5px 14px"}))})),JF=(0,BM.Ay)((function(t){const{className:e,label:i,notched:s}=t,n=(0,fM.A)(t,HF),r=null!=i&&""!==i,o=(0,pM.A)({},t,{notched:s,withLabel:r});return(0,oM.jsx)(GF,(0,pM.A)({"aria-hidden":!0,className:e,ownerState:o},n,{children:(0,oM.jsx)(WF,{ownerState:o,children:r?(0,oM.jsx)("span",{children:i}):UF||(UF=(0,oM.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})((t=>{let{theme:e}=t;const i="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?"rgba(".concat(e.vars.palette.common.onBackgroundChannel," / 0.23)"):i}})),KF=(0,BM.Ay)(wF,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:SF})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===i.size&&{padding:"8.5px 14px"},i.multiline&&{padding:0},i.startAdornment&&{paddingLeft:0},i.endAdornment&&{paddingRight:0})})),ZF=t.forwardRef((function(e,i){var s,n,r,o,a;const l=(0,OM.b)({props:e,name:"MuiOutlinedInput"}),{components:h={},fullWidth:c=!1,inputComponent:u="input",label:d,multiline:f=!1,notched:p,slots:g={},type:m="text"}=l,y=(0,fM.A)(l,XF),v=(t=>{const{classes:e}=t,i=(0,mM.A)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},jF,e);return(0,pM.A)({},e,i)})(l),b=uF(),x=hF({props:l,muiFormControl:b,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),S=(0,pM.A)({},l,{color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:b,fullWidth:c,hiddenLabel:x.hiddenLabel,multiline:f,size:x.size,type:m}),A=null!=(s=null!=(n=g.root)?n:h.Root)?s:qF,w=null!=(r=null!=(o=g.input)?o:h.Input)?r:KF;return(0,oM.jsx)(kF,(0,pM.A)({slots:{root:A,input:w},renderSuffix:e=>(0,oM.jsx)(JF,{ownerState:S,className:v.notchedOutline,label:null!=d&&""!==d&&x.required?a||(a=(0,oM.jsxs)(t.Fragment,{children:[d,"\u2009","*"]})):d,notched:"undefined"!==typeof p?p:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:c,inputComponent:u,multiline:f,ref:i,type:m},y,{classes:(0,pM.A)({},v,{notchedOutline:null})}))}));ZF.muiName="Input";const QF=ZF;function $F(t){return(0,gk.Ay)("MuiFormLabel",t)}const tD=(0,pk.A)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),eD=["children","className","color","component","disabled","error","filled","focused","required"],iD=(0,BM.Ay)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:i}=t;return(0,pM.A)({},e.root,"secondary"===i.color&&e.colorSecondary,i.filled&&e.filled)}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",["&.".concat(tD.focused)]:{color:(e.vars||e).palette[i.color].main},["&.".concat(tD.disabled)]:{color:(e.vars||e).palette.text.disabled},["&.".concat(tD.error)]:{color:(e.vars||e).palette.error.main}})})),sD=(0,BM.Ay)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})((t=>{let{theme:e}=t;return{["&.".concat(tD.error)]:{color:(e.vars||e).palette.error.main}}})),nD=t.forwardRef((function(t,e){const i=(0,OM.b)({props:t,name:"MuiFormLabel"}),{children:s,className:n,component:r="label"}=i,o=(0,fM.A)(i,eD),a=hF({props:i,muiFormControl:uF(),states:["color","required","focused","disabled","error","filled"]}),l=(0,pM.A)({},i,{color:a.color||"primary",component:r,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),h=(t=>{const{classes:e,color:i,focused:s,disabled:n,error:r,filled:o,required:a}=t,l={root:["root","color".concat((0,Zk.A)(i)),n&&"disabled",r&&"error",o&&"filled",s&&"focused",a&&"required"],asterisk:["asterisk",r&&"error"]};return(0,mM.A)(l,$F,e)})(l);return(0,oM.jsxs)(iD,(0,pM.A)({as:r,ownerState:l,className:(0,gM.A)(h.root,n),ref:e},o,{children:[s,a.required&&(0,oM.jsxs)(sD,{ownerState:l,"aria-hidden":!0,className:h.asterisk,children:["\u2009","*"]})]}))})),rD=nD;function oD(t){return(0,gk.Ay)("MuiInputLabel",t)}(0,pk.A)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const aD=["disableAnimation","margin","shrink","variant","className"],lD=(0,BM.Ay)(rD,{shouldForwardProp:t=>(0,Qk.A)(t)||"classes"===t,name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{["& .".concat(tD.asterisk)]:e.asterisk},e.root,i.formControl&&e.formControl,"small"===i.size&&e.sizeSmall,i.shrink&&e.shrink,!i.disableAnimation&&e.animated,i.focused&&e.focused,e[i.variant]]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},i.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===i.size&&{transform:"translate(0, 17px) scale(1)"},i.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!i.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},"filled"===i.variant&&(0,pM.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===i.size&&{transform:"translate(12px, 13px) scale(1)"},i.shrink&&(0,pM.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===i.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===i.variant&&(0,pM.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===i.size&&{transform:"translate(14px, 9px) scale(1)"},i.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),hD=t.forwardRef((function(t,e){const i=(0,OM.b)({name:"MuiInputLabel",props:t}),{disableAnimation:s=!1,shrink:n,className:r}=i,o=(0,fM.A)(i,aD),a=uF();let l=n;"undefined"===typeof l&&a&&(l=a.filled||a.focused||a.adornedStart);const h=hF({props:i,muiFormControl:a,states:["size","variant","required","focused"]}),c=(0,pM.A)({},i,{disableAnimation:s,formControl:a,shrink:l,size:h.size,variant:h.variant,required:h.required,focused:h.focused}),u=(t=>{const{classes:e,formControl:i,size:s,shrink:n,disableAnimation:r,variant:o,required:a}=t,l={root:["root",i&&"formControl",!r&&"animated",n&&"shrink",s&&"normal"!==s&&"size".concat((0,Zk.A)(s)),o],asterisk:[a&&"asterisk"]},h=(0,mM.A)(l,oD,e);return(0,pM.A)({},e,h)})(c);return(0,oM.jsx)(lD,(0,pM.A)({"data-shrink":l,ownerState:c,ref:e,className:(0,gM.A)(u.root,r)},o,{classes:u}))})),cD=hD;function uD(t){return(0,gk.Ay)("MuiFormControl",t)}(0,pk.A)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const dD=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],fD=(0,BM.Ay)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(t,e)=>{let{ownerState:i}=t;return(0,pM.A)({},e.root,e["margin".concat((0,Zk.A)(i.margin))],i.fullWidth&&e.fullWidth)}})((t=>{let{ownerState:e}=t;return(0,pM.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})})),pD=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiFormControl"}),{children:n,className:r,color:o="primary",component:a="div",disabled:l=!1,error:h=!1,focused:c,fullWidth:u=!1,hiddenLabel:d=!1,margin:f="none",required:p=!1,size:g="medium",variant:m="outlined"}=s,y=(0,fM.A)(s,dD),v=(0,pM.A)({},s,{color:o,component:a,disabled:l,error:h,fullWidth:u,hiddenLabel:d,margin:f,required:p,size:g,variant:m}),b=(t=>{const{classes:e,margin:i,fullWidth:s}=t,n={root:["root","none"!==i&&"margin".concat((0,Zk.A)(i)),s&&"fullWidth"]};return(0,mM.A)(n,uD,e)})(v),[x,S]=t.useState((()=>{let e=!1;return n&&t.Children.forEach(n,(t=>{if(!(0,qE.A)(t,["Input","Select"]))return;const i=(0,qE.A)(t,["Select"])?t.props.input:t;i&&i.props.startAdornment&&(e=!0)})),e})),[A,w]=t.useState((()=>{let e=!1;return n&&t.Children.forEach(n,(t=>{(0,qE.A)(t,["Input","Select"])&&(mF(t.props,!0)||mF(t.props.inputProps,!0))&&(e=!0)})),e})),[C,M]=t.useState(!1);l&&C&&M(!1);const k=void 0===c||l?C:c;let R;const E=t.useMemo((()=>({adornedStart:x,setAdornedStart:S,color:o,disabled:l,error:h,filled:A,focused:k,fullWidth:u,hiddenLabel:d,size:g,onBlur:()=>{M(!1)},onEmpty:()=>{w(!1)},onFilled:()=>{w(!0)},onFocus:()=>{M(!0)},registerEffect:R,required:p,variant:m})),[x,o,l,h,A,k,u,d,R,p,g,m]);return(0,oM.jsx)(cF.Provider,{value:E,children:(0,oM.jsx)(fD,(0,pM.A)({as:a,ownerState:v,className:(0,gM.A)(b.root,r),ref:i},y,{children:n}))})})),gD=pD;function mD(t){return(0,gk.Ay)("MuiFormHelperText",t)}const yD=(0,pk.A)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var vD;const bD=["children","className","component","disabled","error","filled","focused","margin","required","variant"],xD=(0,BM.Ay)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.size&&e["size".concat((0,Zk.A)(i.size))],i.contained&&e.contained,i.filled&&e.filled]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,["&.".concat(yD.disabled)]:{color:(e.vars||e).palette.text.disabled},["&.".concat(yD.error)]:{color:(e.vars||e).palette.error.main}},"small"===i.size&&{marginTop:4},i.contained&&{marginLeft:14,marginRight:14})})),SD=t.forwardRef((function(t,e){const i=(0,OM.b)({props:t,name:"MuiFormHelperText"}),{children:s,className:n,component:r="p"}=i,o=(0,fM.A)(i,bD),a=hF({props:i,muiFormControl:uF(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,pM.A)({},i,{component:r,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),h=(t=>{const{classes:e,contained:i,size:s,disabled:n,error:r,filled:o,focused:a,required:l}=t,h={root:["root",n&&"disabled",r&&"error",s&&"size".concat((0,Zk.A)(s)),i&&"contained",a&&"focused",o&&"filled",l&&"required"]};return(0,mM.A)(h,mD,e)})(l);return(0,oM.jsx)(xD,(0,pM.A)({as:r,ownerState:l,className:(0,gM.A)(h.root,n),ref:e},o,{children:" "===s?vD||(vD=(0,oM.jsx)("span",{className:"notranslate",children:"\u200b"})):s}))})),AD=SD;i(6429);const wD=Ck,CD=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function MD(t,e,i){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:i?null:t.firstChild}function kD(t,e,i){return t===e?i?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:i?null:t.lastChild}function RD(t,e){if(void 0===e)return!0;let i=t.innerText;return void 0===i&&(i=t.textContent),i=i.trim().toLowerCase(),0!==i.length&&(e.repeating?i[0]===e.keys[0]:0===i.indexOf(e.keys.join("")))}function ED(t,e,i,s,n,r){let o=!1,a=n(t,e,!!e&&i);for(;a;){if(a===t.firstChild){if(o)return!1;o=!0}const e=!s&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&RD(a,r)&&!e)return a.focus(),!0;a=n(t,a,i)}return!1}const TD=t.forwardRef((function(e,i){const{actions:s,autoFocus:n=!1,autoFocusItem:r=!1,children:o,className:a,disabledItemsFocusable:l=!1,disableListWrap:h=!1,onKeyDown:c,variant:u="selectedMenu"}=e,d=(0,fM.A)(e,CD),f=t.useRef(null),p=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,JE.A)((()=>{n&&f.current.focus()}),[n]),t.useImperativeHandle(s,(()=>({adjustStyleForScrollbar:(t,e)=>{let{direction:i}=e;const s=!f.current.style.width;if(t.clientHeight<f.current.clientHeight&&s){const e="".concat(wD((0,ST.A)(t)),"px");f.current.style["rtl"===i?"paddingLeft":"paddingRight"]=e,f.current.style.width="calc(100% + ".concat(e,")")}return f.current}})),[]);const g=(0,hk.A)(f,i);let m=-1;t.Children.forEach(o,((e,i)=>{t.isValidElement(e)?(e.props.disabled||("selectedMenu"===u&&e.props.selected||-1===m)&&(m=i),m===i&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(m+=1,m>=o.length&&(m=-1))):m===i&&(m+=1,m>=o.length&&(m=-1))}));const y=t.Children.map(o,((e,i)=>{if(i===m){const i={};return r&&(i.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===u&&(i.tabIndex=0),t.cloneElement(e,i)}return e}));return(0,oM.jsx)(XE,(0,pM.A)({role:"menu",ref:g,className:a,onKeyDown:t=>{const e=f.current,i=t.key,s=(0,ST.A)(e).activeElement;if("ArrowDown"===i)t.preventDefault(),ED(e,s,h,l,MD);else if("ArrowUp"===i)t.preventDefault(),ED(e,s,h,l,kD);else if("Home"===i)t.preventDefault(),ED(e,null,h,l,MD);else if("End"===i)t.preventDefault(),ED(e,null,h,l,kD);else if(1===i.length){const n=p.current,r=i.toLowerCase(),o=performance.now();n.keys.length>0&&(o-n.lastTime>500?(n.keys=[],n.repeating=!0,n.previousKeyMatched=!0):n.repeating&&r!==n.keys[0]&&(n.repeating=!1)),n.lastTime=o,n.keys.push(r);const a=s&&!n.repeating&&RD(s,n);n.previousKeyMatched&&(a||ED(e,s,!1,l,MD,n))?t.preventDefault():n.previousKeyMatched=!1}c&&c(t)},tabIndex:n?0:-1},d,{children:y}))}));function ID(t){return(0,gk.Ay)("MuiMenu",t)}(0,pk.A)("MuiMenu",["root","paper","list"]);const PD=["onEntering"],FD=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],DD={vertical:"top",horizontal:"right"},LD={vertical:"top",horizontal:"left"},zD=(0,BM.Ay)(BT,{shouldForwardProp:t=>(0,Qk.A)(t)||"classes"===t,name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),ND=(0,BM.Ay)(_T,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),_D=(0,BM.Ay)(TD,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),VD=t.forwardRef((function(e,i){var s,n;const r=(0,OM.b)({props:e,name:"MuiMenu"}),{autoFocus:o=!0,children:a,className:l,disableAutoFocusItem:h=!1,MenuListProps:c={},onClose:u,open:d,PaperProps:f={},PopoverClasses:p,transitionDuration:g="auto",TransitionProps:{onEntering:m}={},variant:y="selectedMenu",slots:v={},slotProps:b={}}=r,x=(0,fM.A)(r.TransitionProps,PD),S=(0,fM.A)(r,FD),A=bM(),w=(0,pM.A)({},r,{autoFocus:o,disableAutoFocusItem:h,MenuListProps:c,onEntering:m,PaperProps:f,transitionDuration:g,TransitionProps:x,variant:y}),C=(t=>{const{classes:e}=t;return(0,mM.A)({root:["root"],paper:["paper"],list:["list"]},ID,e)})(w),M=o&&!h&&d,k=t.useRef(null);let R=-1;t.Children.map(a,((e,i)=>{t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===y&&e.props.selected||-1===R)&&(R=i))}));const E=null!=(s=v.paper)?s:ND,T=null!=(n=b.paper)?n:f,I=TM({elementType:v.root,externalSlotProps:b.root,ownerState:w,className:[C.root,l]}),P=TM({elementType:E,externalSlotProps:T,ownerState:w,className:C.paper});return(0,oM.jsx)(zD,(0,pM.A)({onClose:u,anchorOrigin:{vertical:"bottom",horizontal:A?"right":"left"},transformOrigin:A?DD:LD,slots:{paper:E,root:v.root},slotProps:{root:I,paper:P},open:d,ref:i,transitionDuration:g,TransitionProps:(0,pM.A)({onEntering:(t,e)=>{k.current&&k.current.adjustStyleForScrollbar(t,{direction:A?"rtl":"ltr"}),m&&m(t,e)}},x),ownerState:w},S,{classes:p,children:(0,oM.jsx)(_D,(0,pM.A)({onKeyDown:t=>{"Tab"===t.key&&(t.preventDefault(),u&&u(t,"tabKeyDown"))},actions:k,autoFocus:o&&(-1===R||h),autoFocusItem:M,variant:y},c,{className:(0,gM.A)(C.list,c.className),children:a}))}))})),BD=VD;function OD(t){return(0,gk.Ay)("MuiNativeSelect",t)}const UD=(0,pk.A)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),HD=["className","disabled","error","IconComponent","inputRef","variant"],GD=t=>{let{ownerState:e,theme:i}=t;return(0,pM.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,pM.A)({},i.vars?{backgroundColor:"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===i.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},["&.".concat(UD.disabled)]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===e.variant&&{"&&&":{paddingRight:32}},"outlined"===e.variant&&{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}})},WD=(0,BM.Ay)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Qk.A,overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.select,e[i.variant],i.error&&e.error,{["&.".concat(UD.multiple)]:e.multiple}]}})(GD),jD=t=>{let{ownerState:e,theme:i}=t;return(0,pM.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,["&.".concat(UD.disabled)]:{color:(i.vars||i).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},"filled"===e.variant&&{right:7},"outlined"===e.variant&&{right:7})},YD=(0,BM.Ay)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.icon,i.variant&&e["icon".concat((0,Zk.A)(i.variant))],i.open&&e.iconOpen]}})(jD),XD=t.forwardRef((function(e,i){const{className:s,disabled:n,error:r,IconComponent:o,inputRef:a,variant:l="standard"}=e,h=(0,fM.A)(e,HD),c=(0,pM.A)({},e,{disabled:n,variant:l,error:r}),u=(t=>{const{classes:e,variant:i,disabled:s,multiple:n,open:r,error:o}=t,a={select:["select",i,s&&"disabled",n&&"multiple",o&&"error"],icon:["icon","icon".concat((0,Zk.A)(i)),r&&"iconOpen",s&&"disabled"]};return(0,mM.A)(a,OD,e)})(c);return(0,oM.jsxs)(t.Fragment,{children:[(0,oM.jsx)(WD,(0,pM.A)({ownerState:c,className:(0,gM.A)(u.select,s),disabled:n,ref:a||i},h)),e.multiple?null:(0,oM.jsx)(YD,{as:o,ownerState:c,className:u.icon})]})})),qD=XD;var JD=i(1960);function KD(t){return(0,gk.Ay)("MuiSelect",t)}const ZD=(0,pk.A)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var QD;const $D=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],tL=(0,BM.Ay)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{["&.".concat(ZD.select)]:e.select},{["&.".concat(ZD.select)]:e[i.variant]},{["&.".concat(ZD.error)]:e.error},{["&.".concat(ZD.multiple)]:e.multiple}]}})(GD,{["&.".concat(ZD.select)]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),eL=(0,BM.Ay)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.icon,i.variant&&e["icon".concat((0,Zk.A)(i.variant))],i.open&&e.iconOpen]}})(jD),iL=(0,BM.Ay)("input",{shouldForwardProp:t=>(0,JD.A)(t)&&"classes"!==t,name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function sL(t,e){return"object"===typeof e&&null!==e?t===e:String(t)===String(e)}function nL(t){return null==t||"string"===typeof t&&!t.trim()}const rL=t.forwardRef((function(e,i){var s;const{"aria-describedby":n,"aria-label":r,autoFocus:o,autoWidth:a,children:l,className:h,defaultOpen:c,defaultValue:u,disabled:d,displayEmpty:f,error:p=!1,IconComponent:g,inputRef:m,labelId:y,MenuProps:v={},multiple:b,name:x,onBlur:S,onChange:A,onClose:w,onFocus:C,onOpen:M,open:k,readOnly:R,renderValue:E,SelectDisplayProps:T={},tabIndex:I,value:P,variant:F="standard"}=e,D=(0,fM.A)(e,$D),[L,z]=(0,HP.A)({controlled:P,default:u,name:"Select"}),[N,_]=(0,HP.A)({controlled:k,default:c,name:"Select"}),V=t.useRef(null),B=t.useRef(null),[O,U]=t.useState(null),{current:H}=t.useRef(null!=k),[G,W]=t.useState(),j=(0,hk.A)(i,m),Y=t.useCallback((t=>{B.current=t,t&&U(t)}),[]),X=null==O?void 0:O.parentNode;t.useImperativeHandle(j,(()=>({focus:()=>{B.current.focus()},node:V.current,value:L})),[L]),t.useEffect((()=>{c&&N&&O&&!H&&(W(a?null:X.clientWidth),B.current.focus())}),[O,a]),t.useEffect((()=>{o&&B.current.focus()}),[o]),t.useEffect((()=>{if(!y)return;const t=(0,ST.A)(B.current).getElementById(y);if(t){const e=()=>{getSelection().isCollapsed&&B.current.focus()};return t.addEventListener("click",e),()=>{t.removeEventListener("click",e)}}}),[y]);const q=(t,e)=>{t?M&&M(e):w&&w(e),H||(W(a?null:X.clientWidth),_(t))},J=t.Children.toArray(l),K=t=>e=>{let i;if(e.currentTarget.hasAttribute("tabindex")){if(b){i=Array.isArray(L)?L.slice():[];const e=L.indexOf(t.props.value);-1===e?i.push(t.props.value):i.splice(e,1)}else i=t.props.value;if(t.props.onClick&&t.props.onClick(e),L!==i&&(z(i),A)){const s=e.nativeEvent||e,n=new s.constructor(s.type,s);Object.defineProperty(n,"target",{writable:!0,value:{value:i,name:x}}),A(n,t)}b||q(!1,e)}},Z=null!==O&&N;let Q,$;delete D["aria-invalid"];const tt=[];let et=!1,it=!1;(mF({value:L})||f)&&(E?Q=E(L):et=!0);const st=J.map((e=>{if(!t.isValidElement(e))return null;let i;if(b){if(!Array.isArray(L))throw new Error((0,iF.A)(2));i=L.some((t=>sL(t,e.props.value))),i&&et&&tt.push(e.props.children)}else i=sL(L,e.props.value),i&&et&&($=e.props.children);return i&&(it=!0),t.cloneElement(e,{"aria-selected":i?"true":"false",onClick:K(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:i,value:void 0,"data-value":e.props.value})}));et&&(Q=b?0===tt.length?null:tt.reduce(((t,e,i)=>(t.push(e),i<tt.length-1&&t.push(", "),t)),[]):$);let nt,rt=G;!a&&H&&O&&(rt=X.clientWidth),nt="undefined"!==typeof I?I:d?null:0;const ot=T.id||(x?"mui-component-select-".concat(x):void 0),at=(0,pM.A)({},e,{variant:F,value:L,open:Z,error:p}),lt=(t=>{const{classes:e,variant:i,disabled:s,multiple:n,open:r,error:o}=t,a={select:["select",i,s&&"disabled",n&&"multiple",o&&"error"],icon:["icon","icon".concat((0,Zk.A)(i)),r&&"iconOpen",s&&"disabled"],nativeInput:["nativeInput"]};return(0,mM.A)(a,KD,e)})(at),ht=(0,pM.A)({},v.PaperProps,null==(s=v.slotProps)?void 0:s.paper),ct=(0,eF.A)();return(0,oM.jsxs)(t.Fragment,{children:[(0,oM.jsx)(tL,(0,pM.A)({ref:Y,tabIndex:nt,role:"combobox","aria-controls":ct,"aria-disabled":d?"true":void 0,"aria-expanded":Z?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[y,ot].filter(Boolean).join(" ")||void 0,"aria-describedby":n,onKeyDown:t=>{if(!R){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(t.key)&&(t.preventDefault(),q(!0,t))}},onMouseDown:d||R?null:t=>{0===t.button&&(t.preventDefault(),B.current.focus(),q(!0,t))},onBlur:t=>{!Z&&S&&(Object.defineProperty(t,"target",{writable:!0,value:{value:L,name:x}}),S(t))},onFocus:C},T,{ownerState:at,className:(0,gM.A)(T.className,lt.select,h),id:ot,children:nL(Q)?QD||(QD=(0,oM.jsx)("span",{className:"notranslate",children:"\u200b"})):Q})),(0,oM.jsx)(iL,(0,pM.A)({"aria-invalid":p,value:Array.isArray(L)?L.join(","):L,name:x,ref:V,"aria-hidden":!0,onChange:t=>{const e=J.find((e=>e.props.value===t.target.value));void 0!==e&&(z(e.props.value),A&&A(t,e))},tabIndex:-1,disabled:d,className:lt.nativeInput,autoFocus:o,ownerState:at},D)),(0,oM.jsx)(eL,{as:g,className:lt.icon,ownerState:at}),(0,oM.jsx)(BD,(0,pM.A)({id:"menu-".concat(x||""),anchorEl:X,open:Z,onClose:t=>{q(!1,t)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:(0,pM.A)({"aria-labelledby":y,role:"listbox","aria-multiselectable":b?"true":void 0,disableListWrap:!0,id:ct},v.MenuListProps),slotProps:(0,pM.A)({},v.slotProps,{paper:(0,pM.A)({},ht,{style:(0,pM.A)({minWidth:rt},null!=ht?ht.style:null)})}),children:st}))]})})),oL=rL;var aL=i(3235);const lL=(0,aL.A)((0,oM.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),hL=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],cL=["root"],uL={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>(0,Qk.A)(t)&&"variant"!==t,slot:"Root"},dL=(0,BM.Ay)(DF,uL)(""),fL=(0,BM.Ay)(QF,uL)(""),pL=(0,BM.Ay)(OF,uL)(""),gL=t.forwardRef((function(e,i){const s=(0,OM.b)({name:"MuiSelect",props:e}),{autoWidth:n=!1,children:r,classes:o={},className:a,defaultOpen:l=!1,displayEmpty:h=!1,IconComponent:c=lL,id:u,input:d,inputProps:f,label:p,labelId:g,MenuProps:m,multiple:y=!1,native:v=!1,onClose:b,onOpen:x,open:S,renderValue:A,SelectDisplayProps:w,variant:C="outlined"}=s,M=(0,fM.A)(s,hL),k=v?qD:oL,R=hF({props:s,muiFormControl:uF(),states:["variant","error"]}),E=R.variant||C,T=(0,pM.A)({},s,{variant:E,classes:o}),I=(t=>{const{classes:e}=t;return e})(T),P=(0,fM.A)(I,cL),F=d||{standard:(0,oM.jsx)(dL,{ownerState:T}),outlined:(0,oM.jsx)(fL,{label:p,ownerState:T}),filled:(0,oM.jsx)(pL,{ownerState:T})}[E],D=(0,hk.A)(i,F.ref);return(0,oM.jsx)(t.Fragment,{children:t.cloneElement(F,(0,pM.A)({inputComponent:k,inputProps:(0,pM.A)({children:r,error:R.error,IconComponent:c,variant:E,type:void 0,multiple:y},v?{id:u}:{autoWidth:n,defaultOpen:l,displayEmpty:h,labelId:g,MenuProps:m,onClose:b,onOpen:x,open:S,renderValue:A,SelectDisplayProps:(0,pM.A)({id:u},w)},f,{classes:f?(0,bR.A)(P,f.classes):P},d?d.props.inputProps:{})},(y&&v||h)&&"outlined"===E?{notched:!0}:{},{ref:D,className:(0,gM.A)(F.props.className,a,I.root)},!d&&{variant:E},M))})}));gL.muiName="Select";const mL=gL;function yL(t){return(0,gk.Ay)("MuiTextField",t)}(0,pk.A)("MuiTextField",["root"]);const vL=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],bL={standard:DF,filled:OF,outlined:QF},xL=(0,BM.Ay)(gD,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),SL=t.forwardRef((function(t,e){const i=(0,OM.b)({props:t,name:"MuiTextField"}),{autoComplete:s,autoFocus:n=!1,children:r,className:o,color:a="primary",defaultValue:l,disabled:h=!1,error:c=!1,FormHelperTextProps:u,fullWidth:d=!1,helperText:f,id:p,InputLabelProps:g,inputProps:m,InputProps:y,inputRef:v,label:b,maxRows:x,minRows:S,multiline:A=!1,name:w,onBlur:C,onChange:M,onFocus:k,placeholder:R,required:E=!1,rows:T,select:I=!1,SelectProps:P,type:F,value:D,variant:L="outlined"}=i,z=(0,fM.A)(i,vL),N=(0,pM.A)({},i,{autoFocus:n,color:a,disabled:h,error:c,fullWidth:d,multiline:A,required:E,select:I,variant:L}),_=(t=>{const{classes:e}=t;return(0,mM.A)({root:["root"]},yL,e)})(N);const V={};"outlined"===L&&(g&&"undefined"!==typeof g.shrink&&(V.notched=g.shrink),V.label=b),I&&(P&&P.native||(V.id=void 0),V["aria-describedby"]=void 0);const B=(0,eF.A)(p),O=f&&B?"".concat(B,"-helper-text"):void 0,U=b&&B?"".concat(B,"-label"):void 0,H=bL[L],G=(0,oM.jsx)(H,(0,pM.A)({"aria-describedby":O,autoComplete:s,autoFocus:n,defaultValue:l,fullWidth:d,multiline:A,name:w,rows:T,maxRows:x,minRows:S,type:F,value:D,id:B,inputRef:v,onBlur:C,onChange:M,onFocus:k,placeholder:R,inputProps:m},V,y));return(0,oM.jsxs)(xL,(0,pM.A)({className:(0,gM.A)(_.root,o),disabled:h,error:c,fullWidth:d,ref:e,required:E,color:a,variant:L,ownerState:N},z,{children:[null!=b&&""!==b&&(0,oM.jsx)(cD,(0,pM.A)({htmlFor:B,id:U},g,{children:b})),I?(0,oM.jsx)(mL,(0,pM.A)({"aria-describedby":O,id:B,labelId:U,value:D,input:G},P,{children:r})):G,f&&(0,oM.jsx)(AD,(0,pM.A)({id:O},u,{children:f}))]}))})),AL=SL;function wL(e){const[i,s]=t.useState(null),n=Boolean(i),r=t=>{s(null),e.onSave(t)};return(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsx)(tF,{title:e.error,arrow:!0,placement:"top",open:!!e.error.length,componentsProps:{tooltip:{sx:{maxWidth:window.innerWidth<500?"100px":"auto",border:"1px solid",borderColor:"#ff0000",textAlign:"center",bgcolor:t=>"dark"===t.palette.mode?"#5a0000":"rgb(160,0,0)","& .MuiTooltip-arrow":{color:t=>"dark"===t.palette.mode?"#5a0000":"rgb(160,0,0)","&::before":{border:"1px solid",borderColor:"#ff0000"}}}}},children:(0,oM.jsx)(AL,{error:!!e.error.length,label:e.error.length?"Error":"",value:e.value,onClick:t=>{s(t.currentTarget)},sx:{minWidth:window.innerWidth<500?150:200,maxWidth:window.innerWidth<500?150:200,"& .MuiInputBase-root":{"& input":{padding:"8.5px 10px",textAlign:e.align}}}})}),(0,oM.jsxs)(BT,{id:"popover-server-url",open:n,anchorEl:i,onClose:()=>{s(null),e.onSave(!1)},transitionDuration:{appear:0,exit:0},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[(0,oM.jsx)(AL,{error:!!e.error.length,label:e.error.length?"Error":"",value:-1e12==e.value?"":e.value,type:e.type,inputMode:"number"===e.type?"decimal":"text",autoFocus:!0,onInput:t=>{"number"===e.type?t.target.value?e.onChange(t.target.value):e.onChange("-1e12"):e.onChange(t.target.value)},sx:{minWidth:window.innerWidth<500?150:200,maxWidth:window.innerWidth<500?150:200,"& .MuiInputBase-root":{"& input":{padding:"8.5px 10px",textAlign:e.align}}}}),(0,oM.jsxs)(HR,{direction:"row",justifyContent:"space-between",children:[(0,oM.jsx)(LE,{sx:{border:"1px solid",borderColor:"#2a6892",backgroundColor:"rgba(0,90,153,0.15)"},onClick:()=>r(!1),children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,oM.jsx)(LE,{sx:{border:"1px solid",borderColor:"#2a6892",backgroundColor:"rgba(0,90,153,0.15)",width:60},disabled:!!e.error.length,onClick:()=>r(!0),children:"\u041e\u043a"})]})]})]})}const CL={errorServerUrl:""};function ML(e){const i=E(),s=y($C),n=y(eM),[r,o]=(0,t.useState)(n),[a,l]=(0,t.useState)(CL),[h,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{c(!h)}),[]);const u=()=>{c(!h),setTimeout((()=>{e.setState(!h)}),200)},d=()=>{u(),i(se(!s))};return(0,oM.jsx)(oM.Fragment,{children:(0,oM.jsx)(lR,{anchor:"right",open:h&&s,onClose:d,hideBackdrop:!0,children:(0,oM.jsxs)(vR,{sx:{width:window.innerWidth<500?"100vw":550},role:"presentation",children:[(0,oM.jsxs)(HR,{direction:"row",justifyContent:"space-between",children:[(0,oM.jsx)(LE,{onClick:u,sx:{m:0,p:0,minWidth:50,minHeight:45,"&:hover":{backgroundColor:"transparent"}},children:(0,oM.jsx)(cI.A,{sx:{height:40,width:40,p:0}})}),(0,oM.jsx)(YT,{sx:{display:"flex",alignItems:"center",m:"10px auto",fontSize:"20px",fontWeight:900},children:"WEB-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441"}),(0,oM.jsx)(LE,{onClick:d,sx:{m:0,p:0,minWidth:50,minHeight:45,"&:hover":{backgroundColor:"transparent"}},children:(0,oM.jsx)(XT.A,{sx:{height:40,width:40,p:0}})})]}),(0,oM.jsx)(UE,{}),(0,oM.jsx)(XE,{sx:{"& .MuiListItemIcon-root":{display:"flex",justifyContent:"center"},"& .MuiTypography-root":{fontSize:"16px"}},children:(0,oM.jsxs)(cT,{children:[(0,oM.jsx)(nI,{primary:"URL-\u0430\u0434\u0440\u0435\u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u0430"}),(0,oM.jsx)(wL,{align:"left",type:"text",value:r,onChange:t=>{let e="";t||(e="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL"),o((e=>{let i=JSON.parse(JSON.stringify(e));return i=t,i})),l((t=>({...t,errorServerUrl:e})))},onSave:t=>{t?(i(re(r)),EC.reconnect()):(o(n),l(CL))},error:a.errorServerUrl})]})})]})})})}window.innerWidth,window.innerWidth;const kL={errorAddThres:"",errorMinAlarmWidth:""};function RL(e){const i=E(),s=y($C),[n,r]=(0,t.useState)(kL),[o,a]=(0,t.useState)(!1);(0,t.useEffect)((()=>{a(!o)}),[]);const l=()=>{a(!o),setTimeout((()=>{e.setState(!o)}),200)},h=()=>{l(),i(se(!s))};return(0,oM.jsx)(oM.Fragment,{children:(0,oM.jsx)(lR,{anchor:"right",open:o&&s,onClose:h,hideBackdrop:!0,children:(0,oM.jsxs)(vR,{sx:{width:window.innerWidth<500?"100vw":550},role:"presentation",children:[(0,oM.jsxs)(HR,{direction:"row",justifyContent:"space-between",children:[(0,oM.jsx)(LE,{onClick:l,sx:{m:0,p:0,minWidth:50,minHeight:45,"&:hover":{backgroundColor:"transparent"}},children:(0,oM.jsx)(cI.A,{sx:{height:40,width:40,p:0}})}),(0,oM.jsx)(YT,{sx:{display:"flex",alignItems:"center",m:"10px auto",fontSize:"20px",fontWeight:900},children:"\u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u0442\u0435\u043b\u044c"}),(0,oM.jsx)(LE,{onClick:h,sx:{m:0,p:0,minWidth:50,minHeight:45,"&:hover":{backgroundColor:"transparent"}},children:(0,oM.jsx)(XT.A,{sx:{height:40,width:40,p:0}})})]}),(0,oM.jsx)(UE,{}),(0,oM.jsx)(XE,{sx:{"& .MuiListItemIcon-root":{display:"flex",justifyContent:"center"},"& .MuiTypography-root":{fontSize:"16px"}},children:(0,oM.jsx)(cT,{children:(0,oM.jsx)(nI,{primary:"\u041d\u0435\u0442 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a"})})})]})})})}function EL(){const t=E(),e=y($C);return(0,oM.jsx)("div",{onClick:()=>t(se(!e)),className:uM.settings_icon,children:(0,oM.jsx)(cM,{})})}function TL(){const e=E(),i=y($C),[s,n]=(y(qT),(0,t.useState)(!1)),[r,o]=(0,t.useState)(!1),[a,l]=t.useState(null),h=Boolean(a),c=t=>{l(null),t&&(EC.send(JSON.stringify({deviceState:{shutdown:t}})),e(se(!i)))},u=()=>{e(se(!i))};return(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsx)(lR,{anchor:"right",open:i,onClose:u,children:(0,oM.jsxs)(vR,{sx:{width:window.innerWidth<500?"100vw":550},role:"presentation",children:[(0,oM.jsxs)(HR,{direction:"row",justifyContent:"space-between",children:[(0,oM.jsx)(YT,{sx:{display:"flex",alignItems:"center",m:"10px auto",fontSize:"20px",fontWeight:900},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,oM.jsx)(LE,{onClick:u,sx:{m:0,p:0,minWidth:50,minHeight:45,"&:hover":{backgroundColor:"transparent"}},children:(0,oM.jsx)(XT.A,{sx:{height:40,width:40,p:0}})})]}),(0,oM.jsx)(UE,{}),(0,oM.jsxs)(XE,{sx:{"& .MuiListItemIcon-root":{display:"flex",justifyContent:"center"},"& .MuiTypography-root":{fontSize:"16px"}},children:[(0,oM.jsx)(cT,{disablePadding:!0,onClick:()=>n(!0),children:(0,oM.jsxs)(pT,{children:[(0,oM.jsx)(xT,{children:(0,oM.jsx)(oI.A,{sx:{width:36,height:36}})}),(0,oM.jsx)(nI,{primary:"WEB-\u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441"})]})}),(0,oM.jsx)(cT,{disablePadding:!0,onClick:()=>o(!0),children:(0,oM.jsxs)(pT,{children:[(0,oM.jsx)(xT,{children:(0,oM.jsx)(hI,{className:dM.detection_icon})}),(0,oM.jsx)(nI,{primary:"\u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u0442\u0435\u043b\u044c"})]})}),(0,oM.jsx)(cT,{disablePadding:!0,children:(0,oM.jsxs)(pT,{sx:{"&:hover":{backgroundColor:"transparent"}},children:[(0,oM.jsx)(LE,{onClick:t=>{l(t.currentTarget)},sx:{border:"1px solid",borderColor:"#2a6892",backgroundColor:"rgba(0,90,153,0.15)",marginLeft:0},children:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u0435 \u0440\u0430\u0431\u043e\u0442\u044b"}),(0,oM.jsxs)(BT,{id:"popover-shutdown",open:h,anchorEl:a,onClose:()=>{l(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:[(0,oM.jsx)(YT,{sx:{height:30,display:"flex",justifyContent:"center",alignItems:"center"},children:"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?"}),(0,oM.jsx)(LE,{onClick:()=>c(!1),children:"\u041d\u0435\u0442"}),(0,oM.jsx)(LE,{onClick:()=>c(!0),children:"\u0414\u0430"})]})]})})]})]})}),s&&(0,oM.jsx)(ML,{setState:n}),r&&(0,oM.jsx)(RL,{setState:o})]})}const IL={log_icon:"LogWindow_log_icon__IeiuK",log_bg:"LogWindow_log_bg__jrpTd",log_win:"LogWindow_log_win__l6Bb4",log_title:"LogWindow_log_title__5dMxs",log_list:"LogWindow_log_list__R5lcr"};var PL;function FL(){return FL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},FL.apply(null,arguments)}function DL(e,i){let{title:s,titleId:n,...r}=e;return t.createElement("svg",FL({xmlns:"http://www.w3.org/2000/svg",width:"1024.000000pt",height:"1024.000000pt",viewBox:"0 0 1024.000000 1024.000000",preserveAspectRatio:"xMidYMid meet",ref:i,"aria-labelledby":n},r),s?t.createElement("title",{id:n},s):null,PL||(PL=t.createElement("g",{transform:"translate(0.000000,1024.000000) scale(0.100000,-0.100000)",fill:"currentColor",stroke:"none"},t.createElement("path",{d:"M1977 9829 c-99 -23 -206 -112 -250 -207 l-22 -47 -5 -1555 -5 -1555 -175 -6 c-184 -6 -203 -10 -311 -64 -116 -59 -229 -213 -258 -353 -15 -75 -15 -2889 0 -2964 29 -140 142 -294 258 -353 108 -54 127 -58 311 -64 l175 -6 5 -990 5 -990 26 -56 c52 -110 151 -186 273 -208 78 -14 6133 -15 6219 -1 129 21 225 93 281 210 l31 65 3 988 2 987 153 0 c105 0 171 5 212 15 175 46 315 185 372 370 17 57 18 131 18 1520 l0 1460 -22 70 c-43 133 -137 246 -258 307 -94 48 -109 51 -295 57 l-175 6 -5 585 c-4 523 -7 588 -22 615 -9 17 -432 505 -940 1085 -692 789 -933 1059 -961 1073 -36 16 -166 17 -2320 16 -1284 -1 -2298 -5 -2320 -10z m4373 -1321 c0 -915 1 -965 19 -1003 22 -48 54 -79 103 -100 33 -13 141 -15 868 -15 l830 0 0 -465 0 -465 -3053 2 -3052 3 -3 1503 -2 1502 2145 0 2145 0 0 -962z m-1523 -2629 c263 -29 487 -129 662 -294 178 -168 293 -382 353 -658 19 -88 22 -131 22 -322 0 -242 -13 -335 -74 -517 -118 -352 -366 -605 -712 -723 -145 -50 -219 -60 -443 -59 -193 0 -218 2 -306 26 -458 124 -753 459 -846 961 -25 133 -24 427 1 562 52 278 173 521 346 695 254 253 614 372 997 329z m3003 -24 c202 -24 438 -89 427 -119 -2 -6 -28 -103 -57 -216 -29 -113 -56 -208 -59 -212 -4 -4 -44 6 -91 22 -162 55 -234 65 -470 65 -191 -1 -224 -3 -295 -23 -325 -91 -519 -325 -555 -674 -28 -270 45 -523 198 -689 144 -155 304 -225 543 -236 112 -5 260 6 305 24 12 4 14 52 14 269 l0 264 -195 0 -195 0 0 220 0 220 470 0 470 0 -2 -662 -3 -662 -75 -23 c-209 -64 -451 -102 -686 -110 -410 -13 -731 65 -969 235 -74 53 -190 168 -245 243 -97 130 -168 301 -206 494 -27 136 -25 405 4 551 68 345 237 605 513 792 166 112 429 204 666 231 115 14 362 12 493 -4z m-5450 -1030 l0 -1015 500 0 500 0 0 -240 0 -240 -785 0 -785 0 0 1255 0 1255 285 0 285 0 0 -1015z m5790 -2733 c0 -307 3 -708 7 -890 l6 -332 -3061 0 -3062 0 0 890 0 890 3055 0 3055 0 0 -558z"}),t.createElement("path",{d:"M4605 5433 c-249 -36 -428 -220 -504 -518 -72 -286 -46 -616 66 -840 109 -215 282 -328 503 -328 154 0 267 47 376 158 127 128 205 329 224 575 34 457 -141 830 -436 928 -61 21 -176 33 -229 25z"}))))}const LL=t.forwardRef(DL),zL=(i.p,e=>{const i=t.useRef({});return t.useEffect((()=>{i.current=e})),i.current});const NL=function(t){const{badgeContent:e,invisible:i=!1,max:s=99,showZero:n=!1}=t,r=zL({badgeContent:e,max:s});let o=i;!1!==i||0!==e||n||(o=!0);const{badgeContent:a,max:l=s}=o?r:t;return{badgeContent:a,invisible:o,max:l,displayValue:a&&Number(a)>l?"".concat(l,"+"):a}};function _L(t){return(0,gk.Ay)("MuiBadge",t)}const VL=(0,pk.A)("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),BL=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],OL=(0,BM.Ay)("span",{name:"MuiBadge",slot:"Root",overridesResolver:(t,e)=>e.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),UL=(0,BM.Ay)("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.badge,e[i.variant],e["anchorOrigin".concat((0,Zk.A)(i.anchorOrigin.vertical)).concat((0,Zk.A)(i.anchorOrigin.horizontal)).concat((0,Zk.A)(i.overlap))],"default"!==i.color&&e["color".concat((0,Zk.A)(i.color))],i.invisible&&e.invisible]}})((t=>{let{theme:e}=t;var i;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.enteringScreen}),variants:[...Object.keys((null!=(i=e.vars)?i:e).palette).filter((t=>{var i,s;return(null!=(i=e.vars)?i:e).palette[t].main&&(null!=(s=e.vars)?s:e).palette[t].contrastText})).map((t=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main,color:(e.vars||e).palette[t].contrastText}}))),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:t=>{let{ownerState:e}=t;return"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",["&.".concat(VL.invisible)]:{transform:"scale(0) translate(50%, -50%)"}}},{props:t=>{let{ownerState:e}=t;return"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",["&.".concat(VL.invisible)]:{transform:"scale(0) translate(50%, 50%)"}}},{props:t=>{let{ownerState:e}=t;return"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",["&.".concat(VL.invisible)]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:t=>{let{ownerState:e}=t;return"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"rectangular"===e.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",["&.".concat(VL.invisible)]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:t=>{let{ownerState:e}=t;return"top"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",["&.".concat(VL.invisible)]:{transform:"scale(0) translate(50%, -50%)"}}},{props:t=>{let{ownerState:e}=t;return"bottom"===e.anchorOrigin.vertical&&"right"===e.anchorOrigin.horizontal&&"circular"===e.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",["&.".concat(VL.invisible)]:{transform:"scale(0) translate(50%, 50%)"}}},{props:t=>{let{ownerState:e}=t;return"top"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",["&.".concat(VL.invisible)]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:t=>{let{ownerState:e}=t;return"bottom"===e.anchorOrigin.vertical&&"left"===e.anchorOrigin.horizontal&&"circular"===e.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",["&.".concat(VL.invisible)]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:e.transitions.create("transform",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.leavingScreen})}}]}})),HL=t.forwardRef((function(t,e){var i,s,n,r,o,a;const l=(0,OM.b)({props:t,name:"MuiBadge"}),{anchorOrigin:h={vertical:"top",horizontal:"right"},className:c,component:u,components:d={},componentsProps:f={},children:p,overlap:g="rectangular",color:m="default",invisible:y=!1,max:v=99,badgeContent:b,slots:x,slotProps:S,showZero:A=!1,variant:w="standard"}=l,C=(0,fM.A)(l,BL),{badgeContent:M,invisible:k,max:R,displayValue:E}=NL({max:v,invisible:y,badgeContent:b,showZero:A}),T=zL({anchorOrigin:h,color:m,overlap:g,variant:w,badgeContent:b}),I=k||null==M&&"dot"!==w,{color:P=m,overlap:F=g,anchorOrigin:D=h,variant:L=w}=I?T:l,z="dot"!==L?E:void 0,N=(0,pM.A)({},l,{badgeContent:M,invisible:I,max:R,displayValue:z,showZero:A,anchorOrigin:D,color:P,overlap:F,variant:L}),_=(t=>{const{color:e,anchorOrigin:i,invisible:s,overlap:n,variant:r,classes:o={}}=t,a={root:["root"],badge:["badge",r,s&&"invisible","anchorOrigin".concat((0,Zk.A)(i.vertical)).concat((0,Zk.A)(i.horizontal)),"anchorOrigin".concat((0,Zk.A)(i.vertical)).concat((0,Zk.A)(i.horizontal)).concat((0,Zk.A)(n)),"overlap".concat((0,Zk.A)(n)),"default"!==e&&"color".concat((0,Zk.A)(e))]};return(0,mM.A)(a,_L,o)})(N),V=null!=(i=null!=(s=null==x?void 0:x.root)?s:d.Root)?i:OL,B=null!=(n=null!=(r=null==x?void 0:x.badge)?r:d.Badge)?n:UL,O=null!=(o=null==S?void 0:S.root)?o:f.root,U=null!=(a=null==S?void 0:S.badge)?a:f.badge,H=TM({elementType:V,externalSlotProps:O,externalForwardedProps:C,additionalProps:{ref:e,as:u},ownerState:N,className:(0,gM.A)(null==O?void 0:O.className,_.root,c)}),G=TM({elementType:B,externalSlotProps:U,ownerState:N,className:(0,gM.A)(_.badge,null==U?void 0:U.className)});return(0,oM.jsxs)(V,(0,pM.A)({},H,{children:[p,(0,oM.jsx)(B,(0,pM.A)({},G,{children:z}))]}))})),GL=HL;var WL=i(1942),jL=i.n(WL),YL=i(5501),XL=i(6747);function qL(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,XL.A)(t,e,i)}function JL(t){if(t.type)return t;if("#"===t.charAt(0))return JL(function(t){t=t.slice(1);const e=new RegExp(".{1,".concat(t.length>=6?2:1,"}"),"g");let i=t.match(e);return i&&1===i[0].length&&(i=i.map((t=>t+t))),i?"rgb".concat(4===i.length?"a":"","(").concat(i.map(((t,e)=>e<3?parseInt(t,16):Math.round(parseInt(t,16)/255*1e3)/1e3)).join(", "),")"):""}(t));const e=t.indexOf("("),i=t.substring(0,e);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(i))throw new Error((0,iF.A)(9,t));let s,n=t.substring(e+1,t.length-1);if("color"===i){if(n=n.split(" "),s=n.shift(),4===n.length&&"/"===n[3].charAt(0)&&(n[3]=n[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(s))throw new Error((0,iF.A)(10,s))}else n=n.split(",");return n=n.map((t=>parseFloat(t))),{type:i,values:n,colorSpace:s}}function KL(t){const{type:e,colorSpace:i}=t;let{values:s}=t;return-1!==e.indexOf("rgb")?s=s.map(((t,e)=>e<3?parseInt(t,10):t)):-1!==e.indexOf("hsl")&&(s[1]="".concat(s[1],"%"),s[2]="".concat(s[2],"%")),s=-1!==e.indexOf("color")?"".concat(i," ").concat(s.join(" ")):"".concat(s.join(", ")),"".concat(e,"(").concat(s,")")}function ZL(t,e){return t=JL(t),e=qL(e),"rgb"!==t.type&&"hsl"!==t.type||(t.type+="a"),"color"===t.type?t.values[3]="/".concat(e):t.values[3]=e,KL(t)}function QL(t,e){if(t=JL(t),e=qL(e),-1!==t.type.indexOf("hsl"))t.values[2]*=1-e;else if(-1!==t.type.indexOf("rgb")||-1!==t.type.indexOf("color"))for(let i=0;i<3;i+=1)t.values[i]*=1-e;return KL(t)}function $L(t,e){if(t=JL(t),e=qL(e),-1!==t.type.indexOf("hsl"))t.values[2]+=(100-t.values[2])*e;else if(-1!==t.type.indexOf("rgb"))for(let i=0;i<3;i+=1)t.values[i]+=(255-t.values[i])*e;else if(-1!==t.type.indexOf("color"))for(let i=0;i<3;i+=1)t.values[i]+=(1-t.values[i])*e;return KL(t)}function tz(t){return(0,gk.Ay)("MuiDataGrid",t)}const ez=(0,pk.A)("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementFooter","container--top","container--bottom","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderTop","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hasSkeletonLoadingOverlay","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--pinnedRight","selectedRowCount","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]);var iz=i(8573),sz=i(3427);const nz=Object.is;function rz(t,e){if(t===e)return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;let i=0,s=0;for(const n in t){if(i+=1,!nz(t[n],e[n]))return!1;if(!(n in e))return!1}for(const n in e)s+=1;return i===s}function oz(t,e){return function(t){return t.acceptsApiRef}(e)?e(t):e(t.current.state)}const az=Object.is,lz=rz,hz=()=>({state:null,equals:null,selector:null}),cz=function(e,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:az;const n=(0,iz.A)(hz),r=null!==n.current.selector,[o,a]=t.useState(r?null:oz(e,i));return n.current.state=o,n.current.equals=s,n.current.selector=i,(0,sz.A)((()=>e.current.store.subscribe((()=>{const t=oz(e,n.current.selector);n.current.equals(n.current.state,t)||(n.current.state=t,a(t))})))),o},uz=t.createContext(void 0);function dz(){const e=t.useContext(uz);if(void 0===e)throw new Error(["MUI X: Could not find the data grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return e}const fz=t=>t.dimensions;const pz={[".".concat(ez.columnSeparator,", .").concat(ez["columnSeparator--resizing"])]:{visibility:"visible",width:"auto"}},gz={["& .".concat(ez.iconButtonContainer)]:{visibility:"visible",width:"auto"},["& .".concat(ez.menuIcon)]:{width:"auto",visibility:"visible"}},mz=(0,BM.Ay)("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(t,e)=>[{["&.".concat(ez.autoHeight)]:e.autoHeight},{["&.".concat(ez.aggregationColumnHeader)]:e.aggregationColumnHeader},{["&.".concat(ez["aggregationColumnHeader--alignLeft"])]:e["aggregationColumnHeader--alignLeft"]},{["&.".concat(ez["aggregationColumnHeader--alignCenter"])]:e["aggregationColumnHeader--alignCenter"]},{["&.".concat(ez["aggregationColumnHeader--alignRight"])]:e["aggregationColumnHeader--alignRight"]},{["&.".concat(ez.aggregationColumnHeaderLabel)]:e.aggregationColumnHeaderLabel},{["&.".concat(ez["root--disableUserSelection"]," .").concat(ez.cell)]:e["root--disableUserSelection"]},{["&.".concat(ez.autosizing)]:e.autosizing},{["& .".concat(ez.editBooleanCell)]:e.editBooleanCell},{["& .".concat(ez.cell)]:e.cell},{["& .".concat(ez["cell--editing"])]:e["cell--editing"]},{["& .".concat(ez["cell--textCenter"])]:e["cell--textCenter"]},{["& .".concat(ez["cell--textLeft"])]:e["cell--textLeft"]},{["& .".concat(ez["cell--textRight"])]:e["cell--textRight"]},{["& .".concat(ez["cell--rangeTop"])]:e["cell--rangeTop"]},{["& .".concat(ez["cell--rangeBottom"])]:e["cell--rangeBottom"]},{["& .".concat(ez["cell--rangeLeft"])]:e["cell--rangeLeft"]},{["& .".concat(ez["cell--rangeRight"])]:e["cell--rangeRight"]},{["& .".concat(ez["cell--withRightBorder"])]:e["cell--withRightBorder"]},{["& .".concat(ez.cellCheckbox)]:e.cellCheckbox},{["& .".concat(ez.cellSkeleton)]:e.cellSkeleton},{["& .".concat(ez.checkboxInput)]:e.checkboxInput},{["& .".concat(ez["columnHeader--alignCenter"])]:e["columnHeader--alignCenter"]},{["& .".concat(ez["columnHeader--alignLeft"])]:e["columnHeader--alignLeft"]},{["& .".concat(ez["columnHeader--alignRight"])]:e["columnHeader--alignRight"]},{["& .".concat(ez["columnHeader--dragging"])]:e["columnHeader--dragging"]},{["& .".concat(ez["columnHeader--moving"])]:e["columnHeader--moving"]},{["& .".concat(ez["columnHeader--numeric"])]:e["columnHeader--numeric"]},{["& .".concat(ez["columnHeader--sortable"])]:e["columnHeader--sortable"]},{["& .".concat(ez["columnHeader--sorted"])]:e["columnHeader--sorted"]},{["& .".concat(ez["columnHeader--withRightBorder"])]:e["columnHeader--withRightBorder"]},{["& .".concat(ez.columnHeader)]:e.columnHeader},{["& .".concat(ez.headerFilterRow)]:e.headerFilterRow},{["& .".concat(ez.columnHeaderCheckbox)]:e.columnHeaderCheckbox},{["& .".concat(ez.columnHeaderDraggableContainer)]:e.columnHeaderDraggableContainer},{["& .".concat(ez.columnHeaderTitleContainer)]:e.columnHeaderTitleContainer},{["& .".concat(ez["columnSeparator--resizable"])]:e["columnSeparator--resizable"]},{["& .".concat(ez["columnSeparator--resizing"])]:e["columnSeparator--resizing"]},{["& .".concat(ez.columnSeparator)]:e.columnSeparator},{["& .".concat(ez.filterIcon)]:e.filterIcon},{["& .".concat(ez.iconSeparator)]:e.iconSeparator},{["& .".concat(ez.menuIcon)]:e.menuIcon},{["& .".concat(ez.menuIconButton)]:e.menuIconButton},{["& .".concat(ez.menuOpen)]:e.menuOpen},{["& .".concat(ez.menuList)]:e.menuList},{["& .".concat(ez["row--editable"])]:e["row--editable"]},{["& .".concat(ez["row--editing"])]:e["row--editing"]},{["& .".concat(ez["row--dragging"])]:e["row--dragging"]},{["& .".concat(ez.row)]:e.row},{["& .".concat(ez.rowReorderCellPlaceholder)]:e.rowReorderCellPlaceholder},{["& .".concat(ez.rowReorderCell)]:e.rowReorderCell},{["& .".concat(ez["rowReorderCell--draggable"])]:e["rowReorderCell--draggable"]},{["& .".concat(ez.sortIcon)]:e.sortIcon},{["& .".concat(ez.withBorderColor)]:e.withBorderColor},{["& .".concat(ez.treeDataGroupingCell)]:e.treeDataGroupingCell},{["& .".concat(ez.treeDataGroupingCellToggle)]:e.treeDataGroupingCellToggle},{["& .".concat(ez.treeDataGroupingCellLoadingContainer)]:e.treeDataGroupingCellLoadingContainer},{["& .".concat(ez.detailPanelToggleCell)]:e.detailPanelToggleCell},{["& .".concat(ez["detailPanelToggleCell--expanded"])]:e["detailPanelToggleCell--expanded"]},e.root]})((t=>{var e,i,s,n;let{theme:r}=t;const o=dz(),a=cz(o,fz),l=(h=r).vars?h.vars.palette.TableCell.border:"light"===h.palette.mode?$L(ZL(h.palette.divider,1),.88):QL(ZL(h.palette.divider,1),.68);var h;const c=r.shape.borderRadius,u=r.vars?r.vars.palette.background.default:null!==(e=null===(i=r.mixins.MuiDataGrid)||void 0===i?void 0:i.containerBackground)&&void 0!==e?e:r.palette.background.default,d=null!==(s=null===(n=r.mixins.MuiDataGrid)||void 0===n?void 0:n.pinnedBackground)&&void 0!==s?s:u,f=r.vars?"rgba(".concat(r.vars.palette.background.defaultChannel," / ").concat(r.vars.palette.action.disabledOpacity,")"):ZL(r.palette.background.default,r.palette.action.disabledOpacity),p=(r.vars||r).palette.action.hoverOpacity,g=(r.vars||r).palette.action.hover,m=(r.vars||r).palette.action.selectedOpacity,y=r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / ").concat(m,")"):ZL(r.palette.primary.main,m),v=r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / calc(\n                ").concat(r.vars.palette.action.selectedOpacity," +\n                ").concat(r.vars.palette.action.hoverOpacity,"\n              ))"):ZL(r.palette.primary.main,r.palette.action.selectedOpacity+r.palette.action.hoverOpacity),b=r.vars?g:yz(d,g,p),x=r.vars?y:yz(d,y,m),S=r.vars?g:yz(x,g,p),A={backgroundColor:y,"&:hover":{backgroundColor:v,"@media (hover: none)":{backgroundColor:y}}};return(0,pM.A)({"--unstable_DataGrid-radius":"number"===typeof c?"".concat(c,"px"):c,"--unstable_DataGrid-headWeight":r.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":f,"--DataGrid-containerBackground":u,"--DataGrid-pinnedBackground":d,"--DataGrid-rowBorderColor":l,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:l,borderRadius:"var(--unstable_DataGrid-radius)",color:(r.vars||r).palette.text.primary},r.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",[".".concat(ez.main," > *:first-child").concat("/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */")]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},["&.".concat(ez.autoHeight)]:{height:"auto"},["&.".concat(ez.autosizing)]:{["& .".concat(ez.columnHeaderTitleContainerContent," > *")]:{overflow:"visible !important"},"@media (hover: hover)":{["& .".concat(ez.iconButtonContainer)]:{width:"0 !important",visibility:"hidden !important"},["& .".concat(ez.menuIcon)]:{width:"0 !important",visibility:"hidden !important"}},["& .".concat(ez.cell)]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},["& .".concat(ez.groupingCriteriaCell)]:{width:"unset"},["& .".concat(ez.treeDataGroupingCell)]:{width:"unset"}},["& .".concat(ez.columnHeader,", & .").concat(ez.cell)]:{WebkitTapHighlightColor:"transparent",lineHeight:null,padding:"0 10px",boxSizing:"border-box"},["& .".concat(ez.columnHeader,":focus-within, & .").concat(ez.cell,":focus-within")]:{outline:"solid ".concat(r.vars?"rgba(".concat(r.vars.palette.primary.mainChannel," / 0.5)"):ZL(r.palette.primary.main,.5)," 1px"),outlineWidth:1,outlineOffset:-1},["& .".concat(ez.columnHeader,":focus, & .").concat(ez.cell,":focus")]:{outline:"solid ".concat(r.palette.primary.main," 1px")},["&.".concat(ez["root--noToolbar"],' [aria-rowindex="1"] [aria-colindex="1"]')]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},["&.".concat(ez["root--noToolbar"],' [aria-rowindex="1"] .').concat(ez["columnHeader--last"])]:{borderTopRightRadius:a.hasScrollY&&0!==a.scrollbarSize?void 0:"calc(var(--unstable_DataGrid-radius) - 1px)"},["& .".concat(ez.columnHeaderCheckbox,", & .").concat(ez.cellCheckbox)]:{padding:0,justifyContent:"center",alignItems:"center"},["& .".concat(ez.columnHeader)]:{position:"relative",display:"flex",alignItems:"center"},["& .".concat(ez["columnHeader--last"])]:{overflow:"hidden"},["& .".concat(ez["columnHeader--sorted"]," .").concat(ez.iconButtonContainer,", & .").concat(ez["columnHeader--filtered"]," .").concat(ez.iconButtonContainer)]:{visibility:"visible",width:"auto"},["& .".concat(ez.columnHeader,":not(.").concat(ez["columnHeader--sorted"],") .").concat(ez.sortIcon)]:{opacity:0,transition:r.transitions.create(["opacity"],{duration:r.transitions.duration.shorter})},["& .".concat(ez.columnHeaderTitleContainer)]:{display:"flex",alignItems:"center",minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden",position:"relative"},["& .".concat(ez.columnHeaderTitleContainerContent)]:{overflow:"hidden",display:"flex",alignItems:"center"},["& .".concat(ez["columnHeader--filledGroup"]," .").concat(ez.columnHeaderTitleContainer)]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},["& .".concat(ez.sortIcon,", & .").concat(ez.filterIcon)]:{fontSize:"inherit"},["& .".concat(ez["columnHeader--sortable"])]:{cursor:"pointer"},["& .".concat(ez["columnHeader--alignCenter"]," .").concat(ez.columnHeaderTitleContainer)]:{justifyContent:"center"},["& .".concat(ez["columnHeader--alignRight"]," .").concat(ez.columnHeaderDraggableContainer,", & .").concat(ez["columnHeader--alignRight"]," .").concat(ez.columnHeaderTitleContainer)]:{flexDirection:"row-reverse"},["& .".concat(ez["columnHeader--alignCenter"]," .").concat(ez.menuIcon,", & .").concat(ez["columnHeader--alignRight"]," .").concat(ez.menuIcon)]:{marginRight:"auto",marginLeft:-6},["& .".concat(ez["columnHeader--alignRight"]," .").concat(ez.menuIcon,", & .").concat(ez["columnHeader--alignRight"]," .").concat(ez.menuIcon)]:{marginRight:"auto",marginLeft:-10},["& .".concat(ez["columnHeader--moving"])]:{backgroundColor:(r.vars||r).palette.action.hover},["& .".concat(ez["columnHeader--pinnedLeft"],", & .").concat(ez["columnHeader--pinnedRight"])]:{position:"sticky",zIndex:4,background:"var(--DataGrid-pinnedBackground)"},["& .".concat(ez.columnSeparator)]:{visibility:"hidden",position:"absolute",zIndex:3,display:"flex",flexDirection:"column",justifyContent:"center",color:l},["& .".concat(ez.columnHeaders)]:{width:"var(--DataGrid-rowWidth)"},"@media (hover: hover)":{["& .".concat(ez.columnHeaders,":hover")]:pz,["& .".concat(ez.columnHeader,":hover")]:gz,["& .".concat(ez.columnHeader,":not(.").concat(ez["columnHeader--sorted"],"):hover .").concat(ez.sortIcon)]:{opacity:.5}},"@media (hover: none)":{["& .".concat(ez.columnHeaders)]:pz,["& .".concat(ez.columnHeader)]:gz},["& .".concat(ez["columnSeparator--sideLeft"])]:{left:-12},["& .".concat(ez["columnSeparator--sideRight"])]:{right:-12},["& .".concat(ez["columnSeparator--resizable"])]:{cursor:"col-resize",touchAction:"none","&:hover":{color:(r.vars||r).palette.text.primary,"@media (hover: none)":{color:l}},["&.".concat(ez["columnSeparator--resizing"])]:{color:(r.vars||r).palette.text.primary},"& svg":{pointerEvents:"none"}},["& .".concat(ez.iconSeparator)]:{color:"inherit"},["& .".concat(ez.menuIcon)]:{width:0,visibility:"hidden",fontSize:20,marginRight:-10,display:"flex",alignItems:"center"},[".".concat(ez.menuOpen)]:{visibility:"visible",width:"auto"},["& .".concat(ez.headerFilterRow)]:{["& .".concat(ez.columnHeader)]:{boxSizing:"border-box",borderTop:"1px solid var(--DataGrid-rowBorderColor)"}},["& .".concat(ez["row--borderBottom"]," .").concat(ez.columnHeader,",\n      & .").concat(ez["row--borderBottom"]," .").concat(ez.filler,",\n      & .").concat(ez["row--borderBottom"]," .").concat(ez.scrollbarFiller)]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},["& .".concat(ez["row--borderBottom"]," .").concat(ez.cell)]:{borderBottom:"1px solid var(--rowBorderColor)"},[".".concat(ez.row)]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",["&.".concat(ez["row--firstVisible"])]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:(r.vars||r).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(ez.rowSkeleton,":hover")]:{backgroundColor:"transparent"},"&.Mui-selected":A},["& .".concat(ez["container--top"],", & .").concat(ez["container--bottom"])]:{"[role=row]":{background:"var(--DataGrid-containerBackground)"}},["& .".concat(ez.cell)]:{height:"var(--height)",minWidth:"var(--width)",maxWidth:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":A},["& .".concat(ez["virtualScrollerContent--overflowed"]," .").concat(ez["row--lastVisible"]," .").concat(ez.cell)]:{borderTopColor:"transparent"},["&.".concat(ez["root--disableUserSelection"]," .").concat(ez.cell)]:{userSelect:"none"},["& .".concat(ez["row--dynamicHeight"]," > .").concat(ez.cell)]:{whiteSpace:"initial",lineHeight:"inherit"},["& .".concat(ez.cellEmpty)]:{padding:0,height:"unset"},["& .".concat(ez.cell,".").concat(ez["cell--selectionMode"])]:{cursor:"default"},["& .".concat(ez.cell,".").concat(ez["cell--editing"])]:{padding:1,display:"flex",boxShadow:r.shadows[2],backgroundColor:(r.vars||r).palette.background.paper,"&:focus-within":{outline:"solid ".concat((r.vars||r).palette.primary.main," 1px"),outlineOffset:"-1px"}},["& .".concat(ez["row--editing"])]:{boxShadow:r.shadows[2]},["& .".concat(ez["row--editing"]," .").concat(ez.cell)]:{boxShadow:r.shadows[0],backgroundColor:(r.vars||r).palette.background.paper},["& .".concat(ez.editBooleanCell)]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},["& .".concat(ez.booleanCell,'[data-value="true"]')]:{color:(r.vars||r).palette.text.secondary},["& .".concat(ez.booleanCell,'[data-value="false"]')]:{color:(r.vars||r).palette.text.disabled},["& .".concat(ez.actionsCell)]:{display:"inline-flex",alignItems:"center",gridGap:r.spacing(1)},["& .".concat(ez.rowReorderCell)]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(r.vars||r).palette.action.disabledOpacity},["& .".concat(ez["rowReorderCell--draggable"])]:{cursor:"move",opacity:1},["& .".concat(ez.rowReorderCellContainer)]:{padding:0,display:"flex",alignItems:"stretch"},[".".concat(ez.withBorderColor)]:{borderColor:l},["& .".concat(ez["cell--withLeftBorder"],", & .").concat(ez["columnHeader--withLeftBorder"])]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},["& .".concat(ez["cell--withRightBorder"],", & .").concat(ez["columnHeader--withRightBorder"])]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},["& .".concat(ez["cell--flex"])]:{display:"flex",alignItems:"center",lineHeight:"inherit"},["& .".concat(ez["cell--textLeft"])]:{textAlign:"left",justifyContent:"flex-start"},["& .".concat(ez["cell--textRight"])]:{textAlign:"right",justifyContent:"flex-end"},["& .".concat(ez["cell--textCenter"])]:{textAlign:"center",justifyContent:"center"},["& .".concat(ez["cell--pinnedLeft"],", & .").concat(ez["cell--pinnedRight"])]:{position:"sticky",zIndex:3,background:"var(--DataGrid-pinnedBackground)"},["& .".concat(ez.virtualScrollerContent," .").concat(ez.row)]:{"&:hover":{["& .".concat(ez["cell--pinnedLeft"],", & .").concat(ez["cell--pinnedRight"])]:{backgroundColor:b}},"&.Mui-selected":{["& .".concat(ez["cell--pinnedLeft"],", & .").concat(ez["cell--pinnedRight"])]:{backgroundColor:x},"&:hover":{["& .".concat(ez["cell--pinnedLeft"],", & .").concat(ez["cell--pinnedRight"])]:{backgroundColor:S}}}},["& .".concat(ez.cellOffsetLeft)]:{flex:"0 0 auto",display:"inline-block"},["& .".concat(ez.cellSkeleton)]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},["& .".concat(ez.columnHeaderDraggableContainer)]:{display:"flex",width:"100%",height:"100%"},["& .".concat(ez.rowReorderCellPlaceholder)]:{display:"none"},["& .".concat(ez["columnHeader--dragging"],", & .").concat(ez["row--dragging"])]:{background:(r.vars||r).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(r.vars||r).palette.action.disabledOpacity},["& .".concat(ez["row--dragging"])]:{background:(r.vars||r).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(r.vars||r).palette.action.disabledOpacity,["& .".concat(ez.rowReorderCellPlaceholder)]:{display:"flex"}},["& .".concat(ez.treeDataGroupingCell)]:{display:"flex",alignItems:"center",width:"100%"},["& .".concat(ez.treeDataGroupingCellToggle)]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:r.spacing(2)},["& .".concat(ez.treeDataGroupingCellLoadingContainer)]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},["& .".concat(ez.groupingCriteriaCell)]:{display:"flex",alignItems:"center",width:"100%"},["& .".concat(ez.groupingCriteriaCellToggle)]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:r.spacing(2)},[".".concat(ez.scrollbarFiller)]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",["&.".concat(ez["scrollbarFiller--borderTop"])]:{borderTop:"1px solid var(--rowBorderColor)"},["&.".concat(ez["scrollbarFiller--pinnedRight"])]:{backgroundColor:"var(--DataGrid-pinnedBackground)",position:"sticky",right:0}},["& .".concat(ez.filler)]:{flex:1},["& .".concat(ez["filler--borderTop"])]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},["& .".concat(ez["main--hasSkeletonLoadingOverlay"])]:{["& .".concat(ez.virtualScrollerContent,", & .").concat(ez["scrollbar--vertical"],", & .").concat(ez.pinnedRows)]:{display:"none"}}})}));function yz(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const n=(t,e)=>Math.round((t**(1/s)*(1-i)+e**(1/s)*i)**s),r=JL(t),o=JL(e);return KL({type:"rgb",values:[n(r.values[0],o.values[0]),n(r.values[1],o.values[1]),n(r.values[2],o.values[2])]})}const vz=t.createContext(void 0);const bz=()=>{const e=t.useContext(vz);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e};var xz="NOT_FOUND";var Sz=function(t,e){return t===e};function Az(t,e){var i="object"===typeof e?e:{equalityCheck:e},s=i.equalityCheck,n=void 0===s?Sz:s,r=i.maxSize,o=void 0===r?1:r,a=i.resultEqualityCheck,l=function(t){return function(e,i){if(null===e||null===i||e.length!==i.length)return!1;for(var s=e.length,n=0;n<s;n++)if(!t(e[n],i[n]))return!1;return!0}}(n),h=1===o?function(t){var e;return{get:function(i){return e&&t(e.key,i)?e.value:xz},put:function(t,i){e={key:t,value:i}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}(l):function(t,e){var i=[];function s(t){var s=i.findIndex((function(i){return e(t,i.key)}));if(s>-1){var n=i[s];return s>0&&(i.splice(s,1),i.unshift(n)),n.value}return xz}return{get:s,put:function(e,n){s(e)===xz&&(i.unshift({key:e,value:n}),i.length>t&&i.pop())},getEntries:function(){return i},clear:function(){i=[]}}}(o,l);function c(){var e=h.get(arguments);if(e===xz){if(e=t.apply(null,arguments),a){var i=h.getEntries().find((function(t){return a(t.value,e)}));i&&(e=i.value)}h.put(arguments,e)}return e}return c.clearCache=function(){return h.clear()},c}function wz(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),s=1;s<e;s++)i[s-1]=arguments[s];return function(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];var r,o=0,a={memoizeOptions:void 0},l=s.pop();if("object"===typeof l&&(a=l,l=s.pop()),"function"!==typeof l)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof l+"]");var h=a.memoizeOptions,c=void 0===h?i:h,u=Array.isArray(c)?c:[c],d=function(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"===typeof t}))){var i=e.map((function(t){return"function"===typeof t?"function "+(t.name||"unnamed")+"()":typeof t})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+i+"]")}return e}(s),f=t.apply(void 0,[function(){return o++,l.apply(null,arguments)}].concat(u)),p=t((function(){for(var t=[],e=d.length,i=0;i<e;i++)t.push(d[i].apply(null,arguments));return r=f.apply(null,t)}));return Object.assign(p,{resultFunc:l,memoizedResultFunc:f,dependencies:d,lastResult:function(){return r},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),p}}var Cz=wz(Az);const Mz=new WeakMap;function kz(t){return"current"in t&&"instanceId"in t.current}const Rz={id:"default"},Ez=function(t,e,i,s,n,r){if((arguments.length<=6?0:arguments.length-6)>0)throw new Error("Unsupported number of selectors");let o;if(t&&e&&i&&s&&n&&r)o=(o,a)=>{const l=kz(o),h=null!==a&&void 0!==a?a:l?o.current.instanceId:Rz,c=l?o.current.state:o,u=t(c,h),d=e(c,h),f=i(c,h),p=s(c,h),g=n(c,h);return r(u,d,f,p,g)};else if(t&&e&&i&&s&&n)o=(r,o)=>{const a=kz(r),l=null!==o&&void 0!==o?o:a?r.current.instanceId:Rz,h=a?r.current.state:r,c=t(h,l),u=e(h,l),d=i(h,l),f=s(h,l);return n(c,u,d,f)};else if(t&&e&&i&&s)o=(n,r)=>{const o=kz(n),a=null!==r&&void 0!==r?r:o?n.current.instanceId:Rz,l=o?n.current.state:n,h=t(l,a),c=e(l,a),u=i(l,a);return s(h,c,u)};else if(t&&e&&i)o=(s,n)=>{const r=kz(s),o=null!==n&&void 0!==n?n:r?s.current.instanceId:Rz,a=r?s.current.state:s,l=t(a,o),h=e(a,o);return i(l,h)};else{if(!t||!e)throw new Error("Missing arguments");o=(i,s)=>{const n=kz(i),r=null!==s&&void 0!==s?s:n?i.current.instanceId:Rz,o=n?i.current.state:i,a=t(o,r);return e(a)}}return o.acceptsApiRef=!0,o},Tz=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];const s=(t,i)=>{const s=kz(t),n=s?t.current.instanceId:null!==i&&void 0!==i?i:Rz,r=s?t.current.state:t;const o=Mz.get(n),a=null!==o&&void 0!==o?o:new Map,l=null===a||void 0===a?void 0:a.get(e);if(a&&l)return l(r,n);const h=Cz(...e);return o||Mz.set(n,a),a.set(e,h),h(r,n)};return s.acceptsApiRef=!0,s},Iz={compact:.7,comfortable:1.3,standard:1},Pz=t=>t.density,Fz=Ez(Pz,(t=>Iz[t])),Dz=["className"],Lz=t.forwardRef((function(e,i){const s=bz(),{className:n}=e,r=(0,fM.A)(e,Dz),o=dz(),a=cz(o,Pz),l=o.current.rootElementRef,h=(0,SM.A)(l,i),c=s,u=((t,e)=>{const{autoHeight:i,classes:s,showCellVerticalBorder:n}=t,r={root:["root",i&&"autoHeight","root--density".concat((0,YL.A)(e)),null===t.slots.toolbar&&"root--noToolbar","withBorderColor",n&&"withVerticalBorder"]};return(0,mM.A)(r,tz,s)})(c,a),[d,f]=t.useState(!1);return(0,NM.A)((()=>{f(!0)}),[]),d?(0,oM.jsx)(mz,(0,pM.A)({ref:h,className:(0,gM.A)(n,u.root),ownerState:c},r)):null}));let zz=function(t){return t.LEFT="left",t.RIGHT="right",t}({});const Nz={left:[],right:[]},_z=t=>t.columns,Vz=Ez(_z,(t=>t.orderedFields)),Bz=Ez(_z,(t=>t.lookup)),Oz=Tz(Vz,Bz,((t,e)=>t.map((t=>e[t])))),Uz=Ez(_z,(t=>t.columnVisibilityModel)),Hz=Tz(Oz,Uz,((t,e)=>t.filter((t=>!1!==e[t.field])))),Gz=Tz(Hz,(t=>t.map((t=>t.field)))),Wz=Tz(_z,(t=>t.pinnedColumns),Gz,(t=>t.theme),((t,e,i,s)=>{const n=function(t,e,i){var s,n;if(!Array.isArray(t.left)&&!Array.isArray(t.right))return Nz;if(0===(null===(s=t.left)||void 0===s?void 0:s.length)&&0===(null===(n=t.right)||void 0===n?void 0:n.length))return Nz;const r=(t,e)=>Array.isArray(t)?t.filter((t=>e.includes(t))):[],o=r(t.left,e),a=e.filter((t=>!o.includes(t))),l=r(t.right,a);if(i)return{left:l,right:o};return{left:o,right:l}}(e,i,"rtl"===s.direction);return{left:n.left.map((e=>t.lookup[e])),right:n.right.map((e=>t.lookup[e]))}}));const jz=Tz(Hz,(t=>{const e=[];let i=0;for(let s=0;s<t.length;s+=1)e.push(i),i+=t[s].computedWidth;return e})),Yz=Ez(Hz,jz,((t,e)=>{const i=t.length;return 0===i?0:e[i-1]+t[i-1].computedWidth})),Xz=Tz(Oz,(t=>t.filter((t=>t.filterable)))),qz=Tz(Oz,(t=>t.reduce(((t,e)=>(e.filterable&&(t[e.field]=e),t)),{}))),Jz=Tz(Oz,(t=>t.some((t=>void 0!==t.colSpan)))),Kz=t=>t.preferencePanel;var Zz=function(t){return t.filters="filters",t.columns="columns",t}(Zz||{});const Qz=t.createContext(void 0);function $z(){const e=t.useContext(Qz);if(void 0===e)throw new Error(["MUI X: Could not find the data grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the data grid."].join("\n"));return e}function tN(){var t,e,i;const s=$z(),n=cz(s,Oz),r=bz(),o=cz(s,Kz),a=s.current.unstable_applyPipeProcessors("preferencePanel",null,null!==(t=o.openedPanelValue)&&void 0!==t?t:Zz.filters);return(0,oM.jsx)(r.slots.panel,(0,pM.A)({as:r.slots.basePopper,open:n.length>0&&o.open,id:o.panelId,"aria-labelledby":o.labelId},null===(e=r.slotProps)||void 0===e?void 0:e.panel,null===(i=r.slotProps)||void 0===i?void 0:i.basePopper,{children:a}))}function eN(){var e;const i=bz();return(0,oM.jsxs)(t.Fragment,{children:[(0,oM.jsx)(tN,{}),i.slots.toolbar&&(0,oM.jsx)(i.slots.toolbar,(0,pM.A)({},null===(e=i.slotProps)||void 0===e?void 0:e.toolbar))]})}class iN{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.timeouts=new Map,this.cleanupTimeout=1e3,this.cleanupTimeout=t}register(t,e,i){this.timeouts||(this.timeouts=new Map);const s=setTimeout((()=>{"function"===typeof e&&e(),this.timeouts.delete(i.cleanupToken)}),this.cleanupTimeout);this.timeouts.set(i.cleanupToken,s)}unregister(t){const e=this.timeouts.get(t.cleanupToken);e&&(this.timeouts.delete(t.cleanupToken),clearTimeout(e))}reset(){this.timeouts&&(this.timeouts.forEach(((t,e)=>{this.unregister({cleanupToken:e})})),this.timeouts=void 0)}}class sN{constructor(){this.registry=new FinalizationRegistry((t=>{"function"===typeof t&&t()}))}register(t,e,i){this.registry.register(t,e,i)}unregister(t){this.registry.unregister(t)}reset(){}}var nN=function(t){return t.DataGrid="DataGrid",t.DataGridPro="DataGridPro",t.DataGridPremium="DataGridPremium",t}(nN||{});class rN{}const oN={registry:null},aN=function(e){let i=0;return function(s,n,r,o){null===e.registry&&(e.registry="undefined"!==typeof FinalizationRegistry?new sN:new iN);const[a]=t.useState(new rN),l=t.useRef(null),h=t.useRef();h.current=r;const c=t.useRef(null);if(!l.current&&h.current){const t=(t,e,i)=>{var s;e.defaultMuiPrevented||(null===(s=h.current)||void 0===s||s.call(h,t,e,i))};l.current=s.current.subscribeEvent(n,t,o),i+=1,c.current={cleanupToken:i},e.registry.register(a,(()=>{var t;null===(t=l.current)||void 0===t||t.call(l),l.current=null,c.current=null}),c.current)}else!h.current&&l.current&&(l.current(),l.current=null,c.current&&(e.registry.unregister(c.current),c.current=null));t.useEffect((()=>{if(!l.current&&h.current){const t=(t,e,i)=>{var s;e.defaultMuiPrevented||(null===(s=h.current)||void 0===s||s.call(h,t,e,i))};l.current=s.current.subscribeEvent(n,t,o)}return c.current&&e.registry&&(e.registry.unregister(c.current),c.current=null),()=>{var t;null===(t=l.current)||void 0===t||t.call(l),l.current=null}}),[s,n,o])}}(oN),lN={isFirst:!0};function hN(t,e,i){aN(t,e,i,lN)}const cN=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],uN=(0,BM.Ay)(kF,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(t,e)=>e.editInputCell})((t=>{let{theme:e}=t;return(0,pM.A)({},e.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})})),dN=t.forwardRef(((e,i)=>{const s=bz(),{id:n,value:r,field:o,colDef:a,hasFocus:l,debounceMs:h=200,isProcessingProps:c,onValueChange:u}=e,d=(0,fM.A)(e,cN),f=$z(),p=t.useRef(),[g,m]=t.useState(r),y=(t=>{const{classes:e}=t;return(0,mM.A)({root:["editInputCell"]},tz,e)})(s),v=t.useCallback((async t=>{const e=t.target.value;u&&await u(t,e);const i=f.current.getColumn(o);let s=e;i.valueParser&&(s=i.valueParser(e,f.current.getRow(n),i,f)),m(s),f.current.setEditCellValue({id:n,field:o,value:s,debounceMs:h,unstable_skipValueParser:!0},t)}),[f,h,o,n,u]),b=f.current.unstable_getEditCellMeta(n,o);return t.useEffect((()=>{"debouncedSetEditCellValue"!==(null===b||void 0===b?void 0:b.changeReason)&&m(r)}),[b,r]),(0,NM.A)((()=>{l&&p.current.focus()}),[l]),(0,oM.jsx)(uN,(0,pM.A)({ref:i,inputRef:p,className:y.root,ownerState:s,fullWidth:!0,type:"number"===a.type?a.type:"text",value:null!==g&&void 0!==g?g:"",onChange:v,endAdornment:c?(0,oM.jsx)(s.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},d))})),fN=(t,e)=>e&&t.length>1?[t[0]]:t,pN=(t,e)=>i=>(0,pM.A)({},i,{sorting:(0,pM.A)({},i.sorting,{sortModel:fN(t,e)})}),gN=(t,e)=>{const i=t.indexOf(e);return e&&-1!==i&&i+1!==t.length?t[i+1]:t[0]},mN=(t,e)=>null==t&&null!=e?-1:null==e&&null!=t?1:null==t&&null==e?0:null,yN=new Intl.Collator,vN=(t,e)=>{const i=mN(t,e);return null!==i?i:Number(t)-Number(e)},bN=(t,e)=>{const i=mN(t,e);return null!==i?i:t>e?1:t<e?-1:0},xN=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function SN(e){var i,s;const{item:n,applyValue:r,type:o,apiRef:a,focusElementRef:l,tabIndex:h,disabled:c,clearButton:u,InputProps:d,variant:f="standard"}=e,p=(0,fM.A)(e,xN),g=(0,$R.A)(),[m,y]=t.useState(null!==(i=n.value)&&void 0!==i?i:""),[v,b]=t.useState(!1),x=(0,eF.A)(),S=bz(),A=t.useCallback((t=>{const{value:e}=t.target;y(String(e)),b(!0),g.start(S.filterDebounceMs,(()=>{const t=(0,pM.A)({},n,{value:e,fromInput:x});r(t),b(!1)}))}),[x,r,n,S.filterDebounceMs,g]);return t.useEffect((()=>{var t;n.fromInput===x&&void 0!==n.value||y(String(null!==(t=n.value)&&void 0!==t?t:""))}),[x,n]),(0,oM.jsx)(S.slots.baseTextField,(0,pM.A)({id:x,label:a.current.getLocaleText("filterPanelInputLabel"),placeholder:a.current.getLocaleText("filterPanelInputPlaceholder"),value:m,onChange:A,variant:f,type:o||"text",InputProps:(0,pM.A)({},v||u?{endAdornment:v?(0,oM.jsx)(S.slots.loadIcon,{fontSize:"small",color:"action"}):u}:{},{disabled:c},d,{inputProps:(0,pM.A)({tabIndex:h},null===d||void 0===d?void 0:d.inputProps)}),InputLabelProps:{shrink:!0},inputRef:l},p,null===(s=S.slotProps)||void 0===s?void 0:s.baseTextField))}function AN(t){return"function"===typeof t}function wN(t){return"object"===typeof t&&null!==t}function CN(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const MN=(t,e,i)=>Math.max(e,Math.min(i,t));function kN(t,e){return Array.from({length:e-t}).map(((e,i)=>t+i))}function RN(t,e){if(t===e)return!0;if(t&&e&&"object"===typeof t&&"object"===typeof e){if(t.constructor!==e.constructor)return!1;if(Array.isArray(t)){const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s+=1)if(!RN(t[s],e[s]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;const i=Array.from(t.entries());for(let t=0;t<i.length;t+=1)if(!e.has(i[t][0]))return!1;for(let t=0;t<i.length;t+=1){const s=i[t];if(!RN(s[1],e.get(s[0])))return!1}return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;const i=Array.from(t.entries());for(let t=0;t<i.length;t+=1)if(!e.has(i[t][0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){const i=t.length;if(i!==e.length)return!1;for(let s=0;s<i;s+=1)if(t[s]!==e[s])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();const i=Object.keys(t),s=i.length;if(s!==Object.keys(e).length)return!1;for(let t=0;t<s;t+=1)if(!Object.prototype.hasOwnProperty.call(e,i[t]))return!1;for(let n=0;n<s;n+=1){const s=i[n];if(!RN(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function EN(t){return"function"===typeof structuredClone?structuredClone(t):JSON.parse(JSON.stringify(t))}var TN=i(3931);function IN(t){return"undefined"!==typeof t.normalize?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function PN(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ignoreAccents:e=!0,ignoreCase:i=!0,limit:s,matchFrom:n="any",stringify:r,trim:o=!1}=t;return(t,a)=>{let{inputValue:l,getOptionLabel:h}=a,c=o?l.trim():l;i&&(c=c.toLowerCase()),e&&(c=IN(c));const u=c?t.filter((t=>{let s=(r||h)(t);return i&&(s=s.toLowerCase()),e&&(s=IN(s)),"start"===n?0===s.indexOf(c):s.indexOf(c)>-1})):t;return"number"===typeof s?u.slice(0,s):u}}function FN(t,e){for(let i=0;i<t.length;i+=1)if(e(t[i]))return i;return-1}const DN=PN(),LN=t=>{var e;return null!==t.current&&(null==(e=t.current.parentElement)?void 0:e.contains(document.activeElement))};const zN=function(e){const{unstable_isActiveElementInListbox:i=LN,unstable_classNamePrefix:s="Mui",autoComplete:n=!1,autoHighlight:r=!1,autoSelect:o=!1,blurOnSelect:a=!1,clearOnBlur:l=!e.freeSolo,clearOnEscape:h=!1,componentName:c="useAutocomplete",defaultValue:u=(e.multiple?[]:null),disableClearable:d=!1,disableCloseOnSelect:f=!1,disabled:p,disabledItemsFocusable:g=!1,disableListWrap:m=!1,filterOptions:y=DN,filterSelectedOptions:v=!1,freeSolo:b=!1,getOptionDisabled:x,getOptionKey:S,getOptionLabel:A=t=>{var e;return null!=(e=t.label)?e:t},groupBy:w,handleHomeEndKeys:C=!e.freeSolo,id:M,includeInputInList:k=!1,inputValue:R,isOptionEqualToValue:E=(t,e)=>t===e,multiple:T=!1,onChange:I,onClose:P,onHighlightChange:F,onInputChange:D,onOpen:L,open:z,openOnFocus:N=!1,options:_,readOnly:V=!1,selectOnFocus:B=!e.freeSolo,value:O}=e,U=(0,eF.A)(M);let H=A;H=t=>{const e=A(t);return"string"!==typeof e?String(e):e};const G=t.useRef(!1),W=t.useRef(!0),j=t.useRef(null),Y=t.useRef(null),[X,q]=t.useState(null),[J,K]=t.useState(-1),Z=r?0:-1,Q=t.useRef(Z),[$,tt]=(0,TN.A)({controlled:O,default:u,name:c}),[et,it]=(0,TN.A)({controlled:R,default:"",name:c,state:"inputValue"}),[st,nt]=t.useState(!1),rt=t.useCallback(((t,e)=>{if(!(T?$.length<e.length:null!==e)&&!l)return;let i;if(T)i="";else if(null==e)i="";else{const t=H(e);i="string"===typeof t?t:""}et!==i&&(it(i),D&&D(t,i,"reset"))}),[H,et,T,D,it,l,$]),[ot,at]=(0,TN.A)({controlled:z,default:!1,name:c,state:"open"}),[lt,ht]=t.useState(!0),ct=!T&&null!=$&&et===H($),ut=ot&&!V,dt=ut?y(_.filter((t=>!v||!(T?$:[$]).some((e=>null!==e&&E(t,e))))),{inputValue:ct&&lt?"":et,getOptionLabel:H}):[],ft=zL({filteredOptions:dt,value:$,inputValue:et});t.useEffect((()=>{const t=$!==ft.value;st&&!t||b&&!t||rt(null,$)}),[$,rt,st,ft.value,b]);const pt=ot&&dt.length>0&&!V,gt=(0,Sk.A)((t=>{-1===t?j.current.focus():X.querySelector('[data-tag-index="'.concat(t,'"]')).focus()}));t.useEffect((()=>{T&&J>$.length-1&&(K(-1),gt(-1))}),[$,T,J,gt]);const mt=(0,Sk.A)((t=>{let{event:e,index:i,reason:n="auto"}=t;if(Q.current=i,-1===i?j.current.removeAttribute("aria-activedescendant"):j.current.setAttribute("aria-activedescendant","".concat(U,"-option-").concat(i)),F&&F(e,-1===i?null:dt[i],n),!Y.current)return;const r=Y.current.querySelector('[role="option"].'.concat(s,"-focused"));r&&(r.classList.remove("".concat(s,"-focused")),r.classList.remove("".concat(s,"-focusVisible")));let o=Y.current;if("listbox"!==Y.current.getAttribute("role")&&(o=Y.current.parentElement.querySelector('[role="listbox"]')),!o)return;if(-1===i)return void(o.scrollTop=0);const a=Y.current.querySelector('[data-option-index="'.concat(i,'"]'));if(a&&(a.classList.add("".concat(s,"-focused")),"keyboard"===n&&a.classList.add("".concat(s,"-focusVisible")),o.scrollHeight>o.clientHeight&&"mouse"!==n&&"touch"!==n)){const t=a,e=o.clientHeight+o.scrollTop,i=t.offsetTop+t.offsetHeight;i>e?o.scrollTop=i-o.clientHeight:t.offsetTop-t.offsetHeight*(w?1.3:0)<o.scrollTop&&(o.scrollTop=t.offsetTop-t.offsetHeight*(w?1.3:0))}})),yt=(0,Sk.A)((t=>{let{event:e,diff:i,direction:s="next",reason:r="auto"}=t;if(!ut)return;const o=function(t,e){if(!Y.current||t<0||t>=dt.length)return-1;let i=t;for(;;){const s=Y.current.querySelector('[data-option-index="'.concat(i,'"]')),n=!g&&(!s||s.disabled||"true"===s.getAttribute("aria-disabled"));if(s&&s.hasAttribute("tabindex")&&!n)return i;if(i="next"===e?(i+1)%dt.length:(i-1+dt.length)%dt.length,i===t)return-1}}((()=>{const t=dt.length-1;if("reset"===i)return Z;if("start"===i)return 0;if("end"===i)return t;const e=Q.current+i;return e<0?-1===e&&k?-1:m&&-1!==Q.current||Math.abs(i)>1?0:t:e>t?e===t+1&&k?-1:m||Math.abs(i)>1?t:0:e})(),s);if(mt({index:o,reason:r,event:e}),n&&"reset"!==i)if(-1===o)j.current.value=et;else{const t=H(dt[o]);j.current.value=t;0===t.toLowerCase().indexOf(et.toLowerCase())&&et.length>0&&j.current.setSelectionRange(et.length,t.length)}})),vt=t.useCallback((()=>{if(!ut)return;const t=(()=>{if(-1!==Q.current&&ft.filteredOptions&&ft.filteredOptions.length!==dt.length&&ft.inputValue===et&&(T?$.length===ft.value.length&&ft.value.every(((t,e)=>H($[e])===H(t))):(t=ft.value,e=$,(t?H(t):"")===(e?H(e):"")))){const t=ft.filteredOptions[Q.current];if(t)return FN(dt,(e=>H(e)===H(t)))}var t,e;return-1})();if(-1!==t)return void(Q.current=t);const e=T?$[0]:$;if(0!==dt.length&&null!=e){if(Y.current)if(null==e)Q.current>=dt.length-1?mt({index:dt.length-1}):mt({index:Q.current});else{const t=dt[Q.current];if(T&&t&&-1!==FN($,(e=>E(t,e))))return;const i=FN(dt,(t=>E(t,e)));-1===i?yt({diff:"reset"}):mt({index:i})}}else yt({diff:"reset"})}),[dt.length,!T&&$,v,yt,mt,ut,et,T]),bt=(0,Sk.A)((t=>{(0,_M.A)(Y,t),t&&vt()}));t.useEffect((()=>{vt()}),[vt]);const xt=t=>{ot||(at(!0),ht(!0),L&&L(t))},St=(t,e)=>{ot&&(at(!1),P&&P(t,e))},At=(t,e,i,s)=>{if(T){if($.length===e.length&&$.every(((t,i)=>t===e[i])))return}else if($===e)return;I&&I(t,e,i,s),tt(e)},wt=t.useRef(!1),Ct=function(t,e){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"options",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selectOption",n=e;if(T){n=Array.isArray($)?$.slice():[];const t=FN(n,(t=>E(e,t)));-1===t?n.push(e):"freeSolo"!==i&&(n.splice(t,1),s="removeOption")}rt(t,n),At(t,n,s,{option:e}),f||t&&(t.ctrlKey||t.metaKey)||St(t,s),(!0===a||"touch"===a&&wt.current||"mouse"===a&&!wt.current)&&j.current.blur()},Mt=(t,e)=>{if(!T)return;""===et&&St(t,"toggleInput");let i=J;-1===J?""===et&&"previous"===e&&(i=$.length-1):(i+="next"===e?1:-1,i<0&&(i=0),i===$.length&&(i=-1)),i=function(t,e){if(-1===t)return-1;let i=t;for(;;){if("next"===e&&i===$.length||"previous"===e&&-1===i)return-1;const t=X.querySelector('[data-tag-index="'.concat(i,'"]'));if(t&&t.hasAttribute("tabindex")&&!t.disabled&&"true"!==t.getAttribute("aria-disabled"))return i;i+="next"===e?1:-1}}(i,e),K(i),gt(i)},kt=t=>{G.current=!0,it(""),D&&D(t,"","clear"),At(t,T?[]:null,"clear")},Rt=t=>e=>{if(t.onKeyDown&&t.onKeyDown(e),!e.defaultMuiPrevented&&(-1!==J&&-1===["ArrowLeft","ArrowRight"].indexOf(e.key)&&(K(-1),gt(-1)),229!==e.which))switch(e.key){case"Home":ut&&C&&(e.preventDefault(),yt({diff:"start",direction:"next",reason:"keyboard",event:e}));break;case"End":ut&&C&&(e.preventDefault(),yt({diff:"end",direction:"previous",reason:"keyboard",event:e}));break;case"PageUp":e.preventDefault(),yt({diff:-5,direction:"previous",reason:"keyboard",event:e}),xt(e);break;case"PageDown":e.preventDefault(),yt({diff:5,direction:"next",reason:"keyboard",event:e}),xt(e);break;case"ArrowDown":e.preventDefault(),yt({diff:1,direction:"next",reason:"keyboard",event:e}),xt(e);break;case"ArrowUp":e.preventDefault(),yt({diff:-1,direction:"previous",reason:"keyboard",event:e}),xt(e);break;case"ArrowLeft":Mt(e,"previous");break;case"ArrowRight":Mt(e,"next");break;case"Enter":if(-1!==Q.current&&ut){const t=dt[Q.current],i=!!x&&x(t);if(e.preventDefault(),i)return;Ct(e,t,"selectOption"),n&&j.current.setSelectionRange(j.current.value.length,j.current.value.length)}else b&&""!==et&&!1===ct&&(T&&e.preventDefault(),Ct(e,et,"createOption","freeSolo"));break;case"Escape":ut?(e.preventDefault(),e.stopPropagation(),St(e,"escape")):h&&(""!==et||T&&$.length>0)&&(e.preventDefault(),e.stopPropagation(),kt(e));break;case"Backspace":if(T&&!V&&""===et&&$.length>0){const t=-1===J?$.length-1:J,i=$.slice();i.splice(t,1),At(e,i,"removeOption",{option:$[t]})}break;case"Delete":if(T&&!V&&""===et&&$.length>0&&-1!==J){const t=J,i=$.slice();i.splice(t,1),At(e,i,"removeOption",{option:$[t]})}}},Et=t=>{nt(!0),N&&!G.current&&xt(t)},Tt=t=>{i(Y)?j.current.focus():(nt(!1),W.current=!0,G.current=!1,o&&-1!==Q.current&&ut?Ct(t,dt[Q.current],"blur"):o&&b&&""!==et?Ct(t,et,"blur","freeSolo"):l&&rt(t,$),St(t,"blur"))},It=t=>{const e=t.target.value;et!==e&&(it(e),ht(!1),D&&D(t,e,"input")),""===e?d||T||At(t,null,"clear"):xt(t)},Pt=t=>{const e=Number(t.currentTarget.getAttribute("data-option-index"));Q.current!==e&&mt({event:t,index:e,reason:"mouse"})},Ft=t=>{mt({event:t,index:Number(t.currentTarget.getAttribute("data-option-index")),reason:"touch"}),wt.current=!0},Dt=t=>{const e=Number(t.currentTarget.getAttribute("data-option-index"));Ct(t,dt[e],"selectOption"),wt.current=!1},Lt=t=>e=>{const i=$.slice();i.splice(t,1),At(e,i,"removeOption",{option:$[t]})},zt=t=>{ot?St(t,"toggleInput"):xt(t)},Nt=t=>{t.currentTarget.contains(t.target)&&t.target.getAttribute("id")!==U&&t.preventDefault()},_t=t=>{t.currentTarget.contains(t.target)&&(j.current.focus(),B&&W.current&&j.current.selectionEnd-j.current.selectionStart===0&&j.current.select(),W.current=!1)},Vt=t=>{p||""!==et&&ot||zt(t)};let Bt=b&&et.length>0;Bt=Bt||(T?$.length>0:null!==$);let Ot=dt;if(w){new Map;Ot=dt.reduce(((t,e,i)=>{const s=w(e);return t.length>0&&t[t.length-1].group===s?t[t.length-1].options.push(e):t.push({key:i,index:i,group:s,options:[e]}),t}),[])}return p&&st&&Tt(),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,pM.A)({"aria-owns":pt?"".concat(U,"-listbox"):null},t,{onKeyDown:Rt(t),onMouseDown:Nt,onClick:_t})},getInputLabelProps:()=>({id:"".concat(U,"-label"),htmlFor:U}),getInputProps:()=>({id:U,value:et,onBlur:Tt,onFocus:Et,onChange:It,onMouseDown:Vt,"aria-activedescendant":ut?"":null,"aria-autocomplete":n?"both":"list","aria-controls":pt?"".concat(U,"-listbox"):void 0,"aria-expanded":pt,autoComplete:"off",ref:j,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:kt}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:zt}),getTagProps:t=>{let{index:e}=t;return(0,pM.A)({key:e,"data-tag-index":e,tabIndex:-1},!V&&{onDelete:Lt(e)})},getListboxProps:()=>({role:"listbox",id:"".concat(U,"-listbox"),"aria-labelledby":"".concat(U,"-label"),ref:bt,onMouseDown:t=>{t.preventDefault()}}),getOptionProps:t=>{let{index:e,option:i}=t;var s;const n=(T?$:[$]).some((t=>null!=t&&E(i,t))),r=!!x&&x(i);return{key:null!=(s=null==S?void 0:S(i))?s:H(i),tabIndex:-1,role:"option",id:"".concat(U,"-option-").concat(e),onMouseMove:Pt,onClick:Dt,onTouchStart:Ft,"data-option-index":e,"aria-disabled":r,"aria-selected":n}},id:U,inputValue:et,value:$,dirty:Bt,expanded:ut&&X,popupOpen:ut,focused:st||-1!==J,anchorEl:X,setAnchorEl:q,focusedTag:J,groupedOptions:Ot}};function NN(t){return(0,gk.Ay)("MuiListSubheader",t)}(0,pk.A)("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const _N=["className","color","component","disableGutters","disableSticky","inset"],VN=(0,BM.Ay)("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,"default"!==i.color&&e["color".concat((0,Zk.A)(i.color))],!i.disableGutters&&e.gutters,i.inset&&e.inset,!i.disableSticky&&e.sticky]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},"primary"===i.color&&{color:(e.vars||e).palette.primary.main},"inherit"===i.color&&{color:"inherit"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.inset&&{paddingLeft:72},!i.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper})})),BN=t.forwardRef((function(t,e){const i=(0,OM.b)({props:t,name:"MuiListSubheader"}),{className:s,color:n="default",component:r="li",disableGutters:o=!1,disableSticky:a=!1,inset:l=!1}=i,h=(0,fM.A)(i,_N),c=(0,pM.A)({},i,{color:n,component:r,disableGutters:o,disableSticky:a,inset:l}),u=(t=>{const{classes:e,color:i,disableGutters:s,inset:n,disableSticky:r}=t,o={root:["root","default"!==i&&"color".concat((0,Zk.A)(i)),!s&&"gutters",n&&"inset",!r&&"sticky"]};return(0,mM.A)(o,NN,e)})(c);return(0,oM.jsx)(VN,(0,pM.A)({as:r,className:(0,gM.A)(u.root,s),ref:e,ownerState:c},h))}));BN.muiSkipListHighlight=!0;const ON=BN;function UN(t){return(0,gk.Ay)("MuiIconButton",t)}const HN=(0,pk.A)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),GN=["edge","children","className","color","disabled","disableFocusRipple","size"],WN=(0,BM.Ay)(wE,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,"default"!==i.color&&e["color".concat((0,Zk.A)(i.color))],i.edge&&e["edge".concat((0,Zk.A)(i.edge))],e["size".concat((0,Zk.A)(i.size))]]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({textAlign:"center",flex:"0 0 auto",fontSize:e.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(e.vars||e).palette.action.active,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shortest})},!i.disableRipple&&{"&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.activeChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Wk.X4)(e.palette.action.active,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===i.edge&&{marginLeft:"small"===i.size?-3:-12},"end"===i.edge&&{marginRight:"small"===i.size?-3:-12})}),(t=>{let{theme:e,ownerState:i}=t;var s;const n=null==(s=(e.vars||e).palette)?void 0:s[i.color];return(0,pM.A)({},"inherit"===i.color&&{color:"inherit"},"inherit"!==i.color&&"default"!==i.color&&(0,pM.A)({color:null==n?void 0:n.main},!i.disableRipple&&{"&:hover":(0,pM.A)({},n&&{backgroundColor:e.vars?"rgba(".concat(n.mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Wk.X4)(n.main,e.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===i.size&&{padding:5,fontSize:e.typography.pxToRem(18)},"large"===i.size&&{padding:12,fontSize:e.typography.pxToRem(28)},{["&.".concat(HN.disabled)]:{backgroundColor:"transparent",color:(e.vars||e).palette.action.disabled}})})),jN=t.forwardRef((function(t,e){const i=(0,OM.b)({props:t,name:"MuiIconButton"}),{edge:s=!1,children:n,className:r,color:o="default",disabled:a=!1,disableFocusRipple:l=!1,size:h="medium"}=i,c=(0,fM.A)(i,GN),u=(0,pM.A)({},i,{edge:s,color:o,disabled:a,disableFocusRipple:l,size:h}),d=(t=>{const{classes:e,disabled:i,color:s,edge:n,size:r}=t,o={root:["root",i&&"disabled","default"!==s&&"color".concat((0,Zk.A)(s)),n&&"edge".concat((0,Zk.A)(n)),"size".concat((0,Zk.A)(r))]};return(0,mM.A)(o,UN,e)})(u);return(0,oM.jsx)(WN,(0,pM.A)({className:(0,gM.A)(d.root,r),centerRipple:!0,focusRipple:!l,disabled:a,ref:e},c,{ownerState:u,children:n}))})),YN=jN,XN=(0,aL.A)((0,oM.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function qN(t){return(0,gk.Ay)("MuiChip",t)}const JN=(0,pk.A)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),KN=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],ZN=(0,BM.Ay)("div",{name:"MuiChip",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t,{color:s,iconColor:n,clickable:r,onDelete:o,size:a,variant:l}=i;return[{["& .".concat(JN.avatar)]:e.avatar},{["& .".concat(JN.avatar)]:e["avatar".concat((0,Zk.A)(a))]},{["& .".concat(JN.avatar)]:e["avatarColor".concat((0,Zk.A)(s))]},{["& .".concat(JN.icon)]:e.icon},{["& .".concat(JN.icon)]:e["icon".concat((0,Zk.A)(a))]},{["& .".concat(JN.icon)]:e["iconColor".concat((0,Zk.A)(n))]},{["& .".concat(JN.deleteIcon)]:e.deleteIcon},{["& .".concat(JN.deleteIcon)]:e["deleteIcon".concat((0,Zk.A)(a))]},{["& .".concat(JN.deleteIcon)]:e["deleteIconColor".concat((0,Zk.A)(s))]},{["& .".concat(JN.deleteIcon)]:e["deleteIcon".concat((0,Zk.A)(l),"Color").concat((0,Zk.A)(s))]},e.root,e["size".concat((0,Zk.A)(a))],e["color".concat((0,Zk.A)(s))],r&&e.clickable,r&&"default"!==s&&e["clickableColor".concat((0,Zk.A)(s),")")],o&&e.deletable,o&&"default"!==s&&e["deletableColor".concat((0,Zk.A)(s))],e[l],e["".concat(l).concat((0,Zk.A)(s))]]}})((t=>{let{theme:e,ownerState:i}=t;const s="light"===e.palette.mode?e.palette.grey[700]:e.palette.grey[300];return(0,pM.A)({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",["&.".concat(JN.disabled)]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},["& .".concat(JN.avatar)]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:s,fontSize:e.typography.pxToRem(12)},["& .".concat(JN.avatarColorPrimary)]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},["& .".concat(JN.avatarColorSecondary)]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},["& .".concat(JN.avatarSmall)]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},["& .".concat(JN.icon)]:(0,pM.A)({marginLeft:5,marginRight:-6},"small"===i.size&&{fontSize:18,marginLeft:4,marginRight:-4},i.iconColor===i.color&&(0,pM.A)({color:e.vars?e.vars.palette.Chip.defaultIconColor:s},"default"!==i.color&&{color:"inherit"})),["& .".concat(JN.deleteIcon)]:(0,pM.A)({WebkitTapHighlightColor:"transparent",color:e.vars?"rgba(".concat(e.vars.palette.text.primaryChannel," / 0.26)"):(0,Wk.X4)(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?"rgba(".concat(e.vars.palette.text.primaryChannel," / 0.4)"):(0,Wk.X4)(e.palette.text.primary,.4)}},"small"===i.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==i.color&&{color:e.vars?"rgba(".concat(e.vars.palette[i.color].contrastTextChannel," / 0.7)"):(0,Wk.X4)(e.palette[i.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[i.color].contrastText}})},"small"===i.size&&{height:24},"default"!==i.color&&{backgroundColor:(e.vars||e).palette[i.color].main,color:(e.vars||e).palette[i.color].contrastText},i.onDelete&&{["&.".concat(JN.focusVisible)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.selectedChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.focusOpacity,"))"):(0,Wk.X4)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},i.onDelete&&"default"!==i.color&&{["&.".concat(JN.focusVisible)]:{backgroundColor:(e.vars||e).palette[i.color].dark}})}),(t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({},i.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.selectedChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):(0,Wk.X4)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},["&.".concat(JN.focusVisible)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.action.selectedChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.focusOpacity,"))"):(0,Wk.X4)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},i.clickable&&"default"!==i.color&&{["&:hover, &.".concat(JN.focusVisible)]:{backgroundColor:(e.vars||e).palette[i.color].dark}})}),(t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({},"outlined"===i.variant&&{backgroundColor:"transparent",border:e.vars?"1px solid ".concat(e.vars.palette.Chip.defaultBorder):"1px solid ".concat("light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[700]),["&.".concat(JN.clickable,":hover")]:{backgroundColor:(e.vars||e).palette.action.hover},["&.".concat(JN.focusVisible)]:{backgroundColor:(e.vars||e).palette.action.focus},["& .".concat(JN.avatar)]:{marginLeft:4},["& .".concat(JN.avatarSmall)]:{marginLeft:2},["& .".concat(JN.icon)]:{marginLeft:4},["& .".concat(JN.iconSmall)]:{marginLeft:2},["& .".concat(JN.deleteIcon)]:{marginRight:5},["& .".concat(JN.deleteIconSmall)]:{marginRight:3}},"outlined"===i.variant&&"default"!==i.color&&{color:(e.vars||e).palette[i.color].main,border:"1px solid ".concat(e.vars?"rgba(".concat(e.vars.palette[i.color].mainChannel," / 0.7)"):(0,Wk.X4)(e.palette[i.color].main,.7)),["&.".concat(JN.clickable,":hover")]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette[i.color].mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Wk.X4)(e.palette[i.color].main,e.palette.action.hoverOpacity)},["&.".concat(JN.focusVisible)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette[i.color].mainChannel," / ").concat(e.vars.palette.action.focusOpacity,")"):(0,Wk.X4)(e.palette[i.color].main,e.palette.action.focusOpacity)},["& .".concat(JN.deleteIcon)]:{color:e.vars?"rgba(".concat(e.vars.palette[i.color].mainChannel," / 0.7)"):(0,Wk.X4)(e.palette[i.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[i.color].main}}})})),QN=(0,BM.Ay)("span",{name:"MuiChip",slot:"Label",overridesResolver:(t,e)=>{const{ownerState:i}=t,{size:s}=i;return[e.label,e["label".concat((0,Zk.A)(s))]]}})((t=>{let{ownerState:e}=t;return(0,pM.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===e.variant&&{paddingLeft:11,paddingRight:11},"small"===e.size&&{paddingLeft:8,paddingRight:8},"small"===e.size&&"outlined"===e.variant&&{paddingLeft:7,paddingRight:7})}));function $N(t){return"Backspace"===t.key||"Delete"===t.key}const t_=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiChip"}),{avatar:n,className:r,clickable:o,color:a="default",component:l,deleteIcon:h,disabled:c=!1,icon:u,label:d,onClick:f,onDelete:p,onKeyDown:g,onKeyUp:m,size:y="medium",variant:v="filled",tabIndex:b,skipFocusWhenDisabled:x=!1}=s,S=(0,fM.A)(s,KN),A=t.useRef(null),w=(0,hk.A)(A,i),C=t=>{t.stopPropagation(),p&&p(t)},M=!(!1===o||!f)||o,k=M||p?wE:l||"div",R=(0,pM.A)({},s,{component:k,disabled:c,size:y,color:a,iconColor:t.isValidElement(u)&&u.props.color||a,onDelete:!!p,clickable:M,variant:v}),E=(t=>{const{classes:e,disabled:i,size:s,color:n,iconColor:r,onDelete:o,clickable:a,variant:l}=t,h={root:["root",l,i&&"disabled","size".concat((0,Zk.A)(s)),"color".concat((0,Zk.A)(n)),a&&"clickable",a&&"clickableColor".concat((0,Zk.A)(n)),o&&"deletable",o&&"deletableColor".concat((0,Zk.A)(n)),"".concat(l).concat((0,Zk.A)(n))],label:["label","label".concat((0,Zk.A)(s))],avatar:["avatar","avatar".concat((0,Zk.A)(s)),"avatarColor".concat((0,Zk.A)(n))],icon:["icon","icon".concat((0,Zk.A)(s)),"iconColor".concat((0,Zk.A)(r))],deleteIcon:["deleteIcon","deleteIcon".concat((0,Zk.A)(s)),"deleteIconColor".concat((0,Zk.A)(n)),"deleteIcon".concat((0,Zk.A)(l),"Color").concat((0,Zk.A)(n))]};return(0,mM.A)(h,qN,e)})(R),T=k===wE?(0,pM.A)({component:l||"div",focusVisibleClassName:E.focusVisible},p&&{disableRipple:!0}):{};let I=null;p&&(I=h&&t.isValidElement(h)?t.cloneElement(h,{className:(0,gM.A)(h.props.className,E.deleteIcon),onClick:C}):(0,oM.jsx)(XN,{className:(0,gM.A)(E.deleteIcon),onClick:C}));let P=null;n&&t.isValidElement(n)&&(P=t.cloneElement(n,{className:(0,gM.A)(E.avatar,n.props.className)}));let F=null;return u&&t.isValidElement(u)&&(F=t.cloneElement(u,{className:(0,gM.A)(E.icon,u.props.className)})),(0,oM.jsxs)(ZN,(0,pM.A)({as:k,className:(0,gM.A)(E.root,r),disabled:!(!M||!c)||void 0,onClick:f,onKeyDown:t=>{t.currentTarget===t.target&&$N(t)&&t.preventDefault(),g&&g(t)},onKeyUp:t=>{t.currentTarget===t.target&&(p&&$N(t)?p(t):"Escape"===t.key&&A.current&&A.current.blur()),m&&m(t)},ref:w,tabIndex:x&&c?-1:b,ownerState:R},T,S,{children:[P||F,(0,oM.jsx)(QN,{className:(0,gM.A)(E.label),ownerState:R,children:d}),I]}))})),e_=t_,i_=(0,aL.A)((0,oM.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");function s_(t){return(0,gk.Ay)("MuiAutocomplete",t)}const n_=(0,pk.A)("MuiAutocomplete",["root","expanded","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]);var r_,o_;const a_=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],l_=["ref"],h_=["key"],c_=["key"],u_=(0,BM.Ay)("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t,{fullWidth:s,hasClearIcon:n,hasPopupIcon:r,inputFocused:o,size:a}=i;return[{["& .".concat(n_.tag)]:e.tag},{["& .".concat(n_.tag)]:e["tagSize".concat((0,Zk.A)(a))]},{["& .".concat(n_.inputRoot)]:e.inputRoot},{["& .".concat(n_.input)]:e.input},{["& .".concat(n_.input)]:o&&e.inputFocused},e.root,s&&e.fullWidth,r&&e.hasPopupIcon,n&&e.hasClearIcon]}})({["&.".concat(n_.focused," .").concat(n_.clearIndicator)]:{visibility:"visible"},"@media (pointer: fine)":{["&:hover .".concat(n_.clearIndicator)]:{visibility:"visible"}},["& .".concat(n_.tag)]:{margin:3,maxWidth:"calc(100% - 6px)"},["& .".concat(n_.inputRoot)]:{[".".concat(n_.hasPopupIcon,"&, .").concat(n_.hasClearIcon,"&")]:{paddingRight:30},[".".concat(n_.hasPopupIcon,".").concat(n_.hasClearIcon,"&")]:{paddingRight:56},["& .".concat(n_.input)]:{width:0,minWidth:30}},["& .".concat(EF.root)]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},["& .".concat(EF.root,".").concat(vF.sizeSmall)]:{["& .".concat(EF.input)]:{padding:"2px 4px 3px 0"}},["& .".concat(YF.root)]:{padding:9,[".".concat(n_.hasPopupIcon,"&, .").concat(n_.hasClearIcon,"&")]:{paddingRight:39},[".".concat(n_.hasPopupIcon,".").concat(n_.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(n_.input)]:{padding:"7.5px 4px 7.5px 5px"},["& .".concat(n_.endAdornment)]:{right:9}},["& .".concat(YF.root,".").concat(vF.sizeSmall)]:{paddingTop:6,paddingBottom:6,paddingLeft:6,["& .".concat(n_.input)]:{padding:"2.5px 4px 2.5px 8px"}},["& .".concat(zF.root)]:{paddingTop:19,paddingLeft:8,[".".concat(n_.hasPopupIcon,"&, .").concat(n_.hasClearIcon,"&")]:{paddingRight:39},[".".concat(n_.hasPopupIcon,".").concat(n_.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(zF.input)]:{padding:"7px 4px"},["& .".concat(n_.endAdornment)]:{right:9}},["& .".concat(zF.root,".").concat(vF.sizeSmall)]:{paddingBottom:1,["& .".concat(zF.input)]:{padding:"2.5px 4px"}},["& .".concat(vF.hiddenLabel)]:{paddingTop:8},["& .".concat(zF.root,".").concat(vF.hiddenLabel)]:{paddingTop:0,paddingBottom:0,["& .".concat(n_.input)]:{paddingTop:16,paddingBottom:17}},["& .".concat(zF.root,".").concat(vF.hiddenLabel,".").concat(vF.sizeSmall)]:{["& .".concat(n_.input)]:{paddingTop:8,paddingBottom:9}},["& .".concat(n_.input)]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{["& .".concat(n_.tag)]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{["& .".concat(n_.input)]:{opacity:1}}},{props:{multiple:!0},style:{["& .".concat(n_.inputRoot)]:{flexWrap:"wrap"}}}]}),d_=(0,BM.Ay)("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),f_=(0,BM.Ay)(YN,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),p_=(0,BM.Ay)(YN,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:(t,e)=>{let{ownerState:i}=t;return(0,pM.A)({},e.popupIndicator,i.popupOpen&&e.popupIndicatorOpen)}})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),g_=(0,BM.Ay)(OP,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{["& .".concat(n_.option)]:e.option},e.popper,i.disablePortal&&e.popperDisablePortal]}})((t=>{let{theme:e}=t;return{zIndex:(e.vars||e).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]}})),m_=(0,BM.Ay)(Kk,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})((t=>{let{theme:e}=t;return(0,pM.A)({},e.typography.body1,{overflow:"auto"})})),y_=(0,BM.Ay)("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})((t=>{let{theme:e}=t;return{color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}})),v_=(0,BM.Ay)("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})((t=>{let{theme:e}=t;return{color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}})),b_=(0,BM.Ay)("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})((t=>{let{theme:e}=t;return{listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",["& .".concat(n_.option)]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},["&.".concat(n_.focused)]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(n_.focusVisible)]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),["&.".concat(n_.focused)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},["&.".concat(n_.focusVisible)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.focusOpacity,"))"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}})),x_=(0,BM.Ay)(ON,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})((t=>{let{theme:e}=t;return{backgroundColor:(e.vars||e).palette.background.paper,top:-8}})),S_=(0,BM.Ay)("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,["& .".concat(n_.option)]:{paddingLeft:24}}),A_=t.forwardRef((function(e,i){var s,n,r,o;const a=(0,OM.b)({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:h=!1,autoSelect:c=!1,blurOnSelect:u=!1,ChipProps:d,className:f,clearIcon:p=r_||(r_=(0,oM.jsx)(i_,{fontSize:"small"})),clearOnBlur:g=!a.freeSolo,clearOnEscape:m=!1,clearText:y="Clear",closeText:v="Close",componentsProps:b={},defaultValue:x=(a.multiple?[]:null),disableClearable:S=!1,disableCloseOnSelect:A=!1,disabled:w=!1,disabledItemsFocusable:C=!1,disableListWrap:M=!1,disablePortal:k=!1,filterSelectedOptions:R=!1,forcePopupIcon:E="auto",freeSolo:T=!1,fullWidth:I=!1,getLimitTagsText:P=t=>"+".concat(t),getOptionLabel:F,groupBy:D,handleHomeEndKeys:L=!a.freeSolo,includeInputInList:z=!1,limitTags:N=-1,ListboxComponent:_="ul",ListboxProps:V,loading:B=!1,loadingText:O="Loading\u2026",multiple:U=!1,noOptionsText:H="No options",openOnFocus:G=!1,openText:W="Open",PaperComponent:j=Kk,PopperComponent:Y=OP,popupIcon:X=o_||(o_=(0,oM.jsx)(lL,{})),readOnly:q=!1,renderGroup:J,renderInput:K,renderOption:Z,renderTags:Q,selectOnFocus:$=!a.freeSolo,size:tt="medium",slotProps:et={}}=a,it=(0,fM.A)(a,a_),{getRootProps:st,getInputProps:nt,getInputLabelProps:rt,getPopupIndicatorProps:ot,getClearProps:at,getTagProps:lt,getListboxProps:ht,getOptionProps:ct,value:ut,dirty:dt,expanded:ft,id:pt,popupOpen:gt,focused:mt,focusedTag:yt,anchorEl:vt,setAnchorEl:bt,inputValue:xt,groupedOptions:St}=zN((0,pM.A)({},a,{componentName:"Autocomplete"})),At=!S&&!w&&dt&&!q,wt=(!T||!0===E)&&!1!==E,{onMouseDown:Ct}=nt(),{ref:Mt}=null!=V?V:{},kt=ht(),{ref:Rt}=kt,Et=(0,fM.A)(kt,l_),Tt=(0,hk.A)(Rt,Mt),It=F||(t=>{var e;return null!=(e=t.label)?e:t}),Pt=(0,pM.A)({},a,{disablePortal:k,expanded:ft,focused:mt,fullWidth:I,getOptionLabel:It,hasClearIcon:At,hasPopupIcon:wt,inputFocused:-1===yt,popupOpen:gt,size:tt}),Ft=(t=>{const{classes:e,disablePortal:i,expanded:s,focused:n,fullWidth:r,hasClearIcon:o,hasPopupIcon:a,inputFocused:l,popupOpen:h,size:c}=t,u={root:["root",s&&"expanded",n&&"focused",r&&"fullWidth",o&&"hasClearIcon",a&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag","tagSize".concat((0,Zk.A)(c))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",h&&"popupIndicatorOpen"],popper:["popper",i&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return(0,mM.A)(u,s_,e)})(Pt);let Dt;if(U&&ut.length>0){const t=t=>(0,pM.A)({className:Ft.tag,disabled:w},lt(t));Dt=Q?Q(ut,t,Pt):ut.map(((e,i)=>{const s=t({index:i}),{key:n}=s,r=(0,fM.A)(s,h_);return(0,oM.jsx)(e_,(0,pM.A)({label:It(e),size:tt},r,d),n)}))}if(N>-1&&Array.isArray(Dt)){const t=Dt.length-N;!mt&&t>0&&(Dt=Dt.splice(0,N),Dt.push((0,oM.jsx)("span",{className:Ft.tag,children:P(t)},Dt.length)))}const Lt=J||(t=>(0,oM.jsxs)("li",{children:[(0,oM.jsx)(x_,{className:Ft.groupLabel,ownerState:Pt,component:"div",children:t.group}),(0,oM.jsx)(S_,{className:Ft.groupUl,ownerState:Pt,children:t.children})]},t.key)),zt=Z||((t,e)=>{const{key:i}=t,s=(0,fM.A)(t,c_);return(0,oM.jsx)("li",(0,pM.A)({},s,{children:It(e)}),i)}),Nt=(t,e)=>{const i=ct({option:t,index:e});return zt((0,pM.A)({},i,{className:Ft.option}),t,{selected:i["aria-selected"],index:e,inputValue:xt},Pt)},_t=null!=(s=et.clearIndicator)?s:b.clearIndicator,Vt=null!=(n=et.paper)?n:b.paper,Bt=null!=(r=et.popper)?r:b.popper,Ot=null!=(o=et.popupIndicator)?o:b.popupIndicator,Ut=t=>(0,oM.jsx)(g_,(0,pM.A)({as:Y,disablePortal:k,style:{width:vt?vt.clientWidth:null},ownerState:Pt,role:"presentation",anchorEl:vt,open:gt},Bt,{className:(0,gM.A)(Ft.popper,null==Bt?void 0:Bt.className),children:(0,oM.jsx)(m_,(0,pM.A)({ownerState:Pt,as:j},Vt,{className:(0,gM.A)(Ft.paper,null==Vt?void 0:Vt.className),children:t}))}));let Ht=null;return St.length>0?Ht=Ut((0,oM.jsx)(b_,(0,pM.A)({as:_,className:Ft.listbox,ownerState:Pt},Et,V,{ref:Tt,children:St.map(((t,e)=>D?Lt({key:t.key,group:t.group,children:t.options.map(((e,i)=>Nt(e,t.index+i)))}):Nt(t,e)))}))):B&&0===St.length?Ht=Ut((0,oM.jsx)(y_,{className:Ft.loading,ownerState:Pt,children:O})):0!==St.length||T||B||(Ht=Ut((0,oM.jsx)(v_,{className:Ft.noOptions,ownerState:Pt,role:"presentation",onMouseDown:t=>{t.preventDefault()},children:H}))),(0,oM.jsxs)(t.Fragment,{children:[(0,oM.jsx)(u_,(0,pM.A)({ref:i,className:(0,gM.A)(Ft.root,f),ownerState:Pt},st(it),{children:K({id:pt,disabled:w,fullWidth:!0,size:"small"===tt?"small":void 0,InputLabelProps:rt(),InputProps:(0,pM.A)({ref:bt,className:Ft.inputRoot,startAdornment:Dt,onClick:t=>{t.target===t.currentTarget&&Ct(t)}},(At||wt)&&{endAdornment:(0,oM.jsxs)(d_,{className:Ft.endAdornment,ownerState:Pt,children:[At?(0,oM.jsx)(f_,(0,pM.A)({},at(),{"aria-label":y,title:y,ownerState:Pt},_t,{className:(0,gM.A)(Ft.clearIndicator,null==_t?void 0:_t.className),children:p})):null,wt?(0,oM.jsx)(p_,(0,pM.A)({},ot(),{disabled:w,"aria-label":gt?v:W,title:gt?v:W,ownerState:Pt},Ot,{className:(0,gM.A)(Ft.popupIndicator,null==Ot?void 0:Ot.className),children:X})):null]})}),inputProps:(0,pM.A)({className:Ft.input,disabled:w,readOnly:q},nt())})})),vt?Ht:null]})})),w_=A_,C_=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"];function M_(e){const{item:i,applyValue:s,type:n,apiRef:r,focusElementRef:o,color:a,error:l,helperText:h,size:c,variant:u="standard"}=e,d=(0,fM.A)(e,C_),f={color:a,error:l,helperText:h,size:c,variant:u},[p,g]=t.useState(i.value||[]),m=(0,eF.A)(),y=bz();t.useEffect((()=>{var t;const e=null!==(t=i.value)&&void 0!==t?t:[];g(e.map(String))}),[i.value]);const v=t.useCallback(((t,e)=>{g(e.map(String)),s((0,pM.A)({},i,{value:[...e]}))}),[s,i]);return(0,oM.jsx)(w_,(0,pM.A)({multiple:!0,freeSolo:!0,options:[],filterOptions:(t,e)=>{const{inputValue:i}=e;return null==i||""===i?[]:[i]},id:m,value:p,onChange:v,renderTags:(t,e)=>t.map(((t,i)=>(0,oM.jsx)(y.slots.baseChip,(0,pM.A)({variant:"outlined",size:"small",label:t},e({index:i}))))),renderInput:t=>{var e;return(0,oM.jsx)(y.slots.baseTextField,(0,pM.A)({},t,{label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:(0,pM.A)({},t.InputLabelProps,{shrink:!0}),inputRef:o,type:n||"text"},f,null===(e=y.slotProps)||void 0===e?void 0:e.baseTextField))}},d))}var k_=function(t){return t.And="and",t.Or="or",t}(k_||{});const R_=()=>({items:[],logicOperator:k_.And,quickFilterValues:[],quickFilterLogicOperator:k_.And});function E_(t){return{current:t.current.getPublicApi()}}let T_;const I_=(t,e)=>{const i=(0,pM.A)({},t);if(null==i.id&&(i.id=Math.round(1e5*Math.random())),null==i.operator){const t=Bz(e)[i.field];i.operator=t&&t.filterOperators[0].value}return i},P_=(t,e,i)=>{const s=t.items.length>1;let n;n=s&&e?[t.items[0]]:t.items;const r=s&&n.some((t=>null==t.id));return n.some((t=>null==t.operator))||r?(0,pM.A)({},t,{items:n.map((t=>I_(t,i)))}):t.items!==n?(0,pM.A)({},t,{items:n}):t},F_=(t,e,i)=>s=>(0,pM.A)({},s,{filterModel:P_(t,e,i)}),D_=t=>"string"===typeof t?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t,L_=(t,e)=>{if(!t.field||!t.operator)return null;const i=e.current.getColumn(t.field);if(!i)return null;let s;if(i.valueParser){var n;const r=i.valueParser;s=Array.isArray(t.value)?null===(n=t.value)||void 0===n?void 0:n.map((t=>r(t,void 0,i,e))):r(t.value,void 0,i,e)}else s=t.value;const{ignoreDiacritics:r}=e.current.rootProps;r&&(s=D_(s));const o=(0,pM.A)({},t,{value:s}),a=i.filterOperators;if(null===a||void 0===a||!a.length)throw new Error("MUI X: No filter operators found for column '".concat(i.field,"'."));const l=a.find((t=>t.value===o.operator));if(!l)throw new Error("MUI X: No filter operator found for column '".concat(i.field,"' and operator value '").concat(o.operator,"'."));const h=E_(e),c=l.getApplyFilterFn(o,i);return"function"!==typeof c?null:{item:o,fn:t=>{let s=e.current.getRowValue(t,i);return r&&(s=D_(s)),c(s,t,i,h)}}};let z_=1;const N_=(t,e,i)=>{const{items:s}=t,n=s.map((t=>L_(t,e))).filter((t=>!!t));if(0===n.length)return null;if(i||!function(){if(void 0!==T_)return T_;try{T_=new Function("return true")()}catch(Zr){T_=!1}return T_}())return(t,e)=>{const i={};for(let s=0;s<n.length;s+=1){const r=n[s];e&&!e(r.item.field)||(i[r.item.id]=r.fn(t))}return i};const r=new Function("appliers","row","shouldApplyFilter",'"use strict";\n'.concat(n.map(((t,e)=>"const shouldApply".concat(e," = !shouldApplyFilter || shouldApplyFilter(").concat(JSON.stringify(t.item.field),");"))).join("\n"),"\n\nconst result$$ = {\n").concat(n.map(((t,e)=>"  ".concat(JSON.stringify(String(t.item.id)),": !shouldApply").concat(e," ? false : appliers[").concat(e,"].fn(row),"))).join("\n"),"\n};\n\nreturn result$$;").replaceAll("$$",String(z_)));z_+=1;return(t,e)=>r(n,t,e)},__=t=>{var e;return null===(e=t.quickFilterExcludeHiddenColumns)||void 0===e||e},V_=(t,e,i)=>{const s=N_(t,e,i),n=((t,e)=>{var i,s;const n=null!==(i=null===(s=t.quickFilterValues)||void 0===s?void 0:s.filter(Boolean))&&void 0!==i?i:[];if(0===n.length)return null;const r=__(t)?Gz(e):Vz(e),o=[],{ignoreDiacritics:a}=e.current.rootProps,l=E_(e);return r.forEach((t=>{const i=e.current.getColumn(t),s=null===i||void 0===i?void 0:i.getApplyQuickFilterFn;s&&o.push({column:i,appliers:n.map((t=>{const e=a?D_(t):t;return{fn:s(e,i,l)}}))})})),function(t,i){const s={};t:for(let r=0;r<n.length;r+=1){const h=n[r];for(let n=0;n<o.length;n+=1){const{column:c,appliers:u}=o[n],{field:d}=c;if(i&&!i(d))continue;const f=u[r];let p=e.current.getRowValue(t,c);if(null!==f.fn&&(a&&(p=D_(p)),f.fn(p,t,c,l))){s[h]=!0;continue t}}s[h]=!1}return s}})(t,e);return function(t,e,i){var r,o;i.passingFilterItems=null!==(r=null===s||void 0===s?void 0:s(t,e))&&void 0!==r?r:null,i.passingQuickFilterValues=null!==(o=null===n||void 0===n?void 0:n(t,e))&&void 0!==o?o:null}},B_=t=>null!=t,O_=(t,e,i,s,n)=>{const r=((t,e,i)=>(t.cleanedFilterItems||(t.cleanedFilterItems=i.filter((t=>null!==L_(t,e)))),t.cleanedFilterItems))(n,s,i.items),o=t.filter(B_),a=e.filter(B_);if(o.length>0){var l;const t=t=>o.some((e=>e[t.id]));if((null!==(l=i.logicOperator)&&void 0!==l?l:R_().logicOperator)===k_.And){if(!r.every(t))return!1}else{if(!r.some(t))return!1}}if(a.length>0&&null!=i.quickFilterValues){var h;const t=t=>a.some((e=>e[t]));if((null!==(h=i.quickFilterLogicOperator)&&void 0!==h?h:R_().quickFilterLogicOperator)===k_.And){if(!i.quickFilterValues.every(t))return!1}else{if(!i.quickFilterValues.some(t))return!1}}return!0},U_={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:(t,e)=>{const i=mN(t,e);return null!==i?i:"string"===typeof t?yN.compare(t.toString(),e.toString()):t-e},type:"string",align:"left",filterOperators:function(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return[{value:"contains",getApplyFilterFn:e=>{if(!e.value)return null;const i=t?e.value:e.value.trim(),s=new RegExp(CN(i),"i");return t=>null!=t&&s.test(String(t))},InputComponent:SN},{value:"equals",getApplyFilterFn:e=>{if(!e.value)return null;const i=t?e.value:e.value.trim(),s=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return t=>null!=t&&0===s.compare(i,t.toString())},InputComponent:SN},{value:"startsWith",getApplyFilterFn:e=>{if(!e.value)return null;const i=t?e.value:e.value.trim(),s=new RegExp("^".concat(CN(i),".*$"),"i");return t=>null!=t&&s.test(t.toString())},InputComponent:SN},{value:"endsWith",getApplyFilterFn:e=>{if(!e.value)return null;const i=t?e.value:e.value.trim(),s=new RegExp(".*".concat(CN(i),"$"),"i");return t=>null!=t&&s.test(t.toString())},InputComponent:SN},{value:"isEmpty",getApplyFilterFn:()=>t=>""===t||null==t,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>""!==t&&null!=t,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||0===e.value.length)return null;const i=t?e.value:e.value.map((t=>t.trim())),s=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return t=>null!=t&&i.some((e=>0===s.compare(e,t.toString()||"")))},InputComponent:M_}]}(),renderEditCell:t=>(0,oM.jsx)(dN,(0,pM.A)({},t)),getApplyQuickFilterFn:t=>{if(!t)return null;const e=new RegExp(CN(t),"i");return(t,i,s,n)=>{let r=n.current.getRowFormattedValue(i,s);return n.current.ignoreDiacritics&&(r=D_(r)),null!=r&&e.test(r.toString())}}},H_=t=>null==t?null:Number(t),G_=(0,pM.A)({},U_,{type:"number",align:"right",headerAlign:"right",sortComparator:vN,valueParser:t=>""===t?null:Number(t),valueFormatter:t=>function(t){return"number"===typeof t&&!Number.isNaN(t)}(t)?t.toLocaleString():t||"",filterOperators:[{value:"=",getApplyFilterFn:t=>null==t.value||Number.isNaN(t.value)?null:e=>H_(e)===t.value,InputComponent:SN,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:t=>null==t.value||Number.isNaN(t.value)?null:e=>H_(e)!==t.value,InputComponent:SN,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:t=>null==t.value||Number.isNaN(t.value)?null:e=>null!=e&&H_(e)>t.value,InputComponent:SN,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:t=>null==t.value||Number.isNaN(t.value)?null:e=>null!=e&&H_(e)>=t.value,InputComponent:SN,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:t=>null==t.value||Number.isNaN(t.value)?null:e=>null!=e&&H_(e)<t.value,InputComponent:SN,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:t=>null==t.value||Number.isNaN(t.value)?null:e=>null!=e&&H_(e)<=t.value,InputComponent:SN,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>t=>null==t,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>null!=t,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>Array.isArray(t.value)&&0!==t.value.length?e=>null!=e&&t.value.includes(Number(e)):null,InputComponent:M_,InputComponentProps:{type:"number"}}],getApplyQuickFilterFn:t=>null==t||Number.isNaN(t)||""===t?null:e=>H_(e)===H_(t)}),W_=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function j_(t,e){if(null==t)return"";const i=new Date(t);return Number.isNaN(i.getTime())?"":"date"===e?i.toISOString().substring(0,10):"datetime-local"===e?(i.setMinutes(i.getMinutes()-i.getTimezoneOffset()),i.toISOString().substring(0,19)):i.toISOString().substring(0,10)}function Y_(e){var i;const{item:s,applyValue:n,type:r,apiRef:o,focusElementRef:a,InputProps:l,clearButton:h,tabIndex:c,disabled:u}=e,d=(0,fM.A)(e,W_),f=(0,$R.A)(),[p,g]=t.useState((()=>j_(s.value,r))),[m,y]=t.useState(!1),v=(0,eF.A)(),b=bz(),x=t.useCallback((t=>{f.clear();const e=t.target.value;g(e),y(!0),f.start(b.filterDebounceMs,(()=>{const t=new Date(e);n((0,pM.A)({},s,{value:Number.isNaN(t.getTime())?void 0:t})),y(!1)}))}),[n,s,b.filterDebounceMs,f]);return t.useEffect((()=>{const t=j_(s.value,r);g(t)}),[s.value,r]),(0,oM.jsx)(b.slots.baseTextField,(0,pM.A)({fullWidth:!0,id:v,label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),value:p,onChange:x,variant:"standard",type:r||"text",InputLabelProps:{shrink:!0},inputRef:a,InputProps:(0,pM.A)({},m||h?{endAdornment:m?(0,oM.jsx)(b.slots.loadIcon,{fontSize:"small",color:"action"}):h}:{},{disabled:u},l,{inputProps:(0,pM.A)({max:"datetime-local"===r?"9999-12-31T23:59":"9999-12-31",tabIndex:c},null===l||void 0===l?void 0:l.inputProps)})},d,null===(i=b.slotProps)||void 0===i?void 0:i.baseTextField))}function X_(t,e,i,s){if(!t.value)return null;const n=new Date(t.value);i?n.setSeconds(0,0):(n.setMinutes(n.getMinutes()+n.getTimezoneOffset()),n.setHours(0,0,0,0));const r=n.getTime();return t=>{if(!t)return!1;if(s)return e(t.getTime(),r);const n=new Date(t);return i?n.setSeconds(0,0):n.setHours(0,0,0,0),e(n.getTime(),r)}}const q_=t=>[{value:"is",getApplyFilterFn:e=>X_(e,((t,e)=>t===e),t),InputComponent:Y_,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"not",getApplyFilterFn:e=>X_(e,((t,e)=>t!==e),t),InputComponent:Y_,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"after",getApplyFilterFn:e=>X_(e,((t,e)=>t>e),t),InputComponent:Y_,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:e=>X_(e,((t,e)=>t>=e),t),InputComponent:Y_,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"before",getApplyFilterFn:e=>X_(e,((t,e)=>t<e),t,!t),InputComponent:Y_,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:e=>X_(e,((t,e)=>t<=e),t),InputComponent:Y_,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>t=>null==t,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>null!=t,requiresFilterValue:!1}],J_=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],K_=(0,BM.Ay)(kF)({fontSize:"inherit"});function Z_(e){const{id:i,value:s,field:n,colDef:r,hasFocus:o,inputProps:a,onValueChange:l}=e,h=(0,fM.A)(e,J_),c="dateTime"===r.type,u=$z(),d=t.useRef(),f=t.useMemo((()=>{let t,e;if(t=null==s?null:s instanceof Date?s:new Date((null!==s&&void 0!==s?s:"").toString()),null==t||Number.isNaN(t.getTime()))e="";else{e=new Date(t.getTime()-60*t.getTimezoneOffset()*1e3).toISOString().substr(0,c?16:10)}return{parsed:t,formatted:e}}),[s,c]),[p,g]=t.useState(f),m=(t=>{const{classes:e}=t;return(0,mM.A)({root:["editInputCell"]},tz,e)})({classes:bz().classes}),y=t.useCallback((t=>{if(""===t)return null;const[e,i]=t.split("T"),[s,n,r]=e.split("-"),o=new Date;if(o.setFullYear(Number(s),Number(n)-1,Number(r)),o.setHours(0,0,0,0),i){const[t,e]=i.split(":");o.setHours(Number(t),Number(e),0,0)}return o}),[]),v=t.useCallback((async t=>{const e=t.target.value,s=y(e);l&&await l(t,s),g({parsed:s,formatted:e}),u.current.setEditCellValue({id:i,field:n,value:s},t)}),[u,n,i,l,y]);return t.useEffect((()=>{g((t=>{var e,i;return f.parsed!==t.parsed&&(null===(e=f.parsed)||void 0===e?void 0:e.getTime())!==(null===(i=t.parsed)||void 0===i?void 0:i.getTime())?f:t}))}),[f]),(0,NM.A)((()=>{o&&d.current.focus()}),[o]),(0,oM.jsx)(K_,(0,pM.A)({inputRef:d,fullWidth:!0,className:m.root,type:c?"datetime-local":"date",inputProps:(0,pM.A)({max:c?"9999-12-31T23:59":"9999-12-31"},a),value:p.formatted,onChange:v},h))}const Q_=t=>(0,oM.jsx)(Z_,(0,pM.A)({},t));function $_(t){let{value:e,columnType:i,rowId:s,field:n}=t;if(!(e instanceof Date))throw new Error(["MUI X: `".concat(i,"` column type only accepts `Date` objects as values."),"Use `valueGetter` to transform the value into a `Date` object.","Row ID: ".concat(s,', field: "').concat(n,'".')].join("\n"))}const tV=(0,pM.A)({},U_,{type:"date",sortComparator:bN,valueFormatter:(t,e,i,s)=>{if(!t)return"";return $_({value:t,columnType:"date",rowId:s.current.getRowId(e),field:i.field}),t.toLocaleDateString()},filterOperators:q_(),renderEditCell:Q_,pastedValueParser:t=>new Date(t)}),eV=(0,pM.A)({},U_,{type:"dateTime",sortComparator:bN,valueFormatter:(t,e,i,s)=>{if(!t)return"";return $_({value:t,columnType:"dateTime",rowId:s.current.getRowId(e),field:i.field}),t.toLocaleString()},filterOperators:q_(!0),renderEditCell:Q_,pastedValueParser:t=>new Date(t)}),iV=t=>t.rows,sV=Ez(iV,(t=>t.totalRowCount)),nV=Ez(iV,(t=>t.loading)),rV=Ez(iV,(t=>t.totalTopLevelRowCount)),oV=Ez(iV,(t=>t.dataRowIdToModelLookup)),aV=Ez(iV,(t=>t.dataRowIdToIdLookup)),lV=Ez(iV,(t=>t.tree)),hV=Ez(iV,(t=>t.groupsToFetch)),cV=Ez(iV,(t=>t.groupingName)),uV=Ez(iV,(t=>t.treeDepths)),dV=Tz(iV,(t=>{const e=Object.entries(t.treeDepths);return 0===e.length?1:e.filter((t=>{let[,e]=t;return e>0})).map((t=>{let[e]=t;return Number(e)})).sort(((t,e)=>e-t))[0]+1})),fV=Ez(iV,(t=>t.dataRowIds)),pV=Tz(Ez(iV,(t=>null===t||void 0===t?void 0:t.additionalRowGroups)),(t=>{var e,i,s,n;const r=null===t||void 0===t?void 0:t.pinnedRows;return{bottom:null!==(e=null===r||void 0===r||null===(i=r.bottom)||void 0===i?void 0:i.map((t=>{var e;return{id:t.id,model:null!==(e=t.model)&&void 0!==e?e:{}}})))&&void 0!==e?e:[],top:null!==(s=null===r||void 0===r||null===(n=r.top)||void 0===n?void 0:n.map((t=>{var e;return{id:t.id,model:null!==(e=t.model)&&void 0!==e?e:{}}})))&&void 0!==s?s:[]}})),gV=Ez(pV,(t=>{var e,i;return((null===t||void 0===t||null===(e=t.top)||void 0===e?void 0:e.length)||0)+((null===t||void 0===t||null===(i=t.bottom)||void 0===i?void 0:i.length)||0)})),mV="auto-generated-group-node-root",yV=Symbol("mui.id_autogenerated");const vV=(t,e,i)=>{const s=e?e(t):t.id;return function(t,e){if(null==t)throw new Error(["MUI X: The data grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",arguments.length>2&&void 0!==arguments[2]?arguments[2]:"A row was provided without id in the rows prop:",JSON.stringify(e)].join("\n"))}(s,t,i),s},bV=t=>{let{rows:e,getRowId:i,loading:s,rowCount:n}=t;const r={type:"full",rows:[]},o={},a={};for(let l=0;l<e.length;l+=1){const t=e[l],s=vV(t,i);o[s]=t,a[s]=s,r.rows.push(s)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:s,rowCountPropBeforePartialUpdates:n,updates:r,dataRowIdToIdLookup:a,dataRowIdToModelLookup:o}},xV=t=>{let{tree:e,rowCountProp:i=0}=t;const s=e[mV];return Math.max(i,s.children.length+(null==s.footerId?0:1))},SV=t=>{let{apiRef:e,rowCountProp:i=0,loadingProp:s,previousTree:n,previousTreeDepths:r,previousGroupsToFetch:o}=t;const a=e.current.caches.rows,{tree:l,treeDepths:h,dataRowIds:c,groupingName:u,groupsToFetch:d=[]}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:n,previousTreeDepths:r,updates:a.updates,dataRowIdToIdLookup:a.dataRowIdToIdLookup,dataRowIdToModelLookup:a.dataRowIdToModelLookup,previousGroupsToFetch:o}),f=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:l,treeDepths:h,dataRowIdToIdLookup:a.dataRowIdToIdLookup,dataRowIds:c,dataRowIdToModelLookup:a.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},(0,pM.A)({},f,{totalRowCount:Math.max(i,f.dataRowIds.length),totalTopLevelRowCount:xV({tree:f.tree,rowCountProp:i}),groupingName:u,loading:s,groupsToFetch:d})},AV=t=>"skeletonRow"===t.type||"footer"===t.type||"group"===t.type&&t.isAutoGenerated||"pinnedRow"===t.type&&t.isAutoGenerated,wV=(t,e,i)=>{const s=t[e];if("group"!==s.type)return[];const n=[];for(let r=0;r<s.children.length;r+=1){const e=s.children[r];i&&AV(t[e])||n.push(e);const o=wV(t,e,i);for(let t=0;t<o.length;t+=1)n.push(o[t])}return i||null==s.footerId||n.push(s.footerId),n},CV=t=>{var e,i,s;let{previousCache:n,getRowId:r,updates:o,groupKeys:a}=t;if("full"===n.updates.type)throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const l=new Map;o.forEach((t=>{const e=vV(t,r,"A row was provided without id when calling updateRows():");l.has(e)?l.set(e,(0,pM.A)({},l.get(e),t)):l.set(e,t)}));const h={type:"partial",actions:{insert:[...null!==(e=n.updates.actions.insert)&&void 0!==e?e:[]],modify:[...null!==(i=n.updates.actions.modify)&&void 0!==i?i:[]],remove:[...null!==(s=n.updates.actions.remove)&&void 0!==s?s:[]]},idToActionLookup:(0,pM.A)({},n.updates.idToActionLookup),groupKeys:a},c=(0,pM.A)({},n.dataRowIdToModelLookup),u=(0,pM.A)({},n.dataRowIdToIdLookup),d={insert:{},modify:{},remove:{}};l.forEach(((t,e)=>{const i=h.idToActionLookup[e];if("delete"===t._action){if("remove"===i||!c[e])return;return null!=i&&(d[i][e]=!0),h.actions.remove.push(e),delete c[e],void delete u[e]}const s=c[e];if(s)return"remove"===i?(d.remove[e]=!0,h.actions.modify.push(e)):null==i&&h.actions.modify.push(e),void(c[e]=(0,pM.A)({},s,t));"remove"===i?(d.remove[e]=!0,h.actions.insert.push(e)):null==i&&h.actions.insert.push(e),c[e]=t,u[e]=e}));const f=Object.keys(d);for(let p=0;p<f.length;p+=1){const t=f[p],e=d[t];Object.keys(e).length>0&&(h.actions[t]=h.actions[t].filter((t=>!e[t])))}return{dataRowIdToModelLookup:c,dataRowIdToIdLookup:u,updates:h,rowsBeforePartialUpdates:n.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:n.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:n.rowCountPropBeforePartialUpdates}};function MV(t){const e=fz(t.current.state);return"var(--DataGrid-overlayHeight, ".concat(2*e.rowHeight,"px)")}function kV(t,e,i){const s=[];return e.forEach((e=>{const n=vV(e,i,"A row was provided without id when calling updateRows():"),r=t.current.getRowNode(n);if("pinnedRow"===(null===r||void 0===r?void 0:r.type)){const i=t.current.caches.pinnedRows,s=i.idLookup[n];s&&(i.idLookup[n]=(0,pM.A)({},s,e))}else s.push(e)})),s}const RV=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"];function EV(e){const{value:i}=e,s=(0,fM.A)(e,RV),n=$z(),r=bz(),o=(t=>{const{classes:e}=t;return(0,mM.A)({root:["booleanCell"]},tz,e)})({classes:r.classes}),a=t.useMemo((()=>i?r.slots.booleanCellTrueIcon:r.slots.booleanCellFalseIcon),[r.slots.booleanCellFalseIcon,r.slots.booleanCellTrueIcon,i]);return(0,oM.jsx)(a,(0,pM.A)({fontSize:"small",className:o.root,titleAccess:n.current.getLocaleText(i?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":Boolean(i)},s))}const TV=t.memo(EV),IV=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"];function PV(e){var i;const{id:s,value:n,field:r,className:o,hasFocus:a,onValueChange:l}=e,h=(0,fM.A)(e,IV),c=$z(),u=t.useRef(null),d=(0,eF.A)(),[f,p]=t.useState(n),g=bz(),m=(t=>{const{classes:e}=t;return(0,mM.A)({root:["editBooleanCell"]},tz,e)})({classes:g.classes}),y=t.useCallback((async t=>{const e=t.target.checked;l&&await l(t,e),p(e),await c.current.setEditCellValue({id:s,field:r,value:e},t)}),[c,r,s,l]);return t.useEffect((()=>{p(n)}),[n]),(0,NM.A)((()=>{a&&u.current.focus()}),[a]),(0,oM.jsx)("label",(0,pM.A)({htmlFor:d,className:(0,gM.A)(m.root,o)},h,{children:(0,oM.jsx)(g.slots.baseCheckbox,(0,pM.A)({id:d,inputRef:u,checked:Boolean(f),onChange:y,size:"small"},null===(i=g.slotProps)||void 0===i?void 0:i.baseCheckbox))}))}const FV=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],DV=(0,BM.Ay)("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function LV(e){var i,s,n,r;const{item:o,applyValue:a,apiRef:l,focusElementRef:h,clearButton:c,tabIndex:u,label:d,variant:f="standard"}=e,p=(0,fM.A)(e,FV),[g,m]=t.useState(o.value||""),y=bz(),v=(0,eF.A)(),b=(0,eF.A)(),x=(null===(i=y.slotProps)||void 0===i?void 0:i.baseSelect)||{},S=null!==(s=x.native)&&void 0!==s&&s,A=(null===(n=y.slotProps)||void 0===n?void 0:n.baseSelectOption)||{},w=t.useCallback((t=>{const e=t.target.value;m(e),a((0,pM.A)({},o,{value:e}))}),[a,o]);t.useEffect((()=>{m(o.value||"")}),[o.value]);const C=null!==d&&void 0!==d?d:l.current.getLocaleText("filterPanelInputLabel");return(0,oM.jsxs)(DV,{children:[(0,oM.jsxs)(y.slots.baseFormControl,{fullWidth:!0,children:[(0,oM.jsx)(y.slots.baseInputLabel,(0,pM.A)({},null===(r=y.slotProps)||void 0===r?void 0:r.baseInputLabel,{id:v,shrink:!0,variant:f,children:C})),(0,oM.jsxs)(y.slots.baseSelect,(0,pM.A)({labelId:v,id:b,label:C,value:g,onChange:w,variant:f,notched:"outlined"===f||void 0,native:S,displayEmpty:!0,inputProps:{ref:h,tabIndex:u}},p,x,{children:[(0,oM.jsx)(y.slots.baseSelectOption,(0,pM.A)({},A,{native:S,value:"",children:l.current.getLocaleText("filterValueAny")})),(0,oM.jsx)(y.slots.baseSelectOption,(0,pM.A)({},A,{native:S,value:"true",children:l.current.getLocaleText("filterValueTrue")})),(0,oM.jsx)(y.slots.baseSelectOption,(0,pM.A)({},A,{native:S,value:"false",children:l.current.getLocaleText("filterValueFalse")}))]}))]}),c]})}const zV=(0,pM.A)({},U_,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:t=>"__row_group_by_columns_group__"!==t.field&&AV(t.rowNode)?"":(0,oM.jsx)(TV,(0,pM.A)({},t)),renderEditCell:t=>(0,oM.jsx)(PV,(0,pM.A)({},t)),sortComparator:vN,valueFormatter:(t,e,i,s)=>t?s.current.getLocaleText("booleanCellTrueLabel"):s.current.getLocaleText("booleanCellFalseLabel"),filterOperators:[{value:"is",getApplyFilterFn:t=>{if(!t.value)return null;const e="true"===String(t.value);return t=>Boolean(t)===e},InputComponent:LV}],getApplyQuickFilterFn:void 0,aggregable:!1,pastedValueParser:t=>(t=>{switch(t.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}})(t)});var NV=function(t){return t.enterKeyDown="enterKeyDown",t.cellDoubleClick="cellDoubleClick",t.printableKeyDown="printableKeyDown",t.deleteKeyDown="deleteKeyDown",t.pasteKeyDown="pasteKeyDown",t}(NV||{}),_V=function(t){return t.cellFocusOut="cellFocusOut",t.escapeKeyDown="escapeKeyDown",t.enterKeyDown="enterKeyDown",t.tabKeyDown="tabKeyDown",t.shiftTabKeyDown="shiftTabKeyDown",t}(_V||{});const VV=t=>"Escape"===t,BV=t=>"Tab"===t;function OV(t){return 1===t.key.length&&!t.ctrlKey&&!t.metaKey}const UV=t=>0===t.indexOf("Arrow")||0===t.indexOf("Page")||" "===t||"Home"===t||"End"===t;function HV(t){return!(!t.ctrlKey&&!t.metaKey||"v"!==t.key.toLowerCase()||t.shiftKey||t.altKey)}var GV=function(t){return t.Cell="cell",t.Row="row",t}(GV||{}),WV=function(t){return t.Edit="edit",t.View="view",t}(WV||{}),jV=function(t){return t.Edit="edit",t.View="view",t}(jV||{});function YV(t){return"singleSelect"===(null===t||void 0===t?void 0:t.type)}function XV(t,e){if(t)return"function"===typeof t.valueOptions?t.valueOptions((0,pM.A)({field:t.field},e)):t.valueOptions}function qV(t,e,i){if(void 0===e)return;const s=e.find((e=>{const s=i(e);return String(s)===String(t)}));return i(s)}const JV=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],KV=["MenuProps"];function ZV(e){var i,s,n;const r=bz(),{id:o,value:a,field:l,row:h,colDef:c,hasFocus:u,error:d,onValueChange:f,initialOpen:p=r.editMode===GV.Cell}=e,g=(0,fM.A)(e,JV),m=$z(),y=t.useRef(),v=t.useRef(),[b,x]=t.useState(p),S=null!==(s=((null===(i=r.slotProps)||void 0===i?void 0:i.baseSelect)||{}).native)&&void 0!==s&&s,A=(null===(n=r.slotProps)||void 0===n?void 0:n.baseSelect)||{},{MenuProps:w}=A,C=(0,fM.A)(A,KV);if((0,NM.A)((()=>{var t;u&&(null===(t=v.current)||void 0===t||t.focus())}),[u]),!YV(c))return null;const M=XV(c,{id:o,row:h});if(!M)return null;const k=c.getOptionValue,R=c.getOptionLabel;return M&&c?(0,oM.jsx)(r.slots.baseSelect,(0,pM.A)({ref:y,inputRef:v,value:a,onChange:async t=>{if(!YV(c)||!M)return;x(!1);const e=qV(t.target.value,M,k);f&&await f(t,e),await m.current.setEditCellValue({id:o,field:l,value:e},t)},open:b,onOpen:t=>{(function(t){return!!t.key})(t)&&"Enter"===t.key||x(!0)},MenuProps:(0,pM.A)({onClose:(t,e)=>{if(r.editMode!==GV.Row){if("backdropClick"===e||VV(t.key)){const e=m.current.getCellParams(o,l);m.current.publishEvent("cellEditStop",(0,pM.A)({},e,{reason:VV(t.key)?_V.escapeKeyDown:_V.cellFocusOut}))}}else x(!1)}},w),error:d,native:S,fullWidth:!0},g,C,{children:M.map((e=>{var i;const s=k(e);return(0,t.createElement)(r.slots.baseSelectOption,(0,pM.A)({},(null===(i=r.slotProps)||void 0===i?void 0:i.baseSelectOption)||{},{native:S,key:s,value:s}),R(e))}))})):null}const QV=["item","applyValue","type","apiRef","focusElementRef","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],$V=e=>{let{column:i,OptionComponent:s,getOptionLabel:n,getOptionValue:r,isSelectNative:o,baseSelectOptionProps:a}=e;return["",...XV(i)||[]].map((e=>{const i=r(e);let l=n(e);return""===l&&(l="\u2003"),(0,t.createElement)(s,(0,pM.A)({},a,{native:o,key:i,value:i}),l)}))},tB=(0,BM.Ay)("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function eB(e){var i,s,n,r,o,a,l,h;const{item:c,applyValue:u,type:d,apiRef:f,focusElementRef:p,placeholder:g,tabIndex:m,label:y,variant:v="standard",clearButton:b}=e,x=(0,fM.A)(e,QV),S=null!==(i=c.value)&&void 0!==i?i:"",A=(0,eF.A)(),w=(0,eF.A)(),C=bz(),M=null!==(s=null===(n=C.slotProps)||void 0===n||null===(n=n.baseSelect)||void 0===n?void 0:n.native)&&void 0!==s&&s;let k=null;if(c.field){const t=f.current.getColumn(c.field);YV(t)&&(k=t)}const R=null===(r=k)||void 0===r?void 0:r.getOptionValue,E=null===(o=k)||void 0===o?void 0:o.getOptionLabel,T=t.useMemo((()=>XV(k)),[k]),I=t.useCallback((t=>{let e=t.target.value;e=qV(e,T,R),u((0,pM.A)({},c,{value:e}))}),[T,R,u,c]);if(!YV(k))return null;const P=null!==y&&void 0!==y?y:f.current.getLocaleText("filterPanelInputLabel");return(0,oM.jsxs)(tB,{children:[(0,oM.jsxs)(C.slots.baseFormControl,{fullWidth:!0,children:[(0,oM.jsx)(C.slots.baseInputLabel,(0,pM.A)({},null===(a=C.slotProps)||void 0===a?void 0:a.baseInputLabel,{id:w,htmlFor:A,shrink:!0,variant:v,children:P})),(0,oM.jsx)(C.slots.baseSelect,(0,pM.A)({id:A,label:P,labelId:w,value:S,onChange:I,variant:v,type:d||"text",inputProps:{tabIndex:m,ref:p,placeholder:null!==g&&void 0!==g?g:f.current.getLocaleText("filterPanelInputPlaceholder")},native:M,notched:"outlined"===v||void 0},x,null===(l=C.slotProps)||void 0===l?void 0:l.baseSelect,{children:$V({column:k,OptionComponent:C.slots.baseSelectOption,getOptionLabel:E,getOptionValue:R,isSelectNative:M,baseSelectOptionProps:null===(h=C.slotProps)||void 0===h?void 0:h.baseSelectOption})}))]}),b]})}const iB=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],sB=["key"],nB=PN();function rB(e){var i,s;const{item:n,applyValue:r,apiRef:o,focusElementRef:a,color:l,error:h,helperText:c,size:u,variant:d="standard"}=e,f=(0,fM.A)(e,iB),p={color:l,error:h,helperText:c,size:u,variant:d},g=(0,eF.A)(),m=bz();let y=null;if(n.field){const t=o.current.getColumn(n.field);YV(t)&&(y=t)}const v=null===(i=y)||void 0===i?void 0:i.getOptionValue,b=null===(s=y)||void 0===s?void 0:s.getOptionLabel,x=t.useCallback(((t,e)=>v(t)===v(e)),[v]),S=t.useMemo((()=>XV(y)||[]),[y]),A=t.useMemo((()=>Array.isArray(n.value)?n.value.reduce(((t,e)=>{const i=S.find((t=>v(t)===e));return null!=i&&t.push(i),t}),[]):[]),[v,n.value,S]),w=t.useCallback(((t,e)=>{r((0,pM.A)({},n,{value:e.map(v)}))}),[r,n,v]);return(0,oM.jsx)(w_,(0,pM.A)({multiple:!0,options:S,isOptionEqualToValue:x,filterOptions:nB,id:g,value:A,onChange:w,getOptionLabel:b,renderTags:(t,e)=>t.map(((t,i)=>{const s=e({index:i}),{key:n}=s,r=(0,fM.A)(s,sB);return(0,oM.jsx)(m.slots.baseChip,(0,pM.A)({variant:"outlined",size:"small",label:b(t)},r),n)})),renderInput:t=>{var e;return(0,oM.jsx)(m.slots.baseTextField,(0,pM.A)({},t,{label:o.current.getLocaleText("filterPanelInputLabel"),placeholder:o.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:(0,pM.A)({},t.InputLabelProps,{shrink:!0}),inputRef:a,type:"singleSelect"},p,null===(e=m.slotProps)||void 0===e?void 0:e.baseTextField))}},f))}const oB=t=>null!=t&&wN(t)?t.value:t,aB=(0,pM.A)({},U_,{type:"singleSelect",getOptionLabel:t=>wN(t)?t.label:String(t),getOptionValue:t=>wN(t)?t.value:t,valueFormatter(t,e,i,s){const n=s.current.getRowId(e);if(!YV(i))return"";const r=XV(i,{id:n,row:e});if(null==t)return"";if(!r)return t;if("object"!==typeof r[0])return i.getOptionLabel(t);const o=r.find((e=>i.getOptionValue(e)===t));return o?i.getOptionLabel(o):""},renderEditCell:t=>(0,oM.jsx)(ZV,(0,pM.A)({},t)),filterOperators:[{value:"is",getApplyFilterFn:t=>null==t.value||""===t.value?null:e=>oB(e)===oB(t.value),InputComponent:eB},{value:"not",getApplyFilterFn:t=>null==t.value||""===t.value?null:e=>oB(e)!==oB(t.value),InputComponent:eB},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||0===t.value.length)return null;const e=t.value.map(oB);return t=>e.includes(oB(t))},InputComponent:rB}],pastedValueParser:(t,e,i)=>{const s=i,n=XV(s)||[],r=s.getOptionValue;if(n.find((e=>r(e)===t)))return t}});function lB(t){return t.substring(2).toLowerCase()}function hB(e){const{children:i,disableReactTree:s=!1,mouseEvent:n="onClick",onClickAway:r,touchEvent:o="onTouchEnd"}=e,a=t.useRef(!1),l=t.useRef(null),h=t.useRef(!1),c=t.useRef(!1);t.useEffect((()=>(setTimeout((()=>{h.current=!0}),0),()=>{h.current=!1})),[]);const u=(0,SM.A)(i.ref,l),d=(0,Sk.A)((t=>{const e=c.current;c.current=!1;const i=(0,IM.A)(l.current);if(!h.current||!l.current||"clientX"in t&&function(t,e){return e.documentElement.clientWidth<t.clientX||e.documentElement.clientHeight<t.clientY}(t,i))return;if(a.current)return void(a.current=!1);let n;n=t.composedPath?t.composedPath().indexOf(l.current)>-1:!i.documentElement.contains(t.target)||l.current.contains(t.target),n||!s&&e||r(t)})),f=t=>e=>{c.current=!0;const s=i.props[t];s&&s(e)},p={ref:u};return!1!==o&&(p[o]=f(o)),t.useEffect((()=>{if(!1!==o){const t=lB(o),e=(0,IM.A)(l.current),i=()=>{a.current=!0};return e.addEventListener(t,d),e.addEventListener("touchmove",i),()=>{e.removeEventListener(t,d),e.removeEventListener("touchmove",i)}}}),[d,o]),!1!==n&&(p[n]=f(n)),t.useEffect((()=>{if(!1!==n){const t=lB(n),e=(0,IM.A)(l.current);return e.addEventListener(t,d),()=>{e.removeEventListener(t,d)}}}),[d,n]),(0,oM.jsx)(t.Fragment,{children:t.cloneElement(i,p)})}const cB=["open","target","onClose","children","position","className","onExited"],uB=t=>{const{classes:e}=t;return(0,mM.A)({root:["menu"]},tz,e)},dB=(0,BM.Ay)(OP,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(t,e)=>e.menu})((t=>{let{theme:e}=t;return{zIndex:e.zIndex.modal,["& .".concat(ez.menuList)]:{outline:0}}})),fB={"bottom-start":"top left","bottom-end":"top right"};function pB(e){var i;const{open:s,target:n,onClose:r,children:o,position:a,className:l,onExited:h}=e,c=(0,fM.A)(e,cB),u=$z(),d=bz(),f=uB(d),p=t.useRef(null);(0,NM.A)((()=>{var t,e;s?p.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(null===(t=p.current)||void 0===t||null===(e=t.focus)||void 0===e||e.call(t),p.current=null)}),[s]),t.useEffect((()=>{const t=s?"menuOpen":"menuClose";u.current.publishEvent(t,{target:n})}),[u,s,n]);const g=t=>{t.target&&(n===t.target||null!==n&&void 0!==n&&n.contains(t.target))||r(t)};return(0,oM.jsx)(dB,(0,pM.A)({as:d.slots.basePopper,className:(0,gM.A)(l,f.root),ownerState:d,open:s,anchorEl:n,transition:!0,placement:a},c,null===(i=d.slotProps)||void 0===i?void 0:i.basePopper,{children:t=>{let{TransitionProps:e,placement:i}=t;return(0,oM.jsx)(hB,{onClickAway:g,mouseEvent:"onMouseDown",children:(0,oM.jsx)(RT,(0,pM.A)({},e,{style:{transformOrigin:fB[i]},onExited:(s=null===e||void 0===e?void 0:e.onExited,t=>{s&&s(),h&&h(t)}),children:(0,oM.jsx)(Kk,{children:o})}))});var s}}))}const gB=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"];function mB(e){var i;const{colDef:s,id:n,hasFocus:r,tabIndex:o,position:a="bottom-end",focusElementRef:l}=e,h=(0,fM.A)(e,gB),[c,u]=t.useState(-1),[d,f]=t.useState(!1),p=$z(),g=t.useRef(null),m=t.useRef(null),y=t.useRef(!1),v=t.useRef({}),b=ok(),x=(0,eF.A)(),S=(0,eF.A)(),A=bz();if(!(t=>"function"===typeof t.getActions)(s))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const w=s.getActions(p.current.getRowParams(n)),C=w.filter((t=>!t.props.showInMenu)),M=w.filter((t=>t.props.showInMenu)),k=C.length+(M.length?1:0);t.useLayoutEffect((()=>{r||Object.entries(v.current).forEach((t=>{let[e,i]=t;null===i||void 0===i||i.stop({},(()=>{delete v.current[e]}))}))}),[r]),t.useEffect((()=>{if(c<0||!g.current)return;if(c>=g.current.children.length)return;g.current.children[c].focus({preventScroll:!0})}),[c]),t.useEffect((()=>{r||(u(-1),y.current=!1)}),[r]),t.useImperativeHandle(l,(()=>({focus(){if(!y.current){const t=w.findIndex((t=>!t.props.disabled));u(t)}}})),[w]),t.useEffect((()=>{c>=k&&u(k-1)}),[c,k]);const R=()=>{f(!1)},E=t=>e=>{v.current[t]=e},T=(t,e)=>i=>{u(t),y.current=!0,e&&e(i)};return(0,oM.jsxs)("div",(0,pM.A)({role:"menu",ref:g,tabIndex:-1,className:ez.actionsCell,onKeyDown:t=>{if(k<=1)return;const e=(t,i)=>{var s;if(t<0||t>w.length)return t;const n=("left"===i?-1:1)*("rtl"===b.direction?-1:1);return null!==(s=w[t+n])&&void 0!==s&&s.props.disabled?e(t+n,i):t+n};let i=c;"ArrowRight"===t.key?i=e(c,"right"):"ArrowLeft"===t.key&&(i=e(c,"left")),i<0||i>=k||i!==c&&(t.preventDefault(),t.stopPropagation(),u(i))}},h,{children:[C.map(((e,i)=>t.cloneElement(e,{key:i,touchRippleRef:E(i),onClick:T(i,e.props.onClick),tabIndex:c===i?o:-1}))),M.length>0&&S&&(0,oM.jsx)(A.slots.baseIconButton,(0,pM.A)({ref:m,id:S,"aria-label":p.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":d,"aria-controls":d?x:void 0,role:"menuitem",size:"small",onClick:()=>{f(!0),u(k-1),y.current=!0},touchRippleRef:E(S),tabIndex:c===C.length?o:-1},null===(i=A.slotProps)||void 0===i?void 0:i.baseIconButton,{children:(0,oM.jsx)(A.slots.moreActionsIcon,{fontSize:"small"})})),M.length>0&&(0,oM.jsx)(pB,{open:d,target:m.current,position:a,onClose:R,children:(0,oM.jsx)(TD,{id:x,className:ez.menuList,onKeyDown:t=>{"Tab"===t.key&&t.preventDefault(),["Tab","Escape"].includes(t.key)&&R()},"aria-labelledby":S,variant:"menu",autoFocusItem:!0,children:M.map(((e,i)=>t.cloneElement(e,{key:i,closeMenu:R})))})})]}))}const yB="actions",vB=(0,pM.A)({},U_,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:t=>(0,oM.jsx)(mB,(0,pM.A)({},t)),getApplyQuickFilterFn:void 0}),bB=t=>t.headerFiltering,xB=Ez(bB,(t=>{var e;return null!==(e=null===t||void 0===t?void 0:t.enabled)&&void 0!==e&&e})),SB=Ez(bB,(t=>t.editing)),AB=Ez(bB,(t=>t.menuOpen)),wB=t=>t.columnGrouping,CB=Tz(wB,(t=>{var e;return null!==(e=null===t||void 0===t?void 0:t.unwrappedGroupingModel)&&void 0!==e?e:{}})),MB=Tz(wB,(t=>{var e;return null!==(e=null===t||void 0===t?void 0:t.lookup)&&void 0!==e?e:{}})),kB=Tz(wB,(t=>{var e;return null!==(e=null===t||void 0===t?void 0:t.headerStructure)&&void 0!==e?e:[]})),RB=Ez(wB,(t=>{var e;return null!==(e=null===t||void 0===t?void 0:t.maxDepth)&&void 0!==e?e:0})),EB=["maxWidth","minWidth","width","flex"],TB={string:U_,number:G_,date:tV,dateTime:eV,boolean:zV,singleSelect:aB,[yB]:vB,custom:U_};const IB=(t,e)=>{const i={};let s=0,n=0;const r=[];t.orderedFields.forEach((e=>{let o=t.lookup[e],a=0,l=!1;!1!==t.columnVisibilityModel[e]&&(o.flex&&o.flex>0?(s+=o.flex,l=!0):a=MN(o.width||U_.width,o.minWidth||U_.minWidth,o.maxWidth||U_.maxWidth),n+=a),o.computedWidth!==a&&(o=(0,pM.A)({},o,{computedWidth:a})),l&&r.push(o),i[e]=o}));const o=void 0===e?0:e.viewportOuterSize.width-(e.hasScrollY?e.scrollbarSize:0),a=Math.max(o-n,0);if(s>0&&o>0){const t=function(t){let{initialFreeSpace:e,totalFlexUnits:i,flexColumns:s}=t;const n=new Set(s.map((t=>t.field))),r={all:{},frozenFields:[],freeze:t=>{const e=r.all[t];e&&!0!==e.frozen&&(r.all[t].frozen=!0,r.frozenFields.push(t))}};return function t(){if(r.frozenFields.length===n.size)return;const o={min:{},max:{}};let a=e,l=i,h=0;r.frozenFields.forEach((t=>{a-=r.all[t].computedWidth,l-=r.all[t].flex}));for(let e=0;e<s.length;e+=1){const t=s[e];if(r.all[t.field]&&!0===r.all[t.field].frozen)continue;let i=a/l*t.flex;i<t.minWidth?(h+=t.minWidth-i,i=t.minWidth,o.min[t.field]=!0):i>t.maxWidth&&(h+=t.maxWidth-i,i=t.maxWidth,o.max[t.field]=!0),r.all[t.field]={frozen:!1,computedWidth:i,flex:t.flex}}h<0?Object.keys(o.max).forEach((t=>{r.freeze(t)})):h>0?Object.keys(o.min).forEach((t=>{r.freeze(t)})):s.forEach((t=>{let{field:e}=t;r.freeze(e)})),t()}(),r.all}({initialFreeSpace:a,totalFlexUnits:s,flexColumns:r});Object.keys(t).forEach((e=>{i[e].computedWidth=t[e].computedWidth}))}return(0,pM.A)({},t,{lookup:i})};function PB(t){let e=TB.string;return t&&TB[t]&&(e=TB[t]),e}const FB=t=>{var e,i,s;let{apiRef:n,columnsToUpsert:r,initialState:o,columnVisibilityModel:a=Uz(n),keepOnlyColumnsToUpsert:l=!1}=t;const h=!n.current.state.columns;let c;if(h)c={orderedFields:[],lookup:{},columnVisibilityModel:a};else{const t=_z(n.current.state);c={orderedFields:l?[]:[...t.orderedFields],lookup:(0,pM.A)({},t.lookup),columnVisibilityModel:a}}let u={};l&&!h&&(u=Object.keys(c.lookup).reduce(((t,e)=>(0,pM.A)({},t,{[e]:!1})),{}));const d={};r.forEach((t=>{const{field:e}=t;d[e]=!0,u[e]=!0;let i=c.lookup[e];null==i?(i=(0,pM.A)({},PB(t.type),{field:e,hasBeenResized:!1}),c.orderedFields.push(e)):l&&c.orderedFields.push(e),i&&i.type!==t.type&&(i=(0,pM.A)({},PB(t.type),{field:e}));let s=i.hasBeenResized;EB.forEach((e=>{void 0!==t[e]&&(s=!0,-1===t[e]&&(t[e]=1/0))})),c.lookup[e]=(0,pM.A)({},i,t,{hasBeenResized:s})})),l&&!h&&Object.keys(c.lookup).forEach((t=>{u[t]||delete c.lookup[t]}));const f=((t,e)=>{if(!e)return t;const{orderedFields:i=[],dimensions:s={}}=e,n=Object.keys(s);if(0===n.length&&0===i.length)return t;const r={},o=[];for(let h=0;h<i.length;h+=1){const e=i[h];t.lookup[e]&&(r[e]=!0,o.push(e))}const a=0===o.length?t.orderedFields:[...o,...t.orderedFields.filter((t=>!r[t]))],l=(0,pM.A)({},t.lookup);for(let h=0;h<n.length;h+=1){const t=n[h],e=(0,pM.A)({},l[t],{hasBeenResized:!0});Object.entries(s[t]).forEach((t=>{let[i,s]=t;e[i]=-1===s?1/0:s})),l[t]=e}return(0,pM.A)({},t,{orderedFields:a,lookup:l})})(n.current.unstable_applyPipeProcessors("hydrateColumns",c),o);return IB(f,null!==(e=null===(i=(s=n.current).getRootDimensions)||void 0===i?void 0:i.call(s))&&void 0!==e?e:void 0)};function DB(t,e){var i;const s=Fz(t),n=RB(t),r=xB(t);return Math.floor(e.columnHeaderHeight*s)*(1+(null!==n&&void 0!==n?n:0))+(r?Math.floor((null!==(i=e.headerFilterHeight)&&void 0!==i?i:e.columnHeaderHeight)*s):0)}function LB(e){return t.memo(e,rz)}const zB=IR("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(t,e)=>[{["&.".concat(ez["scrollArea--left"])]:e["scrollArea--left"]},{["&.".concat(ez["scrollArea--right"])]:e["scrollArea--right"]},e.scrollArea]})((()=>({position:"absolute",top:0,zIndex:101,width:20,bottom:0,["&.".concat(ez["scrollArea--left"])]:{left:0},["&.".concat(ez["scrollArea--right"])]:{right:0}})));const NB=LB((function(e){const{scrollDirection:i}=e,s=t.useRef(null),n=$z(),r=(0,$R.A)(),o=cz(n,Fz),a=cz(n,Yz),l=cz(n,fz),h=t.useRef({left:0,top:0}),c=()=>{if("left"===i)return h.current.left>0;if("right"===i){const t=a-l.viewportInnerSize.width;return h.current.left<t}return!1},[u,d]=t.useState(!1),[f,p]=t.useState(c),g=bz(),m=(0,pM.A)({},g,{scrollDirection:i}),y=(t=>{const{scrollDirection:e,classes:i}=t,s={root:["scrollArea","scrollArea--".concat(e)]};return(0,mM.A)(s,tz,i)})(m),v=DB(n,g),b=Math.floor(g.columnHeaderHeight*o),x={height:b,top:v-b};"left"===i?x.left=l.leftPinnedWidth:"right"===i&&(x.right=l.rightPinnedWidth+(l.hasScrollX?l.scrollbarSize:0));const S=(0,Sk.A)((t=>{let e;if(t.preventDefault(),"left"===i)e=t.clientX-s.current.getBoundingClientRect().right;else{if("right"!==i)throw new Error("MUI X: Wrong drag direction");e=Math.max(1,t.clientX-s.current.getBoundingClientRect().left)}e=1.5*(e-1)+1,r.start(0,(()=>{n.current.scroll({left:h.current.left+e,top:h.current.top})}))})),A=(0,Sk.A)((()=>{d(!0)})),w=(0,Sk.A)((()=>{d(!1)}));return aN(n,"scrollPositionChange",(t=>{h.current=t,p(c)})),aN(n,"columnHeaderDragStart",A),aN(n,"columnHeaderDragEnd",w),u&&f?(0,oM.jsx)(zB,{ref:s,className:(0,gM.A)(y.root),ownerState:m,onDragOver:S,style:x}):null})),_B=()=>{};const VB=()=>{},BB=t=>t.focus,OB=Ez(BB,(t=>t.cell)),UB=Ez(BB,(t=>t.columnHeader)),HB=(Ez(BB,(t=>t.columnHeaderFilter)),Ez(BB,(t=>t.columnGroupHeader))),GB=t=>t.tabIndex,WB=Ez(GB,(t=>t.cell)),jB=Ez(GB,(t=>t.columnHeader)),YB=(Ez(GB,(t=>t.columnHeaderFilter)),Ez(GB,(t=>t.columnGroupHeader))),XB=t=>t.sorting,qB=Ez(XB,(t=>t.sortedRows)),JB=Tz(qB,oV,lV,((t,e,i)=>t.reduce(((t,s)=>{const n=e[s];n&&t.push({id:s,model:n});const r=i[s];return r&&AV(r)&&t.push({id:s,model:{[yV]:s}}),t}),[]))),KB=Ez(XB,(t=>t.sortModel)),ZB=Tz(KB,(t=>t.reduce(((e,i,s)=>(e[i.field]={sortDirection:i.sort,sortIndex:t.length>1?s+1:void 0},e)),{}))),QB=t=>t.filter,$B=Ez(QB,(t=>t.filterModel)),tO=(Ez($B,(t=>t.quickFilterValues)),Ez(QB,(t=>t.filteredRowsLookup))),eO=(Ez(QB,(t=>t.filteredDescendantCountLookup)),Tz((t=>t.visibleRowsLookup),JB,((t,e)=>e.filter((e=>!1!==t[e.id]))))),iO=Tz(eO,(t=>t.map((t=>t.id)))),sO=Tz(tO,JB,((t,e)=>e.filter((e=>!1!==t[e.id])))),nO=Tz(sO,(t=>t.map((t=>t.id)))),rO=Tz(eO,lV,dV,((t,e,i)=>i<2?t:t.filter((t=>{var i;return 0===(null===(i=e[t.id])||void 0===i?void 0:i.depth)})))),oO=Ez(eO,(t=>t.length)),aO=Ez(rO,(t=>t.length)),lO=Ez(sO,(t=>t.length)),hO=(Ez(lO,aO,((t,e)=>t-e)),Tz($B,Bz,((t,e)=>{var i;return null===(i=t.items)||void 0===i?void 0:i.filter((t=>{var i,s;if(!t.field)return!1;const n=e[t.field];if(null===n||void 0===n||!n.filterOperators||0===(null===n||void 0===n||null===(i=n.filterOperators)||void 0===i?void 0:i.length))return!1;const r=n.filterOperators.find((e=>e.value===t.operator));return!!r&&(!r.InputComponent||null!=t.value&&""!==(null===(s=t.value)||void 0===s?void 0:s.toString()))}))}))),cO=Tz(hO,(t=>t.reduce(((t,e)=>(t[e.field]?t[e.field].push(e):t[e.field]=[e],t)),{}))),uO=(t,e,i)=>e>0&&t>0?Math.ceil(t/e):-1===t?i+2:0,dO=t=>({page:0,pageSize:t?0:100}),fO=(t,e)=>{if(e===nN.DataGrid&&t>100)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"))},pO=t=>t.pagination,gO=Ez(pO,(t=>t.paginationModel)),mO=Ez(pO,(t=>t.rowCount)),yO=Ez(pO,(t=>t.meta)),vO=Ez(gO,(t=>t.page)),bO=Ez(gO,(t=>t.pageSize)),xO=Ez(gO,mO,((t,e)=>uO(e,t.pageSize,t.page))),SO=Tz(gO,lV,dV,eO,rO,((t,e,i,s,n)=>{const r=n.length,o=Math.min(t.pageSize*t.page,r-1),a=Math.min(o+t.pageSize-1,r-1);if(-1===o||-1===a)return null;if(i<2)return{firstRowIndex:o,lastRowIndex:a};const l=n[o],h=a-o+1,c=s.findIndex((t=>t.id===l.id));let u=c,d=0;for(;u<s.length&&d<=h;){var f;const t=null===(f=e[s[u].id])||void 0===f?void 0:f.depth;void 0===t?u+=1:((d<h||t>0)&&(u+=1),0===t&&(d+=1))}return{firstRowIndex:c,lastRowIndex:u-1}})),AO=Tz(eO,SO,((t,e)=>e?t.slice(e.firstRowIndex,e.lastRowIndex+1):[])),wO=Tz(iO,SO,((t,e)=>e?t.slice(e.firstRowIndex,e.lastRowIndex+1):[])),CO=(t,e)=>{let i,s;return e.pagination&&"client"===e.paginationMode?(s=SO(t),i=AO(t)):(i=eO(t),s=0===i.length?null:{firstRowIndex:0,lastRowIndex:i.length-1}),{rows:i,range:s}},MO=(e,i)=>{const s=CO(e,i);return t.useMemo((()=>({rows:s.rows,range:s.range})),[s.rows,s.range])},kO=("undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"empty").includes("firefox"),RO=t=>t.rowSelection,EO=Ez(RO,(t=>t.length)),TO=Tz(RO,oV,((t,e)=>new Map(t.map((t=>[t,e[t]]))))),IO=Tz(RO,(t=>t.reduce(((t,e)=>(t[e]=e,t)),{}))),PO=t=>t.rowsMeta,FO=t=>t.virtualization,DO=Ez(FO,(t=>t.enabled)),LO=Ez(FO,(t=>t.enabledForColumns)),zO=Ez(FO,(t=>t.renderContext)),NO=Tz((t=>t.virtualization.renderContext.firstColumnIndex),(t=>t.virtualization.renderContext.lastColumnIndex),((t,e)=>({firstColumnIndex:t,lastColumnIndex:e})));function _O(e,i,s){const n=t.useRef(!0);t.useEffect((()=>{n.current=!1,e.current.register(s,i)}),[e,s,i]),n.current&&e.current.register(s,i)}const VO={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},BO=(t,e)=>{const i={enabled:!e.disableVirtualization,enabledForColumns:!0,renderContext:VO};return(0,pM.A)({},t,{virtualization:i})};var OO=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT",t}(OO||{});const UO={top:0,left:0},HO=Object.freeze(new Map);let GO=!1;try{"undefined"!==typeof window&&(GO=/jsdom/.test(window.navigator.userAgent))}catch(Zr){}const WO=()=>{const e=dz(),i=bz(),s=cz(e,Hz),n=cz(e,DO)&&!GO,r=cz(e,LO)&&!GO,o=cz(e,fz),a=o.viewportOuterSize,l=cz(e,pV),h=cz(e,Wz),c=l.bottom.length>0,[u,d]=t.useState(HO),f=ok(),p=cz(e,OB),g=cz(e,WB),m=cz(e,PO),y=cz(e,IO),v=MO(e,i),b=e.current.rootElementRef,x=e.current.mainElementRef,S=e.current.virtualScrollerRef,A=t.useRef(null),w=t.useRef(null),C=o.contentSize.height,M=o.columnsTotalWidth,k=cz(e,Jz);!function(e,i,s){const n=t.useRef(null);n.current=i,(0,NM.A)((()=>{if(!1===s||"undefined"===typeof ResizeObserver)return _B;let t=0;const i=e.current,r=new ResizeObserver((t=>{n.current(t)}));return i&&r.observe(i),()=>{t&&cancelAnimationFrame(t),r.disconnect()}}),[e,s])}(x,(()=>e.current.resize()));const R=t.useRef(UO),E=t.useRef(UO),T=t.useRef(VO),I=cz(e,zO),P=(0,$R.A)(),F=t.useRef(void 0),D=(0,iz.A)((()=>{return t=f.direction,e=i.rowBufferPx,s=i.columnBufferPx,n=15*o.rowHeight,r=300,{direction:OO.NONE,buffer:ZO(t,OO.NONE,e,s,n,r)};var t,e,s,n,r})).current,L={rowIndex:t.useMemo((()=>p?v.rows.findIndex((t=>t.id===p.id)):-1),[p,v.rows]),columnIndex:t.useMemo((()=>p?s.findIndex((t=>t.field===p.field)):-1),[p,s])},z=t.useCallback((t=>{if(function(t,e){if(t===e)return!0;return t.firstRowIndex===e.firstRowIndex&&t.lastRowIndex===e.lastRowIndex&&t.firstColumnIndex===e.firstColumnIndex&&t.lastColumnIndex===e.lastColumnIndex}(t,e.current.state.virtualization.renderContext))return;const i=t.firstRowIndex!==T.current.firstRowIndex||t.lastRowIndex!==T.current.lastRowIndex;e.current.setState((e=>(0,pM.A)({},e,{virtualization:(0,pM.A)({},e.virtualization,{renderContext:t})}))),o.isReady&&i&&(T.current=t,e.current.publishEvent("renderedRowsIntervalChange",t)),E.current=R.current}),[e,o.isReady]),N=()=>{const t={top:S.current.scrollTop,left:S.current.scrollLeft},s=t.left-R.current.left,a=t.top-R.current.top,l=0!==s||0!==a;R.current=t;const h=l?function(t,e){if(0===t&&0===e)return OO.NONE;return Math.abs(e)>=Math.abs(t)?e>0?OO.DOWN:OO.UP:t>0?OO.RIGHT:OO.LEFT}(s,a):OO.NONE,c=Math.abs(R.current.top-E.current.top),u=Math.abs(R.current.left-E.current.left),d=c>=o.rowHeight||u>=50,p=D.direction!==h;if(!(d||p))return I;if(p)switch(h){case OO.NONE:case OO.LEFT:case OO.RIGHT:F.current=void 0;break;default:F.current=I}D.direction=h,D.buffer=ZO(f.direction,h,i.rowBufferPx,i.columnBufferPx,15*o.rowHeight,300);const g=YO(jO(e,i,n,r),R.current,D);return zM.flushSync((()=>{z(g)})),P.start(1e3,N),g},_=()=>{const t=YO(jO(e,i,n,r),R.current,D);F.current=void 0,z(t)},V=(0,Sk.A)((t=>{const{scrollTop:i,scrollLeft:s}=t.currentTarget;if(i<0)return;if("ltr"===f.direction&&s<0)return;if("rtl"===f.direction&&s>0)return;const n=N();e.current.publishEvent("scrollPositionChange",{top:i,left:s,renderContext:n})})),B=(0,Sk.A)((t=>{e.current.publishEvent("virtualScrollerWheel",{},t)})),O=(0,Sk.A)((t=>{e.current.publishEvent("virtualScrollerTouchMove",{},t)})),U=a.width&&M>=a.width,H=t.useMemo((()=>({overflowX:U?void 0:"hidden",overflowY:i.autoHeight?"hidden":void 0})),[U,i.autoHeight]),G=t.useMemo((()=>{const t={width:U?M:"auto",height:C};return i.autoHeight&&0===v.rows.length&&(t.height=MV(e)),t}),[e,M,C,U,i.autoHeight,v.rows.length]);return t.useEffect((()=>{e.current.publishEvent("virtualScrollerContentSizeChange")}),[e,G]),(0,NM.A)((()=>{e.current.resize()}),[e,m.currentPageTotalHeight]),(0,NM.A)((()=>{n&&(S.current.scrollLeft=0,S.current.scrollTop=0)}),[n,b,S]),((e,i)=>{const s=t.useRef(!1);(0,NM.A)((()=>s.current||!e?VB:(s.current=!0,i())),[s.current||e])})(0!==a.width,(()=>{const t=YO(jO(e,i,n,r),R.current,D);z(t),e.current.publishEvent("scrollPositionChange",{top:R.current.top,left:R.current.left,renderContext:t})})),e.current.register("private",{updateRenderContext:_}),aN(e,"columnsChange",_),aN(e,"filteredRowsSet",_),aN(e,"rowExpansionChange",_),{renderContext:I,setPanels:d,getRows:function(){var t,n,r;let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a.rows&&!v.range)return[];const d=null!==(t=a.renderContext)&&void 0!==t?t:I,b=!c&&void 0===a.position||c&&"bottom"===a.position,x=void 0!==a.position;let S;switch(a.position){case"top":S=0;break;case"bottom":S=l.top.length+v.rows.length;break;case void 0:S=l.top.length}const A=null!==(n=a.rows)&&void 0!==n?n:v.rows,w=d.firstRowIndex,C=Math.min(d.lastRowIndex,A.length),M=a.rows?kN(0,a.rows.length):kN(w,C);let R=-1;x||-1===L.rowIndex||(L.rowIndex<w&&(R=L.rowIndex,M.unshift(R)),L.rowIndex>=C&&(R=L.rowIndex,M.push(R)));const E=[],T=null===(r=i.slotProps)||void 0===r?void 0:r.row,P=jz(e);return M.forEach((t=>{var n;const{id:r,model:l}=A[t],c=((null===v||void 0===v||null===(n=v.range)||void 0===n?void 0:n.firstRowIndex)||0)+S+t;if(k){const t=h.left.length,i=s.length-h.right.length;e.current.calculateColSpan({rowId:r,minFirstColumn:t,maxLastColumn:i,columns:s}),h.left.length>0&&e.current.calculateColSpan({rowId:r,minFirstColumn:0,maxLastColumn:h.left.length,columns:s}),h.right.length>0&&e.current.calculateColSpan({rowId:r,minFirstColumn:s.length-h.right.length,maxLastColumn:s.length,columns:s})}const w=(null===p||void 0===p?void 0:p.id)===r,C=e.current.rowHasAutoHeight(r)?"auto":e.current.unstable_getRowHeight(r);let M;M=null!=y[r]&&e.current.isRowSelectable(r);let I=!1;void 0===a.position&&(I=0===t);let D=!1;const z=t===A.length-1;if(b)if(x)D=z;else{t===v.rows.length-1&&(D=!0)}const N=t===R;let _=null;if(null!==g&&g.id===r){_="view"===e.current.getCellParams(r,g.field).cellMode?g.field:null}let V=d;!x&&F.current&&t>=F.current.firstRowIndex&&t<F.current.lastRowIndex&&(V=F.current);const B=KO(P,V,f.direction,h.left.length),O=z&&"top"===a.position;if(E.push((0,oM.jsx)(i.slots.row,(0,pM.A)({row:l,rowId:r,index:c,selected:M,offsetTop:a.rows?void 0:m.positions[t],offsetLeft:B,dimensions:o,rowHeight:C,tabbableCell:_,pinnedColumns:h,visibleColumns:s,renderContext:V,focusedColumnIndex:w?L.columnIndex:void 0,isFirstVisible:I,isLastVisible:D,isNotVisible:N,showBottomBorder:O},T),r)),N)return;const U=u.get(r);var H,G;(U&&E.push(U),D)&&E.push(null===(H=(G=e.current).getInfiniteLoadingTriggerElement)||void 0===H?void 0:H.call(G,{lastRowId:r}))})),E},getContainerProps:()=>({ref:x}),getScrollerProps:()=>({ref:S,onScroll:V,onWheel:B,onTouchMove:O,style:H,role:"presentation",tabIndex:kO?-1:void 0}),getContentProps:()=>({style:G,role:"presentation"}),getRenderZoneProps:()=>({role:"rowgroup"}),getScrollbarVerticalProps:()=>({ref:A,role:"presentation"}),getScrollbarHorizontalProps:()=>({ref:w,role:"presentation"})}};function jO(t,e,i,s){var n;const r=fz(t.current.state),o=CO(t,e),a=Hz(t),l=t.current.state.rows.dataRowIds.at(-1),h=a.at(-1);return{enabled:i,enabledForColumns:s,apiRef:t,autoHeight:e.autoHeight,rowBufferPx:e.rowBufferPx,columnBufferPx:e.columnBufferPx,leftPinnedWidth:r.leftPinnedWidth,columnsTotalWidth:r.columnsTotalWidth,viewportInnerWidth:r.viewportInnerSize.width,viewportInnerHeight:r.viewportInnerSize.height,lastRowHeight:void 0!==l?t.current.unstable_getRowHeight(l):0,lastColumnWidth:null!==(n=null===h||void 0===h?void 0:h.computedWidth)&&void 0!==n?n:0,rowsMeta:PO(t.current.state),columnPositions:jz(t),rows:o.rows,range:o.range,pinnedColumns:Wz(t),visibleColumns:a}}function YO(t,e,i){let s;if(t.enabled){const{top:n,left:r}=e,o=Math.abs(r)+t.leftPinnedWidth,a=Math.min(XO(t,n,{atStart:!0,lastPosition:t.rowsMeta.positions[t.rowsMeta.positions.length-1]+t.lastRowHeight}),t.rowsMeta.positions.length-1),l=t.autoHeight?a+t.rows.length:XO(t,n+t.viewportInnerHeight);let h=0,c=t.columnPositions.length;if(t.enabledForColumns){let e=!1;const[s,n]=JO({firstIndex:a,lastIndex:l,minFirstIndex:0,maxLastIndex:t.rows.length,bufferBefore:i.buffer.rowBefore,bufferAfter:i.buffer.rowAfter,positions:t.rowsMeta.positions,lastSize:t.lastRowHeight});for(let i=s;i<n&&!e;i+=1){const s=t.rows[i];e=t.apiRef.current.rowHasAutoHeight(s.id)}e||(h=qO(o,t.columnPositions,{atStart:!0,lastPosition:t.columnsTotalWidth}),c=qO(o+t.viewportInnerWidth,t.columnPositions))}s={firstRowIndex:a,lastRowIndex:l,firstColumnIndex:h,lastColumnIndex:c}}else s={firstRowIndex:0,lastRowIndex:t.rows.length,firstColumnIndex:0,lastColumnIndex:t.visibleColumns.length};const n=function(t,e,i){const[s,n]=JO({firstIndex:e.firstRowIndex,lastIndex:e.lastRowIndex,minFirstIndex:0,maxLastIndex:t.rows.length,bufferBefore:i.buffer.rowBefore,bufferAfter:i.buffer.rowAfter,positions:t.rowsMeta.positions,lastSize:t.lastRowHeight}),[r,o]=JO({firstIndex:e.firstColumnIndex,lastIndex:e.lastColumnIndex,minFirstIndex:t.pinnedColumns.left.length,maxLastIndex:t.visibleColumns.length-t.pinnedColumns.right.length,bufferBefore:i.buffer.columnBefore,bufferAfter:i.buffer.columnAfter,positions:t.columnPositions,lastSize:t.lastColumnWidth}),a=function(t){let{firstColumnToRender:e,apiRef:i,firstRowToRender:s,lastRowToRender:n,visibleRows:r}=t,o=e;for(let a=s;a<n;a+=1)if(r[a]){const t=r[a].id,s=i.current.unstable_getCellColSpanInfo(t,e);s&&s.spannedByColSpan&&(o=s.leftVisibleCellIndex)}return o}({firstColumnToRender:r,apiRef:t.apiRef,firstRowToRender:s,lastRowToRender:n,visibleRows:t.rows});return{firstRowIndex:s,lastRowIndex:n,firstColumnIndex:a,lastColumnIndex:o}}(t,s,i);return n}function XO(t,e,i){var s,n;const r=t.apiRef.current.getLastMeasuredRowIndex();let o=r===1/0;null!==(s=t.range)&&void 0!==s&&s.lastRowIndex&&!o&&(o=r>=t.range.lastRowIndex);const a=MN(r-((null===(n=t.range)||void 0===n?void 0:n.firstRowIndex)||0),0,t.rowsMeta.positions.length);return o||t.rowsMeta.positions[a]>=e?qO(e,t.rowsMeta.positions,i):function(t,e,i){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n=1;for(;i<e.length&&Math.abs(e[i])<t;)i+=n,n*=2;return qO(t,e,s,Math.floor(i/2),Math.min(i,e.length))}(e,t.rowsMeta.positions,a,i)}function qO(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e.length;if(e.length<=0)return-1;if(s>=n)return s;const r=s+Math.floor((n-s)/2),o=e[r];let a;if(null!==i&&void 0!==i&&i.atStart){a=t-((r===e.length-1?i.lastPosition:e[r+1])-o)<o}else a=t<=o;return a?qO(t,e,i,s,r):qO(t,e,i,r+1,n)}function JO(t){let{firstIndex:e,lastIndex:i,bufferBefore:s,bufferAfter:n,minFirstIndex:r,maxLastIndex:o,positions:a,lastSize:l}=t;const h=a[e]-s,c=a[i]+n,u=qO(h,a,{atStart:!0,lastPosition:a[a.length-1]+l}),d=qO(c,a);return[MN(u,r,o),MN(d,r,o)]}function KO(t,e,i,s){var n,r;const o=("ltr"===i?1:-1)*(null!==(n=t[e.firstColumnIndex])&&void 0!==n?n:0)-(null!==(r=t[s])&&void 0!==r?r:0);return Math.abs(o)}function ZO(t,e,i,s,n,r){if("rtl"===t)switch(e){case OO.LEFT:e=OO.RIGHT;break;case OO.RIGHT:e=OO.LEFT}switch(e){case OO.NONE:return{rowAfter:i,rowBefore:i,columnAfter:s,columnBefore:s};case OO.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:r};case OO.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:r,columnBefore:0};case OO.UP:return{rowAfter:0,rowBefore:n,columnAfter:0,columnBefore:0};case OO.DOWN:return{rowAfter:n,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}const QO=IR("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:t=>"overlayType"!==t&&"loadingOverlayVariant"!==t,overridesResolver:(t,e)=>e.overlayWrapper})((t=>{let{overlayType:e,loadingOverlayVariant:i}=t;return"skeleton"!==i?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,width:0,height:0,zIndex:"loadingOverlay"===e?5:4}:{}})),$O=IR("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:t=>"overlayType"!==t&&"loadingOverlayVariant"!==t,overridesResolver:(t,e)=>e.overlayWrapperInner})({}),tU=t=>{const{classes:e}=t;return(0,mM.A)({root:["overlayWrapper"],inner:["overlayWrapperInner"]},tz,e)};function eU(t){const e=$z(),i=bz(),s=MO(e,i),n=cz(e,fz);let r=n.viewportOuterSize.height-n.topContainerHeight-n.bottomContainerHeight-(n.hasScrollX?n.scrollbarSize:0);(i.autoHeight&&0===s.rows.length||0===r)&&(r=MV(e));const o=tU((0,pM.A)({},t,{classes:i.classes}));return(0,oM.jsx)(QO,(0,pM.A)({className:(0,gM.A)(o.root)},t,{children:(0,oM.jsx)($O,(0,pM.A)({className:(0,gM.A)(o.inner),style:{height:r,width:n.viewportOuterSize.width}},t))}))}function iU(t){var e,i;const{overlayType:s}=t,n=bz();if(!s)return null;const r=null===(e=n.slots)||void 0===e?void 0:e[s],o=null===(i=n.slotProps)||void 0===i?void 0:i[s];return(0,oM.jsx)(eU,(0,pM.A)({},t,{children:(0,oM.jsx)(r,(0,pM.A)({},o))}))}const sU=t=>t.columnMenu;const nU=LB((function(){var e;const i=dz(),s=bz(),n=cz(i,Hz),r=cz(i,cO),o=cz(i,ZB),a=cz(i,jB),l=cz(i,WB),h=cz(i,YB),c=cz(i,UB),u=cz(i,HB),d=cz(i,RB),f=cz(i,sU),p=cz(i,Uz),g=cz(i,kB),m=!(null===h&&null===a&&null===l),y=t.useRef(null);return i.current.register("private",{columnHeadersContainerRef:y}),(0,oM.jsx)(s.slots.columnHeaders,(0,pM.A)({ref:y,visibleColumns:n,filterColumnLookup:r,sortColumnLookup:o,columnHeaderTabIndexState:a,columnGroupHeaderTabIndexState:h,columnHeaderFocus:c,columnGroupHeaderFocus:u,headerGroupingMaxDepth:d,columnMenuState:f,columnVisibility:p,columnGroupsHeaderStructure:g,hasOtherElementInTabSequence:m},null===(e=s.slotProps)||void 0===e?void 0:e.columnHeaders))}));function rU(t){return t.signature===nN.DataGrid?t.checkboxSelection&&!0!==t.disableMultipleRowSelection:!t.disableMultipleRowSelection}const oU=IR("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0}),aU=IR("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(t,e)=>e.main})({flexGrow:1,position:"relative",overflow:"hidden"}),lU=t.forwardRef(((t,e)=>{const i=(()=>{const t=dz(),e=bz(),i=cz(t,Hz),s=cz(t,sV),n=cz(t,RB),r=cz(t,gV);let o="grid";return e.treeData&&(o="treegrid"),{role:o,"aria-colcount":i.length,"aria-rowcount":n+1+r+s,"aria-multiselectable":rU(e)}})(),s=bz();return(0,oM.jsxs)(aU,(0,pM.A)({ref:e,ownerState:s,className:t.className,tabIndex:-1},i,{children:[(0,oM.jsx)(oU,{role:"presentation","data-id":"gridPanelAnchor"}),t.children]}))})),hU=()=>(0,mM.A)({root:["topContainer"]},tz,{}),cU=IR("div")({position:"sticky",zIndex:4,top:0});function uU(t){const e=hU();return(0,oM.jsx)(cU,(0,pM.A)({},t,{className:(0,gM.A)(e.root,t.className,ez["container--top"]),role:"presentation"}))}const dU=()=>(0,mM.A)({root:["bottomContainer"]},tz,{}),fU=IR("div")({position:"sticky",zIndex:4,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function pU(t){const e=dU();return(0,oM.jsx)(fU,(0,pM.A)({},t,{className:(0,gM.A)(e.root,t.className,ez["container--bottom"]),role:"presentation"}))}const gU=IR("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(t,e)=>e.virtualScrollerContent})({}),mU=t.forwardRef((function(t,e){var i;const s=bz(),n=((t,e)=>{const{classes:i}=t,s={root:["virtualScrollerContent",e&&"virtualScrollerContent--overflowed"]};return(0,mM.A)(s,tz,i)})(s,!s.autoHeight&&"auto"===(null===(i=t.style)||void 0===i?void 0:i.minHeight));return(0,oM.jsx)(gU,(0,pM.A)({ref:e},t,{ownerState:s,className:(0,gM.A)(n.root,t.className)}))})),yU=IR("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),vU=IR("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:"var(--DataGrid-pinnedBackground)"}),bU=IR(vU)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),xU=IR(vU)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),SU=IR("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});const AU=LB((function(t){let{rowsLength:e}=t;const i=$z(),{viewportOuterSize:s,minimumSize:n,hasScrollX:r,hasScrollY:o,scrollbarSize:a,leftPinnedWidth:l,rightPinnedWidth:h}=cz(i,fz),c=r?a:0,u=s.height-n.height-c,d=Math.max(c,u);return 0===d?null:(0,oM.jsxs)(yU,{className:ez.filler,role:"presentation",style:{height:d,"--rowBorderColor":0===e?"transparent":"var(--DataGrid-rowBorderColor)"},children:[l>0&&(0,oM.jsx)(bU,{className:ez["filler--pinnedLeft"],style:{width:l}}),(0,oM.jsx)(SU,{}),h>0&&(0,oM.jsx)(xU,{className:ez["filler--pinnedRight"],style:{width:h+(o?a:0)}})]})})),wU=["className"],CU=IR("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(t,e)=>e.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),MU=t.forwardRef((function(t,e){const{className:i}=t,s=(0,fM.A)(t,wU),n=$z(),r=bz(),o=(t=>{const{classes:e}=t;return(0,mM.A)({root:["virtualScrollerRenderZone"]},tz,e)})(r),a=cz(n,(()=>{var t;const e=zO(n);return null!==(t=PO(n.current.state).positions[e.firstRowIndex])&&void 0!==t?t:0}));return(0,oM.jsx)(CU,(0,pM.A)({ref:e,className:(0,gM.A)(o.root,i),ownerState:r,style:{transform:"translate3d(0, ".concat(a,"px, 0)")}},s))})),kU=IR("div")({position:"absolute",display:"inline-block",zIndex:6,"& > div":{display:"inline-block"},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),RU=IR(kU)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),EU=IR(kU)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),TU=IR("div")({display:"inline-block"}),IU=t.forwardRef((function(e,i){const s=dz(),n=bz(),r=t.useRef(!1),o=t.useRef(0),a=t.useRef(null),l=t.useRef(null),h=((t,e)=>{const{classes:i}=t,s={root:["scrollbar","scrollbar--".concat(e)],content:["scrollbarContent"]};return(0,mM.A)(s,tz,i)})(n,e.position),c=cz(s,fz),u="vertical"===e.position?"height":"width",d="vertical"===e.position?"scrollTop":"scrollLeft",f="vertical"===e.position?c.hasScrollX:c.hasScrollY,p=c.minimumSize[u]+(f?c.scrollbarSize:0),g=("vertical"===e.position?c.viewportInnerSize.height:c.viewportOuterSize.width)*(p/c.viewportOuterSize[u]),m=(0,Sk.A)((()=>{const t=s.current.virtualScrollerRef.current,e=a.current;if(t[d]===o.current)return;if(r.current)return void(r.current=!1);r.current=!0;const i=t[d]/p;e[d]=i*g,o.current=t[d]})),y=(0,Sk.A)((()=>{const t=s.current.virtualScrollerRef.current,e=a.current;if(r.current)return void(r.current=!1);r.current=!0;const i=e[d]/g;t[d]=i*p}));(0,sz.A)((()=>{const t=s.current.virtualScrollerRef.current,e=a.current;return t.addEventListener("scroll",m,{capture:!0}),e.addEventListener("scroll",y,{capture:!0}),()=>{t.removeEventListener("scroll",m,{capture:!0}),e.removeEventListener("scroll",y,{capture:!0})}})),t.useEffect((()=>{l.current.style.setProperty(u,"".concat(g,"px"))}),[g,u]);const v="vertical"===e.position?RU:EU;return(0,oM.jsx)(v,{ref:(0,SM.A)(i,a),className:h.root,tabIndex:-1,"aria-hidden":"true",children:(0,oM.jsx)(TU,{ref:l,className:h.content})})})),PU=IR("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(t,e)=>e.virtualScroller})({position:"relative",height:"100%",overflow:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0});function FU(t){const e=$z(),i=bz(),s=cz(e,fz),n=(()=>{const t=$z(),e=bz(),i=cz(t,sV),s=cz(t,oO),n=0===i,r=cz(t,nV);let o=null,a=null;var l;return!r&&n&&(o="noRowsOverlay"),!r&&i>0&&0===s&&(o="noResultsOverlay"),r&&(o="loadingOverlay",a=(null===(l=e.slotProps)||void 0===l||null===(l=l.loadingOverlay)||void 0===l?void 0:l[n?"noRowsVariant":"variant"])||null),{overlayType:o,loadingOverlayVariant:a}})(),r=((t,e,i)=>{const{classes:s}=t,n={root:["main",e.rightPinnedWidth>0&&"main--hasPinnedRight","skeleton"===i&&"main--hasSkeletonLoadingOverlay"],scroller:["virtualScroller"]};return(0,mM.A)(n,tz,s)})(i,s,n.loadingOverlayVariant),o=WO(),{getContainerProps:a,getScrollerProps:l,getContentProps:h,getRenderZoneProps:c,getScrollbarVerticalProps:u,getScrollbarHorizontalProps:d,getRows:f}=o,p=f();return(0,oM.jsxs)(lU,(0,pM.A)({className:r.root},a(),{children:[(0,oM.jsx)(NB,{scrollDirection:"left"}),(0,oM.jsx)(NB,{scrollDirection:"right"}),(0,oM.jsxs)(PU,(0,pM.A)({className:r.scroller},l(),{ownerState:i,children:[(0,oM.jsxs)(uU,{children:[(0,oM.jsx)(nU,{}),(0,oM.jsx)(i.slots.pinnedRows,{position:"top",virtualScroller:o})]}),(0,oM.jsx)(iU,(0,pM.A)({},n)),(0,oM.jsx)(mU,(0,pM.A)({},h(),{children:(0,oM.jsxs)(MU,(0,pM.A)({},c(),{children:[p,(0,oM.jsx)(i.slots.detailPanels,{virtualScroller:o})]}))})),(0,oM.jsx)(AU,{rowsLength:p.length}),(0,oM.jsx)(pU,{children:(0,oM.jsx)(i.slots.pinnedRows,{position:"bottom",virtualScroller:o})})]})),s.hasScrollY&&(0,oM.jsx)(IU,(0,pM.A)({position:"vertical"},u())),s.hasScrollX&&(0,oM.jsx)(IU,(0,pM.A)({position:"horizontal"},d())),t.children]}))}function DU(){var t;const e=bz();return e.hideFooter?null:(0,oM.jsx)(e.slots.footer,(0,pM.A)({},null===(t=e.slotProps)||void 0===t?void 0:t.footer))}function LU(e){let{privateApiRef:i,props:s,children:n}=e;const r=t.useRef(i.current.getPublicApi());return(0,oM.jsx)(vz.Provider,{value:s,children:(0,oM.jsx)(uz.Provider,{value:i,children:(0,oM.jsx)(Qz.Provider,{value:r,children:n})})})}const zU=function(){try{const t="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch(t){return!1}}()&&null!=window.localStorage.getItem("DEBUG"),NU=()=>{},_U={debug:NU,info:NU,warn:NU,error:NU},VU=["debug","info","warn","error"];function BU(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:console;const s=VU.indexOf(e);if(-1===s)throw new Error("MUI X: Log level ".concat(e," not recognized."));const n=VU.reduce(((e,n,r)=>(e[n]=r>=s?function(){for(var e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];const[o,...a]=s;i[n]("MUI X: ".concat(t," - ").concat(o),...a)}:NU,e)),{});return n}class OU{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=this.events[t];s||(s={highPriority:new Map,regular:new Map},this.events[t]=s),i.isFirst?s.highPriority.set(e,!0):s.regular.set(e,!0)}removeListener(t,e){this.events[t]&&(this.events[t].regular.delete(e),this.events[t].highPriority.delete(e))}removeAllListeners(){this.events={}}emit(t){const e=this.events[t];if(!e)return;const i=Array.from(e.highPriority.keys()),s=Array.from(e.regular.keys());for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];for(let a=i.length-1;a>=0;a-=1){const t=i[a];e.highPriority.has(t)&&t.apply(this,r)}for(let a=0;a<s.length;a+=1){const t=s[a];e.regular.has(t)&&t.apply(this,r)}}once(t,e){const i=this;this.on(t,(function s(){i.removeListener(t,s);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(i,r)}))}}class UU{static create(t){return new UU(t)}constructor(t){this.value=void 0,this.listeners=void 0,this.subscribe=t=>(this.listeners.add(t),()=>{this.listeners.delete(t)}),this.getSnapshot=()=>this.value,this.update=t=>{this.value=t,this.listeners.forEach((e=>e(t)))},this.value=t,this.listeners=new Set}}const HU=Symbol("mui.api_private");let GU=0;function WU(e,i){var s;const n=t.useRef(),r=t.useRef();r.current||(r.current=function(t){var e;const i=null===(e=t.current)||void 0===e?void 0:e[HU];if(i)return i;const s={},n={state:s,store:UU.create(s),instanceId:{id:GU}};return GU+=1,n.getPublicApi=()=>t.current,n.register=(e,i)=>{Object.keys(i).forEach((s=>{const r=i[s],o=n[s];if(!0===(null===o||void 0===o?void 0:o.spying)?o.target=r:n[s]=r,"public"===e){const e=t.current,i=e[s];!0===(null===i||void 0===i?void 0:i.spying)?i.target=r:e[s]=r}}))},n.register("private",{caches:{},eventManager:new OU}),n}(n)),n.current||(n.current=function(t){return{get state(){return t.current.state},get store(){return t.current.store},get instanceId(){return t.current.instanceId},[HU]:t.current}}(r));const o=t.useCallback((function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];const[n,o,a={}]=e;if(a.defaultMuiPrevented=!1,(t=>void 0!==t.isPropagationStopped)(a)&&a.isPropagationStopped())return;const l=i.signature===nN.DataGridPro||i.signature===nN.DataGridPremium?{api:r.current.getPublicApi()}:{};r.current.eventManager.emit(n,o,a,l)}),[r,i.signature]),a=t.useCallback(((t,e,i)=>{r.current.eventManager.on(t,e,i);const s=r.current;return()=>{s.eventManager.removeListener(t,e)}}),[r]);return _O(r,{subscribeEvent:a,publishEvent:o},"public"),!e||null!==(s=e.current)&&void 0!==s&&s.state||(e.current=n.current),t.useImperativeHandle(e,(()=>n.current),[n]),t.useEffect((()=>{const t=r.current;return()=>{t.publishEvent("unmount")}}),[r]),r}const jU="none",YU={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},XU=(e,i)=>{const s=WU(e,i);return(e=>{const i=t.useRef(null),s=t.useRef(null),n=t.useRef(null);e.current.register("public",{rootElementRef:i}),e.current.register("private",{mainElementRef:s,virtualScrollerRef:n})})(s),(e=>{const i=ok();e.current.state.theme||(e.current.state.theme=i);const s=t.useRef(!0);t.useEffect((()=>{s.current?s.current=!1:e.current.setState((t=>(0,pM.A)({},t,{theme:i})))}),[e,i])})(s),((e,i)=>{_O(e,{getLogger:t.useCallback((t=>zU?BU(t,"debug",i.logger):i.logLevel?BU(t,i.logLevel.toString(),i.logger):_U),[i.logLevel,i.logger])},"private")})(s,i),(e=>{const i=t.useRef({}),[,s]=t.useState(),n=t.useCallback((t=>{i.current[t.stateId]=t}),[]),r=t.useCallback(((t,s)=>{let n;if(n=AN(t)?t(e.current.state):t,e.current.state===n)return!1;let r=!1;const o=[];if(Object.keys(i.current).forEach((t=>{const s=i.current[t],a=s.stateSelector(e.current.state,e.current.instanceId),l=s.stateSelector(n,e.current.instanceId);l!==a&&(o.push({stateId:s.stateId,hasPropChanged:l!==s.propModel}),void 0!==s.propModel&&l!==s.propModel&&(r=!0))})),o.length>1)throw new Error("You're not allowed to update several sub-state in one transaction. You already updated ".concat(o[0].stateId,", therefore, you're not allowed to update ").concat(o.map((t=>t.stateId)).join(", ")," in the same transaction."));if(r||(e.current.state=n,e.current.publishEvent&&e.current.publishEvent("stateChange",n),e.current.store.update(n)),1===o.length){const{stateId:t,hasPropChanged:a}=o[0],l=i.current[t],h=l.stateSelector(n,e.current.instanceId);l.propOnChange&&a&&l.propOnChange(h,{reason:s,api:e.current}),r||e.current.publishEvent(l.changeEvent,h,{reason:s})}return!r}),[e]),o=t.useCallback(((t,i,s)=>e.current.setState((e=>(0,pM.A)({},e,{[t]:i(e[t])})),s)),[e]),a=t.useCallback((()=>s((()=>e.current.state))),[e]),l={updateControlState:o,registerControlState:n};_O(e,{setState:r,forceUpdate:a},"public"),_O(e,l,"private")})(s),(e=>{const i=t.useRef({}),s=t.useRef(!1),n=t.useCallback((t=>{!s.current&&t&&(s.current=!0,Object.values(t.appliers).forEach((t=>{t()})),s.current=!1)}),[]),r=t.useCallback(((t,e,s)=>{i.current[t]||(i.current[t]={processors:new Map,processorsAsArray:[],appliers:{}});const r=i.current[t];return r.processors.get(e)!==s&&(r.processors.set(e,s),r.processorsAsArray=Array.from(i.current[t].processors.values()),n(r)),()=>{i.current[t].processors.delete(e),i.current[t].processorsAsArray=Array.from(i.current[t].processors.values())}}),[n]),o=t.useCallback(((t,e,s)=>(i.current[t]||(i.current[t]={processors:new Map,processorsAsArray:[],appliers:{}}),i.current[t].appliers[e]=s,()=>{const s=i.current[t].appliers,n=(0,fM.A)(s,[e].map(I));i.current[t].appliers=n})),[]),a=t.useCallback((t=>{n(i.current[t])}),[n]),l={unstable_applyPipeProcessors:t.useCallback((function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];const[n,r,o]=e;if(!i.current[n])return r;const a=i.current[n].processorsAsArray;let l=r;for(let i=0;i<a.length;i+=1)l=a[i](l,o);return l}),[])};_O(e,{registerPipeProcessor:r,registerPipeApplier:o,requestPipeProcessorsApplication:a},"private"),_O(e,l,"public")})(s),(e=>{const i=t.useRef(new Map),s=t.useRef({}),n=t.useCallback(((t,i,n)=>{const r=()=>{const e=s.current[i],n=(0,fM.A)(e,[t].map(I));s.current[i]=n};s.current[i]||(s.current[i]={});const o=s.current[i],a=o[t];return o[t]=n,a&&a!==n?(t===e.current.getActiveStrategy(YU[i])&&e.current.publishEvent("activeStrategyProcessorChange",i),r):r}),[e]),r=t.useCallback(((t,i)=>{const n=e.current.getActiveStrategy(YU[t]);if(null==n)throw new Error("Can't apply a strategy processor before defining an active strategy");const r=s.current[t];if(!r||!r[n])throw new Error('No processor found for processor "'.concat(t,'" on strategy "').concat(n,'"'));return(0,r[n])(i)}),[e]),o=t.useCallback((t=>{var e;const s=Array.from(i.current.entries()).find((e=>{let[,i]=e;return i.group===t&&i.isAvailable()}));return null!==(e=null===s||void 0===s?void 0:s[0])&&void 0!==e?e:jU}),[]),a=t.useCallback(((t,s,n)=>{i.current.set(s,{group:t,isAvailable:n}),e.current.publishEvent("strategyAvailabilityChange")}),[e]);_O(e,{registerStrategyProcessor:n,applyStrategyProcessor:r,getActiveStrategy:o,setStrategyAvailability:a},"private")})(s),((e,i)=>{const s=t.useCallback((t=>{if(null==i.localeText[t])throw new Error("Missing translation for key ".concat(t,"."));return i.localeText[t]}),[i.localeText]);e.current.register("public",{getLocaleText:s})})(s,i),s.current.register("private",{rootProps:i}),s},qU=(e,i,s)=>{const n=t.useRef(!1);n.current||(i.current.state=e(i.current.state,s,i),n.current=!0)};function JU(e,i){const s=t.useRef(null);if(s.current)return s.current;const n=e.current.getLogger(i);return s.current=n,n}const KU=(e,i,s,n,r)=>{var o;const a=JU(e,"useNativeEventListener"),[l,h]=t.useState(!1),c=t.useRef(n),u=AN(i)?i():null!==(o=null===i||void 0===i?void 0:i.current)&&void 0!==o?o:null,d=t.useCallback((t=>c.current&&c.current(t)),[]);t.useEffect((()=>{c.current=n}),[n]),t.useEffect((()=>{if(u&&s&&!l){a.debug("Binding native ".concat(s," event")),u.addEventListener(s,d,r),h(!0);const t=()=>{a.debug("Clearing native ".concat(s," event")),u.removeEventListener(s,d,r)};e.current.subscribeEvent("unmount",t)}}),[u,d,s,l,a,r,e])},ZU=["field","id","value","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],QU=t.forwardRef((function(e,i){var s;const{field:n,id:r,value:o,rowNode:a,hasFocus:l,tabIndex:h}=e,c=(0,fM.A)(e,ZU),u=$z(),d=bz(),f=(t=>{const{classes:e}=t;return(0,mM.A)({root:["checkboxInput"]},tz,e)})({classes:d.classes}),p=t.useRef(null),g=t.useRef(null),m=(0,SM.A)(p,i);t.useLayoutEffect((()=>{if(0===h){const t=u.current.getCellElement(r,n);t&&(t.tabIndex=-1)}}),[u,h,r,n]),t.useEffect((()=>{if(l){var t;const e=null===(t=p.current)||void 0===t?void 0:t.querySelector("input");null===e||void 0===e||e.focus({preventScroll:!0})}else g.current&&g.current.stop({})}),[l]);const y=t.useCallback((t=>{" "===t.key&&t.stopPropagation()}),[]);if("footer"===a.type||"pinnedRow"===a.type)return null;const v=u.current.isRowSelectable(r),b=u.current.getLocaleText(o?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return(0,oM.jsx)(d.slots.baseCheckbox,(0,pM.A)({ref:m,tabIndex:h,checked:o,onChange:t=>{const e={value:t.target.checked,id:r};u.current.publishEvent("rowSelectionCheckboxChange",e,t)},className:f.root,inputProps:{"aria-label":b},onKeyDown:y,disabled:!v,touchRippleRef:g},null===(s=d.slotProps)||void 0===s?void 0:s.baseCheckbox,c))})),$U=QU,tH=["field","colDef"],eH=t.forwardRef((function(e,i){var s;const n=(0,fM.A)(e,tH),[,r]=t.useState(!1),o=$z(),a=bz(),l=(t=>{const{classes:e}=t;return(0,mM.A)({root:["checkboxInput"]},tz,e)})({classes:a.classes}),h=cz(o,jB),c=cz(o,RO),u=cz(o,iO),d=cz(o,wO),f=t.useMemo((()=>"function"!==typeof a.isRowSelectable?c:c.filter((t=>!!o.current.getRow(t)&&a.isRowSelectable(o.current.getRowParams(t))))),[o,a.isRowSelectable,c]),p=t.useMemo((()=>(a.pagination&&a.checkboxSelectionVisibleOnly?d:u).reduce(((t,e)=>(t[e]=!0,t)),{})),[a.pagination,a.checkboxSelectionVisibleOnly,d,u]),g=t.useMemo((()=>f.filter((t=>p[t])).length),[f,p]),m=g>0&&g<Object.keys(p).length,y=g>0,v=null!==h&&h.field===e.field?0:-1;t.useLayoutEffect((()=>{const t=o.current.getColumnHeaderElement(e.field);0===v&&t&&(t.tabIndex=-1)}),[v,o,e.field]);const b=t.useCallback((t=>{" "===t.key&&o.current.publishEvent("headerSelectionCheckboxChange",{value:!y})}),[o,y]),x=t.useCallback((()=>{r((t=>!t))}),[]);t.useEffect((()=>o.current.subscribeEvent("rowSelectionChange",x)),[o,x]);const S=o.current.getLocaleText(y?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return(0,oM.jsx)(a.slots.baseCheckbox,(0,pM.A)({ref:i,indeterminate:m,checked:y,onChange:t=>{const e={value:t.target.checked};o.current.publishEvent("headerSelectionCheckboxChange",e)},className:l.root,inputProps:{"aria-label":S},tabIndex:v,onKeyDown:b,disabled:!rU(a)},null===(s=a.slotProps)||void 0===s?void 0:s.baseCheckbox,n))})),iH="__check__",sH=(0,pM.A)({},zV,{type:"custom",field:iH,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,display:"flex",valueGetter:(t,e,i,s)=>void 0!==IO(s)[s.current.getRowId(e)],renderHeader:t=>(0,oM.jsx)(eH,(0,pM.A)({},t)),renderCell:t=>(0,oM.jsx)($U,(0,pM.A)({},t))});function nH(t,e){const i="string"===typeof t?t:"".concat(t);if(e.shouldAppendQuotes||e.escapeFormulas){const t=i.replace(/"/g,'""');return e.escapeFormulas&&["=","+","-","@","\t","\r"].includes(t[0])?"\"'".concat(t,'"'):[e.delimiter,"\n","\r",'"'].some((t=>i.includes(t)))?'"'.concat(t,'"'):t}return i}const rH=(t,e)=>{const{csvOptions:i,ignoreValueFormatter:s}=e;let n;if(s){var r;const e=t.colDef.type;if("number"===e)n=String(t.value);else if("date"===e||"dateTime"===e){var o;n=null===(o=t.value)||void 0===o?void 0:o.toISOString()}else n="function"===typeof(null===(r=t.value)||void 0===r?void 0:r.toString)?t.value.toString():t.value}else n=t.formattedValue;return nH(n,i)};class oH{constructor(t){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),null===t||void 0===t?this.rowString+="":"function"===typeof this.options.sanitizeCellValue?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}function aH(t){const{columns:e,rowIds:i,csvOptions:s,ignoreValueFormatter:n,apiRef:r}=t,o=i.reduce(((t,i)=>"".concat(t).concat((t=>{let{id:e,columns:i,getCellParams:s,csvOptions:n,ignoreValueFormatter:r}=t;const o=new oH({csvOptions:n});return i.forEach((t=>{const i=s(e,t.field);o.addValue(rH(i,{ignoreValueFormatter:r,csvOptions:n}))})),o.getRowString()})({id:i,columns:e,getCellParams:r.current.getCellParams,ignoreValueFormatter:n,csvOptions:s}),"\r\n")),"").trim();if(!s.includeHeaders)return o;const a=e.filter((t=>t.field!==sH.field)),l=[];if(s.includeColumnGroupsHeaders){const t=r.current.getAllGroupDetails();let e=0;const i=a.reduce(((t,i)=>{const s=r.current.getColumnGroupPath(i.field);return t[i.field]=s,e=Math.max(e,s.length),t}),{});for(let n=0;n<e;n+=1){const e=new oH({csvOptions:s,sanitizeCellValue:nH});l.push(e),a.forEach((s=>{const r=(i[s.field]||[])[n],o=t[r];e.addValue(o?o.headerName||o.groupId:"")}))}}const h=new oH({csvOptions:s,sanitizeCellValue:nH});a.forEach((t=>{h.addValue(t.headerName||t.field)})),l.push(h);const c="".concat(l.map((t=>t.getRowString())).join("\r\n"),"\r\n");return"".concat(c).concat(o).trim()}function lH(t){const e=document.createElement("span");e.style.whiteSpace="pre",e.style.userSelect="all",e.style.opacity="0px",e.textContent=t,document.body.appendChild(e);const i=document.createRange();i.selectNode(e);const s=window.getSelection();s.removeAllRanges(),s.addRange(i);try{document.execCommand("copy")}finally{document.body.removeChild(e)}}const hH=(e,i)=>{const s=i.ignoreValueFormatterDuringExport,n=("object"===typeof s?null===s||void 0===s?void 0:s.clipboardExport:s)||!1,r=i.clipboardCopyCellDelimiter,o=t.useCallback((t=>{if(!t.ctrlKey&&!t.metaKey||"c"!==t.key.toLowerCase()||t.shiftKey||t.altKey)return;if(function(t){var e;return!(null===(e=window.getSelection())||void 0===e||!e.toString())||!!(t&&(t.selectionEnd||0)-(t.selectionStart||0)>0)}(t.target))return;let i="";if(e.current.getSelectedRows().size>0)i=e.current.getDataAsCsv({includeHeaders:!1,delimiter:r,shouldAppendQuotes:!1,escapeFormulas:!1});else{const t=OB(e);if(t){const s=e.current.getCellParams(t.id,t.field);i=rH(s,{csvOptions:{delimiter:r,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:n})}}var s;i=e.current.unstable_applyPipeProcessors("clipboardCopy",i),i&&(s=i,navigator.clipboard?navigator.clipboard.writeText(s).catch((()=>{lH(s)})):lH(s),e.current.publishEvent("clipboardCopy",i))}),[e,n,r]);KU(e,e.current.rootElementRef,"keydown",o),hN(e,"clipboardCopy",i.onClipboardCopy)},cH=t=>(0,pM.A)({},t,{columnMenu:{open:!1}}),uH=e=>{const i=t.useRef(!0);i.current&&(i.current=!1,e())},dH=(e,i,s)=>{const n=t.useRef(),r=t.useRef("mui-".concat(Math.round(1e9*Math.random()))),o=t.useCallback((()=>{n.current=e.current.registerPipeProcessor(i,r.current,s)}),[e,s,i]);uH((()=>{o()}));const a=t.useRef(!0);t.useEffect((()=>(a.current?a.current=!1:o(),()=>{n.current&&(n.current(),n.current=null)})),[o])},fH=(e,i,s)=>{const n=t.useRef(),r=t.useRef("mui-".concat(Math.round(1e9*Math.random()))),o=t.useCallback((()=>{n.current=e.current.registerPipeApplier(i,r.current,s)}),[e,s,i]);uH((()=>{o()}));const a=t.useRef(!0);t.useEffect((()=>(a.current?a.current=!1:o(),()=>{n.current&&(n.current(),n.current=null)})),[o])},pH=(t,e,i)=>{var s,n,r,o,a;const l=FB({apiRef:i,columnsToUpsert:e.columns,initialState:null===(s=e.initialState)||void 0===s?void 0:s.columns,columnVisibilityModel:null!==(n=null!==(r=e.columnVisibilityModel)&&void 0!==r?r:null===(o=e.initialState)||void 0===o||null===(o=o.columns)||void 0===o?void 0:o.columnVisibilityModel)&&void 0!==n?n:{},keepOnlyColumnsToUpsert:!0});return(0,pM.A)({},t,{columns:l,pinnedColumns:null!==(a=t.pinnedColumns)&&void 0!==a?a:Nz})};function gH(t){return e=>(0,pM.A)({},e,{columns:t})}const mH=(t,e)=>{var i,s,n;return(0,pM.A)({},t,{density:null!==(i=null!==(s=null===(n=e.initialState)||void 0===n?void 0:n.density)&&void 0!==s?s:e.density)&&void 0!==i?i:"standard"})};const yH=t=>{let{apiRef:e,options:i}=t;const s=Oz(e);if(i.fields)return i.fields.reduce(((t,e)=>{const i=s.find((t=>t.field===e));return i&&t.push(i),t}),[]);return(i.allColumns?s:Hz(e)).filter((t=>!t.disableExport))},vH=t=>{var e,i;let{apiRef:s}=t;const n=nO(s),r=lV(s),o=s.current.getSelectedRows(),a=n.filter((t=>"footer"!==r[t].type)),l=pV(s),h=(null===l||void 0===l||null===(e=l.top)||void 0===e?void 0:e.map((t=>t.id)))||[],c=(null===l||void 0===l||null===(i=l.bottom)||void 0===i?void 0:i.map((t=>t.id)))||[];return a.unshift(...h),a.push(...c),o.size>0?a.filter((t=>o.has(t))):a};function bH(t){return(0,gk.Ay)("MuiMenuItem",t)}const xH=(0,pk.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),SH=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],AH=(0,BM.Ay)(wE,{shouldForwardProp:t=>(0,Qk.A)(t)||"classes"===t,name:"MuiMenuItem",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.dense&&e.dense,i.divider&&e.divider,!i.disableGutters&&e.gutters]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.divider&&{borderBottom:"1px solid ".concat((e.vars||e).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(xH.selected)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity),["&.".concat(xH.focusVisible)]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.focusOpacity,"))"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},["&.".concat(xH.selected,":hover")]:{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / calc(").concat(e.vars.palette.action.selectedOpacity," + ").concat(e.vars.palette.action.hoverOpacity,"))"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?"rgba(".concat(e.vars.palette.primary.mainChannel," / ").concat(e.vars.palette.action.selectedOpacity,")"):(0,Wk.X4)(e.palette.primary.main,e.palette.action.selectedOpacity)}},["&.".concat(xH.focusVisible)]:{backgroundColor:(e.vars||e).palette.action.focus},["&.".concat(xH.disabled)]:{opacity:(e.vars||e).palette.action.disabledOpacity},["& + .".concat(NE.root)]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},["& + .".concat(NE.inset)]:{marginLeft:52},["& .".concat(tI.root)]:{marginTop:0,marginBottom:0},["& .".concat(tI.inset)]:{paddingLeft:36},["& .".concat(mT.root)]:{minWidth:36}},!i.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},i.dense&&(0,pM.A)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{["& .".concat(mT.root," svg")]:{fontSize:"1.25rem"}}))})),wH=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiMenuItem"}),{autoFocus:n=!1,component:r="li",dense:o=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:h,role:c="menuitem",tabIndex:u,className:d}=s,f=(0,fM.A)(s,SH),p=t.useContext(HE),g=t.useMemo((()=>({dense:o||p.dense||!1,disableGutters:l})),[p.dense,o,l]),m=t.useRef(null);(0,JE.A)((()=>{n&&m.current&&m.current.focus()}),[n]);const y=(0,pM.A)({},s,{dense:g.dense,divider:a,disableGutters:l}),v=(t=>{const{disabled:e,dense:i,divider:s,disableGutters:n,selected:r,classes:o}=t,a={root:["root",i&&"dense",e&&"disabled",!n&&"gutters",s&&"divider",r&&"selected"]},l=(0,mM.A)(a,bH,o);return(0,pM.A)({},o,l)})(s),b=(0,hk.A)(m,i);let x;return s.disabled||(x=void 0!==u?u:-1),(0,oM.jsx)(HE.Provider,{value:g,children:(0,oM.jsx)(AH,(0,pM.A)({ref:b,role:c,tabIndex:x,component:r,focusVisibleClassName:(0,gM.A)(v.focusVisible,h),className:(0,gM.A)(v.root,d)},f,{ownerState:y,classes:v}))})})),CH=wH,MH=["hideMenu","options"],kH=["hideMenu","options"];function RH(t){const e=$z(),{hideMenu:i,options:s}=t,n=(0,fM.A)(t,MH);return(0,oM.jsx)(CH,(0,pM.A)({onClick:()=>{e.current.exportDataAsCsv(s),null===i||void 0===i||i()}},n,{children:e.current.getLocaleText("toolbarExportCSV")}))}function EH(t){const e=$z(),{hideMenu:i,options:s}=t,n=(0,fM.A)(t,kH);return(0,oM.jsx)(CH,(0,pM.A)({onClick:()=>{e.current.exportDataAsPrint(s),null===i||void 0===i||i()}},n,{children:e.current.getLocaleText("toolbarExportPrint")}))}const TH=(e,i)=>{const s=JU(e,"useGridCsvExport"),n=i.ignoreValueFormatterDuringExport,r=("object"===typeof n?null===n||void 0===n?void 0:n.csvExport:n)||!1,o=t.useCallback((function(){var t,i,n,o,a;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.debug("Get data as CSV");return aH({columns:yH({apiRef:e,options:l}),rowIds:(null!==(t=l.getRowsToExport)&&void 0!==t?t:vH)({apiRef:e}),csvOptions:{delimiter:l.delimiter||",",shouldAppendQuotes:null===(i=l.shouldAppendQuotes)||void 0===i||i,includeHeaders:null===(n=l.includeHeaders)||void 0===n||n,includeColumnGroupsHeaders:null===(o=l.includeColumnGroupsHeaders)||void 0===o||o,escapeFormulas:null===(a=l.escapeFormulas)||void 0===a||a},ignoreValueFormatter:r,apiRef:e})}),[s,e,r]),a=t.useCallback((t=>{s.debug("Export data as CSV");const e=o(t);!function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"csv",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document.title||"untitled";const s="".concat(i,".").concat(e);if("download"in HTMLAnchorElement.prototype){const e=URL.createObjectURL(t),i=document.createElement("a");return i.href=e,i.download=s,i.click(),void setTimeout((()=>{URL.revokeObjectURL(e)}))}throw new Error("MUI X: exportAs not supported.")}(new Blob([null!==t&&void 0!==t&&t.utf8WithBom?new Uint8Array([239,187,191]):"",e],{type:"text/csv"}),"csv",null===t||void 0===t?void 0:t.fileName)}),[s,o]);_O(e,{getDataAsCsv:o,exportDataAsCsv:a},"public");const l=t.useCallback(((t,e)=>{var i;return null!==(i=e.csvOptions)&&void 0!==i&&i.disableToolbarButton?t:[...t,{component:(0,oM.jsx)(RH,{options:e.csvOptions}),componentName:"csvExport"}]}),[]);dH(e,"exportMenu",l)},IH=(t,e,i)=>{var s,n;let r=t.paginationModel;const o=t.rowCount,a=null!==(s=null===i||void 0===i?void 0:i.pageSize)&&void 0!==s?s:r.pageSize,l=null!==(n=null===i||void 0===i?void 0:i.page)&&void 0!==n?n:r.page,h=uO(o,a,l);!i||(null===i||void 0===i?void 0:i.page)===r.page&&(null===i||void 0===i?void 0:i.pageSize)===r.pageSize||(r=i);const c=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return 0===e?t:Math.max(Math.min(t,e-1),0)}(r.page,h);return c!==r.page&&(r=(0,pM.A)({},r,{page:c})),fO(r.pageSize,e),r};const PH=(e,i)=>{const s=JU(e,"useGridPrintExport"),n=t.useRef(null),r=t.useRef(null),o=t.useRef({}),a=t.useRef([]),l=t.useRef();t.useEffect((()=>{n.current=(0,IM.A)(e.current.rootElementRef.current)}),[e]);const h=t.useCallback(((t,i,s)=>new Promise((n=>{const r=yH({apiRef:e,options:{fields:t,allColumns:i}}).map((t=>t.field)),o=Oz(e),a={};o.forEach((t=>{a[t.field]=r.includes(t.field)})),s&&(a[sH.field]=!0),e.current.setColumnVisibilityModel(a),n()}))),[e]),c=t.useCallback((t=>{const i=t({apiRef:e}).reduce(((t,i)=>{const s=e.current.getRow(i);return s[yV]||t.push(s),t}),[]);e.current.setRows(i)}),[e]),u=t.useCallback(((t,s)=>{var r,o;const a=(0,pM.A)({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},s),l=t.contentDocument;if(!l)return;const h=PO(e.current.state),c=e.current.rootElementRef.current,u=c.cloneNode(!0);u.querySelector(".".concat(ez.main)).style.overflow="visible",u.style.contain="size";let d=(null===(r=c.querySelector(".".concat(ez.toolbarContainer)))||void 0===r?void 0:r.offsetHeight)||0,f=(null===(o=c.querySelector(".".concat(ez.footerContainer)))||void 0===o?void 0:o.offsetHeight)||0;var p,g;a.hideToolbar&&(null===(p=u.querySelector(".".concat(ez.toolbarContainer)))||void 0===p||p.remove(),d=0);a.hideFooter&&(null===(g=u.querySelector(".".concat(ez.footerContainer)))||void 0===g||g.remove(),f=0);const m=h.currentPageTotalHeight+DB(e,i)+d+f;if(u.style.height="".concat(m,"px"),u.style.boxSizing="content-box",!a.hideFooter){const t=u.querySelector(".".concat(ez.footerContainer));t.style.position="absolute",t.style.width="100%",t.style.top="".concat(m-f,"px")}const y=document.createElement("div");y.appendChild(u),l.body.style.marginTop="0px",l.body.innerHTML=y.innerHTML;const v="function"===typeof a.pageStyle?a.pageStyle():a.pageStyle;if("string"===typeof v){const t=l.createElement("style");t.appendChild(l.createTextNode(v)),l.head.appendChild(t)}a.bodyClassName&&l.body.classList.add(...a.bodyClassName.split(" "));const b=[];if(a.copyStyles){const t=c.getRootNode(),e=("ShadowRoot"===t.constructor.name?t:n.current).querySelectorAll("style, link[rel='stylesheet']");for(let i=0;i<e.length;i+=1){const t=e[i];if("STYLE"===t.tagName){const e=l.createElement(t.tagName),i=t.sheet;if(i){let t="";for(let e=0;e<i.cssRules.length;e+=1)"string"===typeof i.cssRules[e].cssText&&(t+="".concat(i.cssRules[e].cssText,"\r\n"));e.appendChild(l.createTextNode(t)),l.head.appendChild(e)}}else if(t.getAttribute("href")){const e=l.createElement(t.tagName);for(let i=0;i<t.attributes.length;i+=1){const s=t.attributes[i];s&&e.setAttribute(s.nodeName,s.nodeValue||"")}b.push(new Promise((t=>{e.addEventListener("load",(()=>t()))}))),l.head.appendChild(e)}}}Promise.all(b).then((()=>{t.contentWindow.print()}))}),[e,n,i]),d=t.useCallback((t=>{var i;n.current.body.removeChild(t),e.current.restoreState(r.current||{}),null!==(i=r.current)&&void 0!==i&&null!==(i=i.columns)&&void 0!==i&&i.columnVisibilityModel||e.current.setColumnVisibilityModel(o.current),e.current.setState((t=>(0,pM.A)({},t,{virtualization:l.current}))),e.current.setRows(a.current),r.current=null,o.current={},a.current=[]}),[e]),f=t.useCallback((async t=>{var f;if(s.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(r.current=e.current.exportState(),o.current=Uz(e),a.current=e.current.getSortedRows().filter((t=>!t[yV])),i.pagination){const t={page:0,pageSize:oO(e)};e.current.setState((e=>(0,pM.A)({},e,{pagination:(0,pM.A)({},e.pagination,{paginationModel:IH(e.pagination,"DataGridPro",t)})})))}l.current=e.current.state.virtualization,e.current.setState((t=>(0,pM.A)({},t,{virtualization:(0,pM.A)({},t.virtualization,{enabled:!1,enabledForColumns:!1})}))),await h(null===t||void 0===t?void 0:t.fields,null===t||void 0===t?void 0:t.allColumns,null===t||void 0===t?void 0:t.includeCheckboxes),c(null!==(f=null===t||void 0===t?void 0:t.getRowsToExport)&&void 0!==f?f:vH),await new Promise((t=>{requestAnimationFrame((()=>{t()}))}));const p=function(t){const e=document.createElement("iframe");return e.style.position="absolute",e.style.width="0px",e.style.height="0px",e.title=t||document.title,e}(null===t||void 0===t?void 0:t.fileName);p.onload=()=>{u(p,t);p.contentWindow.matchMedia("print").addEventListener("change",(t=>{!1===t.matches&&d(p)}))},n.current.body.appendChild(p)}),[i,s,e,u,d,h,c]);_O(e,{exportDataAsPrint:f},"public");const p=t.useCallback(((t,e)=>{var i;return null!==(i=e.printOptions)&&void 0!==i&&i.disableToolbarButton?t:[...t,{component:(0,oM.jsx)(EH,{options:e.printOptions}),componentName:"printExport"}]}),[]);dH(e,"exportMenu",p)},FH=(e,i,s,n)=>{const r=t.useCallback((()=>{e.current.registerStrategyProcessor(i,s,n)}),[e,n,s,i]);uH((()=>{r()}));const o=t.useRef(!0);t.useEffect((()=>{o.current?o.current=!1:r()}),[r])},DH=(t,e,i)=>{var s,n,r;const o=null!==(s=null!==(n=e.filterModel)&&void 0!==n?n:null===(r=e.initialState)||void 0===r||null===(r=r.filter)||void 0===r?void 0:r.filterModel)&&void 0!==s?s:R_();return(0,pM.A)({},t,{filter:{filterModel:P_(o,e.disableMultipleColumnsFiltering,i),filteredRowsLookup:{},filteredDescendantCountLookup:{}},visibleRowsLookup:{}})},LH=t=>t.filteredRowsLookup;function zH(t,e){return t.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:e.rows.tree,filteredRowsLookup:e.filter.filteredRowsLookup})}function NH(){return Az(Object.values)}const _H=t=>(0,pM.A)({},t,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),VH="__detail_panel_toggle__";function BH(t,e){return t.closest(".".concat(e))}function OH(t){return t.replace(/["\\]/g,"\\$&")}function UH(t){return".".concat(ez.row,'[data-id="').concat(OH(String(t)),'"]')}function HH(t){return 1===t.target.nodeType&&!t.currentTarget.contains(t.target)}function GH(t,e){return t.rootElementRef.current.querySelector(".".concat(ez[e]))}const WH=t=>{let{api:e,colIndex:i,position:s,filterFn:n}=t;if(null===i)return[];const r=[];return YH(e).forEach((t=>{t.getAttribute("data-id")&&t.querySelectorAll(".".concat(ez["left"===s?"cell--pinnedLeft":"cell--pinnedRight"])).forEach((t=>{const e=XH(t);null!==e&&n(e)&&r.push(t)}))})),r};const jH=t=>{var e;let{api:i,colIndex:s,position:n,filterFn:r}=t;if(null===(e=i.columnHeadersContainerRef)||void 0===e||!e.current)return[];if(null===s)return[];const o=[];return i.columnHeadersContainerRef.current.querySelectorAll(".".concat(ez["left"===n?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"])).forEach((t=>{const e=XH(t);null!==e&&r(e)&&o.push(t)})),o};function YH(t){return t.virtualScrollerRef.current.querySelectorAll(":scope > div > div > .".concat(ez.row))}function XH(t){const e=t.getAttribute("aria-colindex");return e?Number(e)-1:null}const qH=t=>{let{currentColIndex:e,firstColIndex:i,lastColIndex:s,direction:n}=t;if("rtl"===n){if(e<s)return e+1}else if("ltr"===n&&e>i)return e-1;return null},JH=t=>{let{currentColIndex:e,firstColIndex:i,lastColIndex:s,direction:n}=t;if("rtl"===n){if(e>i)return e-1}else if("ltr"===n&&e<s)return e+1;return null},KH=(e,i)=>{const s=JU(e,"useGridKeyboardNavigation"),n=MO(e,i).rows,r=ok(),o=t.useMemo((()=>function(t,e){const i=pV(t)||{};return[...i.top||[],...e,...i.bottom||[]]}(e,n)),[e,n]),a="DataGrid"!==i.signature&&i.headerFilters,l=t.useCallback((function(t,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";const r=eO(e),o=e.current.unstable_getCellColSpanInfo(i,t);o&&o.spannedByColSpan&&("left"===n?t=o.leftVisibleCellIndex:"right"===n&&(t=o.rightVisibleCellIndex));const a=r.findIndex((t=>t.id===i));s.debug("Navigating to cell row ".concat(a,", col ").concat(t)),e.current.scrollToIndexes({colIndex:t,rowIndex:a});const l=e.current.getVisibleColumns()[t].field;e.current.setCellFocus(i,l)}),[e,s]),h=t.useCallback(((t,i)=>{s.debug("Navigating to header col ".concat(t)),e.current.scrollToIndexes({colIndex:t});const n=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFocus(n,i)}),[e,s]),c=t.useCallback(((t,i)=>{s.debug("Navigating to header filter col ".concat(t)),e.current.scrollToIndexes({colIndex:t});const n=e.current.getVisibleColumns()[t].field;e.current.setColumnHeaderFilterFocus(n,i)}),[e,s]),u=t.useCallback(((t,i,n)=>{s.debug("Navigating to header col ".concat(t)),e.current.scrollToIndexes({colIndex:t});const{field:r}=e.current.getVisibleColumns()[t];e.current.setColumnGroupHeaderFocus(r,i,n)}),[e,s]),d=t.useCallback((t=>{var e;return null===(e=o[t])||void 0===e?void 0:e.id}),[o]),f=t.useCallback(((t,i)=>{const s=i.currentTarget.querySelector(".".concat(ez.columnHeaderTitleContainerContent));if(!!s&&s.contains(i.target)&&t.field!==sH.field)return;const n=e.current.getViewportPageSize(),f=t.field?e.current.getColumnIndex(t.field):0,p=o.length>0?0:null,g=o.length-1,m=Hz(e).length-1,y=RB(e);let v=!0;switch(i.key){case"ArrowDown":null!==p&&(a?c(f,i):l(f,d(p)));break;case"ArrowRight":{const t=JH({currentColIndex:f,firstColIndex:0,lastColIndex:m,direction:r.direction});null!==t&&h(t,i);break}case"ArrowLeft":{const t=qH({currentColIndex:f,firstColIndex:0,lastColIndex:m,direction:r.direction});null!==t&&h(t,i);break}case"ArrowUp":y>0&&u(f,y-1,i);break;case"PageDown":null!==p&&null!==g&&l(f,d(Math.min(p+n,g)));break;case"Home":h(0,i);break;case"End":h(m,i);break;case"Enter":(i.ctrlKey||i.metaKey)&&e.current.toggleColumnMenu(t.field);break;case" ":break;default:v=!1}v&&i.preventDefault()}),[e,o.length,a,c,l,d,r.direction,h,u]),p=t.useCallback(((t,i)=>{const s=SB(e)===t.field,n=AB(e)===t.field;if(s||n||!UV(i.key))return;const a=e.current.getViewportPageSize(),u=t.field?e.current.getColumnIndex(t.field):0,f=o.length-1,p=Hz(e).length-1;let g=!0;switch(i.key){case"ArrowDown":{const t=d(0);null!=t&&l(u,t);break}case"ArrowRight":{const t=JH({currentColIndex:u,firstColIndex:0,lastColIndex:p,direction:r.direction});null!==t&&c(t,i);break}case"ArrowLeft":{const s=qH({currentColIndex:u,firstColIndex:0,lastColIndex:p,direction:r.direction});null!==s?c(s,i):e.current.setColumnHeaderFilterFocus(t.field,i);break}case"ArrowUp":h(u,i);break;case"PageDown":null!==f&&l(u,d(Math.min(0+a,f)));break;case"Home":c(0,i);break;case"End":c(p,i);break;case" ":break;default:g=!1}g&&i.preventDefault()}),[e,o.length,c,r.direction,h,l,d]),g=t.useCallback(((t,i)=>{const s=HB(e);if(null===s)return;const{field:n,depth:r}=s,{fields:a,depth:c,maxDepth:f}=t,p=e.current.getViewportPageSize(),g=e.current.getColumnIndex(n),m=n?e.current.getColumnIndex(n):0,y=o.length-1,v=Hz(e).length-1;let b=!0;switch(i.key){case"ArrowDown":c===f-1?h(g,i):u(g,r+1,i);break;case"ArrowUp":c>0&&u(g,r-1,i);break;case"ArrowRight":{const t=a.length-a.indexOf(n)-1;g+t+1<=v&&u(g+t+1,r,i);break}case"ArrowLeft":{const t=a.indexOf(n);g-t-1>=0&&u(g-t-1,r,i);break}case"PageDown":null!==y&&l(m,d(Math.min(0+p,y)));break;case"Home":u(0,r,i);break;case"End":u(v,r,i);break;case" ":break;default:b=!1}b&&i.preventDefault()}),[e,o.length,h,u,l,d]),m=t.useCallback(((t,i)=>{if(HH(i))return;const s=e.current.getCellParams(t.id,t.field);if(s.cellMode===WV.Edit||!UV(i.key))return;if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:i,cell:s}))return;if(0===o.length)return;const n=r.direction,u=e.current.getViewportPageSize(),f=t.field?e.current.getColumnIndex(t.field):0,p=o.findIndex((e=>e.id===t.id)),g=o.length-1,m=Hz(e).length-1;let y=!0;switch(i.key){case"ArrowDown":p<g&&l(f,d(p+1));break;case"ArrowUp":p>0?l(f,d(p-1)):a?c(f,i):h(f,i);break;case"ArrowRight":{const t=JH({currentColIndex:f,firstColIndex:0,lastColIndex:m,direction:n});null!==t&&l(t,d(p),"rtl"===n?"left":"right");break}case"ArrowLeft":{const t=qH({currentColIndex:f,firstColIndex:0,lastColIndex:m,direction:n});null!==t&&l(t,d(p),"rtl"===n?"right":"left");break}case"Tab":i.shiftKey&&f>0?l(f-1,d(p),"left"):!i.shiftKey&&f<m&&l(f+1,d(p),"right");break;case" ":{if(t.field===VH)break;const e=t.colDef;if(e&&"__tree_data_group__"===e.field)break;!i.shiftKey&&p<g&&l(f,d(Math.min(p+u,g)));break}case"PageDown":p<g&&l(f,d(Math.min(p+u,g)));break;case"PageUp":{const t=Math.max(p-u,0);t!==p&&t>=0?l(f,d(t)):h(f,i);break}case"Home":i.ctrlKey||i.metaKey||i.shiftKey?l(0,d(0)):l(0,d(p));break;case"End":i.ctrlKey||i.metaKey||i.shiftKey?l(m,d(g)):l(m,d(p));break;default:y=!1}y&&i.preventDefault()}),[e,o,r.direction,l,d,a,c,h]),y=t.useCallback(((t,e)=>{let{event:i}=e;return" "!==i.key&&t}),[]);dH(e,"canStartEditing",y),aN(e,"columnHeaderKeyDown",f),aN(e,"headerFilterKeyDown",p),aN(e,"columnGroupHeaderKeyDown",g),aN(e,"cellKeyDown",m)},ZH=(t,e)=>{var i,s,n,r,o,a,l;const h=(0,pM.A)({},dO(e.autoPageSize),null!==(i=e.paginationModel)&&void 0!==i?i:null===(s=e.initialState)||void 0===s||null===(s=s.pagination)||void 0===s?void 0:s.paginationModel);fO(h.pageSize,e.signature);const c=null!==(n=e.rowCount)&&void 0!==n?n:null===(r=e.initialState)||void 0===r||null===(r=r.pagination)||void 0===r?void 0:r.rowCount,u=null!==(o=null!==(a=e.paginationMeta)&&void 0!==a?a:null===(l=e.initialState)||void 0===l||null===(l=l.pagination)||void 0===l?void 0:l.meta)&&void 0!==o?o:{};return(0,pM.A)({},t,{pagination:{paginationModel:h,rowCount:c,meta:u}})},QH=(e,i)=>{((e,i)=>{var s;const n=JU(e,"useGridPaginationMeta"),r=cz(e,yO);e.current.registerControlState({stateId:"paginationMeta",propModel:i.paginationMeta,propOnChange:i.onPaginationMetaChange,stateSelector:yO,changeEvent:"paginationMetaChange"});const o=t.useCallback((t=>{r!==t&&(n.debug("Setting 'paginationMeta' to",t),e.current.setState((e=>(0,pM.A)({},e,{pagination:(0,pM.A)({},e.pagination,{meta:t})}))))}),[e,n,r]);_O(e,{setPaginationMeta:o},"public");const a=t.useCallback(((t,s)=>{var n;const r=yO(e);return s.exportOnlyDirtyModels&&null==i.paginationMeta&&null==(null===(n=i.initialState)||void 0===n||null===(n=n.pagination)||void 0===n?void 0:n.meta)?t:(0,pM.A)({},t,{pagination:(0,pM.A)({},t.pagination,{meta:r})})}),[e,i.paginationMeta,null===(s=i.initialState)||void 0===s||null===(s=s.pagination)||void 0===s?void 0:s.meta]),l=t.useCallback(((t,i)=>{var s;const n=null!==(s=i.stateToRestore.pagination)&&void 0!==s&&s.meta?i.stateToRestore.pagination.meta:yO(e);return e.current.setState((t=>(0,pM.A)({},t,{pagination:(0,pM.A)({},t.pagination,{meta:n})}))),t}),[e]);dH(e,"exportState",a),dH(e,"restoreState",l),t.useEffect((()=>{i.paginationMeta&&e.current.setPaginationMeta(i.paginationMeta)}),[e,i.paginationMeta])})(e,i),((e,i)=>{var s;const n=JU(e,"useGridPaginationModel"),r=cz(e,Fz),o=Math.floor(i.rowHeight*r);e.current.registerControlState({stateId:"paginationModel",propModel:i.paginationModel,propOnChange:i.onPaginationModelChange,stateSelector:gO,changeEvent:"paginationModelChange"});const a=t.useCallback((t=>{const i=gO(e);t!==i.page&&(n.debug("Setting page to ".concat(t)),e.current.setPaginationModel({page:t,pageSize:i.pageSize}))}),[e,n]),l=t.useCallback((t=>{const i=gO(e);t!==i.pageSize&&(n.debug("Setting page size to ".concat(t)),e.current.setPaginationModel({pageSize:t,page:i.page}))}),[e,n]),h=t.useCallback((t=>{const s=gO(e);t!==s&&(n.debug("Setting 'paginationModel' to",t),e.current.setState((e=>(0,pM.A)({},e,{pagination:(0,pM.A)({},e.pagination,{paginationModel:IH(e.pagination,i.signature,t)})}))))}),[e,n,i.signature]);_O(e,{setPage:a,setPageSize:l,setPaginationModel:h},"public");const c=t.useCallback(((t,s)=>{var n;const r=gO(e);return!s.exportOnlyDirtyModels||null!=i.paginationModel||null!=(null===(n=i.initialState)||void 0===n||null===(n=n.pagination)||void 0===n?void 0:n.paginationModel)||0!==r.page&&r.pageSize!==(i.autoPageSize?0:100)?(0,pM.A)({},t,{pagination:(0,pM.A)({},t.pagination,{paginationModel:r})}):t}),[e,i.paginationModel,null===(s=i.initialState)||void 0===s||null===(s=s.pagination)||void 0===s?void 0:s.paginationModel,i.autoPageSize]),u=t.useCallback(((t,s)=>{var n,r;const o=null!==(n=s.stateToRestore.pagination)&&void 0!==n&&n.paginationModel?(0,pM.A)({},dO(i.autoPageSize),null===(r=s.stateToRestore.pagination)||void 0===r?void 0:r.paginationModel):gO(e);return e.current.setState((t=>(0,pM.A)({},t,{pagination:(0,pM.A)({},t.pagination,{paginationModel:IH(t.pagination,i.signature,o)})}))),t}),[e,i.autoPageSize,i.signature]);dH(e,"exportState",c),dH(e,"restoreState",u);const d=t.useCallback((()=>{if(!i.autoPageSize)return;const t=e.current.getRootDimensions(),s=Math.floor(t.viewportInnerSize.height/o);e.current.setPageSize(s)}),[e,i.autoPageSize,o]),f=t.useCallback((t=>{if(null==t)return;const i=gO(e),s=xO(e);i.page>s-1&&e.current.setPage(Math.max(0,s-1))}),[e]);aN(e,"viewportInnerSizeChange",d),aN(e,"paginationModelChange",(()=>{var t;const i=gO(e);null!==(t=e.current.virtualScrollerRef)&&void 0!==t&&t.current&&e.current.scrollToIndexes({rowIndex:i.page*i.pageSize})})),aN(e,"rowCountChange",f),t.useEffect((()=>{e.current.setState((t=>(0,pM.A)({},t,{pagination:(0,pM.A)({},t.pagination,{paginationModel:IH(t.pagination,i.signature,i.paginationModel)})})))}),[e,i.paginationModel,i.paginationMode,i.signature]),t.useEffect(d,[d])})(e,i),((e,i)=>{var s;const n=JU(e,"useGridRowCount"),r=cz(e,aO),o=cz(e,mO),a=cz(e,yO),l=cz(e,gO),h=(0,iz.A)((()=>gO(e).pageSize));e.current.registerControlState({stateId:"paginationRowCount",propModel:i.rowCount,propOnChange:i.onRowCountChange,stateSelector:mO,changeEvent:"rowCountChange"});const c=t.useCallback((t=>{o!==t&&(n.debug("Setting 'rowCount' to",t),e.current.setState((e=>(0,pM.A)({},e,{pagination:(0,pM.A)({},e.pagination,{rowCount:t})}))))}),[e,n,o]);_O(e,{setRowCount:c},"public");const u=t.useCallback(((t,s)=>{var n;const r=mO(e);return s.exportOnlyDirtyModels&&null==i.rowCount&&null==(null===(n=i.initialState)||void 0===n||null===(n=n.pagination)||void 0===n?void 0:n.rowCount)?t:(0,pM.A)({},t,{pagination:(0,pM.A)({},t.pagination,{rowCount:r})})}),[e,i.rowCount,null===(s=i.initialState)||void 0===s||null===(s=s.pagination)||void 0===s?void 0:s.rowCount]),d=t.useCallback(((t,i)=>{var s;const n=null!==(s=i.stateToRestore.pagination)&&void 0!==s&&s.rowCount?i.stateToRestore.pagination.rowCount:mO(e);return e.current.setState((t=>(0,pM.A)({},t,{pagination:(0,pM.A)({},t.pagination,{rowCount:n})}))),t}),[e]);dH(e,"exportState",u),dH(e,"restoreState",d);const f=t.useCallback((t=>{"client"!==i.paginationMode&&h.current&&t.pageSize!==h.current&&(h.current=t.pageSize,-1===o&&e.current.setPage(0))}),[i.paginationMode,h,o,e]);aN(e,"paginationModelChange",f),t.useEffect((()=>{"client"===i.paginationMode?e.current.setRowCount(r):null!=i.rowCount&&e.current.setRowCount(i.rowCount)}),[e,i.paginationMode,r,i.rowCount]);const p=!1===a.hasNextPage;t.useEffect((()=>{p&&-1===o&&e.current.setRowCount(l.pageSize*l.page+r)}),[e,r,p,o,l])})(e,i)},$H=(t,e)=>{var i,s;return(0,pM.A)({},t,{preferencePanel:null!==(i=null===(s=e.initialState)||void 0===s?void 0:s.preferencePanel)&&void 0!==i?i:{open:!1}})},tG=t=>t.editRows,eG=["id","field"],iG=["id","field"];var sG=function(t){return t.enterKeyDown="enterKeyDown",t.cellDoubleClick="cellDoubleClick",t.printableKeyDown="printableKeyDown",t.deleteKeyDown="deleteKeyDown",t}(sG||{}),nG=function(t){return t.rowFocusOut="rowFocusOut",t.escapeKeyDown="escapeKeyDown",t.enterKeyDown="enterKeyDown",t.tabKeyDown="tabKeyDown",t.shiftTabKeyDown="shiftTabKeyDown",t}(nG||{});const rG=["id"],oG=["id"],aG=t=>(0,pM.A)({},t,{editRows:{}}),lG=(e,i)=>{((e,i)=>{const[s,n]=t.useState({}),r=t.useRef(s),o=t.useRef({}),{processRowUpdate:a,onProcessRowUpdateError:l,cellModesModel:h,onCellModesModelChange:c}=i,u=t=>function(){i.editMode===GV.Cell&&t(...arguments)},d=t.useCallback(((t,i)=>{const s=e.current.getCellParams(t,i);if(!e.current.isCellEditable(s))throw new Error("MUI X: The cell with id=".concat(t," and field=").concat(i," is not editable."))}),[e]),f=t.useCallback(((t,i,s)=>{if(e.current.getCellMode(t,i)!==s)throw new Error("MUI X: The cell with id=".concat(t," and field=").concat(i," is not in ").concat(s," mode."))}),[e]),p=t.useCallback(((t,i)=>{if(!t.isEditable)return;if(t.cellMode===WV.Edit)return;const s=(0,pM.A)({},t,{reason:NV.cellDoubleClick});e.current.publishEvent("cellEditStart",s,i)}),[e]),g=t.useCallback(((t,i)=>{if(t.cellMode===WV.View)return;if(e.current.getCellMode(t.id,t.field)===WV.View)return;const s=(0,pM.A)({},t,{reason:_V.cellFocusOut});e.current.publishEvent("cellEditStop",s,i)}),[e]),m=t.useCallback(((t,i)=>{if(t.cellMode===WV.Edit){if(229===i.which)return;let s;if("Escape"===i.key?s=_V.escapeKeyDown:"Enter"===i.key?s=_V.enterKeyDown:"Tab"===i.key&&(s=i.shiftKey?_V.shiftTabKeyDown:_V.tabKeyDown,i.preventDefault()),s){const n=(0,pM.A)({},t,{reason:s});e.current.publishEvent("cellEditStop",n,i)}}else if(t.isEditable){let s;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:i,cellParams:t,editMode:"cell"}))return;if(OV(i)?s=NV.printableKeyDown:HV(i)?s=NV.pasteKeyDown:"Enter"===i.key?s=NV.enterKeyDown:"Backspace"!==i.key&&"Delete"!==i.key||(s=NV.deleteKeyDown),s){const n=(0,pM.A)({},t,{reason:s,key:i.key});e.current.publishEvent("cellEditStart",n,i)}}}),[e]),y=t.useCallback((t=>{const{id:i,field:s,reason:n}=t,r={id:i,field:s};n!==NV.printableKeyDown&&n!==NV.deleteKeyDown&&n!==NV.pasteKeyDown||(r.deleteValue=!0),e.current.startCellEditMode(r)}),[e]),v=t.useCallback((t=>{const{id:i,field:s,reason:n}=t;let r;e.current.runPendingEditCellValueMutation(i,s),n===_V.enterKeyDown?r="below":n===_V.tabKeyDown?r="right":n===_V.shiftTabKeyDown&&(r="left");const o="escapeKeyDown"===n;e.current.stopCellEditMode({id:i,field:s,ignoreModifications:o,cellToFocusAfter:r})}),[e]);var b;aN(e,"cellDoubleClick",u(p)),aN(e,"cellFocusOut",u(g)),aN(e,"cellKeyDown",u(m)),aN(e,"cellEditStart",u(y)),aN(e,"cellEditStop",u(v)),hN(e,"cellEditStart",i.onCellEditStart),hN(e,"cellEditStop",(b=i.onCellEditStop,async function(){if(b){var t;const{id:i,field:s}=arguments.length<=0?void 0:arguments[0];(null===(t=e.current.state.editRows[i][s])||void 0===t?void 0:t.error)||b(...arguments)}}));const x=t.useCallback(((t,i)=>{const s=tG(e.current.state);return s[t]&&s[t][i]?WV.Edit:WV.View}),[e]),S=(0,Sk.A)((t=>{const s=t!==i.cellModesModel;c&&s&&c(t,{api:e.current}),i.cellModesModel&&s||(n(t),r.current=t,e.current.publishEvent("cellModesModelChange",t))})),A=t.useCallback(((t,e,i)=>{const s=(0,pM.A)({},r.current);if(null!==i)s[t]=(0,pM.A)({},s[t],{[e]:(0,pM.A)({},i)});else{const i=s[t],n=(0,fM.A)(i,[e].map(I));s[t]=n,0===Object.keys(s[t]).length&&delete s[t]}S(s)}),[S]),w=t.useCallback(((t,i,s)=>{e.current.setState((e=>{const n=(0,pM.A)({},e.editRows);return null!==s?n[t]=(0,pM.A)({},n[t],{[i]:(0,pM.A)({},s)}):(delete n[t][i],0===Object.keys(n[t]).length&&delete n[t]),(0,pM.A)({},e,{editRows:n})})),e.current.forceUpdate()}),[e]),C=t.useCallback((t=>{const{id:e,field:i}=t,s=(0,fM.A)(t,eG);d(e,i),f(e,i,WV.View),A(e,i,(0,pM.A)({mode:WV.Edit},s))}),[d,f,A]),M=(0,Sk.A)((t=>{const{id:i,field:s,deleteValue:n,initialValue:r}=t;let o=e.current.getCellValue(i,s);if(n)switch(e.current.getColumn(s).type){case"boolean":o=!1;break;case"date":case"dateTime":case"number":o=void 0;break;case"singleSelect":o=null;break;default:o=""}else r&&(o=r);w(i,s,{value:o,error:!1,isProcessingProps:!1}),e.current.setCellFocus(i,s)})),k=t.useCallback((t=>{const{id:e,field:i}=t,s=(0,fM.A)(t,iG);f(e,i,WV.Edit),A(e,i,(0,pM.A)({mode:WV.View},s))}),[f,A]),R=(0,Sk.A)((async t=>{const{id:i,field:s,ignoreModifications:n,cellToFocusAfter:r="none"}=t;f(i,s,WV.Edit),e.current.runPendingEditCellValueMutation(i,s);const h=()=>{w(i,s,null),A(i,s,null),"none"!==r&&e.current.moveFocusToRelativeCell(i,s,r)};if(n)return void h();const c=tG(e.current.state),{error:u,isProcessingProps:d}=c[i][s];if(u||d)return o.current[i][s].mode=WV.Edit,void A(i,s,{mode:WV.Edit});const p=e.current.getRowWithUpdatedValuesFromCellEditing(i,s);if(a){const t=t=>{o.current[i][s].mode=WV.Edit,A(i,s,{mode:WV.Edit}),l&&l(t)};try{const s=e.current.getRow(i);Promise.resolve(a(p,s)).then((t=>{e.current.updateRows([t]),h()})).catch(t)}catch(g){t(g)}}else e.current.updateRows([p]),h()})),E=t.useCallback((async t=>{var i;const{id:s,field:n,value:r,debounceMs:o,unstable_skipValueParser:a}=t;d(s,n),f(s,n,WV.Edit);const l=e.current.getColumn(n),h=e.current.getRow(s);let c=r;l.valueParser&&!a&&(c=l.valueParser(r,h,l,e));let u=tG(e.current.state),p=(0,pM.A)({},u[s][n],{value:c,changeReason:o?"debouncedSetEditCellValue":"setEditCellValue"});if(l.preProcessEditCellProps){const t=r!==u[s][n].value;p=(0,pM.A)({},p,{isProcessingProps:!0}),w(s,n,p),p=await Promise.resolve(l.preProcessEditCellProps({id:s,row:h,props:p,hasChanged:t}))}return e.current.getCellMode(s,n)!==WV.View&&(u=tG(e.current.state),p=(0,pM.A)({},p,{isProcessingProps:!1}),p.value=l.preProcessEditCellProps?u[s][n].value:c,w(s,n,p),u=tG(e.current.state),!(null!==(i=u[s])&&void 0!==i&&null!==(i=i[n])&&void 0!==i&&i.error))}),[e,d,f,w]),T=t.useCallback(((t,i)=>{const s=e.current.getColumn(i),n=tG(e.current.state),r=e.current.getRow(t);if(!n[t]||!n[t][i])return e.current.getRow(t);const{value:o}=n[t][i];return s.valueSetter?s.valueSetter(o,r,s,e):(0,pM.A)({},r,{[i]:o})}),[e]),P={setCellEditingEditCellValue:E,getRowWithUpdatedValuesFromCellEditing:T};_O(e,{getCellMode:x,startCellEditMode:C,stopCellEditMode:k},"public"),_O(e,P,"private"),t.useEffect((()=>{h&&S(h)}),[h,S]),(0,NM.A)((()=>{const t=aV(e),i=o.current;o.current=EN(s),Object.entries(s).forEach((e=>{let[s,n]=e;Object.entries(n).forEach((e=>{var n,r;let[o,a]=e;const l=(null===(n=i[s])||void 0===n||null===(n=n[o])||void 0===n?void 0:n.mode)||WV.View,h=null!==(r=t[s])&&void 0!==r?r:s;a.mode===WV.Edit&&l===WV.View?M((0,pM.A)({id:h,field:o},a)):a.mode===WV.View&&l===WV.Edit&&R((0,pM.A)({id:h,field:o},a))}))}))}),[e,s,M,R])})(e,i),((e,i)=>{const[s,n]=t.useState({}),r=t.useRef(s),o=t.useRef({}),a=t.useRef(),l=t.useRef(null),{processRowUpdate:h,onProcessRowUpdateError:c,rowModesModel:u,onRowModesModelChange:d}=i,f=t=>function(){i.editMode===GV.Row&&t(...arguments)},p=t.useCallback(((t,i)=>{const s=e.current.getCellParams(t,i);if(!e.current.isCellEditable(s))throw new Error("MUI X: The cell with id=".concat(t," and field=").concat(i," is not editable."))}),[e]),g=t.useCallback(((t,i)=>{if(e.current.getRowMode(t)!==i)throw new Error("MUI X: The row with id=".concat(t," is not in ").concat(i," mode."))}),[e]),m=t.useCallback((t=>{const i=tG(e.current.state);return Object.values(i[t]).some((t=>t.error))}),[e]),y=t.useCallback(((t,i)=>{if(!t.isEditable)return;if(e.current.getRowMode(t.id)===jV.Edit)return;const s=e.current.getRowParams(t.id),n=(0,pM.A)({},s,{field:t.field,reason:sG.cellDoubleClick});e.current.publishEvent("rowEditStart",n,i)}),[e]),v=t.useCallback((t=>{l.current=t}),[]),b=t.useCallback(((t,i)=>{t.isEditable&&e.current.getRowMode(t.id)!==jV.View&&(l.current=null,a.current=setTimeout((()=>{var s;if((null===(s=l.current)||void 0===s?void 0:s.id)!==t.id){if(!e.current.getRow(t.id))return;if(e.current.getRowMode(t.id)===jV.View)return;if(m(t.id))return;const s=e.current.getRowParams(t.id),n=(0,pM.A)({},s,{field:t.field,reason:nG.rowFocusOut});e.current.publishEvent("rowEditStop",n,i)}})))}),[e,m]);t.useEffect((()=>()=>{clearTimeout(a.current)}),[]);const x=t.useCallback(((t,i)=>{if(t.cellMode===jV.Edit){if(229===i.which)return;let s;if("Escape"===i.key)s=nG.escapeKeyDown;else if("Enter"===i.key)s=nG.enterKeyDown;else if("Tab"===i.key){const n=Gz(e).filter((i=>e.current.getColumn(i).type===yB||e.current.isCellEditable(e.current.getCellParams(t.id,i))));if(i.shiftKey?t.field===n[0]&&(s=nG.shiftTabKeyDown):t.field===n[n.length-1]&&(s=nG.tabKeyDown),i.preventDefault(),!s){const s=n.findIndex((e=>e===t.field)),r=n[i.shiftKey?s-1:s+1];e.current.setCellFocus(t.id,r)}}if(s){if(s!==nG.escapeKeyDown&&m(t.id))return;const n=(0,pM.A)({},e.current.getRowParams(t.id),{reason:s,field:t.field});e.current.publishEvent("rowEditStop",n,i)}}else if(t.isEditable){let s;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:i,cellParams:t,editMode:"row"}))return;if(OV(i)||HV(i)?s=sG.printableKeyDown:"Enter"===i.key?s=sG.enterKeyDown:"Backspace"!==i.key&&"Delete"!==i.key||(s=sG.deleteKeyDown),s){const n=e.current.getRowParams(t.id),r=(0,pM.A)({},n,{field:t.field,reason:s});e.current.publishEvent("rowEditStart",r,i)}}}),[e,m]),S=t.useCallback((t=>{const{id:i,field:s,reason:n}=t,r={id:i,fieldToFocus:s};n!==sG.printableKeyDown&&n!==sG.deleteKeyDown||(r.deleteValue=!!s),e.current.startRowEditMode(r)}),[e]),A=t.useCallback((t=>{const{id:i,reason:s,field:n}=t;let r;e.current.runPendingEditCellValueMutation(i),s===nG.enterKeyDown?r="below":s===nG.tabKeyDown?r="right":s===nG.shiftTabKeyDown&&(r="left");const o="escapeKeyDown"===s;e.current.stopRowEditMode({id:i,ignoreModifications:o,field:n,cellToFocusAfter:r})}),[e]);aN(e,"cellDoubleClick",f(y)),aN(e,"cellFocusIn",f(v)),aN(e,"cellFocusOut",f(b)),aN(e,"cellKeyDown",f(x)),aN(e,"rowEditStart",f(S)),aN(e,"rowEditStop",f(A)),hN(e,"rowEditStart",i.onRowEditStart),hN(e,"rowEditStop",i.onRowEditStop);const w=t.useCallback((t=>{if(i.editMode===GV.Cell)return jV.View;const s=tG(e.current.state);return s[t]&&Object.keys(s[t]).length>0?jV.Edit:jV.View}),[e,i.editMode]),C=(0,Sk.A)((t=>{const s=t!==i.rowModesModel;d&&s&&d(t,{api:e.current}),i.rowModesModel&&s||(n(t),r.current=t,e.current.publishEvent("rowModesModelChange",t))})),M=t.useCallback(((t,e)=>{const i=(0,pM.A)({},r.current);null!==e?i[t]=(0,pM.A)({},e):delete i[t],C(i)}),[C]),k=t.useCallback(((t,i)=>{e.current.setState((e=>{const s=(0,pM.A)({},e.editRows);return null!==i?s[t]=i:delete s[t],(0,pM.A)({},e,{editRows:s})})),e.current.forceUpdate()}),[e]),R=t.useCallback(((t,i,s)=>{e.current.setState((e=>{const n=(0,pM.A)({},e.editRows);return null!==s?n[t]=(0,pM.A)({},n[t],{[i]:(0,pM.A)({},s)}):(delete n[t][i],0===Object.keys(n[t]).length&&delete n[t]),(0,pM.A)({},e,{editRows:n})})),e.current.forceUpdate()}),[e]),E=t.useCallback((t=>{const{id:e}=t,i=(0,fM.A)(t,rG);g(e,jV.View),M(e,(0,pM.A)({mode:jV.Edit},i))}),[g,M]),T=(0,Sk.A)((t=>{const{id:i,fieldToFocus:s,deleteValue:n,initialValue:r}=t,o=Vz(e).reduce(((t,o)=>{if(!e.current.getCellParams(i,o).isEditable)return t;let a=e.current.getCellValue(i,o);return s===o&&(n||r)&&(a=n?"":r),t[o]={value:a,error:!1,isProcessingProps:!1},t}),{});k(i,o),s&&e.current.setCellFocus(i,s)})),P=t.useCallback((t=>{const{id:e}=t,i=(0,fM.A)(t,oG);g(e,jV.Edit),M(e,(0,pM.A)({mode:jV.View},i))}),[g,M]),F=(0,Sk.A)((t=>{const{id:i,ignoreModifications:s,field:n,cellToFocusAfter:r="none"}=t;e.current.runPendingEditCellValueMutation(i);const a=()=>{"none"!==r&&n&&e.current.moveFocusToRelativeCell(i,n,r),k(i,null),M(i,null)};if(s)return void a();const l=tG(e.current.state),u=e.current.getRow(i);if(Object.values(l[i]).some((t=>t.isProcessingProps)))return void(o.current[i].mode=jV.Edit);if(m(i))return o.current[i].mode=jV.Edit,void M(i,{mode:jV.Edit});const d=e.current.getRowWithUpdatedValuesFromRowEditing(i);if(h){const t=t=>{o.current[i].mode=jV.Edit,M(i,{mode:jV.Edit}),c&&c(t)};try{Promise.resolve(h(d,u)).then((t=>{e.current.updateRows([t]),a()})).catch(t)}catch(f){t(f)}}else e.current.updateRows([d]),a()})),D=t.useCallback((t=>{const{id:i,field:s,value:n,debounceMs:r,unstable_skipValueParser:o}=t;p(i,s);const a=e.current.getColumn(s),l=e.current.getRow(i);let h=n;a.valueParser&&!o&&(h=a.valueParser(n,l,a,e));let c=tG(e.current.state),u=(0,pM.A)({},c[i][s],{value:h,changeReason:r?"debouncedSetEditCellValue":"setEditCellValue"});return a.preProcessEditCellProps||R(i,s,u),new Promise((t=>{const n=[];if(a.preProcessEditCellProps){const r=u.value!==c[i][s].value;u=(0,pM.A)({},u,{isProcessingProps:!0}),R(i,s,u);const o=c[i],d=(0,fM.A)(o,[s].map(I)),f=Promise.resolve(a.preProcessEditCellProps({id:i,row:l,props:u,hasChanged:r,otherFieldsProps:d})).then((n=>{e.current.getRowMode(i)!==jV.View?(c=tG(e.current.state),(n=(0,pM.A)({},n,{isProcessingProps:!1})).value=a.preProcessEditCellProps?c[i][s].value:h,R(i,s,n)):t(!1)}));n.push(f)}Object.entries(c[i]).forEach((r=>{let[o,a]=r;if(o===s)return;const h=e.current.getColumn(o);if(!h.preProcessEditCellProps)return;a=(0,pM.A)({},a,{isProcessingProps:!0}),R(i,o,a),c=tG(e.current.state);const u=c[i],d=(0,fM.A)(u,[o].map(I)),f=Promise.resolve(h.preProcessEditCellProps({id:i,row:l,props:a,hasChanged:!1,otherFieldsProps:d})).then((s=>{e.current.getRowMode(i)!==jV.View?(s=(0,pM.A)({},s,{isProcessingProps:!1}),R(i,o,s)):t(!1)}));n.push(f)})),Promise.all(n).then((()=>{e.current.getRowMode(i)===jV.Edit?(c=tG(e.current.state),t(!c[i][s].error)):t(!1)}))}))}),[e,p,R]),L=t.useCallback((t=>{const i=tG(e.current.state),s=e.current.getRow(t);if(!i[t])return e.current.getRow(t);let n=(0,pM.A)({},s);return Object.entries(i[t]).forEach((t=>{let[i,s]=t;const r=e.current.getColumn(i);r.valueSetter?n=r.valueSetter(s.value,n,r,e):n[i]=s.value})),n}),[e]),z={setRowEditingEditCellValue:D,getRowWithUpdatedValuesFromRowEditing:L};_O(e,{getRowMode:w,startRowEditMode:E,stopRowEditMode:P},"public"),_O(e,z,"private"),t.useEffect((()=>{u&&C(u)}),[u,C]),(0,NM.A)((()=>{const t=aV(e),i=o.current;o.current=EN(s);const n=new Set([...Object.keys(s),...Object.keys(i)]);Array.from(n).forEach((e=>{var n,r,o;const a=null!==(n=s[e])&&void 0!==n?n:{mode:jV.View},l=(null===(r=i[e])||void 0===r?void 0:r.mode)||jV.View,h=null!==(o=t[e])&&void 0!==o?o:e;a.mode===jV.Edit&&l===jV.View?T((0,pM.A)({id:h},a)):a.mode===jV.View&&l===jV.Edit&&F((0,pM.A)({id:h},a))}))}),[e,s,T,F])})(e,i);const s=t.useRef({}),{isCellEditable:n}=i,r=t.useCallback((t=>!AV(t.rowNode)&&(!!t.colDef.editable&&(!!t.colDef.renderEditCell&&(!n||n(t))))),[n]);t.useEffect((()=>{const t=s.current;return()=>{Object.entries(t).forEach((e=>{let[i,s]=e;Object.keys(s).forEach((e=>{const[s]=t[i][e];clearTimeout(s),delete t[i][e]}))}))}}),[]);const o=t.useCallback(((t,e)=>{if(s.current[t])if(e){if(s.current[t][e]){const[,i]=s.current[t][e];i()}}else Object.keys(s.current[t]).forEach((e=>{const[,i]=s.current[t][e];i()}))}),[]),a=t.useCallback((t=>{const{id:n,field:r,debounceMs:o}=t;return new Promise((a=>{((t,e,i,n)=>{if(!i)return void n();if(s.current[t]||(s.current[t]={}),s.current[t][e]){const[i]=s.current[t][e];clearTimeout(i)}const r=setTimeout((()=>{n(),delete s.current[t][e]}),i);s.current[t][e]=[r,()=>{const[i]=s.current[t][e];clearTimeout(i),n(),delete s.current[t][e]}]})(n,r,o,(async()=>{const s=i.editMode===GV.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(n,r)===WV.Edit){const e=await s(t);a(e)}}))}))}),[e,i.editMode]),l=t.useCallback(((t,s)=>i.editMode===GV.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(t,s):e.current.getRowWithUpdatedValuesFromRowEditing(t)),[e,i.editMode]),h=t.useCallback(((t,i)=>{var s,n;return null!==(s=null===(n=tG(e.current.state)[t])||void 0===n?void 0:n[i])&&void 0!==s?s:null}),[e]),c={runPendingEditCellValueMutation:o};_O(e,{isCellEditable:r,setEditCellValue:a,getRowWithUpdatedValues:l,unstable_getEditCellMeta:h},"public"),_O(e,c,"private")},hG=(t,e,i)=>{const s=!!e.unstable_dataSource;return i.current.caches.rows=bV({rows:s?[]:e.rows,getRowId:e.getRowId,loading:e.loading,rowCount:e.rowCount}),(0,pM.A)({},t,{rows:SV({apiRef:i,rowCountProp:e.rowCount,loadingProp:!!s||e.loading,previousTree:null,previousTreeDepths:null})})},cG=t=>"full"===t.updates.type?(t=>{const e={[mV]:(0,pM.A)({},{type:"group",id:mV,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null},{children:t})};for(let i=0;i<t.length;i+=1){const s=t[i];e[s]={id:s,depth:0,parent:mV,type:"leaf",groupingKey:null}}return{groupingName:jU,tree:e,treeDepths:{0:t.length},dataRowIds:t}})(t.updates.rows):(t=>{let{previousTree:e,actions:i}=t;const s=(0,pM.A)({},e),n={};for(let a=0;a<i.remove.length;a+=1){const t=i.remove[a];n[t]=!0,delete s[t]}for(let a=0;a<i.insert.length;a+=1){const t=i.insert[a];s[t]={id:t,depth:0,parent:mV,type:"leaf",groupingKey:null}}const r=s[mV];let o=[...r.children,...i.insert];return Object.values(n).length&&(o=o.filter((t=>!n[t]))),s[mV]=(0,pM.A)({},r,{children:o}),{groupingName:jU,tree:s,treeDepths:{0:o.length},dataRowIds:o}})({previousTree:t.previousTree,actions:t.updates.actions});class uG extends Error{}function dG(e){const i=t.useCallback((t=>({field:t,colDef:e.current.getColumn(t)})),[e]),s=t.useCallback((t=>{const i=e.current.getRow(t);if(!i)throw new uG("No row with id #".concat(t," found"));return{id:t,columns:e.current.getAllColumns(),row:i}}),[e]),n=t.useCallback(((t,i)=>{const s=e.current.getColumn(i),n=e.current.getRow(t),r=e.current.getRowNode(t);if(!n||!r)throw new uG("No row with id #".concat(t," found"));const o=n[i],a=null!==s&&void 0!==s&&s.valueGetter?s.valueGetter(o,n,s,e):o,l=OB(e),h=WB(e),c={id:t,field:i,row:n,rowNode:r,colDef:s,cellMode:e.current.getCellMode(t,i),hasFocus:null!==l&&l.field===i&&l.id===t,tabIndex:h&&h.field===i&&h.id===t?0:-1,value:a,formattedValue:a,isEditable:!1};return s&&s.valueFormatter&&(c.formattedValue=s.valueFormatter(a,n,s,e)),c.isEditable=s&&e.current.isCellEditable(c),c}),[e]),r=t.useCallback(((t,i)=>{const s=e.current.getColumn(i),n=e.current.getRow(t);if(!n)throw new uG("No row with id #".concat(t," found"));return s&&s.valueGetter?s.valueGetter(n[s.field],n,s,e):n[i]}),[e]),o=t.useCallback(((t,i)=>{const s=i.field;if(!i||!i.valueGetter)return t[s];const n=t[i.field];return i.valueGetter(n,t,i,e)}),[e]),a=t.useCallback(((t,i)=>{const s=o(t,i);return i&&i.valueFormatter?i.valueFormatter(s,t,i,e):s}),[e,o]),l=t.useCallback((t=>e.current.rootElementRef.current?function(t,e){return t.querySelector('[role="columnheader"][data-field="'.concat(OH(e),'"]'))}(e.current.rootElementRef.current,t):null),[e]),h=t.useCallback((t=>e.current.rootElementRef.current?function(t,e){return t.querySelector(UH(e))}(e.current.rootElementRef.current,t):null),[e]),c=t.useCallback(((t,i)=>e.current.rootElementRef.current?function(t,e){let{id:i,field:s}=e;const n=UH(i),r=".".concat(ez.cell,'[data-field="').concat(OH(s),'"]'),o="".concat(n," ").concat(r);return t.querySelector(o)}(e.current.rootElementRef.current,{id:t,field:i}):null),[e]);_O(e,{getCellValue:r,getCellParams:n,getCellElement:c,getRowValue:o,getRowFormattedValue:a,getRowParams:s,getRowElement:h,getColumnHeaderParams:i,getColumnHeaderElement:l},"public")}const fG=(t,e)=>null==t||Array.isArray(t)?t:e&&e[0]===t?e:[t],pG=(t,e)=>{var i;return(0,pM.A)({},t,{rowSelection:e.rowSelection&&null!==(i=fG(e.rowSelectionModel))&&void 0!==i?i:[]})},gG=(e,i)=>{const s=(e=>{const{classes:i}=e;return t.useMemo((()=>(0,mM.A)({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},tz,i)),[i])})({classes:i.classes}),n=t.useCallback((t=>{const n=(0,pM.A)({},sH,{cellClassName:s.cellCheckbox,headerClassName:s.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),r=i.checkboxSelection,o=null!=t.lookup[iH];return r&&!o?(t.lookup[iH]=n,t.orderedFields=[iH,...t.orderedFields]):!r&&o?(delete t.lookup[iH],t.orderedFields=t.orderedFields.filter((t=>t!==iH))):r&&o&&(t.lookup[iH]=(0,pM.A)({},n,t.lookup[iH])),t}),[e,s,i.checkboxSelection]);dH(e,"hydrateColumns",n)},mG=(t,e)=>{var i,s,n;const r=null!==(i=null!==(s=e.sortModel)&&void 0!==s?s:null===(n=e.initialState)||void 0===n||null===(n=n.sorting)||void 0===n?void 0:n.sortModel)&&void 0!==i?i:[];return(0,pM.A)({},t,{sorting:{sortModel:fN(r,e.disableMultipleColumnsSorting),sortedRows:[]}})};function yG(t){const{clientHeight:e,scrollTop:i,offsetHeight:s,offsetTop:n}=t,r=n+s;return s>e?n:r-e>i?r-e:n<i?n:void 0}const vG={width:0,height:0},bG={isReady:!1,root:vG,viewportOuterSize:vG,viewportInnerSize:vG,contentSize:vG,minimumSize:vG,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},xG=t=>{const e=bG;return(0,pM.A)({},t,{dimensions:e})};function SG(e,i){var s;const n=JU(e,"useResizeContainer"),r=t.useRef(!1),o=t.useRef(vG),a=cz(e,fz),l=cz(e,PO),h=cz(e,Wz),c=cz(e,Fz),u=Math.floor(i.rowHeight*c),d=Math.floor(i.columnHeaderHeight*c),f=Math.floor((null!==(s=i.headerFilterHeight)&&void 0!==s?s:i.columnHeaderHeight)*c),p=(g=Yz(e),m=6,Math.round(g*10**m)/10**m);var g,m;const y=DB(e,i),v=h.left.reduce(((t,e)=>t+e.computedWidth),0),b=h.right.reduce(((t,e)=>t+e.computedWidth),0),[x,S]=t.useState(),A=t.useMemo((()=>function(t){let e,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;const n=()=>{e=void 0,t(...i)};function r(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];i=r,void 0===e&&(e=setTimeout(n,s))}return r.clear=()=>{clearTimeout(e),e=void 0},r}(S,i.resizeThrottleMs)),[i.resizeThrottleMs]),w=t.useRef(),C=(0,Sk.A)((t=>{e.current.setState((e=>(0,pM.A)({},e,{dimensions:t})))})),M=t.useCallback((()=>{const t=e.current.mainElementRef.current;if(!t)return;const i=(0,wk.A)(t).getComputedStyle(t),s={width:parseFloat(i.width)||0,height:parseFloat(i.height)||0};w.current&&AG(w.current,s)||(e.current.publishEvent("resize",s),w.current=s)}),[e]),k=t.useCallback((()=>{const t=fz(e.current.state);if(!t.isReady)return 0;const s=CO(e,{pagination:i.pagination,paginationMode:i.paginationMode});if(i.getRowHeight){const t=zO(e),i=t.lastRowIndex-t.firstRowIndex;return Math.min(i-1,s.rows.length)}const n=Math.floor(t.viewportInnerSize.height/u);return Math.min(n,s.rows.length)}),[e,i.pagination,i.paginationMode,i.getRowHeight,u]),R=t.useCallback((()=>{var t,s;const n=e.current.rootElementRef.current,r=function(t){var e,i;const s=pV(t);return{top:(null===s||void 0===s||null===(e=s.top)||void 0===e?void 0:e.reduce(((e,i)=>e+t.current.unstable_getRowHeight(i.id)),0))||0,bottom:(null===s||void 0===s||null===(i=s.bottom)||void 0===i?void 0:i.reduce(((e,i)=>e+t.current.unstable_getRowHeight(i.id)),0))||0}}(e),a=function(t,e,i){if(void 0!==i)return i;if(null===t||0===e)return 0;const s=(0,IM.A)(t),n=s.createElement("div");n.style.width="99px",n.style.height="99px",n.style.position="absolute",n.style.overflow="scroll",n.className="scrollDiv",t.appendChild(n);const r=n.offsetWidth-n.clientWidth;return t.removeChild(n),r}(n,p,i.scrollbarSize),h=y+r.top,c=r.bottom,g={width:p-v-b,height:l.currentPageTotalHeight};let m,x,S=!1,A=!1;if(i.autoHeight)A=!1,S=Math.round(p)>Math.round(o.current.width),m={width:o.current.width,height:h+c+g.height},x={width:Math.max(0,m.width-(A?a:0)),height:Math.max(0,m.height-(S?a:0))};else{m={width:o.current.width,height:o.current.height},x={width:Math.max(0,m.width-v-b),height:Math.max(0,m.height-h-c)};const t=g,e=x,i=t.width>e.width,s=t.height>e.height;(i||s)&&(A=s,S=t.width+(A?a:0)>e.width,S&&(A=t.height+a>e.height)),A&&(x.width-=a),S&&(x.height-=a)}const w=Math.max(m.width,p+(A?a:0)),M={width:p,height:h+g.height+c},k={isReady:!0,root:o.current,viewportOuterSize:m,viewportInnerSize:x,contentSize:g,minimumSize:M,hasScrollX:S,hasScrollY:A,scrollbarSize:a,headerHeight:d,headerFilterHeight:f,rowWidth:w,rowHeight:u,columnsTotalWidth:p,leftPinnedWidth:v,rightPinnedWidth:b,headersTotalHeight:y,topContainerHeight:h,bottomContainerHeight:c},R=e.current.state.dimensions;C(k),AG(k.viewportInnerSize,R.viewportInnerSize)||e.current.publishEvent("viewportInnerSizeChange",k.viewportInnerSize),null===(t=(s=e.current).updateRenderContext)||void 0===t||t.call(s)}),[e,C,i.scrollbarSize,i.autoHeight,l.currentPageTotalHeight,u,d,f,p,y,v,b]),E={updateDimensions:R,getViewportPageSize:k};_O(e,{resize:M,getRootDimensions:()=>e.current.state.dimensions},"public"),_O(e,E,"private"),(0,NM.A)((()=>{x&&(R(),e.current.publishEvent("debouncedResize",o.current))}),[e,x,R]);const T=e.current.rootElementRef.current;(0,NM.A)((()=>{if(!T)return;const t=(t,e)=>T.style.setProperty(t,e);t("--DataGrid-width","".concat(a.viewportOuterSize.width,"px")),t("--DataGrid-hasScrollX","".concat(Number(a.hasScrollX))),t("--DataGrid-hasScrollY","".concat(Number(a.hasScrollY))),t("--DataGrid-scrollbarSize","".concat(a.scrollbarSize,"px")),t("--DataGrid-rowWidth","".concat(a.rowWidth,"px")),t("--DataGrid-columnsTotalWidth","".concat(a.columnsTotalWidth,"px")),t("--DataGrid-leftPinnedWidth","".concat(a.leftPinnedWidth,"px")),t("--DataGrid-rightPinnedWidth","".concat(a.rightPinnedWidth,"px")),t("--DataGrid-headerHeight","".concat(a.headerHeight,"px")),t("--DataGrid-headersTotalHeight","".concat(a.headersTotalHeight,"px")),t("--DataGrid-topContainerHeight","".concat(a.topContainerHeight,"px")),t("--DataGrid-bottomContainerHeight","".concat(a.bottomContainerHeight,"px")),t("--height","".concat(a.rowHeight,"px"))}),[T,a]);const I=t.useRef(!0),P=t.useCallback((t=>{o.current=t;const e=/jsdom/.test(window.navigator.userAgent);if(0!==t.height||r.current||i.autoHeight||e||(n.error(["The parent DOM element of the data grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),r.current=!0),0!==t.width||r.current||e||(n.error(["The parent DOM element of the data grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join("\n")),r.current=!0),I.current)return S(t),void(I.current=!1);A(t)}),[i.autoHeight,A,n]);(0,NM.A)(R,[R]),hN(e,"sortedRowsSet",R),hN(e,"paginationModelChange",R),hN(e,"columnsChange",R),aN(e,"resize",P),hN(e,"debouncedResize",i.onResize)}function AG(t,e){return t.width===e.width&&t.height===e.height}const wG={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:t=>"".concat(t,1!==t?" active filters":" active filter"),toolbarQuickFilterPlaceholder:"Search\u2026",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorEquals:"equals",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorEquals:"Equals",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:t=>"".concat(t,1!==t?" active filters":" active filter"),columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:t=>"".concat(t.toLocaleString(),1!==t?" rows selected":" row selected"),footerTotalRows:"Total Rows:",footerTotalVisibleRows:(t,e)=>"".concat(t.toLocaleString()," of ").concat(e.toLocaleString()),checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:t=>"Group by ".concat(t),unGroupColumn:t=>"Stop grouping by ".concat(t),detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"};function CG(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function MG(t){return parseFloat(t)}function kG(t){return(0,gk.Ay)("MuiSkeleton",t)}(0,pk.A)("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var RG,EG,TG,IG;const PG=["animation","className","component","height","style","variant","width"];let FG,DG,LG,zG;const NG=(0,QR.i7)(FG||(FG=RG||(RG=jR(["\n  0% {\n    opacity: 1;\n  }\n\n  50% {\n    opacity: 0.4;\n  }\n\n  100% {\n    opacity: 1;\n  }\n"])))),_G=(0,QR.i7)(DG||(DG=EG||(EG=jR(["\n  0% {\n    transform: translateX(-100%);\n  }\n\n  50% {\n    /* +0.5s of delay between each loop */\n    transform: translateX(100%);\n  }\n\n  100% {\n    transform: translateX(100%);\n  }\n"])))),VG=(0,BM.Ay)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],!1!==i.animation&&e[i.animation],i.hasChildren&&e.withChildren,i.hasChildren&&!i.width&&e.fitContent,i.hasChildren&&!i.height&&e.heightAuto]}})((t=>{let{theme:e,ownerState:i}=t;const s=CG(e.shape.borderRadius)||"px",n=MG(e.shape.borderRadius);return(0,pM.A)({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:ZL(e.palette.text.primary,"light"===e.palette.mode?.11:.13),height:"1.2em"},"text"===i.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:"".concat(n).concat(s,"/").concat(Math.round(n/.6*10)/10).concat(s),"&:empty:before":{content:'"\\00a0"'}},"circular"===i.variant&&{borderRadius:"50%"},"rounded"===i.variant&&{borderRadius:(e.vars||e).shape.borderRadius},i.hasChildren&&{"& > *":{visibility:"hidden"}},i.hasChildren&&!i.width&&{maxWidth:"fit-content"},i.hasChildren&&!i.height&&{height:"auto"})}),(t=>{let{ownerState:e}=t;return"pulse"===e.animation&&(0,QR.AH)(LG||(LG=TG||(TG=jR(["\n      animation: "," 2s ease-in-out 0.5s infinite;\n    "]))),NG)}),(t=>{let{ownerState:e,theme:i}=t;return"wave"===e.animation&&(0,QR.AH)(zG||(zG=IG||(IG=jR(["\n      position: relative;\n      overflow: hidden;\n\n      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */\n      -webkit-mask-image: -webkit-radial-gradient(white, black);\n\n      &::after {\n        animation: "," 2s linear 0.5s infinite;\n        background: linear-gradient(\n          90deg,\n          transparent,\n          ",",\n          transparent\n        );\n        content: '';\n        position: absolute;\n        transform: translateX(-100%); /* Avoid flash during server-side hydration */\n        bottom: 0;\n        left: 0;\n        right: 0;\n        top: 0;\n      }\n    "]))),_G,(i.vars||i).palette.action.hover)})),BG=t.forwardRef((function(t,e){const i=(0,OM.b)({props:t,name:"MuiSkeleton"}),{animation:s="pulse",className:n,component:r="span",height:o,style:a,variant:l="text",width:h}=i,c=(0,fM.A)(i,PG),u=(0,pM.A)({},i,{animation:s,component:r,variant:l,hasChildren:Boolean(c.children)}),d=(t=>{const{classes:e,variant:i,animation:s,hasChildren:n,width:r,height:o}=t,a={root:["root",i,s,n&&"withChildren",n&&!r&&"fitContent",n&&!o&&"heightAuto"]};return(0,mM.A)(a,kG,e)})(u);return(0,oM.jsx)(VG,(0,pM.A)({as:r,ref:e,className:(0,gM.A)(d.root,n),ownerState:u},c,{style:(0,pM.A)({width:h,height:o},a)}))})),OG=BG,UG=["field","type","align","width","height","empty","style","className"],HG="1.3em",GG=[40,80],WG={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},jG=function(t){const e=function(t){return()=>{let e=t+=1831565813;return e=Math.imul(e^e>>>15,1|e),e^=e+Math.imul(e^e>>>7,61|e),((e^e>>>14)>>>0)/4294967296}}(t);return(t,i)=>t+(i-t)*e()}(12345);const YG=LB((function(e){const{field:i,type:s,align:n,width:r,height:o,empty:a=!1,style:l,className:h}=e,c=(0,fM.A)(e,UG),u=(t=>{const{align:e,classes:i,empty:s}=t,n={root:["cell","cellSkeleton","cell--text".concat(e?(0,YL.A)(e):"Left"),s&&"cellEmpty"]};return(0,mM.A)(n,tz,i)})({classes:bz().classes,align:n,empty:a}),d=t.useMemo((()=>{var t;if("boolean"===s||"actions"===s)return{variant:"circular",width:HG,height:HG};const[e,i]=s&&null!==(t=WG[s])&&void 0!==t?t:GG;return{variant:"text",width:"".concat(Math.round(jG(e,i)),"%"),height:"1.2em"}}),[s]);return(0,oM.jsx)("div",(0,pM.A)({"data-field":i,className:(0,gM.A)(u.root,h),style:(0,pM.A)({height:o,maxWidth:r,minWidth:r},l)},c,{children:!a&&(0,oM.jsx)(OG,(0,pM.A)({},d))}))})),XG=["className"],qG=IR("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(t,e)=>e.iconButtonContainer})((()=>({display:"flex",visibility:"hidden",width:0}))),JG=t.forwardRef((function(t,e){const{className:i}=t,s=(0,fM.A)(t,XG),n=bz(),r=(t=>{const{classes:e}=t;return(0,mM.A)({root:["iconButtonContainer"]},tz,e)})(n);return(0,oM.jsx)(qG,(0,pM.A)({ref:e,className:(0,gM.A)(r.root,i),ownerState:n},s))}));const KG=["direction","index","sortingOrder","disabled"];function ZG(t){var e;const{direction:i,index:s,sortingOrder:n,disabled:r}=t,o=(0,fM.A)(t,KG),a=$z(),l=bz(),h=(t=>{const{classes:e}=t;return(0,mM.A)({icon:["sortIcon"]},tz,e)})((0,pM.A)({},t,{classes:l.classes})),c=function(t,e,i,s){let n;const r={};return"asc"===e?n=t.columnSortedAscendingIcon:"desc"===e?n=t.columnSortedDescendingIcon:(n=t.columnUnsortedIcon,r.sortingOrder=s),n?(0,oM.jsx)(n,(0,pM.A)({fontSize:"small",className:i},r)):null}(l.slots,i,h.icon,n);if(!c)return null;const u=(0,oM.jsx)(l.slots.baseIconButton,(0,pM.A)({tabIndex:-1,"aria-label":a.current.getLocaleText("columnHeaderSortIconLabel"),title:a.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:r},null===(e=l.slotProps)||void 0===e?void 0:e.baseIconButton,o,{children:c}));return(0,oM.jsxs)(JG,{children:[null!=s&&(0,oM.jsx)(GL,{badgeContent:s,color:"default",overlap:"circular",children:u}),null==s&&u]})}const QG=t.memo(ZG),$G=["className","selectedRowCount"],tW=IR("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(t,e)=>e.selectedRowCount})((t=>{let{theme:e}=t;return{alignItems:"center",display:"flex",margin:e.spacing(0,2),visibility:"hidden",width:0,height:0,[e.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}})),eW=t.forwardRef((function(t,e){const{className:i,selectedRowCount:s}=t,n=(0,fM.A)(t,$G),r=$z(),o=bz(),a=(t=>{const{classes:e}=t;return(0,mM.A)({root:["selectedRowCount"]},tz,e)})(o),l=r.current.getLocaleText("footerRowSelected")(s);return(0,oM.jsx)(tW,(0,pM.A)({ref:e,className:(0,gM.A)(a.root,i),ownerState:o},n,{children:l}))})),iW=["className"],sW=IR("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(t,e)=>e.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),nW=t.forwardRef((function(t,e){const{className:i}=t,s=(0,fM.A)(t,iW),n=bz(),r=(t=>{const{classes:e}=t;return(0,mM.A)({root:["footerContainer","withBorderColor"]},tz,e)})(n);return(0,oM.jsx)(sW,(0,pM.A)({ref:e,className:(0,gM.A)(r.root,i),ownerState:n},s))})),rW=t.forwardRef((function(t,e){var i,s;const n=$z(),r=bz(),o=cz(n,rV),a=cz(n,EO),l=cz(n,aO),h=!r.hideFooterSelectedRowCount&&a>0?(0,oM.jsx)(eW,{selectedRowCount:a}):(0,oM.jsx)("div",{}),c=r.hideFooterRowCount||r.pagination?null:(0,oM.jsx)(r.slots.footerRowCount,(0,pM.A)({},null===(i=r.slotProps)||void 0===i?void 0:i.footerRowCount,{rowCount:o,visibleRowCount:l})),u=r.pagination&&!r.hideFooterPagination&&r.slots.pagination&&(0,oM.jsx)(r.slots.pagination,(0,pM.A)({},null===(s=r.slotProps)||void 0===s?void 0:s.pagination));return(0,oM.jsxs)(nW,(0,pM.A)({ref:e},t,{children:[h,c,u]}))})),oW=["className","rowCount","visibleRowCount"],aW=IR("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(t,e)=>e.rowCount})((t=>{let{theme:e}=t;return{alignItems:"center",display:"flex",margin:e.spacing(0,2)}})),lW=t.forwardRef((function(t,e){const{className:i,rowCount:s,visibleRowCount:n}=t,r=(0,fM.A)(t,oW),o=$z(),a=bz(),l=(t=>{const{classes:e}=t;return(0,mM.A)({root:["rowCount"]},tz,e)})(a);if(0===s)return null;const h=n<s?o.current.getLocaleText("footerTotalVisibleRows")(n,s):s.toLocaleString();return(0,oM.jsxs)(aW,(0,pM.A)({ref:e,className:(0,gM.A)(l.root,i),ownerState:a},r,{children:[o.current.getLocaleText("footerTotalRows")," ",h]}))}));function hW(t){return(0,gk.Ay)("MuiLinearProgress",t)}(0,pk.A)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var cW,uW,dW,fW,pW,gW;const mW=["className","color","value","valueBuffer","variant"];let yW,vW,bW,xW,SW,AW;const wW=(0,QR.i7)(yW||(yW=cW||(cW=jR(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),CW=(0,QR.i7)(vW||(vW=uW||(uW=jR(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),MW=(0,QR.i7)(bW||(bW=dW||(dW=jR(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),kW=(t,e)=>"inherit"===e?"currentColor":t.vars?t.vars.palette.LinearProgress["".concat(e,"Bg")]:"light"===t.palette.mode?(0,Wk.a)(t.palette[e].main,.62):(0,Wk.e$)(t.palette[e].main,.5),RW=(0,BM.Ay)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e["color".concat((0,Zk.A)(i.color))],e[i.variant]]}})((t=>{let{ownerState:e,theme:i}=t;return(0,pM.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:kW(i,e.color)},"inherit"===e.color&&"buffer"!==e.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===e.variant&&{backgroundColor:"transparent"},"query"===e.variant&&{transform:"rotate(180deg)"})})),EW=(0,BM.Ay)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.dashed,e["dashedColor".concat((0,Zk.A)(i.color))]]}})((t=>{let{ownerState:e,theme:i}=t;const s=kW(i,e.color);return(0,pM.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===e.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(s," 0%, ").concat(s," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,QR.AH)(xW||(xW=fW||(fW=jR(["\n    animation: "," 3s infinite linear;\n  "]))),MW)),TW=(0,BM.Ay)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.bar,e["barColor".concat((0,Zk.A)(i.color))],("indeterminate"===i.variant||"query"===i.variant)&&e.bar1Indeterminate,"determinate"===i.variant&&e.bar1Determinate,"buffer"===i.variant&&e.bar1Buffer]}})((t=>{let{ownerState:e,theme:i}=t;return(0,pM.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===e.color?"currentColor":(i.vars||i).palette[e.color].main},"determinate"===e.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===e.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(t=>{let{ownerState:e}=t;return("indeterminate"===e.variant||"query"===e.variant)&&(0,QR.AH)(SW||(SW=pW||(pW=jR(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),wW)})),IW=(0,BM.Ay)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.bar,e["barColor".concat((0,Zk.A)(i.color))],("indeterminate"===i.variant||"query"===i.variant)&&e.bar2Indeterminate,"buffer"===i.variant&&e.bar2Buffer]}})((t=>{let{ownerState:e,theme:i}=t;return(0,pM.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==e.variant&&{backgroundColor:"inherit"===e.color?"currentColor":(i.vars||i).palette[e.color].main},"inherit"===e.color&&{opacity:.3},"buffer"===e.variant&&{backgroundColor:kW(i,e.color),transition:"transform .".concat(4,"s linear")})}),(t=>{let{ownerState:e}=t;return("indeterminate"===e.variant||"query"===e.variant)&&(0,QR.AH)(AW||(AW=gW||(gW=jR(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),CW)})),PW=t.forwardRef((function(t,e){const i=(0,OM.b)({props:t,name:"MuiLinearProgress"}),{className:s,color:n="primary",value:r,valueBuffer:o,variant:a="indeterminate"}=i,l=(0,fM.A)(i,mW),h=(0,pM.A)({},i,{color:n,variant:a}),c=(t=>{const{classes:e,variant:i,color:s}=t,n={root:["root","color".concat((0,Zk.A)(s)),i],dashed:["dashed","dashedColor".concat((0,Zk.A)(s))],bar1:["bar","barColor".concat((0,Zk.A)(s)),("indeterminate"===i||"query"===i)&&"bar1Indeterminate","determinate"===i&&"bar1Determinate","buffer"===i&&"bar1Buffer"],bar2:["bar","buffer"!==i&&"barColor".concat((0,Zk.A)(s)),"buffer"===i&&"color".concat((0,Zk.A)(s)),("indeterminate"===i||"query"===i)&&"bar2Indeterminate","buffer"===i&&"bar2Buffer"]};return(0,mM.A)(n,hW,e)})(h),u=bM(),d={},f={bar1:{},bar2:{}};if("determinate"===a||"buffer"===a)if(void 0!==r){d["aria-valuenow"]=Math.round(r),d["aria-valuemin"]=0,d["aria-valuemax"]=100;let t=r-100;u&&(t=-t),f.bar1.transform="translateX(".concat(t,"%)")}else 0;if("buffer"===a)if(void 0!==o){let t=(o||0)-100;u&&(t=-t),f.bar2.transform="translateX(".concat(t,"%)")}else 0;return(0,oM.jsxs)(RW,(0,pM.A)({className:(0,gM.A)(c.root,s),ownerState:h,role:"progressbar"},d,{ref:e},l,{children:["buffer"===a?(0,oM.jsx)(EW,{className:c.dashed,ownerState:h}):null,(0,oM.jsx)(TW,{className:c.bar1,ownerState:h,style:f.bar1}),"determinate"===a?null:(0,oM.jsx)(IW,{className:c.bar2,ownerState:h,style:f.bar2})]}))})),FW=PW;function DW(t){return(0,gk.Ay)("MuiCircularProgress",t)}(0,pk.A)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var LW,zW,NW,_W;const VW=["className","color","disableShrink","size","style","thickness","value","variant"];let BW,OW,UW,HW;const GW=44,WW=(0,QR.i7)(BW||(BW=LW||(LW=jR(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),jW=(0,QR.i7)(OW||(OW=zW||(zW=jR(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),YW=(0,BM.Ay)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],e["color".concat((0,Zk.A)(i.color))]]}})((t=>{let{ownerState:e,theme:i}=t;return(0,pM.A)({display:"inline-block"},"determinate"===e.variant&&{transition:i.transitions.create("transform")},"inherit"!==e.color&&{color:(i.vars||i).palette[e.color].main})}),(t=>{let{ownerState:e}=t;return"indeterminate"===e.variant&&(0,QR.AH)(UW||(UW=NW||(NW=jR(["\n      animation: "," 1.4s linear infinite;\n    "]))),WW)})),XW=(0,BM.Ay)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),qW=(0,BM.Ay)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.circle,e["circle".concat((0,Zk.A)(i.variant))],i.disableShrink&&e.circleDisableShrink]}})((t=>{let{ownerState:e,theme:i}=t;return(0,pM.A)({stroke:"currentColor"},"determinate"===e.variant&&{transition:i.transitions.create("stroke-dashoffset")},"indeterminate"===e.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(t=>{let{ownerState:e}=t;return"indeterminate"===e.variant&&!e.disableShrink&&(0,QR.AH)(HW||(HW=_W||(_W=jR(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),jW)})),JW=t.forwardRef((function(t,e){const i=(0,OM.b)({props:t,name:"MuiCircularProgress"}),{className:s,color:n="primary",disableShrink:r=!1,size:o=40,style:a,thickness:l=3.6,value:h=0,variant:c="indeterminate"}=i,u=(0,fM.A)(i,VW),d=(0,pM.A)({},i,{color:n,disableShrink:r,size:o,thickness:l,value:h,variant:c}),f=(t=>{const{classes:e,variant:i,color:s,disableShrink:n}=t,r={root:["root",i,"color".concat((0,Zk.A)(s))],svg:["svg"],circle:["circle","circle".concat((0,Zk.A)(i)),n&&"circleDisableShrink"]};return(0,mM.A)(r,DW,e)})(d),p={},g={},m={};if("determinate"===c){const t=2*Math.PI*((GW-l)/2);p.strokeDasharray=t.toFixed(3),m["aria-valuenow"]=Math.round(h),p.strokeDashoffset="".concat(((100-h)/100*t).toFixed(3),"px"),g.transform="rotate(-90deg)"}return(0,oM.jsx)(YW,(0,pM.A)({className:(0,gM.A)(f.root,s),style:(0,pM.A)({width:o,height:o},g,a),ownerState:d,ref:e,role:"progressbar"},m,u,{children:(0,oM.jsx)(XW,{className:f.svg,ownerState:d,viewBox:"".concat(22," ").concat(22," ").concat(GW," ").concat(GW),children:(0,oM.jsx)(qW,{className:f.circle,style:p,ownerState:d,cx:GW,cy:GW,r:(GW-l)/2,fill:"none",strokeWidth:l})})}))})),KW=JW,ZW=["className"],QW=IR("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(t,e)=>e.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),$W=t.forwardRef((function(t,e){const{className:i}=t,s=(0,fM.A)(t,ZW),n=bz(),r=(t=>{const{classes:e}=t;return(0,mM.A)({root:["overlay"]},tz,e)})(n);return(0,oM.jsx)(QW,(0,pM.A)({ref:e,className:(0,gM.A)(r.root,i),ownerState:n},s))})),tj=(t,e,i,s,n)=>{const r=n.hasScrollY?n.scrollbarSize:0;let o;switch(t){case zz.LEFT:o=s[i];break;case zz.RIGHT:o=n.columnsTotalWidth-s[i]-e+r;break;default:o=0}return o},ej=(t,e,i,s,n)=>{const r=e===i-1;return!(t!==zz.LEFT||!r)||!!s&&(t===zz.LEFT||(t===zz.RIGHT?!r:!r||n))},ij=(t,e)=>t===zz.RIGHT&&0===e,sj={root:ez.scrollbarFiller,header:ez["scrollbarFiller--header"],borderTop:ez["scrollbarFiller--borderTop"],pinnedRight:ez["scrollbarFiller--pinnedRight"]};function nj(t){let{header:e,borderTop:i=!0,pinnedRight:s}=t;return(0,oM.jsx)("div",{role:"presentation",className:(0,gM.A)(sj.root,e&&sj.header,i&&sj.borderTop,s&&sj.pinnedRight)})}const rj=IR("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay",overridesResolver:(t,e)=>e.skeletonLoadingOverlay})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),oj=t=>parseInt(t.getAttribute("data-colindex"),10),aj=t.forwardRef((function(e,i){var s;const n=bz(),{slots:r}=n,o=(t=>{const{classes:e}=t;return(0,mM.A)({root:["skeletonLoadingOverlay"]},tz,e)})({classes:n.classes}),a=t.useRef(null),l=(0,SM.A)(a,i),h=$z(),c=cz(h,fz),u=null!==(s=null===c||void 0===c?void 0:c.viewportInnerSize.height)&&void 0!==s?s:0,d=Math.ceil(u/c.rowHeight),f=cz(h,Yz),p=cz(h,jz),g=t.useMemo((()=>p.filter((t=>t<=f)).length),[f,p]),m=cz(h,Hz),y=t.useMemo((()=>m.slice(0,g)),[m,g]),v=cz(h,Wz),b=t.useCallback(((t,e,i)=>{const s=tj(i,t,e,p,c);return{[i]:s}}),[c,p]),x=t.useCallback((t=>-1!==v.left.findIndex((e=>e.field===t))?zz.LEFT:-1!==v.right.findIndex((e=>e.field===t))?zz.RIGHT:void 0),[v.left,v.right]),S=t.useMemo((()=>{const t=[];for(let e=0;e<d;e+=1){const i=[];for(let t=0;t<y.length;t+=1){const s=y[t],o=x(s.field),a=o===zz.LEFT,l=o===zz.RIGHT,h=o?v[o].length:y.length-v.left.length-v.right.length,u=o?v[o].findIndex((t=>t.field===s.field)):t-v.left.length,d=o&&b(s.computedWidth,t,o),f=c.columnsTotalWidth<c.viewportOuterSize.width,p=ej(o,u,h,n.showCellVerticalBorder,f),g=ij(o,u),m=t===y.length-1,S=l&&0===u,A=S&&f,w=m&&!S&&f,C=c.viewportOuterSize.width-c.columnsTotalWidth,M=Math.max(0,C),k=(0,oM.jsx)(r.skeletonCell,{width:M,empty:!0},"skeleton-filler-column-".concat(e)),R=c.hasScrollY?c.scrollbarSize:0,E=m&&0!==R;A&&i.push(k),i.push((0,oM.jsx)(r.skeletonCell,{field:s.field,type:s.type,align:s.align,width:"var(--width)",height:c.rowHeight,"data-colindex":t,className:(0,gM.A)(a&&ez["cell--pinnedLeft"],l&&ez["cell--pinnedRight"],p&&ez["cell--withRightBorder"],g&&ez["cell--withLeftBorder"]),style:(0,pM.A)({"--width":"".concat(s.computedWidth,"px")},d)},"skeleton-column-".concat(e,"-").concat(s.field))),w&&i.push(k),E&&i.push((0,oM.jsx)(nj,{pinnedRight:v.right.length>0}))}t.push((0,oM.jsx)("div",{className:(0,gM.A)(ez.row,ez.rowSkeleton,0===e&&ez["row--firstVisible"]),children:i},"skeleton-row-".concat(e)))}return t}),[r,y,v,d,n.showCellVerticalBorder,c.columnsTotalWidth,c.viewportOuterSize.width,c.rowHeight,c.hasScrollY,c.scrollbarSize,x,b]);return aN(h,"columnResize",(t=>{var e;const{colDef:i,width:s}=t,n=null===(e=a.current)||void 0===e?void 0:e.querySelectorAll('[data-field="'.concat(OH(i.field),'"]'));if(!n)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const r=y.findIndex((t=>t.field===i.field)),o=x(i.field),l=o===zz.LEFT,h=o===zz.RIGHT,c=getComputedStyle(n[0]).getPropertyValue("--width"),u=parseInt(c,10)-s;if(n&&n.forEach((t=>{t.style.setProperty("--width","".concat(s,"px"))})),l){var d;const t=null===(d=a.current)||void 0===d?void 0:d.querySelectorAll(".".concat(ez["cell--pinnedLeft"]));null===t||void 0===t||t.forEach((t=>{oj(t)>r&&(t.style.left="".concat(parseInt(getComputedStyle(t).left,10)-u,"px"))}))}if(h){var f;const t=null===(f=a.current)||void 0===f?void 0:f.querySelectorAll(".".concat(ez["cell--pinnedRight"]));null===t||void 0===t||t.forEach((t=>{oj(t)<r&&(t.style.right="".concat(parseInt(getComputedStyle(t).right,10)+u,"px"))}))}})),(0,oM.jsx)(rj,(0,pM.A)({className:o.root,ref:l},e,{children:S}))})),lj=["variant","noRowsVariant","style"],hj={"circular-progress":{component:KW,style:{}},"linear-progress":{component:FW,style:{display:"block"}},skeleton:{component:aj,style:{display:"block"}}},cj=t.forwardRef((function(t,e){const{variant:i="circular-progress",noRowsVariant:s="circular-progress",style:n}=t,r=(0,fM.A)(t,lj),o=$z(),a=cz(o,sV),l=hj[0===a?s:i];return(0,oM.jsx)($W,(0,pM.A)({ref:e,style:(0,pM.A)({},l.style,n)},r,{children:(0,oM.jsx)(l.component,{})}))})),uj=t.forwardRef((function(t,e){const i=$z().current.getLocaleText("noRowsLabel");return(0,oM.jsx)($W,(0,pM.A)({ref:e},t,{children:i}))}));const dj=t.createContext();const fj=t.createContext();function pj(t){return(0,gk.Ay)("MuiTableCell",t)}const gj=(0,pk.A)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),mj=["align","className","component","padding","scope","size","sortDirection","variant"],yj=(0,BM.Ay)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e[i.variant],e["size".concat((0,Zk.A)(i.size))],"normal"!==i.padding&&e["padding".concat((0,Zk.A)(i.padding))],"inherit"!==i.align&&e["align".concat((0,Zk.A)(i.align))],i.stickyHeader&&e.stickyHeader]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?"1px solid ".concat(e.vars.palette.TableCell.border):"1px solid\n    ".concat("light"===e.palette.mode?(0,Wk.a)((0,Wk.X4)(e.palette.divider,1),.88):(0,Wk.e$)((0,Wk.X4)(e.palette.divider,1),.68)),textAlign:"left",padding:16},"head"===i.variant&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},"body"===i.variant&&{color:(e.vars||e).palette.text.primary},"footer"===i.variant&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},"small"===i.size&&{padding:"6px 16px",["&.".concat(gj.paddingCheckbox)]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===i.padding&&{width:48,padding:"0 0 0 4px"},"none"===i.padding&&{padding:0},"left"===i.align&&{textAlign:"left"},"center"===i.align&&{textAlign:"center"},"right"===i.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===i.align&&{textAlign:"justify"},i.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})})),vj=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiTableCell"}),{align:n="inherit",className:r,component:o,padding:a,scope:l,size:h,sortDirection:c,variant:u}=s,d=(0,fM.A)(s,mj),f=t.useContext(dj),p=t.useContext(fj),g=p&&"head"===p.variant;let m;m=o||(g?"th":"td");let y=l;"td"===m?y=void 0:!y&&g&&(y="col");const v=u||p&&p.variant,b=(0,pM.A)({},s,{align:n,component:m,padding:a||(f&&f.padding?f.padding:"normal"),size:h||(f&&f.size?f.size:"medium"),sortDirection:c,stickyHeader:"head"===v&&f&&f.stickyHeader,variant:v}),x=(t=>{const{classes:e,variant:i,align:s,padding:n,size:r,stickyHeader:o}=t,a={root:["root",i,o&&"stickyHeader","inherit"!==s&&"align".concat((0,Zk.A)(s)),"normal"!==n&&"padding".concat((0,Zk.A)(n)),"size".concat((0,Zk.A)(r))]};return(0,mM.A)(a,pj,e)})(b);let S=null;return c&&(S="asc"===c?"ascending":"descending"),(0,oM.jsx)(yj,(0,pM.A)({as:m,ref:i,className:(0,gM.A)(x.root,r),"aria-sort":S,scope:y,ownerState:b},d))})),bj=vj;function xj(t){return(0,gk.Ay)("MuiToolbar",t)}(0,pk.A)("MuiToolbar",["root","gutters","regular","dense"]);const Sj=["className","component","disableGutters","variant"],Aj=(0,BM.Ay)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,!i.disableGutters&&e.gutters,e[i.variant]]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({position:"relative",display:"flex",alignItems:"center"},!i.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}},"dense"===i.variant&&{minHeight:48})}),(t=>{let{theme:e,ownerState:i}=t;return"regular"===i.variant&&e.mixins.toolbar})),wj=t.forwardRef((function(t,e){const i=(0,OM.b)({props:t,name:"MuiToolbar"}),{className:s,component:n="div",disableGutters:r=!1,variant:o="regular"}=i,a=(0,fM.A)(i,Sj),l=(0,pM.A)({},i,{component:n,disableGutters:r,variant:o}),h=(t=>{const{classes:e,disableGutters:i,variant:s}=t,n={root:["root",!i&&"gutters",s]};return(0,mM.A)(n,xj,e)})(l);return(0,oM.jsx)(Aj,(0,pM.A)({as:n,className:(0,gM.A)(h.root,s),ref:e,ownerState:l},a))})),Cj=wj,Mj=(0,aL.A)((0,oM.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),kj=(0,aL.A)((0,oM.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Rj=(0,aL.A)((0,oM.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),Ej=(0,aL.A)((0,oM.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Tj=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],Ij=t.forwardRef((function(t,e){var i,s,n,r,o,a,l,h;const{backIconButtonProps:c,count:u,disabled:d=!1,getItemAriaLabel:f,nextIconButtonProps:p,onPageChange:g,page:m,rowsPerPage:y,showFirstButton:v,showLastButton:b,slots:x={},slotProps:S={}}=t,A=(0,fM.A)(t,Tj),w=bM(),C=null!=(i=x.firstButton)?i:YN,M=null!=(s=x.lastButton)?s:YN,k=null!=(n=x.nextButton)?n:YN,R=null!=(r=x.previousButton)?r:YN,E=null!=(o=x.firstButtonIcon)?o:Ej,T=null!=(a=x.lastButtonIcon)?a:Rj,I=null!=(l=x.nextButtonIcon)?l:kj,P=null!=(h=x.previousButtonIcon)?h:Mj,F=w?M:C,D=w?k:R,L=w?R:k,z=w?C:M,N=w?S.lastButton:S.firstButton,_=w?S.nextButton:S.previousButton,V=w?S.previousButton:S.nextButton,B=w?S.firstButton:S.lastButton;return(0,oM.jsxs)("div",(0,pM.A)({ref:e},A,{children:[v&&(0,oM.jsx)(F,(0,pM.A)({onClick:t=>{g(t,0)},disabled:d||0===m,"aria-label":f("first",m),title:f("first",m)},N,{children:w?(0,oM.jsx)(T,(0,pM.A)({},S.lastButtonIcon)):(0,oM.jsx)(E,(0,pM.A)({},S.firstButtonIcon))})),(0,oM.jsx)(D,(0,pM.A)({onClick:t=>{g(t,m-1)},disabled:d||0===m,color:"inherit","aria-label":f("previous",m),title:f("previous",m)},null!=_?_:c,{children:w?(0,oM.jsx)(I,(0,pM.A)({},S.nextButtonIcon)):(0,oM.jsx)(P,(0,pM.A)({},S.previousButtonIcon))})),(0,oM.jsx)(L,(0,pM.A)({onClick:t=>{g(t,m+1)},disabled:d||-1!==u&&m>=Math.ceil(u/y)-1,color:"inherit","aria-label":f("next",m),title:f("next",m)},null!=V?V:p,{children:w?(0,oM.jsx)(P,(0,pM.A)({},S.previousButtonIcon)):(0,oM.jsx)(I,(0,pM.A)({},S.nextButtonIcon))})),b&&(0,oM.jsx)(z,(0,pM.A)({onClick:t=>{g(t,Math.max(0,Math.ceil(u/y)-1))},disabled:d||m>=Math.ceil(u/y)-1,"aria-label":f("last",m),title:f("last",m)},B,{children:w?(0,oM.jsx)(E,(0,pM.A)({},S.firstButtonIcon)):(0,oM.jsx)(T,(0,pM.A)({},S.lastButtonIcon))}))]}))}));function Pj(t){return(0,gk.Ay)("MuiTablePagination",t)}const Fj=(0,pk.A)("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]);var Dj;const Lj=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],zj=(0,BM.Ay)(bj,{name:"MuiTablePagination",slot:"Root",overridesResolver:(t,e)=>e.root})((t=>{let{theme:e}=t;return{overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}}})),Nj=(0,BM.Ay)(Cj,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(t,e)=>(0,pM.A)({["& .".concat(Fj.actions)]:e.actions},e.toolbar)})((t=>{let{theme:e}=t;return{minHeight:52,paddingRight:2,["".concat(e.breakpoints.up("xs")," and (orientation: landscape)")]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},["& .".concat(Fj.actions)]:{flexShrink:0,marginLeft:20}}})),_j=(0,BM.Ay)("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(t,e)=>e.spacer})({flex:"1 1 100%"}),Vj=(0,BM.Ay)("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(t,e)=>e.selectLabel})((t=>{let{theme:e}=t;return(0,pM.A)({},e.typography.body2,{flexShrink:0})})),Bj=(0,BM.Ay)(mL,{name:"MuiTablePagination",slot:"Select",overridesResolver:(t,e)=>(0,pM.A)({["& .".concat(Fj.selectIcon)]:e.selectIcon,["& .".concat(Fj.select)]:e.select},e.input,e.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,["& .".concat(Fj.select)]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),Oj=(0,BM.Ay)(CH,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(t,e)=>e.menuItem})({}),Uj=(0,BM.Ay)("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(t,e)=>e.displayedRows})((t=>{let{theme:e}=t;return(0,pM.A)({},e.typography.body2,{flexShrink:0})}));function Hj(t){let{from:e,to:i,count:s}=t;return"".concat(e,"\u2013").concat(i," of ").concat(-1!==s?s:"more than ".concat(i))}function Gj(t){return"Go to ".concat(t," page")}const Wj=t.forwardRef((function(e,i){var s;const n=(0,OM.b)({props:e,name:"MuiTablePagination"}),{ActionsComponent:r=Ij,backIconButtonProps:o,className:a,colSpan:l,component:h=bj,count:c,disabled:u=!1,getItemAriaLabel:d=Gj,labelDisplayedRows:f=Hj,labelRowsPerPage:p="Rows per page:",nextIconButtonProps:g,onPageChange:m,onRowsPerPageChange:y,page:v,rowsPerPage:b,rowsPerPageOptions:x=[10,25,50,100],SelectProps:S={},showFirstButton:A=!1,showLastButton:w=!1,slotProps:C={},slots:M={}}=n,k=(0,fM.A)(n,Lj),R=n,E=(t=>{const{classes:e}=t;return(0,mM.A)({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},Pj,e)})(R),T=null!=(s=null==C?void 0:C.select)?s:S,I=T.native?"option":Oj;let P;h!==bj&&"td"!==h||(P=l||1e3);const F=(0,UP.A)(T.id),D=(0,UP.A)(T.labelId);return(0,oM.jsx)(zj,(0,pM.A)({colSpan:P,ref:i,as:h,ownerState:R,className:(0,gM.A)(E.root,a)},k,{children:(0,oM.jsxs)(Nj,{className:E.toolbar,children:[(0,oM.jsx)(_j,{className:E.spacer}),x.length>1&&(0,oM.jsx)(Vj,{className:E.selectLabel,id:D,children:p}),x.length>1&&(0,oM.jsx)(Bj,(0,pM.A)({variant:"standard"},!T.variant&&{input:Dj||(Dj=(0,oM.jsx)(kF,{}))},{value:b,onChange:y,id:F,labelId:D},T,{classes:(0,pM.A)({},T.classes,{root:(0,gM.A)(E.input,E.selectRoot,(T.classes||{}).root),select:(0,gM.A)(E.select,(T.classes||{}).select),icon:(0,gM.A)(E.selectIcon,(T.classes||{}).icon)}),disabled:u,children:x.map((e=>(0,t.createElement)(I,(0,pM.A)({},!AM(I)&&{ownerState:R},{className:E.menuItem,key:e.label?e.label:e,value:e.value?e.value:e}),e.label?e.label:e)))})),(0,oM.jsx)(Uj,{className:E.displayedRows,children:f({from:0===c?0:v*b+1,to:-1===c?(v+1)*b:-1===b?c:Math.min(c,(v+1)*b),count:-1===c?-1:c,page:v})}),(0,oM.jsx)(r,{className:E.actions,backIconButtonProps:o,count:c,nextIconButtonProps:g,onPageChange:m,page:v,rowsPerPage:b,showFirstButton:A,showLastButton:w,slotProps:C.actions,slots:M.actions,getItemAriaLabel:d,disabled:u})]})}))})),jj=Wj,Yj=(0,BM.Ay)(jj)((t=>{let{theme:e}=t;return{maxHeight:"calc(100% + 1px)",["& .".concat(Fj.selectLabel)]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},["& .".concat(Fj.input)]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}}})),Xj=t=>{let{from:e,to:i,count:s,estimated:n}=t;return n?"".concat(e,"\u2013").concat(i," of ").concat(-1!==s?s:"more than ".concat(n>i?n:i)):"".concat(e,"\u2013").concat(i," of ").concat(-1!==s?s:"more than ".concat(i))},qj=t.forwardRef((function(e,i){const s=$z(),n=bz(),r=cz(s,gO),o=cz(s,mO),a=cz(s,xO),{paginationMode:l,loading:h,estimatedRowCount:c}=n,u=t.useMemo((()=>-1===o&&"server"===l&&h?{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}:{}),[h,l,o]),d=t.useMemo((()=>Math.max(0,a-1)),[a]),f=t.useMemo((()=>-1===o||r.page<=d?r.page:d),[d,r.page,o]),p=t.useCallback((t=>{const e=Number(t.target.value);s.current.setPageSize(e)}),[s]),g=t.useCallback(((t,e)=>{s.current.setPage(e)}),[s]);const m=(t=>{for(let e=0;e<n.pageSizeOptions.length;e+=1){const i=n.pageSizeOptions[e];if("number"===typeof i){if(i===t)return!0}else if(i.value===t)return!0}return!1})(r.pageSize)?n.pageSizeOptions:[],y=s.current.getLocaleText("MuiTablePagination"),v=(b=y.labelDisplayedRows||Xj,x=c,t=>{let{from:e,to:i,count:s,page:n}=t;return b({from:e,to:i,count:s,page:n,estimated:x})});var b,x;return(0,oM.jsx)(Yj,(0,pM.A)({ref:i,component:"div",count:o,page:f,rowsPerPageOptions:m,rowsPerPage:r.pageSize,onPageChange:g,onRowsPerPageChange:p},u,y,{labelDisplayedRows:v},e))})),Jj=["className"],Kj=IR("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(t,e)=>e.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function Zj(t){const{className:e}=t,i=(0,fM.A)(t,Jj),s=bz(),n=(t=>{const{classes:e}=t;return(0,mM.A)({root:["panelContent"]},tz,e)})(s);return(0,oM.jsx)(Kj,(0,pM.A)({className:(0,gM.A)(e,n.root),ownerState:s},i))}const Qj=["className"],$j=IR("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(t,e)=>e.panelFooter})((t=>{let{theme:e}=t;return{padding:e.spacing(.5),display:"flex",justifyContent:"space-between"}}));function tY(t){const{className:e}=t,i=(0,fM.A)(t,Qj),s=bz(),n=(t=>{const{classes:e}=t;return(0,mM.A)({root:["panelFooter"]},tz,e)})(s);return(0,oM.jsx)($j,(0,pM.A)({className:(0,gM.A)(e,n.root),ownerState:s},i))}const eY=["className","slotProps"],iY=(0,BM.Ay)("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(t,e)=>e.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),sY=()=>!0,nY=t.forwardRef((function(t,e){const{className:i,slotProps:s={}}=t,n=(0,fM.A)(t,eY),r=bz(),o=(t=>{const{classes:e}=t;return(0,mM.A)({root:["panelWrapper"]},tz,e)})(r);return(0,oM.jsx)(LM,(0,pM.A)({open:!0,disableEnforceFocus:!0,isEnabled:sY},s.TrapFocus,{children:(0,oM.jsx)(iY,(0,pM.A)({ref:e,tabIndex:-1,className:(0,gM.A)(i,o.root),ownerState:r},n))}))})),rY=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],oY=["InputComponentProps"],aY=(0,BM.Ay)("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(t,e)=>e.filterForm})((t=>{let{theme:e}=t;return{display:"flex",padding:e.spacing(1)}})),lY=(0,BM.Ay)("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(t,e)=>e.filterFormDeleteIcon})((t=>{let{theme:e}=t;return{flexShrink:0,justifyContent:"flex-end",marginRight:e.spacing(.5),marginBottom:e.spacing(.2)}})),hY=(0,BM.Ay)("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(t,e)=>e.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),cY=(0,BM.Ay)("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(t,e)=>e.filterFormColumnInput})({width:150}),uY=(0,BM.Ay)("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(t,e)=>e.filterFormOperatorInput})({width:120}),dY=(0,BM.Ay)("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(t,e)=>e.filterFormValueInput})({width:190}),fY=t=>t.headerName||t.field,pY=new Intl.Collator,gY=t.forwardRef((function(e,i){var s,n,r,o,a,l,h,c,u,d,f;const{item:p,hasMultipleFilters:g,deleteFilter:m,applyFilterChanges:y,showMultiFilterOperators:v,disableMultiFilterOperator:b,applyMultiFilterOperatorChanges:x,focusElementRef:S,logicOperators:A=[k_.And,k_.Or],columnsSort:w,filterColumns:C,deleteIconProps:M={},logicOperatorInputProps:k={},operatorInputProps:R={},columnInputProps:E={},valueInputProps:T={},readOnly:I}=e,P=(0,fM.A)(e,rY),F=$z(),D=cz(F,Bz),L=cz(F,Xz),z=cz(F,$B),N=(0,eF.A)(),_=(0,eF.A)(),V=(0,eF.A)(),B=(0,eF.A)(),O=bz(),U=(t=>{const{classes:e}=t;return(0,mM.A)({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},tz,e)})(O),H=t.useRef(null),G=t.useRef(null),W=null!==(s=z.logicOperator)&&void 0!==s?s:k_.And,j=g&&A.length>0,Y=(null===(n=O.slotProps)||void 0===n?void 0:n.baseFormControl)||{},X=null!==(o=((null===(r=O.slotProps)||void 0===r?void 0:r.baseSelect)||{}).native)&&void 0!==o&&o,q=(null===(a=O.slotProps)||void 0===a?void 0:a.baseInputLabel)||{},J=(null===(l=O.slotProps)||void 0===l?void 0:l.baseSelectOption)||{},{InputComponentProps:K}=T,Z=(0,fM.A)(T,oY),{filteredColumns:Q,selectedField:$}=t.useMemo((()=>{let t=p.field;const e=!1===D[p.field].filterable?D[p.field]:null;if(e)return{filteredColumns:[e],selectedField:t};if(void 0===C||"function"!==typeof C)return{filteredColumns:L,selectedField:t};const i=C({field:p.field,columns:L,currentFilters:(null===z||void 0===z?void 0:z.items)||[]});return{filteredColumns:L.filter((e=>{const s=i.includes(e.field);return e.field!==p.field||s||(t=void 0),s})),selectedField:t}}),[C,null===z||void 0===z?void 0:z.items,L,p.field,D]),tt=t.useMemo((()=>{switch(w){case"asc":return Q.sort(((t,e)=>pY.compare(fY(t),fY(e))));case"desc":return Q.sort(((t,e)=>-pY.compare(fY(t),fY(e))));default:return Q}}),[Q,w]),et=p.field?F.current.getColumn(p.field):null,it=t.useMemo((()=>{var t;return p.operator&&et?null===(t=et.filterOperators)||void 0===t?void 0:t.find((t=>t.value===p.operator)):null}),[p,et]),st=t.useCallback((t=>{const e=t.target.value,i=F.current.getColumn(e);if(i.field===et.field)return;const s=i.filterOperators.find((t=>t.value===p.operator))||i.filterOperators[0];let n=!s.InputComponent||s.InputComponent!==(null===it||void 0===it?void 0:it.InputComponent)||i.type!==et.type?void 0:p.value;if("singleSelect"===i.type&&void 0!==n){const t=i,e=XV(t);Array.isArray(n)?n=n.filter((i=>void 0!==qV(i,e,null===t||void 0===t?void 0:t.getOptionValue))):void 0===qV(p.value,e,null===t||void 0===t?void 0:t.getOptionValue)&&(n=void 0)}y((0,pM.A)({},p,{field:e,operator:s.value,value:n}))}),[F,y,p,et,it]),nt=t.useCallback((t=>{const e=t.target.value,i=null===et||void 0===et?void 0:et.filterOperators.find((t=>t.value===e)),s=!(null!==i&&void 0!==i&&i.InputComponent)||(null===i||void 0===i?void 0:i.InputComponent)!==(null===it||void 0===it?void 0:it.InputComponent);y((0,pM.A)({},p,{operator:e,value:s?void 0:p.value}))}),[y,p,et,it]),rt=t.useCallback((t=>{const e=t.target.value===k_.And.toString()?k_.And:k_.Or;x(e)}),[x]);return t.useImperativeHandle(S,(()=>({focus:()=>{var t;null!==it&&void 0!==it&&it.InputComponent?null===H||void 0===H||null===(t=H.current)||void 0===t||t.focus():G.current.focus()}})),[it]),(0,oM.jsxs)(aY,(0,pM.A)({ref:i,className:U.root,"data-id":p.id,ownerState:O},P,{children:[(0,oM.jsx)(lY,(0,pM.A)({variant:"standard",as:O.slots.baseFormControl},Y,M,{className:(0,gM.A)(U.deleteIcon,Y.className,M.className),ownerState:O,children:(0,oM.jsx)(O.slots.baseIconButton,(0,pM.A)({"aria-label":F.current.getLocaleText("filterPanelDeleteIconLabel"),title:F.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:()=>{m(p)},size:"small",disabled:I},null===(h=O.slotProps)||void 0===h?void 0:h.baseIconButton,{children:(0,oM.jsx)(O.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),(0,oM.jsx)(hY,(0,pM.A)({variant:"standard",as:O.slots.baseFormControl},Y,k,{sx:(0,pM.A)({display:j?"flex":"none",visibility:v?"visible":"hidden"},Y.sx||{},k.sx||{}),className:(0,gM.A)(U.logicOperatorInput,Y.className,k.className),ownerState:O,children:(0,oM.jsx)(O.slots.baseSelect,(0,pM.A)({inputProps:{"aria-label":F.current.getLocaleText("filterPanelLogicOperator")},value:null!==W&&void 0!==W?W:"",onChange:rt,disabled:!!b||1===A.length,native:X},null===(c=O.slotProps)||void 0===c?void 0:c.baseSelect,{children:A.map((e=>(0,t.createElement)(O.slots.baseSelectOption,(0,pM.A)({},J,{native:X,key:e.toString(),value:e.toString()}),F.current.getLocaleText((t=>{switch(t){case k_.And:return"filterPanelOperatorAnd";case k_.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}})(e)))))}))})),(0,oM.jsxs)(cY,(0,pM.A)({variant:"standard",as:O.slots.baseFormControl},Y,E,{className:(0,gM.A)(U.columnInput,Y.className,E.className),ownerState:O,children:[(0,oM.jsx)(O.slots.baseInputLabel,(0,pM.A)({},q,{htmlFor:N,id:_,children:F.current.getLocaleText("filterPanelColumns")})),(0,oM.jsx)(O.slots.baseSelect,(0,pM.A)({labelId:_,id:N,label:F.current.getLocaleText("filterPanelColumns"),value:null!==$&&void 0!==$?$:"",onChange:st,native:X,disabled:I},null===(u=O.slotProps)||void 0===u?void 0:u.baseSelect,{children:tt.map((e=>(0,t.createElement)(O.slots.baseSelectOption,(0,pM.A)({},J,{native:X,key:e.field,value:e.field}),fY(e))))}))]})),(0,oM.jsxs)(uY,(0,pM.A)({variant:"standard",as:O.slots.baseFormControl},Y,R,{className:(0,gM.A)(U.operatorInput,Y.className,R.className),ownerState:O,children:[(0,oM.jsx)(O.slots.baseInputLabel,(0,pM.A)({},q,{htmlFor:V,id:B,children:F.current.getLocaleText("filterPanelOperator")})),(0,oM.jsx)(O.slots.baseSelect,(0,pM.A)({labelId:B,label:F.current.getLocaleText("filterPanelOperator"),id:V,value:p.operator,onChange:nt,native:X,inputRef:G,disabled:I},null===(d=O.slotProps)||void 0===d?void 0:d.baseSelect,{children:null===et||void 0===et||null===(f=et.filterOperators)||void 0===f?void 0:f.map((e=>(0,t.createElement)(O.slots.baseSelectOption,(0,pM.A)({},J,{native:X,key:e.value,value:e.value}),e.label||F.current.getLocaleText("filterOperator".concat((0,YL.A)(e.value))))))}))]})),(0,oM.jsx)(dY,(0,pM.A)({variant:"standard",as:O.slots.baseFormControl},Y,Z,{className:(0,gM.A)(U.valueInput,Y.className,Z.className),ownerState:O,children:null!==it&&void 0!==it&&it.InputComponent?(0,oM.jsx)(it.InputComponent,(0,pM.A)({apiRef:F,item:p,applyValue:y,focusElementRef:H,disabled:I},it.InputComponentProps,K),p.field):null}))]}))})),mY=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],yY=t=>({field:t.field,operator:t.filterOperators[0].value,id:Math.round(1e5*Math.random())}),vY=t.forwardRef((function(e,i){var s,n;const r=$z(),o=bz(),a=cz(r,$B),l=cz(r,Xz),h=cz(r,qz),c=t.useRef(null),u=t.useRef(null),{logicOperators:d=[k_.And,k_.Or],columnsSort:f,filterFormProps:p,getColumnForNewFilter:g,disableAddFilterButton:m=!1,disableRemoveAllButton:y=!1}=e,v=(0,fM.A)(e,mY),b=r.current.upsertFilterItem,x=t.useCallback((t=>{r.current.setFilterLogicOperator(t)}),[r]),S=t.useCallback((()=>{let t;if(g&&"function"===typeof g){const e=g({currentFilters:(null===a||void 0===a?void 0:a.items)||[],columns:l});if(null===e)return null;t=l.find((t=>{let{field:i}=t;return i===e}))}else t=l.find((t=>{var e;return null===(e=t.filterOperators)||void 0===e?void 0:e.length}));return t?yY(t):null}),[null===a||void 0===a?void 0:a.items,l,g]),A=t.useCallback((()=>{if(void 0===g||"function"!==typeof g)return S();const t=a.items.length?a.items:[S()].filter(Boolean),e=g({currentFilters:t,columns:l});if(null===e)return null;const i=l.find((t=>{let{field:i}=t;return i===e}));return i?yY(i):null}),[a.items,l,g,S]),w=t.useMemo((()=>a.items.length?a.items:(u.current||(u.current=S()),u.current?[u.current]:[])),[a.items,S]),C=w.length>1,{readOnlyFilters:M,validFilters:k}=t.useMemo((()=>w.reduce(((t,e)=>(h[e.field]?t.validFilters.push(e):t.readOnlyFilters.push(e),t)),{readOnlyFilters:[],validFilters:[]})),[w,h]),R=t.useCallback((()=>{const t=A();t&&r.current.upsertFilterItems([...w,t])}),[r,A,w]),E=t.useCallback((t=>{const e=1===k.length;r.current.deleteFilterItem(t),e&&r.current.hideFilterPanel()}),[r,k.length]),T=t.useCallback((()=>1===k.length&&void 0===k[0].value?(r.current.deleteFilterItem(k[0]),r.current.hideFilterPanel()):r.current.setFilterModel((0,pM.A)({},a,{items:M}),"removeAllFilterItems")),[r,M,a,k]);return t.useEffect((()=>{d.length>0&&a.logicOperator&&!d.includes(a.logicOperator)&&x(d[0])}),[d,x,a.logicOperator]),t.useEffect((()=>{k.length>0&&c.current.focus()}),[k.length]),(0,oM.jsxs)(nY,(0,pM.A)({ref:i},v,{children:[(0,oM.jsxs)(Zj,{children:[M.map(((t,e)=>(0,oM.jsx)(gY,(0,pM.A)({item:t,applyFilterChanges:b,deleteFilter:E,hasMultipleFilters:C,showMultiFilterOperators:e>0,disableMultiFilterOperator:1!==e,applyMultiFilterOperatorChanges:x,focusElementRef:null,readOnly:!0,logicOperators:d,columnsSort:f},p),null==t.id?e:t.id))),k.map(((t,e)=>(0,oM.jsx)(gY,(0,pM.A)({item:t,applyFilterChanges:b,deleteFilter:E,hasMultipleFilters:C,showMultiFilterOperators:M.length+e>0,disableMultiFilterOperator:M.length+e!==1,applyMultiFilterOperatorChanges:x,focusElementRef:e===k.length-1?c:null,logicOperators:d,columnsSort:f},p),null==t.id?e+M.length:t.id)))]}),o.disableMultipleColumnsFiltering||m&&y?null:(0,oM.jsxs)(tY,{children:[m?(0,oM.jsx)("span",{}):(0,oM.jsx)(o.slots.baseButton,(0,pM.A)({onClick:R,startIcon:(0,oM.jsx)(o.slots.filterPanelAddIcon,{})},null===(s=o.slotProps)||void 0===s?void 0:s.baseButton,{children:r.current.getLocaleText("filterPanelAddFilter")})),!y&&k.length>0?(0,oM.jsx)(o.slots.baseButton,(0,pM.A)({onClick:T,startIcon:(0,oM.jsx)(o.slots.filterPanelRemoveAllIcon,{})},null===(n=o.slotProps)||void 0===n?void 0:n.baseButton,{children:r.current.getLocaleText("filterPanelRemoveAll")})):null]})]}))}));function bY(t){return(0,gk.Ay)("MuiFormControlLabel",t)}const xY=(0,pk.A)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),SY=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],AY=(0,BM.Ay)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[{["& .".concat(xY.label)]:e.label},e.root,e["labelPlacement".concat((0,Zk.A)(i.labelPlacement))]]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,["&.".concat(xY.disabled)]:{cursor:"default"}},"start"===i.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===i.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===i.labelPlacement&&{flexDirection:"column",marginLeft:16},{["& .".concat(xY.label)]:{["&.".concat(xY.disabled)]:{color:(e.vars||e).palette.text.disabled}}})})),wY=(0,BM.Ay)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})((t=>{let{theme:e}=t;return{["&.".concat(xY.error)]:{color:(e.vars||e).palette.error.main}}})),CY=t.forwardRef((function(e,i){var s,n;const r=(0,OM.b)({props:e,name:"MuiFormControlLabel"}),{className:o,componentsProps:a={},control:l,disabled:h,disableTypography:c,label:u,labelPlacement:d="end",required:f,slotProps:p={}}=r,g=(0,fM.A)(r,SY),m=uF(),y=null!=(s=null!=h?h:l.props.disabled)?s:null==m?void 0:m.disabled,v=null!=f?f:l.props.required,b={disabled:y,required:v};["checked","name","onChange","value","inputRef"].forEach((t=>{"undefined"===typeof l.props[t]&&"undefined"!==typeof r[t]&&(b[t]=r[t])}));const x=hF({props:r,muiFormControl:m,states:["error"]}),S=(0,pM.A)({},r,{disabled:y,labelPlacement:d,required:v,error:x.error}),A=(t=>{const{classes:e,disabled:i,labelPlacement:s,error:n,required:r}=t,o={root:["root",i&&"disabled","labelPlacement".concat((0,Zk.A)(s)),n&&"error",r&&"required"],label:["label",i&&"disabled"],asterisk:["asterisk",n&&"error"]};return(0,mM.A)(o,bY,e)})(S),w=null!=(n=p.typography)?n:a.typography;let C=u;return null==C||C.type===YT||c||(C=(0,oM.jsx)(YT,(0,pM.A)({component:"span"},w,{className:(0,gM.A)(A.label,null==w?void 0:w.className),children:C}))),(0,oM.jsxs)(AY,(0,pM.A)({className:(0,gM.A)(A.root,o),ownerState:S,ref:i},g,{children:[t.cloneElement(l,b),v?(0,oM.jsxs)(HR,{display:"block",children:[C,(0,oM.jsxs)(wY,{ownerState:S,"aria-hidden":!0,className:A.asterisk,children:["\u2009","*"]})]}):C]}))})),MY=CY,kY=(t,e)=>{const i=new Set(Object.keys(t).filter((e=>!1===t[e]))),s=new Set(Object.keys(e).filter((t=>!1===e[t])));if(i.size!==s.size)return!1;let n=!0;return i.forEach((t=>{s.has(t)||(n=!1)})),n},RY=(t,e)=>(t.headerName||t.field).toLowerCase().indexOf(e)>-1,EY=t=>{const{classes:e}=t;return(0,mM.A)({root:["columnsManagement"],header:["columnsManagementHeader"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},tz,e)},TY=new Intl.Collator;function IY(e){var i,s,n;const r=$z(),o=t.useRef(null),a=cz(r,Oz),l=(0,iz.A)((()=>Uz(r))).current,h=cz(r,Uz),c=bz(),[u,d]=t.useState(""),f=EY(c),{sort:p,searchPredicate:g=RY,autoFocusSearchField:m=!0,disableShowHideToggle:y=!1,disableResetButton:v=!1,toggleAllMode:b="all",getTogglableColumns:x}=e,S=t.useMemo((()=>kY(h,l)),[h,l]),A=t.useMemo((()=>{switch(p){case"asc":return[...a].sort(((t,e)=>TY.compare(t.headerName||t.field,e.headerName||e.field)));case"desc":return[...a].sort(((t,e)=>-TY.compare(t.headerName||t.field,e.headerName||e.field)));default:return a}}),[a,p]),w=t=>{const{name:e}=t.target;r.current.setColumnVisibility(e,!1===h[e])},C=t.useMemo((()=>{const t=x?x(A):null,e=t?A.filter((e=>{let{field:i}=e;return t.includes(i)})):A;return u?e.filter((t=>g(t,u.toLowerCase()))):e}),[A,u,g,x]),M=t.useCallback((t=>{const e=Uz(r),i=(0,pM.A)({},e),s=x?x(a):null;return("filteredOnly"===b?C:a).forEach((e=>{e.hideable&&(null==s||s.includes(e.field))&&(t?delete i[e.field]:i[e.field]=!1)})),r.current.setColumnVisibilityModel(i)}),[r,a,x,b,C]),k=t.useCallback((t=>{d(t.target.value)}),[]),R=t.useMemo((()=>C.filter((t=>t.hideable))),[C]),E=t.useMemo((()=>R.every((t=>null==h[t.field]||!1!==h[t.field]))),[h,R]),T=t.useMemo((()=>R.every((t=>!1===h[t.field]))),[h,R]),I=t.useRef(null);t.useEffect((()=>{m?o.current.focus():I.current&&"function"===typeof I.current.focus&&I.current.focus()}),[m]);let P=!1;const F=t=>!1===P&&!1!==t.hideable&&(P=!0,!0);return(0,oM.jsxs)(t.Fragment,{children:[(0,oM.jsx)(FY,{className:f.header,ownerState:c,children:(0,oM.jsx)(c.slots.baseTextField,(0,pM.A)({placeholder:r.current.getLocaleText("columnsManagementSearchTitle"),inputRef:o,value:u,onChange:k,variant:"outlined",size:"small",InputProps:{startAdornment:(0,oM.jsx)(c.slots.baseInputAdornment,{position:"start",children:(0,oM.jsx)(c.slots.quickFilterIcon,{})}),sx:{pl:1.5}},fullWidth:!0},null===(i=c.slotProps)||void 0===i?void 0:i.baseTextField))}),(0,oM.jsxs)(PY,{className:f.root,ownerState:c,children:[C.map((t=>{var e;return(0,oM.jsx)(MY,{className:f.row,control:(0,oM.jsx)(c.slots.baseCheckbox,(0,pM.A)({disabled:!1===t.hideable,checked:!1!==h[t.field],onClick:w,name:t.field,sx:{p:.5},inputRef:F(t)?I:void 0},null===(e=c.slotProps)||void 0===e?void 0:e.baseCheckbox)),label:t.headerName||t.field},t.field)})),0===C.length&&(0,oM.jsx)(LY,{ownerState:c,children:r.current.getLocaleText("columnsManagementNoColumns")})]}),y&&v||!(C.length>0)?null:(0,oM.jsxs)(DY,{ownerState:c,className:f.footer,children:[y?(0,oM.jsx)("span",{}):(0,oM.jsx)(MY,{control:(0,oM.jsx)(c.slots.baseCheckbox,(0,pM.A)({disabled:0===R.length,checked:E,indeterminate:!E&&!T,onClick:()=>M(!E),name:r.current.getLocaleText("columnsManagementShowHideAllText"),sx:{p:.5}},null===(s=c.slotProps)||void 0===s?void 0:s.baseCheckbox)),label:r.current.getLocaleText("columnsManagementShowHideAllText")}),v?null:(0,oM.jsx)(c.slots.baseButton,(0,pM.A)({onClick:()=>r.current.setColumnVisibilityModel(l),disabled:S},null===(n=c.slotProps)||void 0===n?void 0:n.baseButton,{children:r.current.getLocaleText("columnsManagementReset")}))]})]})}const PY=(0,BM.Ay)("div",{name:"MuiDataGrid",slot:"ColumnsManagement",overridesResolver:(t,e)=>e.columnsManagement})((t=>{let{theme:e}=t;return{padding:e.spacing(0,3,1.5),display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,alignItems:"flex-start"}})),FY=(0,BM.Ay)("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader",overridesResolver:(t,e)=>e.columnsManagementHeader})((t=>{let{theme:e}=t;return{padding:e.spacing(1.5,3)}})),DY=(0,BM.Ay)("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter",overridesResolver:(t,e)=>e.columnsManagementFooter})((t=>{let{theme:e}=t;return{padding:e.spacing(.5,1,.5,3),display:"flex",justifyContent:"space-between",borderTop:"1px solid ".concat(e.palette.divider)}})),LY=(0,BM.Ay)("div")((t=>{let{theme:e}=t;return{padding:e.spacing(.5,0),color:e.palette.grey[500]}}));const zY=["children","className","classes"],NY=(0,pk.A)("MuiDataGrid",["panel","paper"]),_Y=(0,BM.Ay)(OP,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(t,e)=>e.panel})((t=>{let{theme:e}=t;return{zIndex:e.zIndex.modal}})),VY=(0,BM.Ay)(Kk,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(t,e)=>e.paper})((t=>{let{theme:e}=t;return{backgroundColor:(e.vars||e).palette.background.paper,minWidth:300,maxHeight:450,display:"flex",maxWidth:"calc(100vw - ".concat(e.spacing(.5),")"),overflow:"auto"}})),BY=t.forwardRef(((e,i)=>{const{children:s,className:n}=e,r=(0,fM.A)(e,zY),o=$z(),a=bz(),l=NY,[h,c]=t.useState(!1),u=t.useCallback((()=>{o.current.hidePreferences()}),[o]),d=t.useCallback((t=>{VV(t.key)&&o.current.hidePreferences()}),[o]),f=t.useMemo((()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{c(!0)},effect:()=>()=>{c(!1)}}]),[]),[p,g]=t.useState(null);return t.useEffect((()=>{var t;const e=null===(t=o.current.rootElementRef)||void 0===t||null===(t=t.current)||void 0===t?void 0:t.querySelector('[data-id="gridPanelAnchor"]');e&&g(e)}),[o]),p?(0,oM.jsx)(_Y,(0,pM.A)({ref:i,placement:"bottom-start",className:(0,gM.A)(n,l.panel),ownerState:a,anchorEl:p,modifiers:f},r,{children:(0,oM.jsx)(hB,{mouseEvent:"onMouseUp",onClickAway:u,children:(0,oM.jsx)(VY,{className:l.paper,ownerState:a,elevation:8,onKeyDown:d,children:h&&s})})})):null}));let OY;const UY=["column","rowId","editCellState","align","children","colIndex","width","className","style","gridHasScrollX","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","sectionIndex","sectionLength","gridHasFiller","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],HY=["changeReason","unstable_updateValueOnRender"];let GY=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.VIRTUAL=3]="VIRTUAL",t}({});const WY={[GY.LEFT]:zz.LEFT,[GY.RIGHT]:zz.RIGHT,[GY.NONE]:void 0,[GY.VIRTUAL]:void 0},jY={id:-1,field:"__unset__",row:{},rowNode:{id:-1,depth:0,type:"leaf",parent:-1,groupingKey:null},colDef:{type:"string",field:"__unset__",computedWidth:0},cellMode:WV.View,hasFocus:!1,tabIndex:-1,value:null,formattedValue:"__unset__",isEditable:!1,api:{}};const YY=t.forwardRef((function(e,i){var s,n,r;const{column:o,rowId:a,editCellState:l,align:h,colIndex:c,width:u,className:d,style:f,colSpan:p,disableDragEvents:g,isNotVisible:m,pinnedOffset:y,pinnedPosition:v,sectionIndex:b,sectionLength:x,gridHasFiller:S,onClick:A,onDoubleClick:w,onMouseDown:C,onMouseUp:M,onMouseOver:k,onKeyDown:R,onKeyUp:E,onDragEnter:T,onDragOver:I}=e,P=(0,fM.A)(e,UY),F=$z(),D=bz(),L=o.field,z=cz(F,(()=>{try{const t=F.current.getCellParams(a,L);return t.api=F.current,t}catch(t){if(t instanceof uG)return jY;throw t}}),lz),N=cz(F,(()=>F.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:a,field:L}))),{cellMode:_,hasFocus:V,isEditable:B=!1,value:O}=z,U="actions"===o.type&&(null===(s=o.getActions)||void 0===s?void 0:s.call(o,F.current.getRowParams(a)).some((t=>!t.props.disabled))),H="view"!==_&&B||U?-1:z.tabIndex,{classes:G,getCellClassName:W}=D,j=[cz(F,(()=>F.current.unstable_applyPipeProcessors("cellClassName",[],{id:a,field:L}).filter(Boolean).join(" ")))];o.cellClassName&&j.push("function"===typeof o.cellClassName?o.cellClassName(z):o.cellClassName),"flex"===o.display&&j.push(ez["cell--flex"]),W&&j.push(W(z));const Y=null!==(n=z.formattedValue)&&void 0!==n?n:O,X=t.useRef(null),q=(0,SM.A)(i,X),J=t.useRef(null),K=null!==(r=D.cellSelection)&&void 0!==r&&r,Z=WY[v],Q=(t=>{const{align:e,showLeftBorder:i,showRightBorder:s,pinnedPosition:n,isEditable:r,isSelected:o,isSelectionMode:a,classes:l}=t,h={root:["cell","cell--text".concat((0,YL.A)(e)),o&&"selected",r&&"cell--editable",i&&"cell--withLeftBorder",s&&"cell--withRightBorder",n===GY.LEFT&&"cell--pinnedLeft",n===GY.RIGHT&&"cell--pinnedRight",a&&!r&&"cell--selectionMode"]};return(0,mM.A)(h,tz,l)})({align:h,showLeftBorder:ij(Z,b),showRightBorder:ej(Z,b,x,D.showCellVerticalBorder,S),isEditable:B,classes:D.classes,pinnedPosition:v,isSelected:N,isSelectionMode:K}),$=t.useCallback((t=>e=>{const i=F.current.getCellParams(a,L||"");F.current.publishEvent(t,i,e),M&&M(e)}),[F,L,M,a]),tt=t.useCallback((t=>e=>{const i=F.current.getCellParams(a,L||"");F.current.publishEvent(t,i,e),C&&C(e)}),[F,L,C,a]),et=t.useCallback(((t,e)=>i=>{if(!F.current.getRow(a))return;const s=F.current.getCellParams(a,L||"");F.current.publishEvent(t,s,i),e&&e(i)}),[F,L,a]),it=t.useMemo((()=>{if(m)return{padding:0,opacity:0,width:0,border:0};const t=(0,pM.A)({"--width":"".concat(u,"px")},f);return v===GY.LEFT&&(t.left=y),v===GY.RIGHT&&(t.right=y),t}),[u,m,f,y,v]);if(t.useEffect((()=>{if(!V||_===WV.Edit)return;const t=(0,IM.A)(F.current.rootElementRef.current);if(X.current&&!X.current.contains(t.activeElement)){const t=X.current.querySelector('[tabindex="0"]'),e=J.current||t||X.current;if(void 0===OY&&document.createElement("div").focus({get preventScroll(){return OY=!0,!1}}),OY)e.focus({preventScroll:!0});else{const t=F.current.getScrollPosition();e.focus(),F.current.scroll(t)}}}),[V,_,F]),z===jY)return null;let st,nt,rt=P.onFocus;if(null===l&&o.renderCell&&(st=o.renderCell(z)),null!==l&&o.renderEditCell){const t=F.current.getRowWithUpdatedValues(a,o.field),e=(0,fM.A)(l,HY),i=o.valueFormatter?o.valueFormatter(l.value,t,o,F):z.formattedValue,s=(0,pM.A)({},z,{row:t,formattedValue:i},e);st=o.renderEditCell(s),j.push(ez["cell--editing"]),j.push(null===G||void 0===G?void 0:G["cell--editing"])}if(void 0===st){const t=null===Y||void 0===Y?void 0:Y.toString();st=t,nt=t}t.isValidElement(st)&&U&&(st=t.cloneElement(st,{focusElementRef:J}));const ot=g?null:{onDragEnter:et("cellDragEnter",T),onDragOver:et("cellDragOver",I)};return(0,oM.jsx)("div",(0,pM.A)({ref:q,className:(0,gM.A)(d,j,Q.root),role:"gridcell","data-field":L,"data-colindex":c,"aria-colindex":c+1,"aria-colspan":p,style:it,title:nt,tabIndex:H,onClick:et("cellClick",A),onDoubleClick:et("cellDoubleClick",w),onMouseOver:et("cellMouseOver",k),onMouseDown:tt("cellMouseDown"),onMouseUp:$("cellMouseUp"),onKeyDown:et("cellKeyDown",R),onKeyUp:et("cellKeyUp",E)},ot,P,{onFocus:rt,children:st}))})),XY=LB(YY),qY=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetTop","offsetLeft","dimensions","renderContext","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","focusedCell","tabbableCell","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"];function JY(t){let{width:e}=t;return e?(0,oM.jsx)("div",{role:"presentation",className:(0,gM.A)(ez.cell,ez.cellEmpty),style:{"--width":"".concat(e,"px")}}):null}const KY=t.forwardRef((function(e,i){const{selected:s,rowId:n,row:r,index:o,style:a,rowHeight:l,className:h,visibleColumns:c,pinnedColumns:u,offsetLeft:d,dimensions:f,renderContext:p,focusedColumnIndex:g,isFirstVisible:m,isLastVisible:y,isNotVisible:v,showBottomBorder:b,onClick:x,onDoubleClick:S,onMouseEnter:A,onMouseLeave:w,onMouseOut:C,onMouseOver:M}=e,k=(0,fM.A)(e,qY),R=$z(),E=t.useRef(null),T=bz(),I=MO(R,T),P=cz(R,KB),F=cz(R,dV),D=cz(R,RB),L=cz(R,jz),z=cz(R,tG),N=(0,SM.A)(E,i),_=R.current.getRowNode(n),V=f.hasScrollY?f.scrollbarSize:0,B=f.columnsTotalWidth<f.viewportOuterSize.width,O=R.current.getRowMode(n)===jV.Edit,U=T.editMode===GV.Row,H=void 0!==g,G=H&&g>=u.left.length&&g<p.firstColumnIndex,W=H&&g<c.length-u.right.length&&g>=p.lastColumnIndex,j=o+D+2,Y=function(t,e){return(0,mM.A)(e,tz,t)}(T.classes,{root:["row",s&&"selected",U&&"row--editable",O&&"row--editing",m&&"row--firstVisible",y&&"row--lastVisible",b&&"row--borderBottom","auto"===l&&"row--dynamicHeight"]});t.useLayoutEffect((()=>{if(I.range){const t=R.current.getRowIndexRelativeToVisibleRows(n);null!=t&&R.current.unstable_setLastMeasuredRowIndex(t)}const t=E.current;if(!t||"auto"!==l||"undefined"===typeof ResizeObserver)return;const e=new ResizeObserver((t=>{const[e]=t,i=e.borderBoxSize&&e.borderBoxSize.length>0?e.borderBoxSize[0].blockSize:e.contentRect.height;R.current.unstable_storeRowHeightMeasurement(n,i)}));return e.observe(t),()=>e.disconnect()}),[R,I.range,o,l,n]);const X=t.useCallback(((t,e)=>i=>{HH(i)||R.current.getRow(n)&&(R.current.publishEvent(t,R.current.getRowParams(n),i),e&&e(i))}),[R,n]),q=t.useCallback((t=>{const e=BH(t.target,ez.cell),i=null===e||void 0===e?void 0:e.getAttribute("data-field");if(i){if(i===sH.field)return;if(i===VH)return;if("__reorder__"===i)return;if(R.current.getCellMode(n,i)===WV.Edit)return;const t=R.current.getColumn(i);if((null===t||void 0===t?void 0:t.type)===yB)return}X("rowClick",x)(t)}),[R,x,X,n]),{slots:J,slotProps:K,disableColumnReorder:Z}=T,Q=T.rowReordering,$=cz(R,(()=>(0,pM.A)({},R.current.unstable_getRowInternalSizes(n))),lz);let tt=l;if("auto"===tt&&$){var et;const t=1,e=null!==(et=$.baseCenter)&&void 0!==et?et:0;e>0&&t>1&&(tt=e)}const it=t.useMemo((()=>{if(v)return{opacity:0,width:0,height:0};const t=(0,pM.A)({},a,{maxHeight:"auto"===l?"none":l,minHeight:tt,"--height":"number"===typeof l?"".concat(l,"px"):l});if(null!==$&&void 0!==$&&$.spacingTop){t["border"===T.rowSpacingType?"borderTopWidth":"marginTop"]=$.spacingTop}if(null!==$&&void 0!==$&&$.spacingBottom){const e="border"===T.rowSpacingType?"borderBottomWidth":"marginBottom";let i=t[e];"number"!==typeof i&&(i=parseInt(i||"0",10)),i+=$.spacingBottom,t[e]=i}return t}),[v,l,a,tt,$,T.rowSpacingType]),st=R.current.unstable_applyPipeProcessors("rowClassName",[],n);if("function"===typeof T.getRowClassName){var nt;const t=o-((null===(nt=I.range)||void 0===nt?void 0:nt.firstRowIndex)||0),e=(0,pM.A)({},R.current.getRowParams(n),{isFirstVisible:0===t,isLastVisible:t===I.rows.length-1,indexRelativeToCurrentPage:t});st.push(T.getRowClassName(e))}const rt=function(t,e,i,s){var r,o,a,h;let c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:GY.NONE;const u=R.current.unstable_getCellColSpanInfo(n,i);if(null!==u&&void 0!==u&&u.spannedByColSpan)return null;const d=null!==(r=null===u||void 0===u?void 0:u.cellProps.width)&&void 0!==r?r:t.computedWidth,p=null!==(o=null===u||void 0===u?void 0:u.cellProps.colSpan)&&void 0!==o?o:1,g=tj(WY[c],t.computedWidth,i,L,f);if("skeletonRow"===(null===_||void 0===_?void 0:_.type))return(0,oM.jsx)(J.skeletonCell,{type:t.type,width:d,height:l,field:t.field,align:t.align},t.field);const m=null!==(a=null===(h=z[n])||void 0===h?void 0:h[t.field])&&void 0!==a?a:null,y="__reorder__"===t.field,v=Object.keys(z).length>0,b=!(Z||t.disableReorder),x=Q&&!P.length&&F<=1&&!v,S=!(b||y&&x),A=c===GY.VIRTUAL;return(0,oM.jsx)(J.cell,(0,pM.A)({column:t,width:d,rowId:n,align:t.align||"left",colIndex:i,colSpan:p,disableDragEvents:S,editCellState:m,isNotVisible:A,pinnedOffset:g,pinnedPosition:c,sectionIndex:e,sectionLength:s,gridHasFiller:B},null===K||void 0===K?void 0:K.cell),t.field)};if(!_)return null;const ot=u.left.map(((t,e)=>rt(t,e,e,u.left.length,GY.LEFT))),at=u.right.map(((t,e)=>{const i=c.length-u.right.length+e;return rt(t,e,i,u.right.length,GY.RIGHT)})),lt=c.length-u.left.length-u.right.length,ht=[];G&&ht.push(rt(c[g],g-u.left.length,g,lt,GY.VIRTUAL));for(let t=p.firstColumnIndex;t<p.lastColumnIndex;t+=1){const e=c[t],i=t-u.left.length;ht.push(rt(e,i,t,lt))}W&&ht.push(rt(c[g],g-u.left.length,g,lt,GY.VIRTUAL));const ct=r?{onClick:q,onDoubleClick:X("rowDoubleClick",S),onMouseEnter:X("rowMouseEnter",A),onMouseLeave:X("rowMouseLeave",w),onMouseOut:X("rowMouseOut",C),onMouseOver:X("rowMouseOver",M)}:null,ut=f.viewportOuterSize.width-f.columnsTotalWidth-V,dt=Math.max(0,ut);return(0,oM.jsxs)("div",(0,pM.A)({ref:N,"data-id":n,"data-rowindex":o,role:"row",className:(0,gM.A)(...st,Y.root,h),"aria-rowindex":j,"aria-selected":s,style:it},ct,k,{children:[ot,(0,oM.jsx)("div",{role:"presentation",className:ez.cellOffsetLeft,style:{width:d}}),ht,dt>0&&(0,oM.jsx)(JY,{width:dt}),at.length>0&&(0,oM.jsx)("div",{role:"presentation",className:ez.filler}),at,0!==V&&(0,oM.jsx)(nj,{pinnedRight:u.right.length>0})]}))})),ZY=LB(KY),QY=t.memo((e=>{var i,s;const{colDef:n,open:r,columnMenuId:o,columnMenuButtonId:a,iconButtonRef:l}=e,h=$z(),c=bz(),u=(t=>{const{classes:e,open:i}=t,s={root:["menuIcon",i&&"menuOpen"],button:["menuIconButton"]};return(0,mM.A)(s,tz,e)})((0,pM.A)({},e,{classes:c.classes})),d=t.useCallback((t=>{t.preventDefault(),t.stopPropagation(),h.current.toggleColumnMenu(n.field)}),[h,n.field]);return(0,oM.jsx)("div",{className:u.root,children:(0,oM.jsx)(c.slots.baseTooltip,(0,pM.A)({title:h.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},null===(i=c.slotProps)||void 0===i?void 0:i.baseTooltip,{children:(0,oM.jsx)(c.slots.baseIconButton,(0,pM.A)({ref:l,tabIndex:-1,className:u.button,"aria-label":h.current.getLocaleText("columnMenuLabel"),size:"small",onClick:d,"aria-haspopup":"menu","aria-expanded":r,"aria-controls":r?o:void 0,id:a},null===(s=c.slotProps)||void 0===s?void 0:s.baseIconButton,{children:(0,oM.jsx)(c.slots.columnMenuIcon,{fontSize:"small"})}))}))})}));function $Y(t){let{columnMenuId:e,columnMenuButtonId:i,ContentComponent:s,contentComponentProps:n,field:r,open:o,target:a,onExited:l}=t;const h=$z(),c=h.current.getColumn(r),u=(0,Sk.A)((t=>{t&&(t.stopPropagation(),null!==a&&void 0!==a&&a.contains(t.target))||h.current.hideColumnMenu()}));return a&&c?(0,oM.jsx)(pB,{placement:"bottom-".concat("right"===c.align?"start":"end"),open:o,target:a,onClose:u,onExited:l,children:(0,oM.jsx)(s,(0,pM.A)({colDef:c,hideMenu:u,open:o,id:e,labelledby:i},n))}):null}const tX=["className"],eX=IR("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(t,e)=>e.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)"}),iX=t.forwardRef((function(t,e){const{className:i}=t,s=(0,fM.A)(t,tX),n=bz(),r=(t=>{const{classes:e}=t;return(0,mM.A)({root:["columnHeaderTitle"]},tz,e)})(n);return(0,oM.jsx)(eX,(0,pM.A)({ref:e,className:(0,gM.A)(r.root,i),ownerState:n},s))}));function sX(e){var i;const{label:s,description:n}=e,r=bz(),o=t.useRef(null),[a,l]=t.useState(""),h=t.useCallback((()=>{if(!n&&null!==o&&void 0!==o&&o.current){const e=(t=o.current).scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth;l(e?s:"")}var t}),[n,s]);return(0,oM.jsx)(r.slots.baseTooltip,(0,pM.A)({title:n||a},null===(i=r.slotProps)||void 0===i?void 0:i.baseTooltip,{children:(0,oM.jsx)(iX,{onMouseOver:h,ref:o,children:s})}))}const nX=["resizable","resizing","height","side"];var rX=function(t){return t.Left="left",t.Right="right",t}(rX||{});function oX(e){const{height:i,side:s=rX.Right}=e,n=(0,fM.A)(e,nX),r=bz(),o=(t=>{const{resizable:e,resizing:i,classes:s,side:n}=t,r={root:["columnSeparator",e&&"columnSeparator--resizable",i&&"columnSeparator--resizing",n&&"columnSeparator--side".concat((0,YL.A)(n))],icon:["iconSeparator"]};return(0,mM.A)(r,tz,s)})((0,pM.A)({},e,{side:s,classes:r.classes})),a=t.useCallback((t=>{t.preventDefault(),t.stopPropagation()}),[]);return(0,oM.jsx)("div",(0,pM.A)({className:o.root,style:{minHeight:i,opacity:r.showColumnVerticalBorder?0:1}},n,{onClick:a,children:(0,oM.jsx)(r.slots.columnResizeIcon,{className:o.icon})}))}const aX=t.memo(oX),lX=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],hX=t.forwardRef((function(e,i){const{classes:s,colIndex:n,height:r,isResizing:o,sortDirection:a,hasFocus:l,tabIndex:h,separatorSide:c,isDraggable:u,headerComponent:d,description:f,width:p,columnMenuIconButton:g=null,columnMenu:m=null,columnTitleIconButtons:y=null,headerClassName:v,label:b,resizable:x,draggableContainerProps:S,columnHeaderSeparatorProps:A,style:w}=e,C=(0,fM.A)(e,lX),M=dz(),k=bz(),R=t.useRef(null),E=(0,SM.A)(R,i);let T="none";return null!=a&&(T="asc"===a?"ascending":"descending"),t.useLayoutEffect((()=>{const t=M.current.state.columnMenu;if(l&&!t.open){var e;const t=R.current.querySelector('[tabindex="0"]')||R.current;null===t||void 0===t||t.focus(),null!==(e=M.current.columnHeadersContainerRef)&&void 0!==e&&e.current&&(M.current.columnHeadersContainerRef.current.scrollLeft=0)}}),[M,l]),(0,oM.jsxs)("div",(0,pM.A)({ref:E,className:(0,gM.A)(s.root,v),style:(0,pM.A)({},w,{height:r,width:p,minWidth:p,maxWidth:p}),role:"columnheader",tabIndex:h,"aria-colindex":n+1,"aria-sort":T,"aria-label":null==d?b:void 0},C,{children:[(0,oM.jsxs)("div",(0,pM.A)({className:s.draggableContainer,draggable:u,role:"presentation"},S,{children:[(0,oM.jsxs)("div",{className:s.titleContainer,role:"presentation",children:[(0,oM.jsx)("div",{className:s.titleContainerContent,children:void 0!==d?d:(0,oM.jsx)(sX,{label:b,description:f,columnWidth:p})}),y]}),g]})),(0,oM.jsx)(aX,(0,pM.A)({resizable:!k.disableColumnResize&&!!x,resizing:o,height:r,side:c},A)),m]}))}));const cX=LB((function(e){var i,s,n,r,o;const{colDef:a,columnMenuOpen:l,colIndex:h,headerHeight:c,isResizing:u,isLast:d,sortDirection:f,sortIndex:p,filterItemsCounter:g,hasFocus:m,tabIndex:y,disableReorder:v,separatorSide:b,style:x,pinnedPosition:S,indexInSection:A,sectionLength:w,gridHasFiller:C}=e,M=dz(),k=bz(),R=t.useRef(null),E=(0,eF.A)(),T=(0,eF.A)(),I=t.useRef(null),[P,F]=t.useState(l),D=t.useMemo((()=>!k.disableColumnReorder&&!v&&!a.disableReorder),[k.disableColumnReorder,v,a.disableReorder]);let L;a.renderHeader&&(L=a.renderHeader(M.current.getColumnHeaderParams(a.field)));const z=ij(S,A),N=ej(S,A,w,k.showCellVerticalBorder,C),_=(t=>{const{colDef:e,classes:i,isDragging:s,sortDirection:n,showRightBorder:r,showLeftBorder:o,filterItemsCounter:a,pinnedPosition:l}=t,h=null!=n,c=null!=a&&a>0,u="number"===e.type,d={root:["columnHeader","left"===e.headerAlign&&"columnHeader--alignLeft","center"===e.headerAlign&&"columnHeader--alignCenter","right"===e.headerAlign&&"columnHeader--alignRight",e.sortable&&"columnHeader--sortable",s&&"columnHeader--moving",h&&"columnHeader--sorted",c&&"columnHeader--filtered",u&&"columnHeader--numeric","withBorderColor",r&&"columnHeader--withRightBorder",o&&"columnHeader--withLeftBorder","left"===l&&"columnHeader--pinnedLeft","right"===l&&"columnHeader--pinnedRight"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return(0,mM.A)(d,tz,i)})((0,pM.A)({},e,{classes:k.classes,showRightBorder:N,showLeftBorder:z})),V=t.useCallback((t=>e=>{HH(e)||M.current.publishEvent(t,M.current.getColumnHeaderParams(a.field),e)}),[M,a.field]),B=t.useMemo((()=>({onClick:V("columnHeaderClick"),onDoubleClick:V("columnHeaderDoubleClick"),onMouseOver:V("columnHeaderOver"),onMouseOut:V("columnHeaderOut"),onMouseEnter:V("columnHeaderEnter"),onMouseLeave:V("columnHeaderLeave"),onKeyDown:V("columnHeaderKeyDown"),onFocus:V("columnHeaderFocus"),onBlur:V("columnHeaderBlur")})),[V]),O=t.useMemo((()=>D?{onDragStart:V("columnHeaderDragStart"),onDragEnter:V("columnHeaderDragEnter"),onDragOver:V("columnHeaderDragOver"),onDragEnd:V("columnHeaderDragEnd")}:{}),[D,V]),U=t.useMemo((()=>({onMouseDown:V("columnSeparatorMouseDown"),onDoubleClick:V("columnSeparatorDoubleClick")})),[V]);t.useEffect((()=>{P||F(l)}),[P,l]);const H=t.useCallback((()=>{F(!1)}),[]),G=!k.disableColumnMenu&&!a.disableColumnMenu&&(0,oM.jsx)(QY,{colDef:a,columnMenuId:E,columnMenuButtonId:T,open:P,iconButtonRef:I}),W=(0,oM.jsx)($Y,{columnMenuId:E,columnMenuButtonId:T,field:a.field,open:l,target:I.current,ContentComponent:k.slots.columnMenu,contentComponentProps:null===(i=k.slotProps)||void 0===i?void 0:i.columnMenu,onExited:H}),j=null!==(s=a.sortingOrder)&&void 0!==s?s:k.sortingOrder,Y=(a.sortable||null!=f)&&!a.hideSortIcons&&!k.disableColumnSorting,X=(0,oM.jsxs)(t.Fragment,{children:[!k.disableColumnFilter&&(0,oM.jsx)(k.slots.columnHeaderFilterIconButton,(0,pM.A)({field:a.field,counter:g},null===(n=k.slotProps)||void 0===n?void 0:n.columnHeaderFilterIconButton)),Y&&(0,oM.jsx)(k.slots.columnHeaderSortIcon,(0,pM.A)({field:a.field,direction:f,index:p,sortingOrder:j,disabled:!a.sortable},null===(r=k.slotProps)||void 0===r?void 0:r.columnHeaderSortIcon))]});t.useLayoutEffect((()=>{const t=M.current.state.columnMenu;if(m&&!t.open){var e;const t=R.current.querySelector('[tabindex="0"]')||R.current;null===t||void 0===t||t.focus(),null!==(e=M.current.columnHeadersContainerRef)&&void 0!==e&&e.current&&(M.current.columnHeadersContainerRef.current.scrollLeft=0)}}),[M,m]);const q="function"===typeof a.headerClassName?a.headerClassName({field:a.field,colDef:a}):a.headerClassName,J=null!==(o=a.headerName)&&void 0!==o?o:a.field;return(0,oM.jsx)(hX,(0,pM.A)({ref:R,classes:_,columnMenuOpen:l,colIndex:h,height:c,isResizing:u,sortDirection:f,hasFocus:m,tabIndex:y,separatorSide:b,isDraggable:D,headerComponent:L,description:a.description,elementId:a.field,width:a.computedWidth,columnMenuIconButton:G,columnTitleIconButtons:X,headerClassName:(0,gM.A)(q,d&&ez["columnHeader--last"]),label:J,resizable:!k.disableColumnResize&&!!a.resizable,"data-field":a.field,columnMenu:W,draggableContainerProps:O,columnHeaderSeparatorProps:U,style:x},B))}));function uX(e){var i;const{groupId:s,width:n,depth:r,maxDepth:o,fields:a,height:l,colIndex:h,hasFocus:c,tabIndex:u,isLastColumn:d,pinnedPosition:f,style:p,indexInSection:g,sectionLength:m,gridHasFiller:y}=e,v=bz(),b=t.useRef(null),x=$z(),S=cz(x,MB),A=s?S[s]:{},{headerName:w=(null!==s&&void 0!==s?s:""),description:C="",headerAlign:M}=A;let k;const R=s&&(null===(i=S[s])||void 0===i?void 0:i.renderHeaderGroup),E=t.useMemo((()=>({groupId:s,headerName:w,description:C,depth:r,maxDepth:o,fields:a,colIndex:h,isLastColumn:d})),[s,w,C,r,o,a,h,d]);s&&R&&(k=R(E));const T=ij(f,g),I=ej(f,g,m,v.showCellVerticalBorder,y),P=(0,pM.A)({},e,{classes:v.classes,showLeftBorder:T,showRightBorder:I,headerAlign:M,depth:r,isDragging:!1}),F=null!==w&&void 0!==w?w:s,D=(0,eF.A)(),L=null===s?"empty-group-cell-".concat(D):s,z=(t=>{const{classes:e,headerAlign:i,isDragging:s,isLastColumn:n,showLeftBorder:r,showRightBorder:o,groupId:a,pinnedPosition:l}=t,h={root:["columnHeader","left"===i&&"columnHeader--alignLeft","center"===i&&"columnHeader--alignCenter","right"===i&&"columnHeader--alignRight",s&&"columnHeader--moving",o&&"columnHeader--withRightBorder",r&&"columnHeader--withLeftBorder","withBorderColor",null===a?"columnHeader--emptyGroup":"columnHeader--filledGroup","left"===l&&"columnHeader--pinnedLeft","right"===l&&"columnHeader--pinnedRight",n&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return(0,mM.A)(h,tz,e)})(P);t.useLayoutEffect((()=>{if(c){const t=b.current.querySelector('[tabindex="0"]')||b.current;null===t||void 0===t||t.focus()}}),[x,c]);const N=t.useCallback((t=>e=>{HH(e)||x.current.publishEvent(t,E,e)}),[x,E]),_=t.useMemo((()=>({onKeyDown:N("columnGroupHeaderKeyDown"),onFocus:N("columnGroupHeaderFocus"),onBlur:N("columnGroupHeaderBlur")})),[N]),V="function"===typeof A.headerClassName?A.headerClassName(E):A.headerClassName;return(0,oM.jsx)(hX,(0,pM.A)({ref:b,classes:z,columnMenuOpen:!1,colIndex:h,height:l,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:u,isDraggable:!1,headerComponent:k,headerClassName:V,description:C,elementId:L,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:F,"aria-colspan":a.length,"data-fields":"|-".concat(a.join("-|-"),"-|"),style:p},_))}const dX=(0,BM.Ay)("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(t,e)=>e.columnHeaderRow})({display:"flex"}),fX=["className"],pX=IR("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(t,e)=>e.columnHeaders})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),gX=t.forwardRef((function(t,e){const{className:i}=t,s=(0,fM.A)(t,fX),n=bz(),r=(t=>{const{classes:e}=t;return(0,mM.A)({root:["columnHeaders"]},tz,e)})(n);return(0,oM.jsx)(pX,(0,pM.A)({ref:e,className:(0,gM.A)(i,r.root),ownerState:n},s,{role:"presentation"}))})),mX=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],yX=t.forwardRef((function(e,i){const{visibleColumns:s,sortColumnLookup:n,filterColumnLookup:r,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:a,columnHeaderFocus:l,columnGroupHeaderFocus:h,headerGroupingMaxDepth:c,columnMenuState:u,columnVisibility:d,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:p}=e,g=(0,fM.A)(e,mX),{getInnerProps:m,getColumnHeadersRow:y,getColumnGroupHeadersRows:v}=(e=>{const{visibleColumns:i,sortColumnLookup:s,filterColumnLookup:n,columnHeaderTabIndexState:r,columnGroupHeaderTabIndexState:o,columnHeaderFocus:a,columnGroupHeaderFocus:l,headerGroupingMaxDepth:h,columnMenuState:c,columnVisibility:u,columnGroupsHeaderStructure:d,hasOtherElementInTabSequence:f}=e,[p,g]=t.useState(""),[m,y]=t.useState(""),v=dz(),b=ok(),x=bz(),S=cz(v,fz),A=cz(v,LO),w=cz(v,CB),C=cz(v,jz),M=cz(v,NO),k=cz(v,Wz),R=cz(v,pV),E=KO(C,M,b.direction,k.left.length),T=S.columnsTotalWidth<S.viewportOuterSize.width;t.useEffect((()=>{v.current.columnHeadersContainerRef.current.scrollLeft=0}),[v]);const I=t.useCallback((t=>y(t.field)),[]),P=t.useCallback((()=>y("")),[]),F=t.useCallback((t=>g(t.field)),[]),D=t.useCallback((()=>g("")),[]),L=t.useMemo((()=>k.left.length?{firstColumnIndex:0,lastColumnIndex:k.left.length}:null),[k.left.length]),z=t.useMemo((()=>k.right.length?{firstColumnIndex:i.length-k.right.length,lastColumnIndex:i.length}:null),[k.right.length,i.length]);aN(v,"columnResizeStart",I),aN(v,"columnResizeStop",P),aN(v,"columnHeaderDragStart",F),aN(v,"columnHeaderDragEnd",D);const N=t=>{const{renderContext:e=M,maxLastColumn:s=i.length}=t||{},n=A?e.firstColumnIndex:0,r=A?e.lastColumnIndex:s;return{renderedColumns:i.slice(n,r),firstColumnToRender:n,lastColumnToRender:r}},_=function(e,i,s){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const r=(null===e||void 0===e?void 0:e.position)===zz.RIGHT,o=void 0===(null===e||void 0===e?void 0:e.position),a=k.right.length>0&&r||0===k.right.length&&o,l=E-s;return(0,oM.jsxs)(t.Fragment,{children:[o&&(0,oM.jsx)("div",{role:"presentation",style:{width:l}}),i,o&&(0,oM.jsx)("div",{role:"presentation",className:(0,gM.A)(ez.filler,n&&ez["filler--borderTop"])}),a&&(0,oM.jsx)(nj,{header:!0,borderTop:n,pinnedRight:r})]})},V=t=>{let e,{pinnedPosition:i,columnIndex:s,computedWidth:n}=t;if("left"===i||"right"===i){const t=tj(i,n,s,C,S);"left"===i&&(e={left:t}),"right"===i&&(e={right:t})}return e},B=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{renderedColumns:i,firstColumnToRender:o}=N(t),l=[];for(let h=0;h<i.length;h+=1){const u=i[h],d=o+h,g=0===d,y=null!==r&&r.field===u.field||g&&!f?0:-1,v=null!==a&&a.field===u.field,b=c.open&&c.field===u.field,x=null===t||void 0===t?void 0:t.position,A=V({pinnedPosition:x,columnIndex:d,computedWidth:u.computedWidth});l.push((0,oM.jsx)(cX,(0,pM.A)({},s[u.field],{columnMenuOpen:b,filterItemsCounter:n[u.field]&&n[u.field].length,headerHeight:S.headerHeight,isDragging:u.field===p,colDef:u,colIndex:d,isResizing:m===u.field,isLast:d===C.length-1,hasFocus:v,tabIndex:y,pinnedPosition:x,style:A,indexInSection:h,sectionLength:i.length,gridHasFiller:T},e),u.field))}return _(t,l,0)},O=t=>{var e,s,n,r;let{depth:a,params:c}=t;const f=N(c);if(0===f.renderedColumns.length)return null;const{renderedColumns:p,firstColumnToRender:g,lastColumnToRender:m}=f,y=d[a],b=i[g].field,x=null!==(e=null===(s=w[b])||void 0===s?void 0:s[a])&&void 0!==e?e:null,A=y.findIndex((t=>{let{groupId:e,columnFields:i}=t;return e===x&&i.includes(b)})),C=i[m-1].field,M=null!==(n=null===(r=w[C])||void 0===r?void 0:r[a])&&void 0!==n?n:null,k=y.findIndex((t=>{let{groupId:e,columnFields:i}=t;return e===M&&i.includes(C)})),R=y.slice(A,k+1).map((t=>(0,pM.A)({},t,{columnFields:t.columnFields.filter((t=>!1!==u[t]))}))).filter((t=>t.columnFields.length>0)),E=R[0].columnFields.indexOf(b),I=R[0].columnFields.slice(0,E).reduce(((t,e)=>{var i;return t+(null!==(i=v.current.getColumn(e).computedWidth)&&void 0!==i?i:0)}),0);let P=g;const F=R.map(((t,e)=>{let{groupId:s,columnFields:n}=t;const r=null!==l&&l.depth===a&&n.includes(l.field),u=null!==o&&o.depth===a&&n.includes(o.field)?0:-1,d={groupId:s,width:n.reduce(((t,e)=>t+v.current.getColumn(e).computedWidth),0),fields:n,colIndex:P,hasFocus:r,tabIndex:u},f=c.position,g=V({pinnedPosition:f,columnIndex:P,computedWidth:d.width});P+=n.length;let m=e;return"left"===f&&(m=P-1),(0,oM.jsx)(uX,{groupId:s,width:d.width,fields:d.fields,colIndex:d.colIndex,depth:a,isLastColumn:d.colIndex===i.length-d.fields.length,maxDepth:h,height:S.headerHeight,hasFocus:r,tabIndex:u,pinnedPosition:f,style:g,indexInSection:m,sectionLength:p.length,gridHasFiller:T},e)}));return _(c,F,I)};return{renderContext:M,leftRenderContext:L,rightRenderContext:z,pinnedColumns:k,visibleColumns:i,getCellOffsetStyle:V,getFillers:_,getColumnHeadersRow:()=>(0,oM.jsxs)(dX,{role:"row","aria-rowindex":h+1,ownerState:x,className:0===R.top.length?ez["row--borderBottom"]:void 0,children:[L&&B({position:zz.LEFT,renderContext:L,minFirstColumn:L.firstColumnIndex,maxLastColumn:L.lastColumnIndex},{disableReorder:!0}),B({renderContext:M,minFirstColumn:k.left.length,maxLastColumn:i.length-k.right.length}),z&&B({position:zz.RIGHT,renderContext:z,minFirstColumn:z.firstColumnIndex,maxLastColumn:z.lastColumnIndex},{disableReorder:!0,separatorSide:rX.Left})]}),getColumnsToRender:N,getColumnGroupHeadersRows:()=>{if(0===h)return null;const t=[];for(let e=0;e<h;e+=1)t.push((0,oM.jsxs)(dX,{role:"row","aria-rowindex":e+1,ownerState:x,children:[L&&O({depth:e,params:{position:zz.LEFT,renderContext:L,minFirstColumn:L.firstColumnIndex,maxLastColumn:L.lastColumnIndex}}),O({depth:e,params:{renderContext:M}}),z&&O({depth:e,params:{position:zz.RIGHT,renderContext:z,minFirstColumn:z.firstColumnIndex,maxLastColumn:z.lastColumnIndex}})]},e));return t},isDragging:!!p,getInnerProps:()=>({role:"rowgroup"})}})({visibleColumns:s,sortColumnLookup:n,filterColumnLookup:r,columnHeaderTabIndexState:o,columnGroupHeaderTabIndexState:a,columnHeaderFocus:l,columnGroupHeaderFocus:h,headerGroupingMaxDepth:c,columnMenuState:u,columnVisibility:d,columnGroupsHeaderStructure:f,hasOtherElementInTabSequence:p});return(0,oM.jsxs)(gX,(0,pM.A)({ref:i},g,m(),{children:[v(),y()]}))})),vX=LB(yX),bX=["displayOrder"],xX=["hideMenu","colDef","id","labelledby","className","children","open"],SX=(0,BM.Ay)(TD)((()=>({minWidth:248}))),AX=t.forwardRef((function(e,i){const{hideMenu:s,id:n,labelledby:r,className:o,children:a,open:l}=e,h=(0,fM.A)(e,xX),c=t.useCallback((t=>{var e;BV(t.key)&&t.preventDefault(),e=t.key,(BV(e)||VV(e))&&s(t)}),[s]);return(0,oM.jsx)(SX,(0,pM.A)({id:n,ref:i,className:(0,gM.A)(ez.menuList,o),"aria-labelledby":r,onKeyDown:c,autoFocus:l},h,{children:a}))}));function wX(e){const{colDef:i,onClick:s}=e,n=$z(),r=bz(),o=1===Hz(n).filter((t=>!0!==t.disableColumnMenu)).length,a=t.useCallback((t=>{o||(n.current.setColumnVisibility(i.field,!1),s(t))}),[n,i.field,s,o]);return r.disableColumnSelector||!1===i.hideable?null:(0,oM.jsxs)(CH,{onClick:a,disabled:o,children:[(0,oM.jsx)(xT,{children:(0,oM.jsx)(r.slots.columnMenuHideIcon,{fontSize:"small"})}),(0,oM.jsx)(nI,{children:n.current.getLocaleText("columnMenuHideColumn")})]})}function CX(e){const{onClick:i}=e,s=$z(),n=bz(),r=t.useCallback((t=>{i(t),s.current.showPreferences(Zz.columns)}),[s,i]);return n.disableColumnSelector?null:(0,oM.jsxs)(CH,{onClick:r,children:[(0,oM.jsx)(xT,{children:(0,oM.jsx)(n.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),(0,oM.jsx)(nI,{children:s.current.getLocaleText("columnMenuManageColumns")})]})}const MX=["defaultSlots","defaultSlotProps","slots","slotProps"],kX={columnMenuSortItem:function(e){var i;const{colDef:s,onClick:n}=e,r=$z(),o=cz(r,KB),a=bz(),l=t.useMemo((()=>{if(!s)return null;const t=o.find((t=>t.field===s.field));return null===t||void 0===t?void 0:t.sort}),[s,o]),h=null!==(i=s.sortingOrder)&&void 0!==i?i:a.sortingOrder,c=t.useCallback((t=>{n(t);const e=t.currentTarget.getAttribute("data-value")||null;r.current.sortColumn(s.field,e===l?null:e)}),[r,s,n,l]);if(a.disableColumnSorting||!s||!s.sortable||!h.some((t=>!!t)))return null;const u=t=>{const e=r.current.getLocaleText(t);return"function"===typeof e?e(s):e};return(0,oM.jsxs)(t.Fragment,{children:[h.includes("asc")&&"asc"!==l?(0,oM.jsxs)(CH,{onClick:c,"data-value":"asc",children:[(0,oM.jsx)(xT,{children:(0,oM.jsx)(a.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),(0,oM.jsx)(nI,{children:u("columnMenuSortAsc")})]}):null,h.includes("desc")&&"desc"!==l?(0,oM.jsxs)(CH,{onClick:c,"data-value":"desc",children:[(0,oM.jsx)(xT,{children:(0,oM.jsx)(a.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),(0,oM.jsx)(nI,{children:u("columnMenuSortDesc")})]}):null,h.includes(null)&&null!=l?(0,oM.jsxs)(CH,{onClick:c,children:[(0,oM.jsx)(xT,{}),(0,oM.jsx)(nI,{children:r.current.getLocaleText("columnMenuUnsort")})]}):null]})},columnMenuFilterItem:function(e){const{colDef:i,onClick:s}=e,n=$z(),r=bz(),o=t.useCallback((t=>{s(t),n.current.showFilterPanel(i.field)}),[n,i.field,s]);return r.disableColumnFilter||!i.filterable?null:(0,oM.jsxs)(CH,{onClick:o,children:[(0,oM.jsx)(xT,{children:(0,oM.jsx)(r.slots.columnMenuFilterIcon,{fontSize:"small"})}),(0,oM.jsx)(nI,{children:n.current.getLocaleText("columnMenuFilter")})]})},columnMenuColumnsItem:function(e){return(0,oM.jsxs)(t.Fragment,{children:[(0,oM.jsx)(wX,(0,pM.A)({},e)),(0,oM.jsx)(CX,(0,pM.A)({},e))]})}},RX={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},EX=t.forwardRef((function(e,i){const{defaultSlots:s,defaultSlotProps:n,slots:r,slotProps:o}=e,a=(0,fM.A)(e,MX),l=(e=>{const i=dz(),{defaultSlots:s,defaultSlotProps:n,slots:r={},slotProps:o={},hideMenu:a,colDef:l,addDividers:h=!0}=e,c=t.useMemo((()=>(0,pM.A)({},s,r)),[s,r]),u=t.useMemo((()=>{if(!o||0===Object.keys(o).length)return n;const t=(0,pM.A)({},o);return Object.entries(n).forEach((e=>{let[i,s]=e;t[i]=(0,pM.A)({},s,o[i]||{})})),t}),[n,o]),d=i.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),f=t.useMemo((()=>{const t=Object.keys(s);return Object.keys(r).filter((e=>!t.includes(e)))}),[r,s]);return t.useMemo((()=>{const t=Array.from(new Set([...d,...f])).filter((t=>null!=c[t])).sort(((t,e)=>{const i=u[t],s=u[e];return(Number.isFinite(null===i||void 0===i?void 0:i.displayOrder)?i.displayOrder:100)-(Number.isFinite(null===s||void 0===s?void 0:s.displayOrder)?s.displayOrder:100)}));return t.reduce(((e,i,s)=>{let n={colDef:l,onClick:a};const r=u[i];if(r){const t=(0,fM.A)(r,bX);n=(0,pM.A)({},n,t)}return h&&s!==t.length-1?[...e,[c[i],n],[UE,{}]]:[...e,[c[i],n]]}),[])}),[h,l,d,a,c,u,f])})((0,pM.A)({},a,{defaultSlots:s,defaultSlotProps:n,slots:r,slotProps:o}));return(0,oM.jsx)(AX,(0,pM.A)({ref:i},a,{children:l.map(((t,e)=>{let[i,s]=t;return(0,oM.jsx)(i,(0,pM.A)({},s),e)}))}))})),TX=t.forwardRef((function(t,e){return(0,oM.jsx)(EX,(0,pM.A)({},t,{ref:e,defaultSlots:kX,defaultSlotProps:RX}))}));const IX=t.forwardRef((function(t,e){const i=$z().current.getLocaleText("noResultsOverlayLabel");return(0,oM.jsx)($W,(0,pM.A)({ref:e},t,{children:i}))}));function PX(t){return(0,gk.Ay)("PrivateSwitchBase",t)}(0,pk.A)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const FX=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],DX=(0,BM.Ay)(wE)((t=>{let{ownerState:e}=t;return(0,pM.A)({padding:9,borderRadius:"50%"},"start"===e.edge&&{marginLeft:"small"===e.size?-3:-12},"end"===e.edge&&{marginRight:"small"===e.size?-3:-12})})),LX=(0,BM.Ay)("input",{shouldForwardProp:Qk.A})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),zX=t.forwardRef((function(t,e){const{autoFocus:i,checked:s,checkedIcon:n,className:r,defaultChecked:o,disabled:a,disableFocusRipple:l=!1,edge:h=!1,icon:c,id:u,inputProps:d,inputRef:f,name:p,onBlur:g,onChange:m,onFocus:y,readOnly:v,required:b=!1,tabIndex:x,type:S,value:A}=t,w=(0,fM.A)(t,FX),[C,M]=(0,HP.A)({controlled:s,default:Boolean(o),name:"SwitchBase",state:"checked"}),k=uF();let R=a;k&&"undefined"===typeof R&&(R=k.disabled);const E="checkbox"===S||"radio"===S,T=(0,pM.A)({},t,{checked:C,disabled:R,disableFocusRipple:l,edge:h}),I=(t=>{const{classes:e,checked:i,disabled:s,edge:n}=t,r={root:["root",i&&"checked",s&&"disabled",n&&"edge".concat((0,Zk.A)(n))],input:["input"]};return(0,mM.A)(r,PX,e)})(T);return(0,oM.jsxs)(DX,(0,pM.A)({component:"span",className:(0,gM.A)(I.root,r),centerRipple:!0,focusRipple:!l,disabled:R,tabIndex:null,role:void 0,onFocus:t=>{y&&y(t),k&&k.onFocus&&k.onFocus(t)},onBlur:t=>{g&&g(t),k&&k.onBlur&&k.onBlur(t)},ownerState:T,ref:e},w,{children:[(0,oM.jsx)(LX,(0,pM.A)({autoFocus:i,checked:s,defaultChecked:o,className:I.input,disabled:R,id:E?u:void 0,name:p,onChange:t=>{if(t.nativeEvent.defaultPrevented)return;const e=t.target.checked;M(e),m&&m(t,e)},readOnly:v,ref:f,required:b,ownerState:T,tabIndex:x,type:S},"checkbox"===S&&void 0===A?{}:{value:A},d)),C?n:c]}))})),NX=zX,_X=(0,aL.A)((0,oM.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),VX=(0,aL.A)((0,oM.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),BX=(0,aL.A)((0,oM.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function OX(t){return(0,gk.Ay)("MuiCheckbox",t)}const UX=(0,pk.A)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),HX=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],GX=(0,BM.Ay)(NX,{shouldForwardProp:t=>(0,Qk.A)(t)||"classes"===t,name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,i.indeterminate&&e.indeterminate,e["size".concat((0,Zk.A)(i.size))],"default"!==i.color&&e["color".concat((0,Zk.A)(i.color))]]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({color:(e.vars||e).palette.text.secondary},!i.disableRipple&&{"&:hover":{backgroundColor:e.vars?"rgba(".concat("default"===i.color?e.vars.palette.action.activeChannel:e.vars.palette[i.color].mainChannel," / ").concat(e.vars.palette.action.hoverOpacity,")"):(0,Wk.X4)("default"===i.color?e.palette.action.active:e.palette[i.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==i.color&&{["&.".concat(UX.checked,", &.").concat(UX.indeterminate)]:{color:(e.vars||e).palette[i.color].main},["&.".concat(UX.disabled)]:{color:(e.vars||e).palette.action.disabled}})})),WX=(0,oM.jsx)(VX,{}),jX=(0,oM.jsx)(_X,{}),YX=(0,oM.jsx)(BX,{}),XX=t.forwardRef((function(e,i){var s,n;const r=(0,OM.b)({props:e,name:"MuiCheckbox"}),{checkedIcon:o=WX,color:a="primary",icon:l=jX,indeterminate:h=!1,indeterminateIcon:c=YX,inputProps:u,size:d="medium",className:f}=r,p=(0,fM.A)(r,HX),g=h?c:l,m=h?c:o,y=(0,pM.A)({},r,{color:a,indeterminate:h,size:d}),v=(t=>{const{classes:e,indeterminate:i,color:s,size:n}=t,r={root:["root",i&&"indeterminate","color".concat((0,Zk.A)(s)),"size".concat((0,Zk.A)(n))]},o=(0,mM.A)(r,OX,e);return(0,pM.A)({},e,o)})(y);return(0,oM.jsx)(GX,(0,pM.A)({type:"checkbox",inputProps:(0,pM.A)({"data-indeterminate":h},u),icon:t.cloneElement(g,{fontSize:null!=(s=g.props.fontSize)?s:d}),checkedIcon:t.cloneElement(m,{fontSize:null!=(n=m.props.fontSize)?n:d}),ownerState:y,ref:i,className:(0,gM.A)(v.root,f)},p,{classes:v}))})),qX=XX;function JX(t){return(0,gk.Ay)("MuiInputAdornment",t)}const KX=(0,pk.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var ZX;const QX=["children","className","component","disablePointerEvents","disableTypography","position","variant"],$X=(0,BM.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:i}=t;return[e.root,e["position".concat((0,Zk.A)(i.position))],!0===i.disablePointerEvents&&e.disablePointerEvents,e[i.variant]]}})((t=>{let{theme:e,ownerState:i}=t;return(0,pM.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(e.vars||e).palette.action.active},"filled"===i.variant&&{["&.".concat(KX.positionStart,"&:not(.").concat(KX.hiddenLabel,")")]:{marginTop:16}},"start"===i.position&&{marginRight:8},"end"===i.position&&{marginLeft:8},!0===i.disablePointerEvents&&{pointerEvents:"none"})})),tq=t.forwardRef((function(e,i){const s=(0,OM.b)({props:e,name:"MuiInputAdornment"}),{children:n,className:r,component:o="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:h,variant:c}=s,u=(0,fM.A)(s,QX),d=uF()||{};let f=c;c&&d.variant,d&&!f&&(f=d.variant);const p=(0,pM.A)({},s,{hiddenLabel:d.hiddenLabel,size:d.size,disablePointerEvents:a,position:h,variant:f}),g=(t=>{const{classes:e,disablePointerEvents:i,hiddenLabel:s,position:n,size:r,variant:o}=t,a={root:["root",i&&"disablePointerEvents",n&&"position".concat((0,Zk.A)(n)),o,s&&"hiddenLabel",r&&"size".concat((0,Zk.A)(r))]};return(0,mM.A)(a,JX,e)})(p);return(0,oM.jsx)(cF.Provider,{value:null,children:(0,oM.jsx)($X,(0,pM.A)({as:o,ownerState:p,className:(0,gM.A)(g.root,r),ref:i},u,{children:"string"!==typeof n||l?(0,oM.jsxs)(t.Fragment,{children:["start"===h?ZX||(ZX=(0,oM.jsx)("span",{className:"notranslate",children:"\u200b"})):null,n]}):(0,oM.jsx)(YT,{color:"text.secondary",children:n})}))})})),eq=tq,iq=["sortingOrder"],sq=t.memo((function(t){const{sortingOrder:e}=t,i=(0,fM.A)(t,iq),s=bz(),[n]=e,r="asc"===n?s.slots.columnSortedAscendingIcon:s.slots.columnSortedDescendingIcon;return r?(0,oM.jsx)(r,(0,pM.A)({},i)):null})),nq=(0,aL.A)((0,oM.jsx)("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),rq=(0,aL.A)((0,oM.jsx)("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),oq=(0,aL.A)((0,oM.jsx)("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),aq=(0,aL.A)((0,oM.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),lq=(0,aL.A)((0,oM.jsx)("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),hq=(0,aL.A)((0,oM.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),cq=(0,aL.A)((0,oM.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search"),uq=((0,aL.A)((0,oM.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu"),(0,aL.A)((0,oM.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle"),(0,aL.A)((0,oM.jsx)("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon")),dq=(0,aL.A)((0,oM.jsx)("path",{d:"M11 19V5h2v14z"}),"Separator"),fq=(0,aL.A)((0,oM.jsx)("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),pq=(0,aL.A)((0,oM.jsx)("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),gq=(0,aL.A)((0,oM.jsx)("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),mq=(0,aL.A)((0,oM.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),yq=(0,aL.A)((0,oM.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),vq=(0,aL.A)((0,oM.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),bq=(0,aL.A)((0,oM.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),xq=(0,aL.A)((0,oM.jsx)("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Sq=(0,aL.A)((0,oM.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),Aq=(0,aL.A)((0,oM.jsx)("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),wq=(0,aL.A)((0,oM.jsx)("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Cq=(0,aL.A)((0,oM.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),Mq=(0,aL.A)((0,oM.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),kq=(0,aL.A)((0,oM.jsx)("g",{children:(0,oM.jsx)("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),Rq=(0,aL.A)((0,oM.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),Eq=((0,aL.A)((0,oM.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),(0,aL.A)((0,oM.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")),Tq=["native"];const Iq={booleanCellTrueIcon:wq,booleanCellFalseIcon:yq,columnMenuIcon:mq,openFilterButtonIcon:lq,filterPanelDeleteIcon:yq,columnFilteredIcon:hq,columnSelectorIcon:uq,columnUnsortedIcon:sq,columnSortedAscendingIcon:nq,columnSortedDescendingIcon:rq,columnResizeIcon:dq,densityCompactIcon:fq,densityStandardIcon:pq,densityComfortableIcon:gq,exportIcon:Aq,moreActionsIcon:Cq,treeDataCollapseIcon:aq,treeDataExpandIcon:oq,groupingCriteriaCollapseIcon:aq,groupingCriteriaExpandIcon:oq,detailPanelExpandIcon:vq,detailPanelCollapseIcon:bq,rowReorderIcon:Sq,quickFilterIcon:cq,quickFilterClearIcon:yq,columnMenuHideIcon:Mq,columnMenuSortAscendingIcon:nq,columnMenuSortDescendingIcon:rq,columnMenuFilterIcon:hq,columnMenuManageColumnsIcon:kq,columnMenuClearIcon:Rq,loadIcon:xq,filterPanelAddIcon:vq,filterPanelRemoveAllIcon:Eq,columnReorderIcon:Sq},Pq=(0,pM.A)({},Iq,{baseCheckbox:qX,baseTextField:AL,baseFormControl:gD,baseSelect:mL,baseButton:LE,baseIconButton:YN,baseInputAdornment:eq,baseTooltip:tF,basePopper:OP,baseInputLabel:cD,baseSelectOption:function(t){let{native:e}=t,i=(0,fM.A)(t,Tq);return e?(0,oM.jsx)("option",(0,pM.A)({},i)):(0,oM.jsx)(CH,(0,pM.A)({},i))},baseChip:e_}),Fq=(0,pM.A)({},Pq,{cell:XY,skeletonCell:YG,columnHeaderFilterIconButton:function(e){var i,s;const{counter:n,field:r,onClick:o}=e,a=$z(),l=bz(),h=(t=>{const{classes:e}=t;return(0,mM.A)({icon:["filterIcon"]},tz,e)})((0,pM.A)({},e,{classes:l.classes})),c=cz(a,Kz),u=(0,eF.A)(),d=(0,eF.A)(),f=t.useCallback((t=>{t.preventDefault(),t.stopPropagation();const{open:e,openedPanelValue:i}=Kz(a.current.state);e&&i===Zz.filters?a.current.hideFilterPanel():a.current.showFilterPanel(void 0,d,u),o&&o(a.current.getColumnHeaderParams(r),t)}),[a,r,o,d,u]);if(!n)return null;const p=c.open&&c.labelId===u,g=(0,oM.jsx)(l.slots.baseIconButton,(0,pM.A)({id:u,onClick:f,color:"default","aria-label":a.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":p,"aria-controls":p?d:void 0},null===(i=l.slotProps)||void 0===i?void 0:i.baseIconButton,{children:(0,oM.jsx)(l.slots.columnFilteredIcon,{className:h.icon,fontSize:"small"})}));return(0,oM.jsx)(l.slots.baseTooltip,(0,pM.A)({title:a.current.getLocaleText("columnHeaderFiltersTooltipActive")(n),enterDelay:1e3},null===(s=l.slotProps)||void 0===s?void 0:s.baseTooltip,{children:(0,oM.jsxs)(JG,{children:[n>1&&(0,oM.jsx)(GL,{badgeContent:n,color:"default",children:g}),1===n&&g]})}))},columnHeaderSortIcon:QG,columnMenu:TX,columnHeaders:vX,detailPanels:function(t){return null},footer:rW,footerRowCount:lW,toolbar:null,pinnedRows:function(t){return null},loadingOverlay:cj,noResultsOverlay:IX,noRowsOverlay:uj,pagination:qj,filterPanel:vY,columnsPanel:function(t){var e;const i=bz();return(0,oM.jsx)(nY,(0,pM.A)({},t,{children:(0,oM.jsx)(IY,(0,pM.A)({},null===(e=i.slotProps)||void 0===e?void 0:e.columnsManagement))}))},columnsManagement:IY,panel:BY,row:ZY});function Dq(e){return t.useMemo((()=>function(t){var e;const i=Object.keys(t);if(!i.some((t=>t.startsWith("aria-")||t.startsWith("data-"))))return t;const s={},n=null!==(e=t.forwardedProps)&&void 0!==e?e:{};for(let r=0;r<i.length;r+=1){const e=i[r];e.startsWith("aria-")||e.startsWith("data-")?n[e]=t[e]:s[e]=t[e]}return s.forwardedProps=n,s}(e)),[e])}const Lq={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid"},zq={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"\t",columnBufferPx:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:GV.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rowPositionsDebounceMs:166,rows:[],rowSelection:!0,rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0},Nq=Fq,_q=e=>{const i=Dq(function(t){let{props:e,name:i}=t;return FR({props:e,name:i,defaultTheme:nk.A,themeId:rk.A})}({props:e,name:"MuiDataGrid"})),s=t.useMemo((()=>(0,pM.A)({},wG,i.localeText)),[i.localeText]),n=t.useMemo((()=>function(t){let{defaultSlots:e,slots:i}=t;const s=i;if(!s||0===Object.keys(s).length)return e;const n=(0,pM.A)({},e);return Object.keys(s).forEach((t=>{const e=t;void 0!==s[e]&&(n[e]=s[e])})),n}({defaultSlots:Nq,slots:i.slots})),[i.slots]),r=t.useMemo((()=>Object.keys(zq).reduce(((t,e)=>{var s;return t[e]=null!==(s=i[e])&&void 0!==s?s:zq[e],t}),{})),[i]);return t.useMemo((()=>(0,pM.A)({},i,r,{localeText:s,slots:n},Lq)),[i,s,n,r])},Vq=t=>(0,pM.A)({},t,{rowsMeta:{currentPageTotalHeight:0,positions:[]}});const Bq=(t,e,i)=>"number"===typeof t&&t>0?t:e;["MUI X: The `rowHeight` prop should be a number greater than 0.","The default value will be used instead."].join("\n"),["MUI X: The `getRowHeight` prop should return a number greater than 0 or 'auto'.","The default value will be used instead."].join("\n");function Oq(t){const{apiRef:e,lookup:i,columnIndex:s,rowId:n,minFirstColumnIndex:r,maxLastColumnIndex:o,columns:a}=t,l=a.length,h=a[s],c=e.current.getRow(n),u=e.current.getRowValue(c,h),d="function"===typeof h.colSpan?h.colSpan(u,c,h,e):h.colSpan;if(!d||1===d)return Uq(i,n,s,{spannedByColSpan:!1,cellProps:{colSpan:1,width:h.computedWidth}}),{colSpan:1};let f=h.computedWidth;for(let p=1;p<d;p+=1){const t=s+p;if(t>=r&&t<o){f+=a[t].computedWidth,Uq(i,n,s+p,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(s+d,l-1),leftVisibleCellIndex:s})}Uq(i,n,s,{spannedByColSpan:!1,cellProps:{colSpan:d,width:f}})}return{colSpan:d}}function Uq(t,e,i,s){t[e]||(t[e]={}),t[e][i]=s}function Hq(t){return void 0!==t.field}const Gq=(t,e,i)=>{if(Hq(t)){if(void 0!==i[t.field])throw new Error(["MUI X: columnGroupingModel contains duplicated field","column field ".concat(t.field," occurs two times in the grouping model:"),"- ".concat(i[t.field].join(" > ")),"- ".concat(e.join(" > "))].join("\n"));return void(i[t.field]=e)}const{groupId:s,children:n}=t;n.forEach((t=>{Gq(t,[...e,s],i)}))},Wq=t=>{if(!t)return{};const e={};return t.forEach((t=>{Gq(t,[],e)})),e},jq=(t,e,i)=>{const s=t=>{var i;return null!==(i=e[t])&&void 0!==i?i:[]},n=[],r=Math.max(...t.map((t=>s(t).length))),o=(t,e,i)=>RN(s(t).slice(0,i+1),s(e).slice(0,i+1));for(let a=0;a<r;a+=1){const e=t.reduce(((t,e)=>{var n;const r=null!==(n=s(e)[a])&&void 0!==n?n:null;if(0===t.length)return[{columnFields:[e],groupId:r}];const l=t[t.length-1],h=l.columnFields[l.columnFields.length-1];return l.groupId!==r||!o(h,e,a)||(c=h,u=e,null!==i&&void 0!==i&&i.left&&i.left.includes(c)&&!i.left.includes(u)||null!==i&&void 0!==i&&i.right&&!i.right.includes(c)&&i.right.includes(u))?[...t,{columnFields:[e],groupId:r}]:[...t.slice(0,t.length-1),{columnFields:[...l.columnFields,e],groupId:r}];var c,u}),[]);n.push(e)}return n},Yq=["groupId","children"],Xq=t=>{let e={};return t.forEach((t=>{if(Hq(t))return;const{groupId:i,children:s}=t,n=(0,fM.A)(t,Yq);if(!i)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const r=(0,pM.A)({},n,{groupId:i}),o=Xq(s);if(void 0!==o[i]||void 0!==e[i])throw new Error("MUI X: The groupId ".concat(i," is used multiple times in the columnGroupingModel."));e=(0,pM.A)({},e,o,{[i]:r})})),(0,pM.A)({},e)},qq=(t,e,i)=>{var s,n,r;if(!e.columnGroupingModel)return t;const o=Vz(i),a=Gz(i),l=Xq(null!==(s=e.columnGroupingModel)&&void 0!==s?s:[]),h=Wq(null!==(n=e.columnGroupingModel)&&void 0!==n?n:[]),c=jq(o,h,null!==(r=i.current.state.pinnedColumns)&&void 0!==r?r:{}),u=0===a.length?0:Math.max(...a.map((t=>{var e,i;return null!==(e=null===(i=h[t])||void 0===i?void 0:i.length)&&void 0!==e?e:0})));return(0,pM.A)({},t,{columnGrouping:{lookup:l,unwrappedGroupingModel:h,headerStructure:c,maxDepth:u}})},Jq={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1};function Kq(t,e){if(void 0!==e&&t.changedTouches){for(let i=0;i<t.changedTouches.length;i+=1){const s=t.changedTouches[i];if(s.identifier===e)return{x:s.clientX,y:s.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function Zq(t,e,i,s){let n=t;return n+="Right"===s?e-i.left:i.right-e,n}function Qq(t){t.preventDefault(),t.stopImmediatePropagation()}function $q(e){const i=t.useRef(),s=()=>LO(e),n=cz(e,s);t.useEffect((()=>{i.current&&!1===n&&(i.current.resolve(),i.current=void 0)}));return()=>{if(!i.current){if(!1===s())return Promise.resolve();i.current=function(){let t,e;const i=new Promise(((i,s)=>{t=i,e=s}));return i.resolve=t,i.reject=e,i}()}return i.current}}function tJ(t,e,i){const s={},n=t.current.rootElementRef.current;return n.classList.add(ez.autosizing),i.forEach((i=>{const n=function(t,e){const i=t.virtualScrollerRef.current;return Array.from(i.querySelectorAll(':scope > div > div > div > [data-field="'.concat(OH(e),'"][role="gridcell"]')))}(t.current,i.field),r=n.map((t=>{var e;return null!==(e=t.getBoundingClientRect().width)&&void 0!==e?e:0})),o=e.includeOutliers?r:function(t,e){if(t.length<4)return t;const i=t.slice();i.sort(((t,e)=>t-e));const s=i[Math.floor(.25*i.length)],n=i[Math.floor(.75*i.length)-1],r=n-s,o=r<5?5:r*e;return i.filter((t=>t>s-o&&t<n+o))}(r,e.outliersFactor);if(e.includeHeaders){const e=(h=t.current,c=i.field,h.columnHeadersContainerRef.current.querySelector(':scope > div > [data-field="'.concat(OH(c),'"][role="columnheader"]')));if(e){var a,l;const t=e.querySelector(".".concat(ez.columnHeaderTitle)),i=e.querySelector(".".concat(ez.columnHeaderTitleContainerContent)),s=e.querySelector(".".concat(ez.iconButtonContainer)),n=e.querySelector(".".concat(ez.menuIcon)),r=null!==t&&void 0!==t?t:i,h=window.getComputedStyle(e,null),c=parseInt(h.paddingLeft,10)+parseInt(h.paddingRight,10),u=r.scrollWidth+1+c+(null!==(a=null===s||void 0===s?void 0:s.clientWidth)&&void 0!==a?a:0)+(null!==(l=null===n||void 0===n?void 0:n.clientWidth)&&void 0!==l?l:0);o.push(u)}}var h,c;const u=i.minWidth!==-1/0&&void 0!==i.minWidth,d=i.maxWidth!==1/0&&void 0!==i.maxWidth,f=u?i.minWidth:0,p=d?i.maxWidth:1/0,g=0===o.length?0:Math.max(...o);s[i.field]=MN(g,f,p)})),n.classList.remove(ez.autosizing),s}const eJ=t=>(0,pM.A)({},t,{columnResize:{resizingColumnField:""}});function iJ(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const sJ=(e,i)=>{const s=ok(),n=JU(e,"useGridColumnResize"),r=(0,iz.A)(iJ).current,o=t.useRef(),a=t.useRef(),l=(0,$R.A)(),h=t.useRef(),c=t=>{var i;n.debug("Updating width to ".concat(t," for col ").concat(r.colDef.field));const s=r.columnHeaderElement.offsetWidth,o=t-s,a=t-r.initialColWidth,l=r.initialTotalWidth+a;null===(i=e.current.rootElementRef)||void 0===i||null===(i=i.current)||void 0===i||i.style.setProperty("--DataGrid-rowWidth","".concat(l,"px")),r.colDef.computedWidth=t,r.colDef.width=t,r.colDef.flex=0,r.columnHeaderElement.style.width="".concat(t,"px"),r.columnHeaderElement.style.minWidth="".concat(t,"px"),r.columnHeaderElement.style.maxWidth="".concat(t,"px");const h=r.headerFilterElement;h&&(h.style.width="".concat(t,"px"),h.style.minWidth="".concat(t,"px"),h.style.maxWidth="".concat(t,"px")),r.groupHeaderElements.forEach((e=>{const i=e;let s;s="1"===i.getAttribute("aria-colspan")?"".concat(t,"px"):"".concat(i.offsetWidth+o,"px"),i.style.width=s,i.style.minWidth=s,i.style.maxWidth=s})),r.cellElements.forEach((e=>{const i=e;let s;s="1"===i.getAttribute("aria-colspan")?"".concat(t,"px"):"".concat(i.offsetWidth+o,"px"),i.style.setProperty("--width",s)}));const c=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,r.colDef.field);c===zz.LEFT&&(nJ(r.fillerLeft,"width",o),r.leftPinnedCellsAfter.forEach((t=>{nJ(t,"left",o)})),r.leftPinnedHeadersAfter.forEach((t=>{nJ(t,"left",o)}))),c===zz.RIGHT&&(nJ(r.fillerRight,"width",o),r.rightPinnedCellsBefore.forEach((t=>{nJ(t,"right",o)})),r.rightPinnedHeadersBefore.forEach((t=>{nJ(t,"right",o)})))},u=t=>{if(v(),r.previousMouseClickEvent){const i=r.previousMouseClickEvent,s=i.timeStamp,n=i.clientX,o=i.clientY;if(t.timeStamp-s<300&&t.clientX===n&&t.clientY===o)return r.previousMouseClickEvent=void 0,void e.current.publishEvent("columnResizeStop",null,t)}if(r.colDef){e.current.setColumnWidth(r.colDef.field,r.colDef.width),n.debug("Updating col ".concat(r.colDef.field," with new width: ").concat(r.colDef.width));const t=_z(e.current.state);r.groupHeaderElements.forEach((e=>{const i=e,s=e.getAttribute("data-fields").slice(2,-2).split("-|-").reduce(((e,i)=>!1!==t.columnVisibilityModel[i]?e+t.lookup[i].computedWidth:e),0),n="".concat(s,"px");i.style.width=n,i.style.minWidth=n,i.style.maxWidth=n}))}l.start(0,(()=>{e.current.publishEvent("columnResizeStop",null,t)}))},d=(t,i,n)=>{var l;const h=e.current.rootElementRef.current;var c,u;r.initialColWidth=t.computedWidth,r.initialTotalWidth=e.current.getRootDimensions().rowWidth,r.colDef=t,r.columnHeaderElement=(c=e.current.columnHeadersContainerRef.current,u=t.field,c.querySelector('[data-field="'.concat(OH(u),'"]')));const d=h.querySelector(".".concat(ez.headerFilterRow,' [data-field="').concat(OH(t.field),'"]'));d&&(r.headerFilterElement=d),r.groupHeaderElements=function(t,e){var i;return Array.from(null!==(i=t.querySelectorAll('[data-fields*="|-'.concat(OH(e),'-|"]')))&&void 0!==i?i:[])}(null===(l=e.current.columnHeadersContainerRef)||void 0===l?void 0:l.current,t.field),r.cellElements=function(t,e){var i;if(!BH(t,ez.root))throw new Error("MUI X: The root element is not found.");const s=t.getAttribute("aria-colindex");if(!s)return[];const n=Number(s)-1,r=[];return null!==(i=e.virtualScrollerRef)&&void 0!==i&&i.current?(YH(e).forEach((t=>{const i=t.getAttribute("data-id");if(!i)return;let s=n;const o=e.unstable_getCellColSpanInfo(i,n);o&&o.spannedByColSpan&&(s=o.leftVisibleCellIndex);const a=t.querySelector('[data-colindex="'.concat(s,'"]'));a&&r.push(a)})),r):[]}(r.columnHeaderElement,e.current),r.fillerLeft=GH(e.current,"filler--pinnedLeft"),r.fillerRight=GH(e.current,"filler--pinnedRight");const f=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,r.colDef.field);r.leftPinnedCellsAfter=f!==zz.LEFT?[]:function(t,e){const i=XH(e);return WH({api:t,colIndex:i,position:"left",filterFn:t=>t>i})}(e.current,r.columnHeaderElement),r.rightPinnedCellsBefore=f!==zz.RIGHT?[]:function(t,e){const i=XH(e);return WH({api:t,colIndex:i,position:"right",filterFn:t=>t<i})}(e.current,r.columnHeaderElement),r.leftPinnedHeadersAfter=f!==zz.LEFT?[]:function(t,e){const i=XH(e);return jH({api:t,position:"left",colIndex:i,filterFn:t=>t>i})}(e.current,r.columnHeaderElement),r.rightPinnedHeadersBefore=f!==zz.RIGHT?[]:function(t,e){const i=XH(e);return jH({api:t,position:"right",colIndex:i,filterFn:t=>t<i})}(e.current,r.columnHeaderElement),a.current=function(t,e){const i=t.classList.contains(ez["columnSeparator--sideRight"])?"Right":"Left";return"rtl"===e?function(t){return"Right"===t?"Left":"Right"}(i):i}(i,s.direction),o.current=function(t,e,i){return"Left"===i?t-e.left:e.right-t}(n,r.columnHeaderElement.getBoundingClientRect(),a.current)},f=(0,Sk.A)(u),p=(0,Sk.A)((t=>{if(0===t.buttons)return void f(t);let i=Zq(o.current,t.clientX,r.columnHeaderElement.getBoundingClientRect(),a.current);i=MN(i,r.colDef.minWidth,r.colDef.maxWidth),c(i);const s={element:r.columnHeaderElement,colDef:r.colDef,width:i};e.current.publishEvent("columnResize",s,t)})),g=(0,Sk.A)((t=>{Kq(t,h.current)&&u(t)})),m=(0,Sk.A)((t=>{const i=Kq(t,h.current);if(!i)return;if("mousemove"===t.type&&0===t.buttons)return void g(t);let s=Zq(o.current,i.x,r.columnHeaderElement.getBoundingClientRect(),a.current);s=MN(s,r.colDef.minWidth,r.colDef.maxWidth),c(s);const n={element:r.columnHeaderElement,colDef:r.colDef,width:s};e.current.publishEvent("columnResize",n,t)})),y=(0,Sk.A)((t=>{const i=BH(t.target,ez["columnSeparator--resizable"]);if(!i)return;const s=t.changedTouches[0];null!=s&&(h.current=s.identifier);const r=BH(t.target,ez.columnHeader),o=r.getAttribute("data-field");const a=e.current.getColumn(o);n.debug("Start Resize on col ".concat(a.field)),e.current.publishEvent("columnResizeStart",{field:o},t),d(a,i,s.clientX);const l=(0,IM.A)(t.currentTarget);l.addEventListener("touchmove",m),l.addEventListener("touchend",g)})),v=t.useCallback((()=>{const t=(0,IM.A)(e.current.rootElementRef.current);t.body.style.removeProperty("cursor"),t.removeEventListener("mousemove",p),t.removeEventListener("mouseup",f),t.removeEventListener("touchmove",m),t.removeEventListener("touchend",g),setTimeout((()=>{t.removeEventListener("click",Qq,!0)}),100),r.columnHeaderElement&&(r.columnHeaderElement.style.pointerEvents="unset")}),[e,r,p,f,m,g]),b=t.useCallback((t=>{let{field:i}=t;e.current.setState((t=>(0,pM.A)({},t,{columnResize:(0,pM.A)({},t.columnResize,{resizingColumnField:i})}))),e.current.forceUpdate()}),[e]),x=t.useCallback((()=>{e.current.setState((t=>(0,pM.A)({},t,{columnResize:(0,pM.A)({},t.columnResize,{resizingColumnField:""})}))),e.current.forceUpdate()}),[e]),S=(0,Sk.A)(((t,i)=>{let{colDef:s}=t;if(0!==i.button)return;if(!i.currentTarget.classList.contains(ez["columnSeparator--resizable"]))return;i.preventDefault(),n.debug("Start Resize on col ".concat(s.field)),e.current.publishEvent("columnResizeStart",{field:s.field},i),d(s,i.currentTarget,i.clientX);const o=(0,IM.A)(e.current.rootElementRef.current);o.body.style.cursor="col-resize",r.previousMouseClickEvent=i.nativeEvent,o.addEventListener("mousemove",p),o.addEventListener("mouseup",f),o.addEventListener("click",Qq,!0)})),A=(0,Sk.A)(((t,s)=>{if(i.disableAutosize)return;if(0!==s.button)return;const n=e.current.state.columns.lookup[t.field];!1!==n.resizable&&e.current.autosizeColumns((0,pM.A)({},i.autosizeOptions,{columns:[n.field]}))})),w=$q(e),C=t.useRef(!1),M=t.useCallback((async t=>{var i,s;if(!(null===(i=e.current.rootElementRef)||void 0===i?void 0:i.current))return;if(C.current)return;C.current=!0;const n=_z(e.current.state),r=(0,pM.A)({},Jq,t,{columns:null!==(s=null===t||void 0===t?void 0:t.columns)&&void 0!==s?s:n.orderedFields});r.columns=r.columns.filter((t=>!1!==n.columnVisibilityModel[t]));const o=r.columns.map((t=>e.current.state.columns.lookup[t]));try{e.current.unstable_setColumnVirtualization(!1),await w();const t=tJ(e,r,o),i=o.map((e=>(0,pM.A)({},e,{width:t[e.field],computedWidth:t[e.field]})));if(r.expand){const s=n.orderedFields.map((t=>n.lookup[t])).filter((t=>!1!==n.columnVisibilityModel[t.field])),r=s.reduce(((e,i)=>{var s,n;return e+(null!==(s=null!==(n=t[i.field])&&void 0!==n?n:i.computedWidth)&&void 0!==s?s:i.width)}),0),o=e.current.getRootDimensions().viewportInnerSize.width-r;if(o>0){const t=o/(i.length||1);i.forEach((e=>{e.width+=t,e.computedWidth+=t}))}}e.current.updateColumns(i),i.forEach(((t,i)=>{if(t.width!==o[i].width){const i=t.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(t.field),colDef:t,width:i})}}))}finally{e.current.unstable_setColumnVirtualization(!0),C.current=!1}}),[e,w]);t.useEffect((()=>v),[v]),(0,sz.A)((()=>{i.autosizeOnMount&&Promise.resolve().then((()=>{e.current.autosizeColumns(i.autosizeOptions)}))})),KU(e,(()=>{var t;return null===(t=e.current.columnHeadersContainerRef)||void 0===t?void 0:t.current}),"touchstart",y,{passive:!0}),_O(e,{autosizeColumns:M},"public"),aN(e,"columnResizeStop",x),aN(e,"columnResizeStart",b),aN(e,"columnSeparatorMouseDown",S),aN(e,"columnSeparatorDoubleClick",A),hN(e,"columnResize",i.onColumnResize),hN(e,"columnWidthChange",i.onColumnWidthChange)};function nJ(t,e,i){t&&(t.style[e]="".concat(parseInt(t.style[e],10)+i,"px"))}const rJ=(e,i)=>{const s=XU(e,i);return gG(s,i),(t=>{FH(t,jU,"rowTreeCreation",cG)})(s),qU(xG,s,i),qU(pG,s,i),qU(pH,s,i),qU(hG,s,i),qU(aG,s,i),qU(_H,s,i),qU(mG,s,i),qU($H,s,i),qU(DH,s,i),qU(mH,s,i),qU(eJ,s,i),qU(ZH,s,i),qU(Vq,s,i),qU(cH,s,i),qU(qq,s,i),qU(BO,s,i),KH(s,i),((e,i)=>{const s=JU(e,"useGridSelection"),n=t=>function(){i.rowSelection&&t(...arguments)},r=t.useMemo((()=>fG(i.rowSelectionModel,RO(e.current.state))),[e,i.rowSelectionModel]),o=t.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:r,propOnChange:i.onRowSelectionModelChange,stateSelector:RO,changeEvent:"rowSelectionChange"});const{checkboxSelection:a,disableRowSelectionOnClick:l,isRowSelectable:h}=i,c=rU(i),u=MO(e,i),d=t.useCallback((t=>{var i;let s=t;const n=null!==(i=o.current)&&void 0!==i?i:t,r=e.current.isRowSelected(t);if(r){const t=iO(e),i=t.findIndex((t=>t===n)),r=t.findIndex((t=>t===s));if(i===r)return;s=i>r?t[r+1]:t[r-1]}o.current=t,e.current.selectRowRange({startId:n,endId:s},!r)}),[e]),f=t.useCallback((t=>{if(i.signature===nN.DataGrid&&!c&&Array.isArray(t)&&t.length>1)throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join("\n"));RO(e.current.state)!==t&&(s.debug("Setting selection model"),e.current.setState((e=>(0,pM.A)({},e,{rowSelection:i.rowSelection?t:[]}))),e.current.forceUpdate())}),[e,s,i.rowSelection,i.signature,c]),p=t.useCallback((t=>RO(e.current.state).includes(t)),[e]),g=t.useCallback((t=>{if(h&&!h(e.current.getRowParams(t)))return!1;const i=e.current.getRowNode(t);return"footer"!==(null===i||void 0===i?void 0:i.type)&&"pinnedRow"!==(null===i||void 0===i?void 0:i.type)}),[e,h]),m=t.useCallback((()=>TO(e)),[e]),y=t.useCallback((function(t){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.current.isRowSelectable(t))if(o.current=t,n)s.debug("Setting selection for row ".concat(t)),e.current.setRowSelectionModel(i?[t]:[]);else{s.debug("Toggling selection for row ".concat(t));const n=RO(e.current.state).filter((e=>e!==t));i&&n.push(t),(n.length<2||c)&&e.current.setRowSelectionModel(n)}}),[e,s,c]),v=t.useCallback((function(t){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];s.debug("Setting selection for several rows");const r=t.filter((t=>e.current.isRowSelectable(t)));let o;if(n)o=i?r:[];else{const t=(0,pM.A)({},IO(e));r.forEach((e=>{i?t[e]=e:delete t[e]})),o=Object.values(t)}(o.length<2||c)&&e.current.setRowSelectionModel(o)}),[e,s,c]),b=t.useCallback((function(t){let{startId:i,endId:n}=t,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e.current.getRow(i)||!e.current.getRow(n))return;s.debug("Expanding selection from row ".concat(i," to row ").concat(n));const a=iO(e),l=a.indexOf(i),h=a.indexOf(n),[c,u]=l>h?[h,l]:[l,h],d=a.slice(c,u+1);e.current.selectRows(d,r,o)}),[e,s]),x={selectRows:v,selectRowRange:b};_O(e,{selectRow:y,setRowSelectionModel:f,getSelectedRows:m,isRowSelected:p,isRowSelectable:g},"public"),_O(e,x,i.signature===nN.DataGrid?"private":"public");const S=t.useCallback((()=>{if(i.keepNonExistentRowsSelected)return;const t=RO(e.current.state),s=oV(e),n=(0,pM.A)({},IO(e));let r=!1;t.forEach((t=>{s[t]||(delete n[t],r=!0)})),r&&e.current.setRowSelectionModel(Object.values(n))}),[e,i.keepNonExistentRowsSelected]),A=t.useCallback(((t,i)=>{const s=i.metaKey||i.ctrlKey,n=!a&&!s&&!(t=>!!t.key)(i),r=!c||n,o=e.current.isRowSelected(t);r?e.current.selectRow(t,!!n||!o,!0):e.current.selectRow(t,!o,!1)}),[e,c,a]),w=t.useCallback(((t,i)=>{var s;if(l)return;const n=null===(s=i.target.closest(".".concat(ez.cell)))||void 0===s?void 0:s.getAttribute("data-field");if(n!==sH.field&&n!==VH){if(n){const t=e.current.getColumn(n);if((null===t||void 0===t?void 0:t.type)===yB)return}"pinnedRow"!==e.current.getRowNode(t.id).type&&(i.shiftKey&&c?d(t.id):A(t.id,i))}}),[l,c,e,d,A]),C=t.useCallback(((t,e)=>{var i;c&&e.shiftKey&&(null===(i=window.getSelection())||void 0===i||i.removeAllRanges())}),[c]),M=t.useCallback(((t,i)=>{c&&i.nativeEvent.shiftKey?d(t.id):e.current.selectRow(t.id,t.value,!c)}),[e,d,c]),k=t.useCallback((t=>{const s=i.checkboxSelectionVisibleOnly&&i.pagination?wO(e):iO(e),n=$B(e);e.current.selectRows(s,t.value,(null===n||void 0===n?void 0:n.items.length)>0)}),[e,i.checkboxSelectionVisibleOnly,i.pagination]),R=t.useCallback(((t,i)=>{if(e.current.getCellMode(t.id,t.field)!==WV.Edit&&!HH(i)){if(UV(i.key)&&i.shiftKey){const s=OB(e);if(s&&s.id!==t.id){i.preventDefault();const n=e.current.isRowSelected(s.id);if(!c)return void e.current.selectRow(s.id,!n,!0);const r=e.current.getRowIndexRelativeToVisibleRows(s.id),o=e.current.getRowIndexRelativeToVisibleRows(t.id);let a,l;r>o?n?(a=o,l=r-1):(a=o,l=r):n?(a=r+1,l=o):(a=r,l=o);const h=u.rows.slice(a,l+1).map((t=>t.id));return void e.current.selectRows(h,!n)}}if(" "===i.key&&i.shiftKey)return i.preventDefault(),void A(t.id,i);"a"===i.key&&(i.ctrlKey||i.metaKey)&&(i.preventDefault(),v(e.current.getAllRowIds(),!0))}}),[e,A,v,u.rows,c]);aN(e,"sortedRowsSet",n(S)),aN(e,"rowClick",n(w)),aN(e,"rowSelectionCheckboxChange",n(M)),aN(e,"headerSelectionCheckboxChange",k),aN(e,"cellMouseDown",n(C)),aN(e,"cellKeyDown",n(R)),t.useEffect((()=>{void 0!==r&&e.current.setRowSelectionModel(r)}),[e,r,i.rowSelection]),t.useEffect((()=>{i.rowSelection||e.current.setRowSelectionModel([])}),[e,i.rowSelection]);const E=null!=r;t.useEffect((()=>{if(E||!i.rowSelection)return;const t=RO(e.current.state);if(g){const i=t.filter((t=>g(t)));i.length<t.length&&e.current.setRowSelectionModel(i)}}),[e,g,E,i.rowSelection]),t.useEffect((()=>{if(!i.rowSelection||E)return;const t=RO(e.current.state);!c&&t.length>1&&e.current.setRowSelectionModel([])}),[e,c,a,E,i.rowSelection])})(s,i),function(e,i){var s,n;const r=JU(e,"useGridColumns"),o=t.useRef(i.columns);e.current.registerControlState({stateId:"visibleColumns",propModel:i.columnVisibilityModel,propOnChange:i.onColumnVisibilityModelChange,stateSelector:Uz,changeEvent:"columnVisibilityModelChange"});const a=t.useCallback((t=>{var i,s;r.debug("Updating columns state."),e.current.setState(gH(t)),e.current.publishEvent("columnsChange",t.orderedFields),null===(i=(s=e.current).updateRenderContext)||void 0===i||i.call(s),e.current.forceUpdate()}),[r,e]),l=t.useCallback((t=>Bz(e)[t]),[e]),h=t.useCallback((()=>Oz(e)),[e]),c=t.useCallback((()=>Hz(e)),[e]),u=t.useCallback((function(t){return(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?Oz(e):Hz(e)).findIndex((e=>e.field===t))}),[e]),d=t.useCallback((t=>{const i=u(t);return jz(e)[i]}),[e,u]),f=t.useCallback((t=>{var i,s;Uz(e)!==t&&(e.current.setState((i=>(0,pM.A)({},i,{columns:FB({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:t,keepOnlyColumnsToUpsert:!1})}))),null===(i=(s=e.current).updateRenderContext)||void 0===i||i.call(s),e.current.forceUpdate())}),[e]),p=t.useCallback((t=>{const i=FB({apiRef:e,columnsToUpsert:t,initialState:void 0,keepOnlyColumnsToUpsert:!1});a(i)}),[e,a]),g=t.useCallback(((t,i)=>{var s;const n=Uz(e);if(i!==(null===(s=n[t])||void 0===s||s)){const s=(0,pM.A)({},n,{[t]:i});e.current.setColumnVisibilityModel(s)}}),[e]),m=t.useCallback((t=>Vz(e).findIndex((e=>e===t))),[e]),y=t.useCallback(((t,i)=>{const s=Vz(e),n=m(t);if(n===i)return;r.debug("Moving column ".concat(t," to index ").concat(i));const o=[...s],l=o.splice(n,1)[0];o.splice(i,0,l),a((0,pM.A)({},_z(e.current.state),{orderedFields:o}));const h={column:e.current.getColumn(t),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(t),oldIndex:n};e.current.publishEvent("columnIndexChange",h)}),[e,r,a,m]),v=t.useCallback(((t,i)=>{r.debug("Updating column ".concat(t," width to ").concat(i));const s=_z(e.current.state),n=s.lookup[t],o=(0,pM.A)({},n,{width:i,hasBeenResized:!0});a(IB((0,pM.A)({},s,{lookup:(0,pM.A)({},s.lookup,{[t]:o})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(t),colDef:o,width:i})}),[e,r,a]),b={setColumnIndex:y};_O(e,{getColumn:l,getAllColumns:h,getColumnIndex:u,getColumnPosition:d,getVisibleColumns:c,getColumnIndexRelativeToVisibleColumns:m,updateColumns:p,setColumnVisibilityModel:f,setColumnVisibility:g,setColumnWidth:v},"public"),_O(e,b,i.signature===nN.DataGrid?"private":"public");const x=t.useCallback(((t,s)=>{var n,r;const o={},a=Uz(e);(!s.exportOnlyDirtyModels||null!=i.columnVisibilityModel||Object.keys(null!==(n=null===(r=i.initialState)||void 0===r||null===(r=r.columns)||void 0===r?void 0:r.columnVisibilityModel)&&void 0!==n?n:{}).length>0||Object.keys(a).length>0)&&(o.columnVisibilityModel=a),o.orderedFields=Vz(e);const l=Oz(e),h={};return l.forEach((t=>{if(t.hasBeenResized){const e={};EB.forEach((i=>{let s=t[i];s===1/0&&(s=-1),e[i]=s})),h[t.field]=e}})),Object.keys(h).length>0&&(o.dimensions=h),(0,pM.A)({},t,{columns:o})}),[e,i.columnVisibilityModel,null===(s=i.initialState)||void 0===s?void 0:s.columns]),S=t.useCallback(((t,i)=>{var s;const n=null===(s=i.stateToRestore.columns)||void 0===s?void 0:s.columnVisibilityModel,r=i.stateToRestore.columns;if(null==n&&null==r)return t;const o=FB({apiRef:e,columnsToUpsert:[],initialState:r,columnVisibilityModel:n,keepOnlyColumnsToUpsert:!1});return e.current.setState(gH(o)),null!=r&&e.current.publishEvent("columnsChange",o.orderedFields),t}),[e]),A=t.useCallback(((t,e)=>{if(e===Zz.columns){var s;const t=i.slots.columnsPanel;return(0,oM.jsx)(t,(0,pM.A)({},null===(s=i.slotProps)||void 0===s?void 0:s.columnsPanel))}return t}),[i.slots.columnsPanel,null===(n=i.slotProps)||void 0===n?void 0:n.columnsPanel]),w=t.useCallback((t=>i.disableColumnSelector?t:[...t,"columnMenuColumnsItem"]),[i.disableColumnSelector]);dH(e,"columnMenu",w),dH(e,"exportState",x),dH(e,"restoreState",S),dH(e,"preferencePanel",A);const C=t.useRef(null);aN(e,"viewportInnerSizeChange",(t=>{C.current!==t.width&&(C.current=t.width,a(IB(_z(e.current.state),e.current.getRootDimensions())))}));const M=t.useCallback((()=>{r.info("Columns pipe processing have changed, regenerating the columns");const t=FB({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});a(t)}),[e,r,a]);fH(e,"hydrateColumns",M);const k=t.useRef(!0);t.useEffect((()=>{if(k.current)return void(k.current=!1);if(r.info("GridColumns have changed, new length ".concat(i.columns.length)),o.current===i.columns)return;const t=FB({apiRef:e,initialState:void 0,columnsToUpsert:i.columns,keepOnlyColumnsToUpsert:!0});o.current=i.columns,a(t)}),[r,e,a,i.columns]),t.useEffect((()=>{void 0!==i.columnVisibilityModel&&e.current.setColumnVisibilityModel(i.columnVisibilityModel)}),[e,r,i.columnVisibilityModel])}(s,i),((e,i)=>{const s=JU(e,"useGridRows"),n=MO(e,i),r=t.useRef(Date.now()),o=t.useRef(i.rowCount),a=(0,$R.A)(),l=t.useCallback((t=>{const i=oV(e)[t];if(i)return i;const s=e.current.getRowNode(t);return s&&AV(s)?{[yV]:t}:null}),[e]),h=i.getRowId,c=t.useCallback((t=>yV in t?t[yV]:h?h(t):t.id),[h]),u=t.useMemo((()=>n.rows.reduce(((t,e,i)=>{let{id:s}=e;return t[s]=i,t}),{})),[n.rows]),d=t.useCallback((t=>{let{cache:s,throttle:n}=t;const o=()=>{r.current=Date.now(),e.current.setState((t=>(0,pM.A)({},t,{rows:SV({apiRef:e,rowCountProp:i.rowCount,loadingProp:i.loading,previousTree:lV(e),previousTreeDepths:uV(e),previousGroupsToFetch:hV(e)})}))),e.current.publishEvent("rowsSet"),e.current.forceUpdate()};if(a.clear(),e.current.caches.rows=s,!n)return void o();const l=i.throttleRowsMs-(Date.now()-r.current);l>0?a.start(l,o):o()}),[i.throttleRowsMs,i.rowCount,i.loading,e,a]),f=t.useCallback((t=>{s.debug("Updating all rows, new length ".concat(t.length));const n=bV({rows:t,getRowId:i.getRowId,loading:i.loading,rowCount:i.rowCount}),r=e.current.caches.rows;n.rowsBeforePartialUpdates=r.rowsBeforePartialUpdates,d({cache:n,throttle:!0})}),[s,i.getRowId,i.loading,i.rowCount,d,e]),p=t.useCallback((t=>{if(i.signature===nN.DataGrid&&t.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));const s=kV(e,t,i.getRowId),n=CV({updates:s,getRowId:i.getRowId,previousCache:e.current.caches.rows});d({cache:n,throttle:!0})}),[i.signature,i.getRowId,d,e]),g=t.useCallback(((t,s)=>{const n=kV(e,t,i.getRowId),r=CV({updates:n,getRowId:i.getRowId,previousCache:e.current.caches.rows,groupKeys:null!==s&&void 0!==s?s:[]});d({cache:r,throttle:!1})}),[i.getRowId,d,e]),m=t.useCallback((t=>{t!==i.loading&&(s.debug("Setting loading to ".concat(t)),e.current.setState((e=>(0,pM.A)({},e,{rows:(0,pM.A)({},e.rows,{loading:t})}))),e.current.caches.rows.loadingPropBeforePartialUpdates=t)}),[i.loading,e,s]),y=t.useCallback((()=>{const t=fV(e),i=oV(e);return new Map(t.map((t=>{var e;return[t,null!==(e=i[t])&&void 0!==e?e:{}]})))}),[e]),v=t.useCallback((()=>sV(e)),[e]),b=t.useCallback((()=>fV(e)),[e]),x=t.useCallback((t=>u[t]),[u]),S=t.useCallback(((t,i)=>{const s=e.current.getRowNode(t);if(!s)throw new Error("MUI X: No row with id #".concat(t," found."));if("group"!==s.type)throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const n=(0,pM.A)({},s,{childrenExpanded:i});e.current.setState((e=>(0,pM.A)({},e,{rows:(0,pM.A)({},e.rows,{tree:(0,pM.A)({},e.rows.tree,{[t]:n})})}))),e.current.forceUpdate(),e.current.publishEvent("rowExpansionChange",n)}),[e]),A=t.useCallback((t=>{var i;return null!==(i=lV(e)[t])&&void 0!==i?i:null}),[e]),w=t.useCallback((t=>{let{skipAutoGeneratedRows:i=!0,groupId:s,applySorting:n,applyFiltering:r}=t;const o=lV(e);let a;if(n){const t=o[s];if(!t)return[];const n=qB(e);a=[];const r=n.findIndex((t=>t===s))+1;for(let e=r;e<n.length&&o[n[e]].depth>t.depth;e+=1){const t=n[e];i&&AV(o[t])||a.push(t)}}else a=wV(o,s,i);if(r){const t=tO(e);a=a.filter((e=>!1!==t[e]))}return a}),[e]),C=t.useCallback(((t,i)=>{const n=e.current.getRowNode(t);if(!n)throw new Error("MUI X: No row with id #".concat(t," found."));if(n.parent!==mV)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if("leaf"!==n.type)throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState((n=>{const r=lV(n,e.current.instanceId)[mV],o=r.children,a=o.findIndex((e=>e===t));if(-1===a||a===i)return n;s.debug("Moving row ".concat(t," to index ").concat(i));const l=[...o];return l.splice(i,0,l.splice(a,1)[0]),(0,pM.A)({},n,{rows:(0,pM.A)({},n.rows,{tree:(0,pM.A)({},n.rows.tree,{[mV]:(0,pM.A)({},r,{children:l})})})})})),e.current.publishEvent("rowsSet")}),[e,s]),M={getRow:l,setLoading:m,getRowId:c,getRowModels:y,getRowsCount:v,getAllRowIds:b,setRows:f,updateRows:p,getRowNode:A,getRowIndexRelativeToVisibleRows:x,unstable_replaceRows:t.useCallback(((t,s)=>{if(i.signature===nN.DataGrid&&s.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join("\n"));if(0===s.length)return;if(dV(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const n=(0,pM.A)({},lV(e)),r=(0,pM.A)({},oV(e)),o=(0,pM.A)({},aV(e)),a=n[mV],l=[...a.children],h=new Set;for(let e=0;e<s.length;e+=1){const a=s[e],c=vV(a,i.getRowId,"A row was provided without id when calling replaceRows()."),[u]=l.splice(t+e,1,c);h.has(u)||(delete r[u],delete o[u],delete n[u]);const d={id:c,depth:0,parent:mV,type:"leaf",groupingKey:null};r[c]=a,o[c]=c,n[c]=d,h.add(c)}n[mV]=(0,pM.A)({},a,{children:l});const c=l.filter((t=>{var e;return"leaf"===(null===(e=n[t])||void 0===e?void 0:e.type)}));e.current.caches.rows.dataRowIdToModelLookup=r,e.current.caches.rows.dataRowIdToIdLookup=o,e.current.setState((t=>(0,pM.A)({},t,{rows:(0,pM.A)({},t.rows,{dataRowIdToModelLookup:r,dataRowIdToIdLookup:o,dataRowIds:c,tree:n})}))),e.current.publishEvent("rowsSet")}),[e,i.signature,i.getRowId])},k={setRowIndex:C,setRowChildrenExpansion:S,getRowGroupChildren:w},R={updateServerRows:g},E=t.useCallback((()=>{let t;s.info("Row grouping pre-processing have changed, regenerating the row tree"),t=e.current.caches.rows.rowsBeforePartialUpdates===i.rows?(0,pM.A)({},e.current.caches.rows,{updates:{type:"full",rows:fV(e)}}):bV({rows:i.rows,getRowId:i.getRowId,loading:i.loading,rowCount:i.rowCount}),d({cache:t,throttle:!1})}),[s,e,i.rows,i.getRowId,i.loading,i.rowCount,d]),T=t.useCallback((t=>{"rowTreeCreation"===t&&E()}),[E]),I=t.useCallback((()=>{e.current.getActiveStrategy("rowTree")!==cV(e)&&E()}),[e,E]);aN(e,"activeStrategyProcessorChange",T),aN(e,"strategyAvailabilityChange",I);const P=t.useCallback((()=>{e.current.setState((t=>{const s=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:lV(t,e.current.instanceId),treeDepths:uV(t,e.current.instanceId),dataRowIds:fV(t,e.current.instanceId),dataRowIdToModelLookup:oV(t,e.current.instanceId),dataRowIdToIdLookup:aV(t,e.current.instanceId)});return(0,pM.A)({},t,{rows:(0,pM.A)({},t.rows,s,{totalTopLevelRowCount:xV({tree:s.tree,rowCountProp:i.rowCount})})})})),e.current.publishEvent("rowsSet"),e.current.forceUpdate()}),[e,i.rowCount]);fH(e,"hydrateRows",P),_O(e,M,"public"),_O(e,k,i.signature===nN.DataGrid?"private":"public"),_O(e,R,"private");const F=t.useRef(!0);t.useEffect((()=>{var t;if(F.current)return void(F.current=!1);let n=!1;i.rowCount!==o.current&&(n=!0,o.current=i.rowCount);const r=e.current.caches.rows.rowsBeforePartialUpdates===i.rows,a=e.current.caches.rows.loadingPropBeforePartialUpdates===i.loading,l=e.current.caches.rows.rowCountPropBeforePartialUpdates===i.rowCount;r&&(a||(e.current.setState((t=>(0,pM.A)({},t,{rows:(0,pM.A)({},t.rows,{loading:i.loading})}))),e.current.caches.rows.loadingPropBeforePartialUpdates=i.loading,e.current.forceUpdate()),l||(e.current.setState((t=>(0,pM.A)({},t,{rows:(0,pM.A)({},t.rows,{totalRowCount:Math.max(i.rowCount||0,t.rows.totalRowCount),totalTopLevelRowCount:Math.max(i.rowCount||0,t.rows.totalTopLevelRowCount)})}))),e.current.caches.rows.rowCountPropBeforePartialUpdates=i.rowCount,e.current.forceUpdate()),!n)||(s.debug("Updating all rows, new length ".concat(null===(t=i.rows)||void 0===t?void 0:t.length)),d({cache:bV({rows:i.rows,getRowId:i.getRowId,loading:i.loading,rowCount:i.rowCount}),throttle:!1}))}),[i.rows,i.rowCount,i.getRowId,i.loading,s,d,e])})(s,i),dG(s),(e=>{const i=t.useRef({}),s=()=>{i.current={}},n=t.useCallback((t=>{let{rowId:s,minFirstColumn:n,maxLastColumn:r,columns:o}=t;for(let a=n;a<r;a+=1){const t=Oq({apiRef:e,lookup:i.current,columnIndex:a,rowId:s,minFirstColumnIndex:n,maxLastColumnIndex:r,columns:o});t.colSpan>1&&(a+=t.colSpan-1)}}),[e]),r={resetColSpan:s,calculateColSpan:n};_O(e,{unstable_getCellColSpanInfo:(t,e)=>{var s;return null===(s=i.current[t])||void 0===s?void 0:s[e]}},"public"),_O(e,r,"private"),aN(e,"columnOrderChange",s)})(s),((e,i)=>{const s=t.useCallback((t=>{var i;return null!==(i=CB(e)[t])&&void 0!==i?i:[]}),[e]),n=t.useCallback((()=>MB(e)),[e]);_O(e,{getColumnGroupPath:s,getAllGroupDetails:n},"public");const r=t.useCallback((()=>{var t;const s=Wq(null!==(t=i.columnGroupingModel)&&void 0!==t?t:[]);e.current.setState((t=>{var e,i,n;const r=null!==(e=null===(i=t.columns)||void 0===i?void 0:i.orderedFields)&&void 0!==e?e:[],o=null!==(n=t.pinnedColumns)&&void 0!==n?n:{},a=jq(r,s,o);return(0,pM.A)({},t,{columnGrouping:(0,pM.A)({},t.columnGrouping,{headerStructure:a})})}))}),[e,i.columnGroupingModel]),o=t.useCallback((t=>{var i,s,n;const r=null!==(i=null===(s=(n=e.current).getPinnedColumns)||void 0===s?void 0:s.call(n))&&void 0!==i?i:{},o=Vz(e),a=Gz(e),l=Xq(null!==t&&void 0!==t?t:[]),h=Wq(null!==t&&void 0!==t?t:[]),c=jq(o,h,r),u=0===a.length?0:Math.max(...a.map((t=>{var e,i;return null!==(e=null===(i=h[t])||void 0===i?void 0:i.length)&&void 0!==e?e:0})));e.current.setState((t=>(0,pM.A)({},t,{columnGrouping:{lookup:l,unwrappedGroupingModel:h,headerStructure:c,maxDepth:u}})))}),[e]);aN(e,"columnIndexChange",r),aN(e,"columnsChange",(()=>{o(i.columnGroupingModel)})),aN(e,"columnVisibilityModelChange",(()=>{o(i.columnGroupingModel)})),t.useEffect((()=>{o(i.columnGroupingModel)}),[o,i.columnGroupingModel])})(s,i),lG(s,i),((e,i)=>{const s=JU(e,"useGridFocus"),n=t.useRef(null),r=t.useCallback(((t,i)=>{t&&e.current.getRow(t.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(t.id,t.field),i)}),[e]),o=t.useCallback(((t,i)=>{const n=OB(e);(null===n||void 0===n?void 0:n.id)===t&&(null===n||void 0===n?void 0:n.field)===i||(e.current.setState((e=>(s.debug("Focusing on cell with id=".concat(t," and field=").concat(i)),(0,pM.A)({},e,{tabIndex:{cell:{id:t,field:i},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:t,field:i},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))),e.current.forceUpdate(),e.current.getRow(t)&&(n&&r(n,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(t,i))))}),[e,s,r]),a=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=OB(e);r(n,i),e.current.setState((e=>(s.debug("Focusing on column header with colIndex=".concat(t)),(0,pM.A)({},e,{tabIndex:{columnHeader:{field:t},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:t},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))),e.current.forceUpdate()}),[e,s,r]),l=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=OB(e);r(n,i),e.current.setState((e=>(s.debug("Focusing on column header filter with colIndex=".concat(t)),(0,pM.A)({},e,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:t},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:t},cell:null,columnGroupHeader:null}})))),e.current.forceUpdate()}),[e,s,r]),h=t.useCallback((function(t,i){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=OB(e);n&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(n.id,n.field),s),e.current.setState((e=>(0,pM.A)({},e,{tabIndex:{columnGroupHeader:{field:t,depth:i},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:t,depth:i},columnHeader:null,columnHeaderFilter:null,cell:null}}))),e.current.forceUpdate()}),[e]),c=t.useCallback((()=>HB(e)),[e]),u=t.useCallback(((t,s,n)=>{let r=e.current.getColumnIndex(s);const o=Hz(e),a=CO(e,{pagination:i.pagination,paginationMode:i.paginationMode}),l=pV(e),h=[].concat(l.top||[],a.rows,l.bottom||[]);let c=h.findIndex((e=>e.id===t));"right"===n?r+=1:"left"===n?r-=1:c+=1,r>=o.length?(c+=1,c<h.length&&(r=0)):r<0&&(c-=1,c>=0&&(r=o.length-1)),c=MN(c,0,h.length-1);const u=h[c];if(!u)return;const d=e.current.unstable_getCellColSpanInfo(u.id,r);d&&d.spannedByColSpan&&("left"===n||"below"===n?r=d.leftVisibleCellIndex:"right"===n&&(r=d.rightVisibleCellIndex)),r=MN(r,0,o.length-1);const f=o[r];e.current.setCellFocus(u.id,f.field)}),[e,i.pagination,i.paginationMode]),d=t.useCallback((t=>{let{id:i,field:s}=t;e.current.setCellFocus(i,s)}),[e]),f=t.useCallback(((t,i)=>{"Enter"===i.key||"Tab"===i.key||"Shift"===i.key||UV(i.key)||e.current.setCellFocus(t.id,t.field)}),[e]),p=t.useCallback(((t,i)=>{let{field:s}=t;i.target===i.currentTarget&&e.current.setColumnHeaderFocus(s,i)}),[e]),g=t.useCallback(((t,i)=>{let{fields:s,depth:n}=t;if(i.target!==i.currentTarget)return;const r=HB(e);null!==r&&r.depth===n&&s.includes(r.field)||e.current.setColumnGroupHeaderFocus(s[0],n,i)}),[e]),m=t.useCallback(((t,i)=>{var n;null!==(n=i.relatedTarget)&&void 0!==n&&null!==(n=n.getAttribute("class"))&&void 0!==n&&n.includes(ez.columnHeader)||(s.debug("Clearing focus"),e.current.setState((t=>(0,pM.A)({},t,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))))}),[s,e]),y=t.useCallback((t=>{n.current=t}),[]),v=t.useCallback((t=>{const i=n.current;n.current=null;const s=OB(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:t,cell:i}))return;if(!s)return void(i&&e.current.setCellFocus(i.id,i.field));if((null===i||void 0===i?void 0:i.id)===s.id&&(null===i||void 0===i?void 0:i.field)===s.field)return;const o=e.current.getCellElement(s.id,s.field);null!==o&&void 0!==o&&o.contains(t.target)||(i?e.current.setCellFocus(i.id,i.field):(e.current.setState((t=>(0,pM.A)({},t,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.forceUpdate(),r(s,t)))}),[e,r]),b=t.useCallback((t=>{if("view"===t.cellMode)return;const i=OB(e);(null===i||void 0===i?void 0:i.id)===t.id&&(null===i||void 0===i?void 0:i.field)===t.field||e.current.setCellFocus(t.id,t.field)}),[e]),x=t.useCallback((()=>{const t=OB(e);t&&!e.current.getRow(t.id)&&e.current.setState((t=>(0,pM.A)({},t,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))}),[e]),S=(0,Sk.A)((()=>{const t=OB(e);if(!t)return;const s=CO(e,{pagination:i.pagination,paginationMode:i.paginationMode});if(s.rows.find((e=>e.id===t.id)))return;const n=Hz(e);e.current.setState((t=>(0,pM.A)({},t,{tabIndex:{cell:{id:s.rows[0].id,field:n[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}})))})),A={moveFocusToRelativeCell:u,setColumnGroupHeaderFocus:h,getColumnGroupHeaderFocus:c};_O(e,{setCellFocus:o,setColumnHeaderFocus:a,setColumnHeaderFilterFocus:l},"public"),_O(e,A,"private"),t.useEffect((()=>{const t=(0,IM.A)(e.current.rootElementRef.current);return t.addEventListener("mouseup",v),()=>{t.removeEventListener("mouseup",v)}}),[e,v]),aN(e,"columnHeaderBlur",m),aN(e,"cellDoubleClick",d),aN(e,"cellMouseDown",y),aN(e,"cellKeyDown",f),aN(e,"cellModeChange",b),aN(e,"columnHeaderFocus",p),aN(e,"columnGroupHeaderFocus",g),aN(e,"rowsSet",x),aN(e,"paginationModelChange",S)})(s,i),((e,i)=>{var s;const n=JU(e,"useGridPreferencesPanel"),r=t.useRef(),o=t.useRef(),a=t.useCallback((()=>{n.debug("Hiding Preferences Panel");const t=Kz(e.current.state);t.openedPanelValue&&e.current.publishEvent("preferencePanelClose",{openedPanelValue:t.openedPanelValue}),e.current.setState((t=>(0,pM.A)({},t,{preferencePanel:{open:!1}}))),e.current.forceUpdate()}),[e,n]),l=t.useCallback((()=>{o.current=setTimeout((()=>clearTimeout(r.current)),0)}),[]),h=t.useCallback((()=>{r.current=setTimeout(a,100)}),[a]),c=t.useCallback(((t,i,s)=>{n.debug("Opening Preferences Panel"),l(),e.current.setState((e=>(0,pM.A)({},e,{preferencePanel:(0,pM.A)({},e.preferencePanel,{open:!0,openedPanelValue:t,panelId:i,labelId:s})}))),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:t}),e.current.forceUpdate()}),[n,l,e]);_O(e,{showPreferences:c,hidePreferences:h},"public");const u=t.useCallback(((t,s)=>{var n;const r=Kz(e.current.state);return!s.exportOnlyDirtyModels||null!=(null===(n=i.initialState)||void 0===n?void 0:n.preferencePanel)||r.open?(0,pM.A)({},t,{preferencePanel:r}):t}),[e,null===(s=i.initialState)||void 0===s?void 0:s.preferencePanel]),d=t.useCallback(((t,i)=>{const s=i.stateToRestore.preferencePanel;return null!=s&&e.current.setState((t=>(0,pM.A)({},t,{preferencePanel:s}))),t}),[e]);dH(e,"exportState",u),dH(e,"restoreState",d),t.useEffect((()=>()=>{clearTimeout(r.current),clearTimeout(o.current)}),[])})(s,i),((e,i)=>{var s,n;const r=JU(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:i.filterModel,propOnChange:i.onFilterModelChange,stateSelector:$B,changeEvent:"filterModelChange"});const o=t.useCallback((()=>{e.current.setState((t=>{const i=$B(t,e.current.instanceId),s=e.current.getFilterState(i),n=(0,pM.A)({},t,{filter:(0,pM.A)({},t.filter,s)}),r=zH(e,n);return(0,pM.A)({},n,{visibleRowsLookup:r})})),e.current.publishEvent("filteredRowsSet")}),[e]),a=t.useCallback(((t,e)=>null==e||!1===e.filterable||i.disableColumnFilter?t:[...t,"columnMenuFilterItem"]),[i.disableColumnFilter]),l=t.useCallback((()=>{o(),e.current.forceUpdate()}),[e,o]),h=t.useCallback((t=>{const i=$B(e),s=[...i.items],n=s.findIndex((e=>e.id===t.id));-1===n?s.push(t):s[n]=t,e.current.setFilterModel((0,pM.A)({},i,{items:s}),"upsertFilterItem")}),[e]),c=t.useCallback((t=>{const i=$B(e),s=[...i.items];t.forEach((t=>{const e=s.findIndex((e=>e.id===t.id));-1===e?s.push(t):s[e]=t})),e.current.setFilterModel((0,pM.A)({},i,{items:s}),"upsertFilterItems")}),[e]),u=t.useCallback((t=>{const i=$B(e),s=i.items.filter((e=>e.id!==t.id));s.length!==i.items.length&&e.current.setFilterModel((0,pM.A)({},i,{items:s}),"deleteFilterItem")}),[e]),d=t.useCallback(((t,s,n)=>{if(r.debug("Displaying filter panel"),t){const s=$B(e),n=s.items.filter((t=>{var i;if(void 0!==t.value)return!Array.isArray(t.value)||0!==t.value.length;const s=null===(i=e.current.getColumn(t.field).filterOperators)||void 0===i?void 0:i.find((e=>e.value===t.operator));return!("undefined"===typeof(null===s||void 0===s?void 0:s.requiresFilterValue)||(null===s||void 0===s?void 0:s.requiresFilterValue))}));let r;const o=n.find((e=>e.field===t)),a=e.current.getColumn(t);r=o?n:i.disableMultipleColumnsFiltering?[I_({field:t,operator:a.filterOperators[0].value},e)]:[...n,I_({field:t,operator:a.filterOperators[0].value},e)],e.current.setFilterModel((0,pM.A)({},s,{items:r}))}e.current.showPreferences(Zz.filters,s,n)}),[e,r,i.disableMultipleColumnsFiltering]),f=t.useCallback((()=>{r.debug("Hiding filter panel"),e.current.hidePreferences()}),[e,r]),p=t.useCallback((t=>{const i=$B(e);i.logicOperator!==t&&e.current.setFilterModel((0,pM.A)({},i,{logicOperator:t}),"changeLogicOperator")}),[e]),g=t.useCallback((t=>{const i=$B(e);RN(i.quickFilterValues,t)||e.current.setFilterModel((0,pM.A)({},i,{quickFilterValues:[...t]}))}),[e]),m=t.useCallback(((t,s)=>{$B(e)!==t&&(r.debug("Setting filter model"),e.current.updateControlState("filter",F_(t,i.disableMultipleColumnsFiltering,e),s),e.current.unstable_applyFilters())}),[e,r,i.disableMultipleColumnsFiltering]),y=t.useCallback((t=>{const s=P_(t,i.disableMultipleColumnsFiltering,e),n="client"===i.filterMode?V_(s,e,i.disableEval):null,r=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:n,filterModel:null!==s&&void 0!==s?s:R_()});return(0,pM.A)({},r,{filterModel:s})}),[i.disableMultipleColumnsFiltering,i.filterMode,i.disableEval,e]),v={setFilterLogicOperator:p,unstable_applyFilters:l,deleteFilterItem:u,upsertFilterItem:h,upsertFilterItems:c,setFilterModel:m,showFilterPanel:d,hideFilterPanel:f,setQuickFilterValues:g,ignoreDiacritics:i.ignoreDiacritics,getFilterState:y};_O(e,v,"public");const b=t.useCallback(((t,s)=>{var n;const r=$B(e);return s.exportOnlyDirtyModels&&null==i.filterModel&&null==(null===(n=i.initialState)||void 0===n||null===(n=n.filter)||void 0===n?void 0:n.filterModel)&&RN(r,R_())?t:(0,pM.A)({},t,{filter:{filterModel:r}})}),[e,i.filterModel,null===(s=i.initialState)||void 0===s||null===(s=s.filter)||void 0===s?void 0:s.filterModel]),x=t.useCallback(((t,s)=>{var n;const r=null===(n=s.stateToRestore.filter)||void 0===n?void 0:n.filterModel;return null==r?t:(e.current.updateControlState("filter",F_(r,i.disableMultipleColumnsFiltering,e),"restoreState"),(0,pM.A)({},t,{callbacks:[...t.callbacks,e.current.unstable_applyFilters]}))}),[e,i.disableMultipleColumnsFiltering]),S=t.useCallback(((t,e)=>{if(e===Zz.filters){var s;const t=i.slots.filterPanel;return(0,oM.jsx)(t,(0,pM.A)({},null===(s=i.slotProps)||void 0===s?void 0:s.filterPanel))}return t}),[i.slots.filterPanel,null===(n=i.slotProps)||void 0===n?void 0:n.filterPanel]),{getRowId:A}=i,w=(0,iz.A)(NH),C=t.useCallback((t=>{if("client"!==i.filterMode||!t.isRowMatchingFilters)return{filteredRowsLookup:{},filteredDescendantCountLookup:{}};const s=oV(e),n={},{isRowMatchingFilters:r}=t,o={},a={passingFilterItems:null,passingQuickFilterValues:null},l=w.current(e.current.state.rows.dataRowIdToModelLookup);for(let i=0;i<l.length;i+=1){const s=l[i],h=A?A(s):s.id;r(s,void 0,a);const c=O_([a.passingFilterItems],[a.passingQuickFilterValues],t.filterModel,e,o);n[h]=c}const h="auto-generated-group-footer-root";return s[h]&&(n[h]=!0),{filteredRowsLookup:n,filteredDescendantCountLookup:{}}}),[e,i.filterMode,A,w]);dH(e,"columnMenu",a),dH(e,"exportState",b),dH(e,"restoreState",x),dH(e,"preferencePanel",S),FH(e,jU,"filtering",C),FH(e,jU,"visibleRowsLookupCreation",LH);const M=t.useCallback((()=>{r.debug("onColUpdated - GridColumns changed, applying filters");const t=$B(e),i=Bz(e),s=t.items.filter((t=>t.field&&i[t.field]));s.length<t.items.length&&e.current.setFilterModel((0,pM.A)({},t,{items:s}))}),[e,r]),k=t.useCallback((t=>{"filtering"===t&&e.current.unstable_applyFilters()}),[e]),R=t.useCallback((()=>{e.current.setState((t=>(0,pM.A)({},t,{visibleRowsLookup:zH(e,t)}))),e.current.forceUpdate()}),[e]);aN(e,"rowsSet",o),aN(e,"columnsChange",M),aN(e,"activeStrategyProcessorChange",k),aN(e,"rowExpansionChange",R),aN(e,"columnVisibilityModelChange",(()=>{const t=$B(e);t.quickFilterValues&&__(t)&&e.current.unstable_applyFilters()})),uH((()=>{e.current.unstable_applyFilters()})),(0,NM.A)((()=>{void 0!==i.filterModel&&e.current.setFilterModel(i.filterModel)}),[e,r,i.filterModel])})(s,i),((e,i)=>{var s;const n=JU(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:i.sortModel,propOnChange:i.onSortModelChange,stateSelector:KB,changeEvent:"sortModelChange"});const r=t.useCallback(((t,i)=>{const s=KB(e),n=s.findIndex((e=>e.field===t));let r=[...s];return n>-1?null==(null===i||void 0===i?void 0:i.sort)?r.splice(n,1):r.splice(n,1,i):r=[...s,i],r}),[e]),o=t.useCallback(((t,s)=>{var n;const r=KB(e).find((e=>e.field===t.field));if(r){var o;const e=void 0===s?gN(null!==(o=t.sortingOrder)&&void 0!==o?o:i.sortingOrder,r.sort):s;return void 0===e?void 0:(0,pM.A)({},r,{sort:e})}return{field:t.field,sort:void 0===s?gN(null!==(n=t.sortingOrder)&&void 0!==n?n:i.sortingOrder):s}}),[e,i.sortingOrder]),a=t.useCallback(((t,e)=>null==e||!1===e.sortable||i.disableColumnSorting?t:(e.sortingOrder||i.sortingOrder).some((t=>!!t))?[...t,"columnMenuSortItem"]:t),[i.sortingOrder,i.disableColumnSorting]),l=t.useCallback((()=>{e.current.setState((t=>{if("server"===i.sortingMode)return n.debug("Skipping sorting rows as sortingMode = server"),(0,pM.A)({},t,{sorting:(0,pM.A)({},t.sorting,{sortedRows:wV(lV(e),mV,!1)})});const s=((t,e)=>{const i=t.map((t=>((t,e)=>{const i=e.current.getColumn(t.field);if(!i||null===t.sort)return null;let s;return s=i.getSortComparator?i.getSortComparator(t.sort):"desc"===t.sort?function(){return-1*i.sortComparator(...arguments)}:i.sortComparator,s?{getSortCellParams:t=>({id:t,field:i.field,rowNode:e.current.getRowNode(t),value:e.current.getCellValue(t,i.field),api:e.current}),comparator:s}:null})(t,e))).filter((t=>!!t));return 0===i.length?null:t=>t.map((t=>({node:t,params:i.map((e=>e.getSortCellParams(t.id)))}))).sort(((t,e)=>{return s=t,n=e,i.reduce(((t,e,i)=>{if(0!==t)return t;const r=s.params[i],o=n.params[i];return e.comparator(r.value,o.value,r,o)}),0);var s,n})).map((t=>t.node.id))})(KB(t,e.current.instanceId),e),r=e.current.applyStrategyProcessor("sorting",{sortRowList:s});return(0,pM.A)({},t,{sorting:(0,pM.A)({},t.sorting,{sortedRows:r})})})),e.current.publishEvent("sortedRowsSet"),e.current.forceUpdate()}),[e,n,i.sortingMode]),h=t.useCallback((t=>{KB(e)!==t&&(n.debug("Setting sort model"),e.current.setState(pN(t,i.disableMultipleColumnsSorting)),e.current.forceUpdate(),e.current.applySorting())}),[e,n,i.disableMultipleColumnsSorting]),c=t.useCallback(((t,s,n)=>{const a=e.current.getColumn(t),l=o(a,s);let h;h=!n||i.disableMultipleColumnsSorting?null==(null===l||void 0===l?void 0:l.sort)?[]:[l]:r(a.field,l),e.current.setSortModel(h)}),[e,r,o,i.disableMultipleColumnsSorting]),u=t.useCallback((()=>KB(e)),[e]),d=t.useCallback((()=>JB(e).map((t=>t.model))),[e]),f=t.useCallback((()=>qB(e)),[e]),p=t.useCallback((t=>e.current.getSortedRowIds()[t]),[e]);_O(e,{getSortModel:u,getSortedRows:d,getSortedRowIds:f,getRowIdFromRowIndex:p,setSortModel:h,sortColumn:c,applySorting:l},"public");const g=t.useCallback(((t,s)=>{var n;const r=KB(e);return!s.exportOnlyDirtyModels||null!=i.sortModel||null!=(null===(n=i.initialState)||void 0===n||null===(n=n.sorting)||void 0===n?void 0:n.sortModel)||r.length>0?(0,pM.A)({},t,{sorting:{sortModel:r}}):t}),[e,i.sortModel,null===(s=i.initialState)||void 0===s||null===(s=s.sorting)||void 0===s?void 0:s.sortModel]),m=t.useCallback(((t,s)=>{var n;const r=null===(n=s.stateToRestore.sorting)||void 0===n?void 0:n.sortModel;return null==r?t:(e.current.setState(pN(r,i.disableMultipleColumnsSorting)),(0,pM.A)({},t,{callbacks:[...t.callbacks,e.current.applySorting]}))}),[e,i.disableMultipleColumnsSorting]),y=t.useCallback((t=>{const i=lV(e),s=i[mV],n=t.sortRowList?t.sortRowList(s.children.map((t=>i[t]))):[...s.children];return null!=s.footerId&&n.push(s.footerId),n}),[e]);dH(e,"exportState",g),dH(e,"restoreState",m),FH(e,jU,"sorting",y);const v=t.useCallback(((t,e)=>{let{field:s,colDef:n}=t;if(!n.sortable||i.disableColumnSorting)return;const r=e.shiftKey||e.metaKey||e.ctrlKey;c(s,void 0,r)}),[c,i.disableColumnSorting]),b=t.useCallback(((t,e)=>{let{field:s,colDef:n}=t;n.sortable&&!i.disableColumnSorting&&("Enter"!==e.key||e.ctrlKey||e.metaKey||c(s,void 0,e.shiftKey))}),[c,i.disableColumnSorting]),x=t.useCallback((()=>{const t=KB(e),i=Bz(e);if(t.length>0){const s=t.filter((t=>i[t.field]));s.length<t.length&&e.current.setSortModel(s)}}),[e]),S=t.useCallback((t=>{"sorting"===t&&e.current.applySorting()}),[e]);dH(e,"columnMenu",a),aN(e,"columnHeaderClick",v),aN(e,"columnHeaderKeyDown",b),aN(e,"rowsSet",e.current.applySorting),aN(e,"columnsChange",x),aN(e,"activeStrategyProcessorChange",S),uH((()=>{e.current.applySorting()})),(0,NM.A)((()=>{void 0!==i.sortModel&&e.current.setSortModel(i.sortModel)}),[e,i.sortModel])})(s,i),((e,i)=>{var s;const n=JU(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:i.density,propOnChange:i.onDensityChange,stateSelector:Pz,changeEvent:"densityChange"});const r=(0,Sk.A)((t=>{Pz(e.current.state)!==t&&(n.debug("Set grid density to ".concat(t)),e.current.setState((e=>(0,pM.A)({},e,{density:t}))))}));_O(e,{setDensity:r},"public");const o=t.useCallback(((t,s)=>{var n;const r=Pz(e.current.state);return s.exportOnlyDirtyModels&&null==i.density&&null==(null===(n=i.initialState)||void 0===n?void 0:n.density)?t:(0,pM.A)({},t,{density:r})}),[e,i.density,null===(s=i.initialState)||void 0===s?void 0:s.density]),a=t.useCallback(((t,i)=>{var s;const n=null!==(s=i.stateToRestore)&&void 0!==s&&s.density?i.stateToRestore.density:Pz(e.current.state);return e.current.setState((t=>(0,pM.A)({},t,{density:n}))),t}),[e]);dH(e,"exportState",o),dH(e,"restoreState",a),t.useEffect((()=>{i.density&&e.current.setDensity(i.density)}),[e,i.density])})(s,i),sJ(s,i),QH(s,i),((e,i)=>{const{getRowHeight:s,getRowSpacing:n,getEstimatedRowHeight:r}=i,o=t.useRef(Object.create(null)),a=t.useRef(-1),l=t.useRef(!1),h=cz(e,Fz),c=cz(e,$B),u=cz(e,pO),d=cz(e,KB),f=MO(e,i),p=cz(e,pV),g=Bq(i.rowHeight,zq.rowHeight),m=Math.floor(g*h),y=t.useCallback((()=>{var t,i;l.current=!1;const c=t=>{o.current[t.id]||(o.current[t.id]={sizes:{baseCenter:m},isResized:!1,autoHeight:!1,needsFirstMeasurement:!0});const{isResized:i,needsFirstMeasurement:a,sizes:c}=o.current[t.id];let u="number"===typeof m&&m>0?m:52;const d=c.baseCenter;if(i)u=d;else if(s){const e=s((0,pM.A)({},t,{densityFactor:h}));if("auto"===e){if(a){const e=r?r((0,pM.A)({},t,{densityFactor:h})):m;u=null!==e&&void 0!==e?e:m}else u=d;l.current=!0,o.current[t.id].autoHeight=!0}else u=Bq(e,m),o.current[t.id].needsFirstMeasurement=!1,o.current[t.id].autoHeight=!1}else o.current[t.id].needsFirstMeasurement=!1;const p={baseCenter:u};if(n){var g,y;const i=e.current.getRowIndexRelativeToVisibleRows(t.id),s=n((0,pM.A)({},t,{isFirstVisible:0===i,isLastVisible:i===f.rows.length-1,indexRelativeToCurrentPage:i}));p.spacingTop=null!==(g=s.top)&&void 0!==g?g:0,p.spacingBottom=null!==(y=s.bottom)&&void 0!==y?y:0}const v=e.current.unstable_applyPipeProcessors("rowHeight",p,t);return o.current[t.id].sizes=v,v},u=[],d=f.rows.reduce(((t,e)=>{u.push(t);let i=0;const s=c(e);for(const n in s){const t=s[n];"baseCenter"!==n&&(i+=t)}return t+s.baseCenter+i}),0);null===p||void 0===p||null===(t=p.top)||void 0===t||t.forEach((t=>{c(t)})),null===p||void 0===p||null===(i=p.bottom)||void 0===i||i.forEach((t=>{c(t)})),e.current.setState((t=>(0,pM.A)({},t,{rowsMeta:{currentPageTotalHeight:d,positions:u}}))),l.current||(a.current=1/0),e.current.forceUpdate()}),[e,f.rows,m,s,n,r,p,h]),v=t.useCallback((t=>{const e=o.current[t];return e?e.sizes.baseCenter:m}),[m]),b=t.useCallback(((t,e)=>{o.current[t].sizes.baseCenter=e,o.current[t].isResized=!0,o.current[t].needsFirstMeasurement=!1,y()}),[y]),x=t.useMemo((()=>(0,sF.A)(y,i.rowPositionsDebounceMs)),[y,i.rowPositionsDebounceMs]),S=t.useCallback(((t,e)=>{if(!o.current[t]||!o.current[t].autoHeight)return;const i=o.current[t].sizes.baseCenter!==e;o.current[t].needsFirstMeasurement=!1,o.current[t].sizes.baseCenter=e,i&&x()}),[x]),A=t.useCallback((t=>{var e;return(null===(e=o.current[t])||void 0===e?void 0:e.autoHeight)||!1}),[]),w=t.useCallback((()=>a.current),[]),C=t.useCallback((t=>{l.current&&t>a.current&&(a.current=t)}),[]),M=t.useCallback((()=>{o.current={},y()}),[y]);t.useEffect((()=>{y()}),[m,c,u,d,y]),fH(e,"rowHeight",y);const k={getLastMeasuredRowIndex:w,rowHasAutoHeight:A};_O(e,{unstable_setLastMeasuredRowIndex:C,unstable_getRowHeight:v,unstable_getRowInternalSizes:t=>{var e;return null===(e=o.current[t])||void 0===e?void 0:e.sizes},unstable_setRowHeight:b,unstable_storeRowHeightMeasurement:S,resetRowHeights:M},"public"),_O(e,k,"private")})(s,i),((e,i)=>{const s=ok(),n=JU(e,"useGridScroll"),r=e.current.columnHeadersContainerRef,o=e.current.virtualScrollerRef,a=cz(e,eO),l=t.useCallback((t=>{const s=fz(e.current.state),r=sV(e),l=Hz(e);if(null!=t.rowIndex&&0===r||0===l.length)return!1;n.debug("Scrolling to cell at row ".concat(t.rowIndex,", col: ").concat(t.colIndex," "));let h={};if(void 0!==t.colIndex){const i=jz(e);let n;if("undefined"!==typeof t.rowIndex){var c;const i=null===(c=a[t.rowIndex])||void 0===c?void 0:c.id,s=e.current.unstable_getCellColSpanInfo(i,t.colIndex);s&&!s.spannedByColSpan&&(n=s.cellProps.width)}"undefined"===typeof n&&(n=l[t.colIndex].computedWidth),h.left=yG({clientHeight:s.viewportInnerSize.width,scrollTop:Math.abs(o.current.scrollLeft),offsetHeight:n,offsetTop:i[t.colIndex]})}if(void 0!==t.rowIndex){const n=PO(e.current.state),r=vO(e),a=bO(e),l=i.pagination?t.rowIndex-r*a:t.rowIndex,c=n.positions[l+1]?n.positions[l+1]-n.positions[l]:n.currentPageTotalHeight-n.positions[l];h.top=yG({clientHeight:s.viewportInnerSize.height,scrollTop:o.current.scrollTop,offsetHeight:c,offsetTop:n.positions[l]})}return h=e.current.unstable_applyPipeProcessors("scrollToIndexes",h,t),(void 0!==typeof h.left||void 0!==typeof h.top)&&(e.current.scroll(h),!0)}),[n,e,o,i.pagination,a]),h=t.useCallback((t=>{if(o.current&&void 0!==t.left&&r.current){const e="rtl"===s.direction?-1:1;r.current.scrollLeft=t.left,o.current.scrollLeft=e*t.left,n.debug("Scrolling left: ".concat(t.left))}o.current&&void 0!==t.top&&(o.current.scrollTop=t.top,n.debug("Scrolling top: ".concat(t.top))),n.debug("Scrolling, updating container, and viewport")}),[o,s.direction,r,n]),c=t.useCallback((()=>null!==o&&void 0!==o&&o.current?{top:o.current.scrollTop,left:o.current.scrollLeft}:{top:0,left:0}),[o]);_O(e,{scroll:h,scrollToIndexes:l,getScrollPosition:c},"public")})(s,i),(e=>{const i=JU(e,"useGridColumnMenu"),s=t.useCallback((t=>{const s=sU(e.current.state),n=t;(!0!==s.open||n!==s.field)&&(e.current.setState((e=>e.columnMenu.open&&e.columnMenu.field===t?e:(i.debug("Opening Column Menu"),(0,pM.A)({},e,{columnMenu:{open:!0,field:t}})))),e.current.hidePreferences(),e.current.forceUpdate())}),[e,i]),n=t.useCallback((()=>{const t=sU(e.current.state);if(t.field){const i=Bz(e),s=Uz(e),n=Vz(e);let r=t.field;if(i[r]||(r=n[0]),!1===s[r]){const t=n.filter((t=>t===r||!1!==s[t])),e=t.indexOf(r);r=t[e+1]||t[e-1]}e.current.setColumnHeaderFocus(r)}const s={open:!1,field:void 0};(s.open!==t.open||s.field!==t.field)&&(e.current.setState((t=>(i.debug("Hiding Column Menu"),(0,pM.A)({},t,{columnMenu:s})))),e.current.forceUpdate())}),[e,i]),r=t.useCallback((t=>{i.debug("Toggle Column Menu");const r=sU(e.current.state);r.open&&r.field===t?n():s(t)}),[e,i,s,n]);_O(e,{showColumnMenu:s,hideColumnMenu:n,toggleColumnMenu:r},"public"),aN(e,"columnResizeStart",n),aN(e,"virtualScrollerWheel",e.current.hideColumnMenu),aN(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)})(s),TH(s,i),PH(s,i),hH(s,i),SG(s,i),function(t,e){hN(t,"columnHeaderClick",e.onColumnHeaderClick),hN(t,"columnHeaderDoubleClick",e.onColumnHeaderDoubleClick),hN(t,"columnHeaderOver",e.onColumnHeaderOver),hN(t,"columnHeaderOut",e.onColumnHeaderOut),hN(t,"columnHeaderEnter",e.onColumnHeaderEnter),hN(t,"columnHeaderLeave",e.onColumnHeaderLeave),hN(t,"cellClick",e.onCellClick),hN(t,"cellDoubleClick",e.onCellDoubleClick),hN(t,"cellKeyDown",e.onCellKeyDown),hN(t,"preferencePanelClose",e.onPreferencePanelClose),hN(t,"preferencePanelOpen",e.onPreferencePanelOpen),hN(t,"menuOpen",e.onMenuOpen),hN(t,"menuClose",e.onMenuClose),hN(t,"rowDoubleClick",e.onRowDoubleClick),hN(t,"rowClick",e.onRowClick),hN(t,"stateChange",e.onStateChange)}(s,i),(e=>{const i=t.useCallback((function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.current.unstable_applyPipeProcessors("exportState",{},t)}),[e]),s=t.useCallback((t=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:t}).callbacks.forEach((t=>{t()})),e.current.forceUpdate()}),[e]);_O(e,{exportState:i,restoreState:s},"public")})(s),function(e,i){const s=t=>{e.current.setState((e=>(0,pM.A)({},e,{virtualization:(0,pM.A)({},e.virtualization,{enabled:t})})))},n={unstable_setVirtualization:s,unstable_setColumnVirtualization:t=>{e.current.setState((e=>(0,pM.A)({},e,{virtualization:(0,pM.A)({},e.virtualization,{enabledForColumns:t})})))}};_O(e,n,"public"),t.useEffect((()=>{s(!i.disableVirtualization)}),[i.disableVirtualization])}(s,i),s};const oJ=t.forwardRef((function(t,e){const i=_q(t),s=rJ(i.apiRef,i);return(0,oM.jsx)(LU,{privateApiRef:s,props:i,children:(0,oM.jsxs)(Lz,(0,pM.A)({className:i.className,style:i.style,sx:i.sx,ref:e},i.forwardedProps,{children:[(0,oM.jsx)(eN,{}),(0,oM.jsx)(FU,{}),(0,oM.jsx)(DU,{})]}))})})),aJ=t.memo(oJ);function lJ(){const t=E(),e=y(tM),i=y(KT);return(0,oM.jsx)("div",{className:IL.log_icon,onClick:()=>t(ne(!e)),children:(0,oM.jsx)(GL,{badgeContent:i,color:"error",children:(0,oM.jsx)(LL,{})})})}oJ.propTypes={apiRef:jL().shape({current:jL().object.isRequired}),"aria-label":jL().string,"aria-labelledby":jL().string,autoHeight:jL().bool,autoPageSize:jL().bool,autosizeOnMount:jL().bool,autosizeOptions:jL().shape({columns:jL().arrayOf(jL().string),expand:jL().bool,includeHeaders:jL().bool,includeOutliers:jL().bool,outliersFactor:jL().number}),cellModesModel:jL().object,checkboxSelection:jL().bool,classes:jL().object,clipboardCopyCellDelimiter:jL().string,columnBufferPx:jL().number,columnGroupingModel:jL().arrayOf(jL().object),columnHeaderHeight:jL().number,columns:jL().arrayOf(jL().object).isRequired,columnVisibilityModel:jL().object,density:jL().oneOf(["comfortable","compact","standard"]),disableAutosize:jL().bool,disableColumnFilter:jL().bool,disableColumnMenu:jL().bool,disableColumnResize:jL().bool,disableColumnSelector:jL().bool,disableColumnSorting:jL().bool,disableDensitySelector:jL().bool,disableEval:jL().bool,disableMultipleRowSelection:jL().bool,disableRowSelectionOnClick:jL().bool,disableVirtualization:jL().bool,editMode:jL().oneOf(["cell","row"]),estimatedRowCount:jL().number,experimentalFeatures:jL().shape({warnIfFocusStateIsNotSynced:jL().bool}),filterDebounceMs:jL().number,filterMode:jL().oneOf(["client","server"]),filterModel:jL().shape({items:jL().arrayOf(jL().shape({field:jL().string.isRequired,id:jL().oneOfType([jL().number,jL().string]),operator:jL().string.isRequired,value:jL().any})).isRequired,logicOperator:jL().oneOf(["and","or"]),quickFilterExcludeHiddenColumns:jL().bool,quickFilterLogicOperator:jL().oneOf(["and","or"]),quickFilterValues:jL().array}),forwardedProps:jL().object,getCellClassName:jL().func,getDetailPanelContent:jL().func,getEstimatedRowHeight:jL().func,getRowClassName:jL().func,getRowHeight:jL().func,getRowId:jL().func,getRowSpacing:jL().func,hideFooter:jL().bool,hideFooterPagination:jL().bool,hideFooterSelectedRowCount:jL().bool,ignoreDiacritics:jL().bool,ignoreValueFormatterDuringExport:jL().oneOfType([jL().shape({clipboardExport:jL().bool,csvExport:jL().bool}),jL().bool]),initialState:jL().object,isCellEditable:jL().func,isRowSelectable:jL().func,keepNonExistentRowsSelected:jL().bool,loading:jL().bool,localeText:jL().object,logger:jL().shape({debug:jL().func.isRequired,error:jL().func.isRequired,info:jL().func.isRequired,warn:jL().func.isRequired}),logLevel:jL().oneOf(["debug","error","info","warn",!1]),nonce:jL().string,onCellClick:jL().func,onCellDoubleClick:jL().func,onCellEditStart:jL().func,onCellEditStop:jL().func,onCellKeyDown:jL().func,onCellModesModelChange:jL().func,onClipboardCopy:jL().func,onColumnHeaderClick:jL().func,onColumnHeaderDoubleClick:jL().func,onColumnHeaderEnter:jL().func,onColumnHeaderLeave:jL().func,onColumnHeaderOut:jL().func,onColumnHeaderOver:jL().func,onColumnOrderChange:jL().func,onColumnResize:jL().func,onColumnVisibilityModelChange:jL().func,onColumnWidthChange:jL().func,onDensityChange:jL().func,onFilterModelChange:jL().func,onMenuClose:jL().func,onMenuOpen:jL().func,onPaginationMetaChange:jL().func,onPaginationModelChange:jL().func,onPreferencePanelClose:jL().func,onPreferencePanelOpen:jL().func,onProcessRowUpdateError:jL().func,onResize:jL().func,onRowClick:jL().func,onRowCountChange:jL().func,onRowDoubleClick:jL().func,onRowEditStart:jL().func,onRowEditStop:jL().func,onRowModesModelChange:jL().func,onRowSelectionModelChange:jL().func,onSortModelChange:jL().func,onStateChange:jL().func,pageSizeOptions:jL().arrayOf(jL().oneOfType([jL().number,jL().shape({label:jL().string.isRequired,value:jL().number.isRequired})]).isRequired),pagination:jL().oneOf([!0]),paginationMeta:jL().shape({hasNextPage:jL().bool}),paginationMode:jL().oneOf(["client","server"]),paginationModel:jL().shape({page:jL().number.isRequired,pageSize:jL().number.isRequired}),processRowUpdate:jL().func,resizeThrottleMs:jL().number,rowBufferPx:jL().number,rowCount:jL().number,rowHeight:jL().number,rowModesModel:jL().object,rowPositionsDebounceMs:jL().number,rows:jL().arrayOf(jL().object),rowSelection:jL().bool,rowSelectionModel:jL().oneOfType([jL().arrayOf(jL().oneOfType([jL().number,jL().string]).isRequired),jL().number,jL().string]),rowSpacingType:jL().oneOf(["border","margin"]),scrollbarSize:jL().number,showCellVerticalBorder:jL().bool,showColumnVerticalBorder:jL().bool,slotProps:jL().object,slots:jL().object,sortingMode:jL().oneOf(["client","server"]),sortingOrder:jL().arrayOf(jL().oneOf(["asc","desc"])),sortModel:jL().arrayOf(jL().shape({field:jL().string.isRequired,sort:jL().oneOf(["asc","desc"])})),sx:jL().oneOfType([jL().arrayOf(jL().oneOfType([jL().func,jL().object,jL().bool])),jL().func,jL().object])};const hJ=[{field:"type",headerName:"\u0422\u0438\u043f",width:60},{field:"message",headerName:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",width:320},{field:"date",headerName:"\u0414\u0430\u0442\u0430",type:"dateTime",width:160,valueGetter:t=>new Date(t)}];function cJ(){const t=E(),e=y(tM),i=y(JT),s=()=>{t(ne(!e)),t(FC())};return(0,oM.jsx)(oM.Fragment,{children:(0,oM.jsx)(lR,{anchor:"right",open:e,onClose:s,children:(0,oM.jsxs)(vR,{sx:{width:window.innerWidth<500?"100vw":550},role:"presentation",children:[(0,oM.jsxs)(HR,{direction:"row",justifyContent:"space-between",children:[(0,oM.jsx)(YT,{sx:{display:"flex",alignItems:"center",m:"10px auto",fontSize:"20px",fontWeight:900},children:"\u0416\u0443\u0440\u043d\u0430\u043b \u0441\u043e\u0431\u044b\u0442\u0438\u0439"}),(0,oM.jsx)(LE,{onClick:s,sx:{m:0,p:0,minWidth:50,minHeight:45,"&:hover":{backgroundColor:"transparent"}},children:(0,oM.jsx)(XT.A,{sx:{height:40,width:40,p:0}})})]}),(0,oM.jsx)(UE,{}),(0,oM.jsx)(vR,{children:(0,oM.jsx)(aJ,{rows:i,columns:hJ,pageSizeOptions:[50,100],getRowHeight:()=>"auto",getRowClassName:t=>"error"===t.row.type?"log--error":"warning"===t.row.type?"log--warning":"",initialState:{sorting:{sortModel:[{field:"date",sort:"desc"}]}},rowSelection:!1,checkboxSelection:!1,disableColumnMenu:!0,disableColumnResize:!0,sx:{border:"1px solid",height:"calc(100vh - 50px)","& .log--error":{color:"#ff0000",bgcolor:"rgba(255,0,0,0.2)"},"& .log--warning":{color:"#ff9100",bgcolor:"rgba(255,145,0,0.2)"}},slotProps:{pagination:{labelRowsPerPage:"\u0421\u0442\u0440\u043e\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435:"}}})})]})})})}function uJ(){const e=y(qT),[i,s]=t.useState(null),n=Boolean(i),r=()=>{s(null)};let o,a;"on"===e.mode?(o="green",a=(0,oM.jsx)(hI,{})):(o="grey",a=(0,oM.jsx)(hI,{})),a=t.cloneElement(a,{className:dM.detection_icon,"data-color":o});const l=t=>{EC.send(JSON.stringify({deviceState:{mode:t}})),r()};return(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsx)(LE,{id:"basic-button","aria-controls":n?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":n?"true":void 0,onClick:t=>{s(t.currentTarget)},sx:{marginRight:1,padding:0,minWidth:50,minHeight:45,"&:hover":{backgroundColor:"transparent"}},children:a}),(0,oM.jsxs)(BD,{id:"basic-menu",anchorEl:i,open:n,onClose:r,MenuListProps:{"aria-labelledby":"basic-button"},sx:{"& .MuiListItemText-root":{marginLeft:"15px"}},children:[(0,oM.jsxs)(CH,{onClick:()=>l("on"),children:[(0,oM.jsx)(hI,{className:dM.detection_icon,"data-color":"green"}),(0,oM.jsx)(nI,{primary:"\u0412\u043a\u043b \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0435"})]}),(0,oM.jsxs)(CH,{onClick:()=>l("off"),children:[(0,oM.jsx)(hI,{className:dM.detection_icon,"data-color":"grey"}),(0,oM.jsx)(nI,{primary:"\u0412\u044b\u043a\u043b \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0435\u043d\u0438\u0435"})]})]})]})}var dJ;function fJ(){return fJ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},fJ.apply(null,arguments)}function pJ(e,i){let{title:s,titleId:n,...r}=e;return t.createElement("svg",fJ({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:i,"aria-labelledby":n},r),s?t.createElement("title",{id:n},s):null,dJ||(dJ=t.createElement("path",{fill:"currentColor",d:"M18.5,20 C18.7761424,20 19,20.2238576 19,20.5 C19,20.7761424 18.7761424,21 18.5,21 L14.5,21 C14.2238576,21 14,20.7761424 14,20.5 C14,20.2238576 14.2238576,20 14.5,20 L13.5,20 C12.6715729,20 12,19.3284271 12,18.5 L12,17 L9.5,17 C8.11928813,17 7,15.8807119 7,14.5 L7,11 L5.5,11 C5.22385763,11 5,10.7761424 5,10.5 C5,10.2238576 5.22385763,10 5.5,10 L4.5,10 C3.67157288,10 3,9.32842712 3,8.5 L3,4.5 C3,3.67157288 3.67157288,3 4.5,3 L10.5,3 C11.3284271,3 12,3.67157288 12,4.5 L12,8.5 C12,9.32842712 11.3284271,10 10.5,10 L9.5,10 C9.77614237,10 10,10.2238576 10,10.5 C10,10.7761424 9.77614237,11 9.5,11 L8,11 L8,14.5 C8,15.3284271 8.67157288,16 9.5,16 L12,16 L12,14.5 C12,13.6715729 12.6715729,13 13.5,13 L19.5,13 C20.3284271,13 21,13.6715729 21,14.5 L21,18.5 C21,19.3284271 20.3284271,20 19.5,20 L18.5,20 Z M4,4.5 L4,8.5 C4,8.77614237 4.22385763,9 4.5,9 L10.5,9 C10.7761424,9 11,8.77614237 11,8.5 L11,4.5 C11,4.22385763 10.7761424,4 10.5,4 L4.5,4 C4.22385763,4 4,4.22385763 4,4.5 Z M13,14.5 L13,18.5 C13,18.7761424 13.2238576,19 13.5,19 L19.5,19 C19.7761424,19 20,18.7761424 20,18.5 L20,14.5 C20,14.2238576 19.7761424,14 19.5,14 L13.5,14 C13.2238576,14 13,14.2238576 13,14.5 Z"})))}const gJ=t.forwardRef(pJ);i.p;var mJ;function yJ(){return yJ=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},yJ.apply(null,arguments)}function vJ(e,i){let{title:s,titleId:n,...r}=e;return t.createElement("svg",yJ({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:i,"aria-labelledby":n},r),s?t.createElement("title",{id:n},s):null,mJ||(mJ=t.createElement("path",{fill:"currentColor",d:"M12,16 L12,14.5 C12,13.6715729 12.6715729,13 13.5,13 L19.5,13 C20.3284271,13 21,13.6715729 21,14.5 L21,18.5 C21,19.3284271 20.3284271,20 19.5,20 L18.5,20 C18.7761424,20 19,20.2238576 19,20.5 C19,20.7761424 18.7761424,21 18.5,21 L14.5,21 C14.2238576,21 14,20.7761424 14,20.5 C14,20.2238576 14.2238576,20 14.5,20 L13.5,20 C12.6715729,20 12,19.3284271 12,18.5 L12,17 L10.5,17 C10.2238576,17 10,16.7761424 10,16.5 C10,16.2238576 10.2238576,16 10.5,16 L12,16 Z M7,11 L5.5,11 C5.22385763,11 5,10.7761424 5,10.5 C5,10.2238576 5.22385763,10 5.5,10 L4.5,10 C3.67157288,10 3,9.32842712 3,8.5 L3,4.5 C3,3.67157288 3.67157288,3 4.5,3 L10.5,3 C11.3284271,3 12,3.67157288 12,4.5 L12,8.5 C12,9.32842712 11.3284271,10 10.5,10 L9.5,10 C9.77614237,10 10,10.2238576 10,10.5 C10,10.7761424 9.77614237,11 9.5,11 L8,11 L8,13.5 C8,13.7761424 7.77614237,14 7.5,14 C7.22385763,14 7,13.7761424 7,13.5 L7,11 Z M7.5,15.7928932 L9.14644661,14.1464466 C9.34170876,13.9511845 9.65829124,13.9511845 9.85355339,14.1464466 C10.0488155,14.3417088 10.0488155,14.6582912 9.85355339,14.8535534 L8.20710678,16.5 L9.85355339,18.1464466 C10.0488155,18.3417088 10.0488155,18.6582912 9.85355339,18.8535534 C9.65829124,19.0488155 9.34170876,19.0488155 9.14644661,18.8535534 L7.5,17.2071068 L5.85355339,18.8535534 C5.65829124,19.0488155 5.34170876,19.0488155 5.14644661,18.8535534 C4.95118446,18.6582912 4.95118446,18.3417088 5.14644661,18.1464466 L6.79289322,16.5 L5.14644661,14.8535534 C4.95118446,14.6582912 4.95118446,14.3417088 5.14644661,14.1464466 C5.34170876,13.9511845 5.65829124,13.9511845 5.85355339,14.1464466 L7.5,15.7928932 L7.5,15.7928932 Z M4,4.5 L4,8.5 C4,8.77614237 4.22385763,9 4.5,9 L10.5,9 C10.7761424,9 11,8.77614237 11,8.5 L11,4.5 C11,4.22385763 10.7761424,4 10.5,4 L4.5,4 C4.22385763,4 4,4.22385763 4,4.5 Z M13,14.5 L13,18.5 C13,18.7761424 13.2238576,19 13.5,19 L19.5,19 C19.7761424,19 20,18.7761424 20,18.5 L20,14.5 C20,14.2238576 19.7761424,14 19.5,14 L13.5,14 C13.2238576,14 13,14.2238576 13,14.5 Z"})))}const bJ=t.forwardRef(vJ),xJ=(i.p,{lan_icon:"LanConnection_lan_icon__3e+SG",lan_icon_on:"LanConnection_lan_icon_on__3aVva",lan_icon_off:"LanConnection_lan_icon_off__cd8Wa"});function SJ(){const t=y(iM);return(0,oM.jsxs)("div",{className:xJ.lan_icon,title:"\u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c",children:[t&&(0,oM.jsx)(gJ,{className:xJ.lan_icon_on}),!t&&(0,oM.jsx)(bJ,{className:xJ.lan_icon_off})]})}function AJ(){const t=y(iM);return(0,oM.jsx)(HR,{direction:"row",children:t?(0,oM.jsx)(oM.Fragment,{children:(0,oM.jsx)(uJ,{})}):(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsx)(YT,{sx:{display:"flex",alignItems:"center",height:"50px",marginRight:"10px",color:"red",fontWeight:900,fontSize:"20px"},children:"\u041d\u0435\u0442 \u0441\u0432\u044f\u0437\u0438"}),(0,oM.jsx)(SJ,{})]})})}function wJ(){return(0,oM.jsxs)("header",{className:BC.header,children:[(0,oM.jsxs)("div",{className:BC.header_logo,children:[(0,oM.jsx)(GC,{className:BC.header_logo_img}),(0,oM.jsx)("span",{className:BC.header_label,children:"\u041f\u0410\u0423\u041a"})]}),(0,oM.jsxs)("div",{className:BC.header_control,children:[(0,oM.jsx)(AJ,{}),(0,oM.jsx)(lJ,{}),(0,oM.jsx)(aM,{}),(0,oM.jsx)(EL,{})]})]})}const CJ=t.createContext(null);function MJ(){return t.useContext(CJ)}const kJ="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const RJ=function(e){const{children:i,theme:s}=e,n=MJ(),r=t.useMemo((()=>{const t=null===n?s:function(t,e){if("function"===typeof e)return e(t);return(0,pM.A)({},t,e)}(n,s);return null!=t&&(t[kJ]=null!==n),t}),[s,n]);return(0,oM.jsx)(CJ.Provider,{value:r,children:i})};var EJ=i(6171);const TJ={};function IJ(e,i,s){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return t.useMemo((()=>{const t=e&&i[e]||i;if("function"===typeof s){const r=s(t),o=e?(0,pM.A)({},i,{[e]:r}):r;return n?()=>o:o}return e?(0,pM.A)({},i,{[e]:s}):(0,pM.A)({},i,s)}),[e,i,s,n])}const PJ=function(t){const{children:e,theme:i,themeId:s}=t,n=ek(TJ),r=MJ()||TJ,o=IJ(s,n,i),a=IJ(s,r,i,!0),l="rtl"===o.direction;return(0,oM.jsx)(RJ,{theme:a,children:(0,oM.jsx)(tk.T.Provider,{value:o,children:(0,oM.jsx)(xM,{value:l,children:(0,oM.jsx)(EJ.A,{value:null==o?void 0:o.components,children:e})})})})},FJ=["theme"];function DJ(t){let{theme:e}=t,i=(0,fM.A)(t,FJ);const s=e[rk.A];return(0,oM.jsx)(PJ,(0,pM.A)({},i,{themeId:s?rk.A:void 0,theme:s||e}))}function LJ(){const e=E(),i=y(sM),s=y(nM),[n,r]=t.useState(null),o=Boolean(n);return(0,t.useEffect)((()=>{AC.setMaxWidth(s.maxWidth),wC.setMaxWidth(s.maxWidth),pC.setMaxWidth(s.maxWidth),gC.setMaxWidth(s.maxWidth),bC.setMaxWidth(s.maxWidth),yC.setMaxWidth(s.maxWidth),CC.setMaxWidth(s.maxWidth)}),[s.maxWidth,i]),(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsx)(HR,{direction:"row",justifyContent:"space-between",alignItems:"center",children:(0,oM.jsxs)(HR,{direction:"row",children:[(0,oM.jsx)(LE,{onClick:t=>{r(t.currentTarget)},sx:{border:"1px solid",borderColor:"#2a6892",backgroundColor:"rgba(0,90,153,0.15)",marginLeft:0},children:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"}),(0,oM.jsxs)(BD,{id:"basic-menu",anchorEl:n,open:o,onClose:()=>{r(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,oM.jsxs)(CH,{onClick:()=>e(le({maxWidth:!s.maxWidth})),children:[(0,oM.jsx)(qX,{checked:s.maxWidth}),(0,oM.jsx)(nI,{primary:"MAX \u0448\u0438\u0440\u0438\u043d\u0430"})]}),(0,oM.jsxs)(CH,{onClick:()=>{e(le({chartSamplesChan:!s.chartSamplesChan}))},children:[(0,oM.jsx)(qX,{checked:s.chartSamplesChan}),(0,oM.jsx)(nI,{primary:"\u041e\u0441\u0446\u0438\u043b\u043b\u043e\u0433\u0440\u0430\u043c\u043c\u044b \u0432 \u043a\u0430\u043d\u0430\u043b\u0430\u0445"})]}),(0,oM.jsxs)(CH,{onClick:()=>{e(le({chartSpectrumChan:!s.chartSpectrumChan}))},children:[(0,oM.jsx)(qX,{checked:s.chartSpectrumChan}),(0,oM.jsx)(nI,{primary:"\u0421\u043f\u0435\u043a\u0442\u0440\u044b \u0432 \u043a\u0430\u043d\u0430\u043b\u0430\u0445"})]})]})]})}),window.innerWidth<500&&(s.chartSamplesChan||s.chartSpectrumChan)&&(0,oM.jsxs)(HR,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,oM.jsx)(LE,{onClick:()=>e(le({displayedChan:0})),color:0==s.displayedChan?"success":"info",variant:0==s.displayedChan?"contained":"outlined",children:"\u041a\u0430\u043d\u0430\u043b 0"}),(0,oM.jsx)(LE,{onClick:()=>e(le({displayedChan:1})),color:1==s.displayedChan?"success":"info",variant:1==s.displayedChan?"contained":"outlined",children:"\u041a\u0430\u043d\u0430\u043b 1"})]})]})}const zJ={flex_wrap:"SpectrumChan_flex_wrap__09lRH",flex_end:"SpectrumChan_flex_end__i8q7R",flex_center:"SpectrumChan_flex_center__uXImW",plot:"SpectrumChan_plot__FE06B"};var NJ=i(7009);function _J(){const e=E(),i=y(sM),s=y(nM),n=y(ZT).spectrumChan0,r=y(QT).spectrumChan0,[o,a]=(0,t.useState)(!1),[l,h]=(0,t.useState)(null),c=Boolean(l);(0,t.useEffect)((()=>()=>{pC.deleteChart(),gC.deleteChart()}),[]),(0,t.useEffect)((()=>{window.innerWidth<500?(0==s.displayedChan&&(gC.deleteChart(),pC.createChart(i,"plot_spectrum_chan0")),1==s.displayedChan&&(pC.deleteChart(),gC.createChart(i,"plot_spectrum_chan1"))):(pC.createChart(i,"plot_spectrum_chan0"),gC.createChart(i,"plot_spectrum_chan1"))}),[n,s.displayedChan,i]),(0,t.useEffect)((()=>{var t,e;null===(t=pC.marker)||void 0===t||t.setOn(o),null===(e=gC.marker)||void 0===e||e.setOn(o)}),[o]);const u=(0,oM.jsx)(vR,{onClick:t=>{h(t.currentTarget)},sx:{position:"absolute",zIndex:1,top:0,right:0,width:35,height:35,margin:0,cursor:"pointer"},children:(0,oM.jsx)(NJ.A,{sx:{width:"100%",height:"100%"}})}),d=(0,oM.jsxs)(BD,{anchorEl:l,open:c,onClose:()=>{h(null)},children:[(0,oM.jsxs)(CH,{onClick:()=>a(!o),children:[(0,oM.jsx)(qX,{checked:o}),(0,oM.jsx)(nI,{primary:"\u041c\u0430\u0440\u043a\u0435\u0440"})]}),(0,oM.jsxs)(CH,{onClick:()=>{e(_C({spectrumChan0:{metadata:!r.metadata},spectrumChan1:{metadata:!r.metadata}}))},children:[(0,oM.jsx)(qX,{checked:r.metadata}),(0,oM.jsx)(nI,{primary:"\u041c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0435"})]})]});return window.innerWidth<500?(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsx)("div",{className:zJ.plot,id:"plot_spectrum_chan".concat(s.displayedChan),children:u}),d]}):(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsxs)(HR,{direction:"row",justifyContent:"space-between",children:[(0,oM.jsx)("div",{className:zJ.plot,id:"plot_spectrum_chan0"}),(0,oM.jsx)("div",{className:zJ.plot,id:"plot_spectrum_chan1",children:u})]}),d]})}const VJ={flex_wrap:"CrossSpectrum_flex_wrap__ILLii",flex_end:"CrossSpectrum_flex_end__yomod",flex_center:"CrossSpectrum_flex_center__C7Z9r",plot:"CrossSpectrum_plot__XGfW1"};function BJ(){const e=E(),i=y(sM),s=y(nM),n=y(ZT).crossSpectrum,r=y(qT).bearingBand,o=y(QT).crossSpectrum,[a,l]=(0,t.useState)(!1),[h,c]=(0,t.useState)(null),u=Boolean(h);return(0,t.useEffect)((()=>()=>bC.deleteChart()),[]),(0,t.useEffect)((()=>{bC.createChart(i,"plot_cross_spectrum")}),[n,i]),(0,t.useEffect)((()=>{var t;null===(t=bC.marker)||void 0===t||t.setOn(a)}),[a]),(0,t.useEffect)((()=>{bC.setBearingBand(r)}),[r]),(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsx)(HR,{direction:"row",children:(0,oM.jsxs)(CH,{onClick:()=>{e(le({chartPhaseSpectrum:!s.chartPhaseSpectrum}))},children:[(0,oM.jsx)(qX,{checked:s.chartPhaseSpectrum}),(0,oM.jsx)(nI,{primary:"\u0424\u0430\u0437\u043e\u0432\u044b\u0439 \u0441\u043f\u0435\u043a\u0442\u0440"})]})}),(0,oM.jsx)("div",{className:VJ.plot,id:"plot_cross_spectrum",children:(0,oM.jsx)(vR,{onClick:t=>{c(t.currentTarget)},sx:{position:"absolute",zIndex:1,top:0,right:0,width:35,height:35,margin:0,cursor:"pointer"},children:(0,oM.jsx)(NJ.A,{sx:{width:"100%",height:"100%"}})})}),(0,oM.jsxs)(BD,{anchorEl:h,open:u,onClose:()=>{c(null)},children:[(0,oM.jsxs)(CH,{onClick:()=>l(!a),children:[(0,oM.jsx)(qX,{checked:a}),(0,oM.jsx)(nI,{primary:"\u041c\u0430\u0440\u043a\u0435\u0440"})]}),(0,oM.jsxs)(CH,{onClick:()=>{e(_C({crossSpectrum:{metadata:!o.metadata}}))},children:[(0,oM.jsx)(qX,{checked:o.metadata}),(0,oM.jsx)(nI,{primary:"\u041c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0435"})]})]})]})}const OJ={flex_wrap:"SamplesChan_flex_wrap__U9AI7",flex_end:"SamplesChan_flex_end__Y-Uuy",flex_center:"SamplesChan_flex_center__q4U+b",plot:"SamplesChan_plot__fgXND"};function UJ(){const e=E(),i=y(sM),s=y(nM),n=y(ZT).samplesChan0,r=y(QT).samplesChan0,[o,a]=(0,t.useState)(!1),[l,h]=(0,t.useState)(null),c=Boolean(l);(0,t.useEffect)((()=>()=>{AC.deleteChart(),wC.deleteChart()}),[]),(0,t.useEffect)((()=>{window.innerWidth<500?(0==s.displayedChan&&(wC.deleteChart(),AC.createChart(i,"plot_samples_chan0")),1==s.displayedChan&&(AC.deleteChart(),wC.createChart(i,"plot_samples_chan1"))):(AC.createChart(i,"plot_samples_chan0"),wC.createChart(i,"plot_samples_chan1"))}),[n,s.displayedChan,i]),(0,t.useEffect)((()=>{var t,e;null===(t=AC.marker)||void 0===t||t.setOn(o),null===(e=wC.marker)||void 0===e||e.setOn(o)}),[o]);const u=(0,oM.jsx)(vR,{onClick:t=>{h(t.currentTarget)},sx:{position:"absolute",zIndex:1,top:0,right:0,width:35,height:35,margin:0,cursor:"pointer"},children:(0,oM.jsx)(NJ.A,{sx:{width:"100%",height:"100%"}})}),d=(0,oM.jsxs)(BD,{anchorEl:l,open:c,onClose:()=>{h(null)},children:[(0,oM.jsxs)(CH,{onClick:()=>a(!o),children:[(0,oM.jsx)(qX,{checked:o}),(0,oM.jsx)(nI,{primary:"\u041c\u0430\u0440\u043a\u0435\u0440"})]}),(0,oM.jsxs)(CH,{onClick:()=>{e(_C({samplesChan0:{metadata:!r.metadata},samplesChan1:{metadata:!r.metadata}}))},children:[(0,oM.jsx)(qX,{checked:r.metadata}),(0,oM.jsx)(nI,{primary:"\u041c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0435"})]})]});return window.innerWidth<500?(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsx)("div",{className:OJ.plot,id:"plot_samples_chan".concat(s.displayedChan),children:u}),d]}):(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsxs)(HR,{direction:"row",justifyContent:"space-between",children:[(0,oM.jsx)("div",{className:OJ.plot,id:"plot_samples_chan0"}),(0,oM.jsx)("div",{className:OJ.plot,id:"plot_samples_chan1",children:u})]}),d]})}const HJ={flex_wrap:"PhaseSpectrum_flex_wrap__yNgtl",flex_end:"PhaseSpectrum_flex_end__LeHQb",flex_center:"PhaseSpectrum_flex_center__15i29",plot:"PhaseSpectrum_plot__7NwlS"};function GJ(){const e=E(),i=y(sM),s=y(ZT).crossSpectrum,n=y(QT).phaseSpectrum,[r,o]=(0,t.useState)(!1),[a,l]=(0,t.useState)(null),h=Boolean(a);return(0,t.useEffect)((()=>()=>yC.deleteChart()),[]),(0,t.useEffect)((()=>{yC.createChart(i,"plot_phase_spectrum")}),[s,i]),(0,t.useEffect)((()=>{var t;null===(t=yC.marker)||void 0===t||t.setOn(r)}),[r]),(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsx)("div",{className:HJ.plot,id:"plot_phase_spectrum",children:(0,oM.jsx)(vR,{onClick:t=>{l(t.currentTarget)},sx:{position:"absolute",zIndex:1,top:0,right:0,width:35,height:35,margin:0,cursor:"pointer"},children:(0,oM.jsx)(NJ.A,{sx:{width:"100%",height:"100%"}})})}),(0,oM.jsxs)(BD,{anchorEl:a,open:h,onClose:()=>{l(null)},children:[(0,oM.jsxs)(CH,{onClick:()=>o(!r),children:[(0,oM.jsx)(qX,{checked:r}),(0,oM.jsx)(nI,{primary:"\u041c\u0430\u0440\u043a\u0435\u0440"})]}),(0,oM.jsxs)(CH,{onClick:()=>{e(_C({phaseSpectrum:{metadata:!n.metadata}}))},children:[(0,oM.jsx)(qX,{checked:n.metadata}),(0,oM.jsx)(nI,{primary:"\u041c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0435"})]})]})]})}const WJ={flex_wrap:"Bearing_flex_wrap__NK32y",flex_end:"Bearing_flex_end__n5erC",flex_center:"Bearing_flex_center__5MtJe",plot:"Bearing_plot__TfVy-"};function jJ(){const e=E(),i=y(sM),s=y(QT).bearing,n=y(ZT).crossSpectrum,[r,o]=(0,t.useState)(null),a=Boolean(r);(0,t.useEffect)((()=>()=>{CC.deleteChart()}),[]),(0,t.useEffect)((()=>{CC.createChart(i,{ampDistribChart:"plot_amp_distrib",phaseDistribChart:"plot_phase_distrib",beamPatternChart:"plot_beam_pattern"})}),[n,i]);const l=(0,oM.jsx)(vR,{onClick:t=>{o(t.currentTarget)},sx:{position:"absolute",zIndex:1,top:0,right:0,width:35,height:35,margin:0,cursor:"pointer"},children:(0,oM.jsx)(NJ.A,{sx:{width:"100%",height:"100%"}})}),h=(0,oM.jsx)(BD,{anchorEl:r,open:a,onClose:()=>{o(null)},children:(0,oM.jsxs)(CH,{onClick:()=>{e(_C({bearing:{metadata:!s.metadata}}))},children:[(0,oM.jsx)(qX,{checked:s.metadata}),(0,oM.jsx)(nI,{primary:"\u041c\u0435\u0442\u0430\u0434\u0430\u043d\u043d\u044b\u0435"})]})});return window.innerWidth<500?(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsxs)(HR,{direction:"column",justifyContent:"flex-start",children:[(0,oM.jsx)("div",{className:WJ.plot,id:"plot_amp_distrib"}),(0,oM.jsx)("div",{className:WJ.plot,id:"plot_phase_distrib"}),(0,oM.jsx)("div",{className:WJ.plot,style:{height:"500px"},id:"plot_beam_pattern",children:l})]}),h]}):(0,oM.jsxs)(oM.Fragment,{children:[(0,oM.jsxs)(HR,{direction:"row",justifyContent:"space-between",children:[(0,oM.jsxs)(HR,{direction:"column",width:"100%",children:[(0,oM.jsx)("div",{className:WJ.plot,id:"plot_amp_distrib"}),(0,oM.jsx)("div",{className:WJ.plot,id:"plot_phase_distrib"})]}),(0,oM.jsx)("div",{className:WJ.plot,style:{height:"600px"},id:"plot_beam_pattern",children:l})]}),h]})}EC.connect();const YJ=function(){const t=y(sM),e=y(tM),i=y(nM),s=(0,pR.A)({palette:{mode:t},components:{MuiFormControl:{styleOverrides:{root:{}}}}});return(0,oM.jsxs)(DJ,{theme:s,children:[(0,oM.jsx)(TL,{}),e&&(0,oM.jsx)(cJ,{}),(0,oM.jsx)(wJ,{}),(0,oM.jsx)(LJ,{}),i.chartSamplesChan&&(0,oM.jsx)(UJ,{}),i.chartSpectrumChan&&(0,oM.jsx)(_J,{}),(0,oM.jsx)(BJ,{}),i.chartPhaseSpectrum&&(0,oM.jsx)(GJ,{}),(0,oM.jsx)(jJ,{})]})};n().reset();e.createRoot(document.getElementById("root")).render((0,oM.jsx)(C,{store:VC,children:(0,oM.jsx)(YJ,{})}))})()})();